const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./IdentityManager-COXcBnHS.js","./substitute-Csb1eR13.js","./ElevationLayer-BX5SfD-R.js","./MultiOriginJSONSupport-DIHpQyL2.js","./ArcGISCachedService-B76sBHXZ.js","./TileInfoTilemapCache-Djgz9AlU.js","./TilemapCache-CPor6wF8.js","./LRUCache-DFHNnhoO.js","./MemCache-gXXckRz_.js","./memoryEstimations-DTOK_JeI.js","./ArcGISService-CZAsZLu2.js","./OperationalLayer-DqIr0dte.js","./layerContainerType-CSXZNpHb.js","./ElevationInfo-Dx0BkNlM.js","./lengthUtils-BdFKu5Y5.js","./PortalLayer-B98dC7cB.js","./portalItemUtils-BUKHfnZt.js","./WorkerHandle-BkSAlCJy.js","./portalLayers-Cgq83FPX.js","./associatedFeatureServiceUtils-DGDu9FOF.js","./fetchService-BMMsVDte.js","./loadUtils-B6xzQkqJ.js","./lazyLayerLoader-BmZX4g4T.js","./arcgisLayers-BP5X1OFj.js","./layersCreator-BvpLypmo.js","./styleUtils-Dal3h3Ps.js","./ElevationQuery-Dbwm4WSt.js","./GeometryDescriptor-VxV7BNf6.js","./projectOperator-Ce1EnA6b.js","./operatorProject-CiM016Pa.js","./SimpleGeometryCursor-B92kdZ15.js","./projectOperator-Bn9_ktm2.js","./statsWorker-B92Zni-K.js","./utils-D-2QGYMM.js","./quantizationUtils-BAPha5tO.js","./heatmapUtils-DRUyKBzI.js","./vec42-C_SBvOcS.js","./vec4f64-DPb6J-GU.js","./utils-Djep52cU.js","./utils-DaZyaxJ3.js","./ClassBreaksDefinition-BSAzSVbY.js","./geometryEngineWorker-BkMQzpX8.js","./geometryEngineJSON-B_JiqPb-.js","./geometryEngineBase-BQTefT4Y.js","./_commonjsHelpers-DCkdB7M8.js","./CSVSourceWorker-BBT7y_A-.js","./date-DCujAECq.js","./OptimizedFeature-PJrQeEa0.js","./FeatureStore-DrRdSZ_T.js","./featureConversionUtils-DVCdrplv.js","./OptimizedFeatureSet-BR8EEvDc.js","./BoundsStore-COQJvrHe.js","./PooledRBush-CcdxFpil.js","./timeSupport-DbKVlU4K.js","./queryUtils-CHcYptGU.js","./optimizedFeatureQueryEngineAdapter-Dlm-w5g8.js","./QueryEngine-D-DWDikD.js","./WhereClauseCache-CB5NedtN.js","./WhereClause-B_vswzNb.js","./TimeOnly-CV1buqN7.js","./enum-CUjF6VFi.js","./UnknownTimeZone-CULXSIqm.js","./QueryEngineCapabilities-DJC_YILC.js","./SnappingCandidate-DGkpYqI6.js","./FixedIntervalBinParameters-DRLqvQRH.js","./NormalizationBinParametersMixin-YDHbORDs.js","./FieldsIndex-BzU-6H1-.js","./locationUtils-Ck8i6su9.js","./clientSideDefaults-CnXZxw9j.js","./defaultsJSON-GKolV7NZ.js","./EdgeProcessingWorker-C7HndOlS.js","./workerHelper-BwnxTXR2.js","./InterleavedLayout-B3MRtHRX.js","./BufferView-BSj_tQlu.js","./types-BKo2foNY.js","./VertexElementDescriptor-BLyltQyJ.js","./VertexAttributeLocations-BfZbt_DV.js","./edgeProcessing-CI-JsUTs.js","./deduplicate-BgyTzx_z.js","./Indices-DNW0QjST.js","./Normals-BaJ9IRpN.js","./ElevationSamplerWorker-CDMwk6s_.js","./MeshLocalVertexSpace-DfKhlaVJ.js","./vertexSpaceConversion-CLWLlHDd.js","./spatialReferenceEllipsoidUtils-BKCkZCgH.js","./computeTranslationToOriginAndRotation-DP3iw44c.js","./projectPointToVector-Cj-bsAqC.js","./meshVertexSpaceUtils-DqorQ-Rq.js","./vec3-CONbD0JR.js","./vec4-BfClFnaa.js","./FeatureServiceSnappingSourceWorker-CQkXEr7W.js","./symbologySnappingCandidates-BP8cAd4P.js","./pbfQueryUtils-D42KfT6j.js","./pbf-UF15ZOLT.js","./query-WvnQvCAt.js","./queryZScale-Dubv-Fac.js","./GeoJSONSourceWorker-C5wDTYtH.js","./geojson-B20jasxL.js","./sourceUtils-5pxZEoXi.js","./MemorySourceWorker-C1Ypnsu3.js","./objectIdUtils-BmFjqQA3.js","./PBFDecoderWorker-Fneosrb2.js","./dehydratedFeatures-CtGxsQaL.js","./FeaturePipelineWorker-BNMbryLM.js","./diffUtils-8qhkaJ4e.js","./AttributeStore-CiqK-3v8.js","./Utils-SOaQcG-H.js","./BoundingBox-ERE5dL0w.js","./UpdateTracking2D-CB0t9kHk.js","./ArcadeExpression-DQiHh9bU.js","./FeatureStoreQueryAdapter-7bZ8wHIu.js","./labelPoint-BO1HlHni.js","./labelUtils-tVJ427Kr.js","./utils-DQaLv0i_.js","./defaultCIMValues-XI-Li77m.js","./constants-BBnGEY1d.js","./streamLayerUtils-DFlbJ4P1.js","./DictionaryScriptEvaluator-3n6ExkOR.js","./MeshWriterRegistry-MC7uexzj.js","./rasterizingUtils-uQbJCsGI.js","./CIMSymbolHelper-DEnaAX4B.js","./BidiEngine-BvER9tXK.js","./GeometryUtils-AJsuZqGY.js","./Rect-CUzevAry.js","./defaults-BsU4UGvh.js","./TexturedLineMeshWriter-BxeTokTF.js","./TurboLine-DsGaKxIH.js","./grouping-BayHRBld.js","./QueueProcessor-B1ehVXih.js","./FeatureMetadata-DPb8Bp3H.js","./SourceChunkStore-CNDc6Q7e.js","./parquet-8ZsP8kyj.js","./operatorGeodeticDensify-DdW-7MPl.js","./geodeticCurveType-CirnHLSB.js","./normalizeUtilsSync-B4Ba5xJY.js","./FeatureIdInfo-DAfV7nJV.js","./displayFilterUtils-BvHUM-U9.js","./ogcFeatureUtils-Ly4r37AP.js","./CircularArray-CujHzHWW.js","./createConnection-C83jFWmI.js","./PointCloudWorker-Du-m4iXy.js","./quat-CHMGGMZf.js","./quatf64-aQ5IuZRd.js","./vec3f32-WCVSSNPR.js","./PointCloudUniqueValueRenderer-WgDgPO_e.js","./RendererLegendOptions-CY0RhYNx.js","./ColorStop-BOtyis_g.js","./I3SBinaryReader-BoCaxrsv.js","./orientedBoundingBox-Cofh3UrL.js","./plane-D31F9DA5.js","./vectorStacks-DRnKQhDr.js","./RasterWorker-QxN8iSLy.js","./PixelBlock-DYcmkHAk.js","./RasterSymbolizer-DvXJt9NC.js","./vectorFieldUtils-DOvV8MJH.js","./colorUtils-DyesU0cB.js","./rasterFunctionHelper-BAHCreFp.js","./clipUtils-Bz2je2Sv.js","./rasterProjectionHelper-BjPTr_qK.js","./colorRamps-DnTH68lo.js","./PolynomialTransform-DyO2xCnL.js","./dataUtils-CM28Q8Cv.js","./SceneLayerSnappingSourceWorker-DJjxUuCo.js","./lineSegment-CWXkybcj.js","./sphere-CrQCBMwo.js","./Octree-CgSgxQN-.js","./frustum-CUYjrNJG.js","./SceneLayerWorker-Cs6aM8_l.js","./projectVectorToVector-Bi4uAwpJ.js","./WFSSourceWorker-Dbq1xGag.js","./wfsUtils-BQdrGE7u.js","./xmlUtils-CtUoQO7q.js","./WorkerTileHandler-IDzlPhzM.js","./constants-BHYAGdRm.js","./config-BOD8--da.js","./SourceLayerData-DC6fOeZq.js","./StyleRepository-CXwTNJ9R.js","./earcut-D9gy186-.js","./Feature3DPipelineWorker-DHNZ5Ten.js","./jsonUtils-CGC2fCBX.js","./typeUtils-m_dEbBR-.js","./ClassBreaksRenderer-Crd4Nklc.js","./commonProperties-CGrCjy_f.js","./visualVariableUtils-0GG5F6ja.js","./jsonUtils-Dx44LAaE.js","./defaults3D-D-CS56NK.js","./SimpleRenderer-BDcbMaMd.js","./UniqueValueRenderer-_jQb-r7Z.js","./styleUtils-DiEWQdJf.js","./HUDMaterial.glsl-B3NEtfME.js","./hydratedFeatures-CQfjPc9A.js","./OutputColorHighlightOID.glsl-CFPfT_lD.js","./triangle-mJvXdsHe.js","./renderState-CKc66y4x.js","./glsl-B5bJgrnA.js","./ShaderBuilder-rpGDTbBb.js","./placementUtils-BOgPybSi.js","./sdfPrimitives-DlybH6V6.js","./Texture-CIORlXDO.js","./videoUtils-DiDWpKAx.js","./requestImageUtils-CfX26b1C.js","./RealisticTree.glsl-CroJS1sk.js","./DefaultMaterial-D4iK2HwU.js","./VertexBuffer-BUn9lvTC.js","./BufferObject-D-9PN8hs.js","./boundedPlane-BZjQaj1S.js","./FlowWorker-C-9ng9eZ.js","./ParquetSourceWorker-Ck8fLPaK.js","./parquetUtils-DWWNPE8j.js","./PanoramicMeshWorker-C9x4_5YE.js","./Popup-C-tek09n.js","./throttle-F8z6592U.js","./unitFormatUtils-2fYK2W7Q.js","./quantityUtils-DFbCK7Q3.js","./AttachmentInfo-YtvCt9xt.js","./labelingInfo-CtCyEzCU.js","./featureUtils-B4rIGvBa.js","./utils-BoXZDAsY.js","./cimSymbolUtils-C51asCt6.js","./executeQueryJSON-CJPimAQ-.js","./FeatureSet-w7Sj81AZ.js","./shared-D8vCG9gQ.js","./isImageryGraphicOrigin-Ccuhb4eK.js","./isImageryTileGraphicOrigin-ZR-gBf9D.js","./FeatureLayer-cgjW0Vf1.js","./FormTemplate-oWpiUmcz.js","./GraphicOrigin-D8LAAtkm.js","./editsZScale-dl6j9Wtk.js","./APIKeyMixin-BF7Z9qoP.js","./BlendLayer-CqjFaMIu.js","./jsonUtils-CtKwipNQ.js","./parser-DVFGD4V-.js","./CustomParametersMixin-CCeOAPNS.js","./DisplayFilteredLayer-Cl5U4CYC.js","./scaleUtils-CYzMjYV7.js","./EditBusLayer-BzmqbQef.js","./FeatureEffectLayer-DKW_tKzJ.js","./FeatureEffect-L1JjweXK.js","./FeatureFilter-Bc9mzkT8.js","./FeatureLayerBase-DQRGhD6u.js","./LayerFloorInfo-BZmctbNY.js","./multiLayerServiceUtils-A42sMMOF.js","./Relationship-CnZUbOJB.js","./serviceCapabilitiesUtils-BN_7Q-OZ.js","./infoFor3D-DhzudQro.js","./FeatureReductionLayer-Bqhp9xu_.js","./FeatureReductionSelection-DBK3KrZN.js","./OrderedLayer-DxkvBbYK.js","./OrderByInfo-LIN8ae47.js","./RefreshableLayer-PX9j4gSv.js","./ScaleRangeLayer-C9hRE3T-.js","./TemporalLayer-Cw6JTFH7.js","./TimeInfo-BxXc37Uo.js","./TrackableLayer-BAFAcJO7.js","./FeatureTemplate-5Um50H4P.js","./FeatureType-DLTZeHx9.js","./fieldProperties-CsX3VrX1.js","./TitleCreator-DGB-8HZU.js","./versionUtils-t1oskejv.js","./popupUtils-DtRjDlQP.js","./NetworkElement-D79jg9Kj.js","./ReactiveSet-DOfQRvkq.js","./symbolUtils-KJlF8Dxo.js","./layerViewUtils-LJCZeQM2.js","./arcadeUtils-DFounR8z.js","./arcade-bEBof2Ym.js","./arcadeEnvironment-BhdJ59dR.js","./Dictionary-DNSasKeA.js","./ImmutableArray-BPVd6ESQ.js","./Feature-DEzTvzL2.js","./aiServices-xA0CUAUT.js","./commonProperties-DHiB1uzW.js","./unitConversion-BX8LCIP8.js","./rasterFieldUtils-BGW31J3M.js","./batchExec-BZC6BJr2.js","./webStyleSymbolUtils-axdqUiLv.js","./devEnvironmentUtils-8WtPGj6h.js","./webglDeps-CefHllqG.js","./FramebufferObject-CaDl_qvH.js","./ProgramTemplate-C6ilx_ND.js","./VertexArrayObject-B3gv3Vm4.js","./mapViewDeps-B63YcBo9.js","./FeatureCommandQueue-COgNxZOg.js","./GraphShaderModule-DeLwH68J.js","./utils-C_KhnI6Y.js","./WGLContainer-EiDoFPW0.js","./Container-CKzk5V-T.js","./SDFHelper-C1dfNr_e.js","./OverrideHelper-jHMR4hDr.js","./callExpressionWithFeature-DqRQXCY1.js","./GridShader-B_JuaTOf.js","./testSVGPremultipliedAlpha-B6UKSvhl.js","./SymbolFader-CyJfvmoy.js","./RenderingContext-CYRiHDHN.js","./CIMResourceManager-CNkJCcMD.js","./utils-BhDHQ6P4.js","./utils-DDjZAYSk.js","./GraphicsView2D-Dio_qKzc.js","./GraphicContainer-CQ4BnOPx.js","./AGraphicContainer-RZnKrWBh.js","./TechniqueInstance-B0_KjrZU.js","./TileContainer-TKiFwkcb.js","./gridUtils-DHyMPyTG.js","./geodesicUtils-C774XSlH.js","./TileLayerView2D-BOl-y9CB.js","./imageUtils-CslZq1xx.js","./BitmapTechnique-ZlIGFIRg.js","./bitmapUtils-uqaZ36bS.js","./LayerView2D-Bbt0YRi2.js","./HighlightGraphicContainer-BpnIcmsq.js","./LayerView-jA4zElZl.js","./RefreshableLayerView-BkzUMpw0.js","./MapServiceLayerViewHelper-Cjnf9kwV.js","./floorFilterUtils-DKzVzLpH.js","./drapedUtils-CEsz6hiT.js","./sublayerUtils-BEQnBRaB.js","./popupUtils-Dr9ZHA4V.js","./highlightOptionsUtils-X7gfgo_Y.js","./FeatureLayerView2D-Q3PESlQo.js","./timeSupport-C54qfLdb.js","./AttributeBinsFeatureSet-N6aNAxyp.js","./AttributeBinsQuery-A60wqPtx.js","./constants-SxxbBSOD.js","./BaseDynamicLayerView2D-ONZGRibv.js","./BitmapContainer-Z69UARBE.js","./ExportStrategy-DxdUy3kc.js","./CatalogLayerView2D-C5Q1uKqF.js","./CatalogDynamicGroupLayerView2D-DDC4z21m.js","./CatalogFootprintLayerView2D-D-mPQoQN.js","./GeoRSSLayerView2D-8xM9jX9s.js","./GraphicsLayerView2D-DtTNkGa3.js","./GroupLayerView2D-CnBIctPl.js","./ImageryLayerView2D-D9jM-IDD.js","./RasterVFDisplayObject-ClNAAbhp.js","./ImageryTileLayerView2D-COn1eWAR.js","./datasetUtils-NiWFhVEs.js","./rasterUtils-BQHTf_Jr.js","./RawBlockCache-CBnXmp1N.js","./KMLLayerView2D-BB805aI0.js","./kmlUtils-CQMsa0AR.js","./KnowledgeGraphLayerView2D-BY1YEZZV.js","./MapImageLayerView2D-CSEKSE46.js","./ExportImageParameters-D-KvCA-S.js","./MapNotesLayerView2D-DNG15oon.js","./MediaLayerView2D-DlMbbEXH.js","./mediaLayerUtils-CB3yyAHc.js","./OverlayContainer-BxI0DC32.js","./OGCFeatureLayerView2D-l1YLDqjK.js","./RouteLayerView2D-CZnfA7uj.js","./Stop-CIx6MBL1.js","./networkEnums-Ch5YJ1bK.js","./StreamLayerView2D-9nYX2qL7.js","./SubtypeGroupLayerView2D-BU7mbuPL.js","./VectorTileLayerView2D-DDUbtF14.js","./VideoLayerView2D-VvsURxFK.js","./GraphicsLayer-zkC3nZo9.js","./videoUtils-CjGuR_gQ.js","./ControlPoint-DhFvz1MX.js","./WMSLayerView2D-Ehz-2ipL.js","./ExportWMSImageParameters-C3iaFyAZ.js","./WMTSLayerView2D-CmUYZK7j.js","./ElevationProfileAnalysisView2D-BzUu9nvz.js","./createUtils-6WnXU7zf.js","./distanceOperator-BpXXzBVb.js","./Point2D-ByVU2sJE.js","./Distance2DCalculator-CXhBP-8I--cWdj2J5.js","./ProjectionTransformation-BDm5nHRb.js","./Envelope2D-PYZ6irrd.js","./Transformation2D-HOoFpL6n.js","./OperatorDefinitions-DP7_WWTp.js","./apiConverter-Cvf6mWZJ.js","./jsonConverter-C9oFFBXq.js","./simplifyOperator-DvV0iaDn.js","./operatorSimplify-DQlRZh5-.js","./mapCollectionUtils-DUXAK6Bf.js","./elevationInfoUtils-BJEwv2NV.js","./getDefaultUnitForView-B3hs2x7r.js","./SketchViewModel-BCzZOPNa.js","./hitTestSelectUtils-DmmqKDNm.js","./geodeticLengthOperator-zmgXFYTv.js","./apng-DwlJEpwv.js","./index-CihYIzjX.js","./index-CpHnoU9P.js","./guid-DlHjpvET.js","./useT9n-CjBdBMH6.js","./index-3AyqjVlq.js","./index-BG8_5JDe.js","./dom-DA4GQczk.js","./observers-DPslm1Fw.js","./ref-D6IglGrB.js","./static-CwQoS_iY.js","./form-Dao24F5t.js","./interactive-7YBIYS_6.js","./label-DDfs7xFC.js","./useSetFocus-sznRHC4t.js","./index-i0cmArWL.js","./floating-ui-6jY8XCTH.js","./debounce-D0Dr7phT.js","./openCloseComponent-DuLW0_8z.js","./FloatingArrow-BBvaK5w7.js","./keyed-1vMNUWUr.js","./index-CLdFN721.js","./key-HTOW8iPe.js","./InternalLabel-DCLrw8Da.js","./index-NbUM7z7Y.js","./index-CxQP-8i0.js","./Validation-CGynPBlu.js","./index-DwFsN7AH.js","./index-DAdy_gTK.js","./index-DBnS_wJm.js"])))=>i.map(i=>d[i]);
var eZ=Object.getPrototypeOf;var tZ=Reflect.get;var zI=e=>{throw TypeError(e)};var YM=(e,t,i)=>t.has(e)||zI("Cannot "+i);var ui=(e,t,i)=>(YM(e,t,"read from private field"),i?i.call(e):t.get(e)),ua=(e,t,i)=>t.has(e)?zI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),ca=(e,t,i,r)=>(YM(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),av=(e,t,i)=>(YM(e,t,"access private method"),i);var UI=(e,t,i)=>tZ(eZ(e),i,t);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iZ(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),i}var JM={exports:{}},lv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function rZ(){if(FI)return lv;FI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,n,s){var a=null;if(s!==void 0&&(a=""+s),n.key!==void 0&&(a=""+n.key),"key"in n){s={};for(var u in n)u!=="key"&&(s[u]=n[u])}else s=n;return n=s.ref,{$$typeof:e,type:r,key:a,ref:n!==void 0?n:null,props:s}}return lv.Fragment=t,lv.jsx=i,lv.jsxs=i,lv}var BI;function nZ(){return BI||(BI=1,JM.exports=rZ()),JM.exports}var D=nZ(),XM={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function sZ(){if(qI)return $t;qI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function M(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function G(z,J,he){this.props=z,this.context=J,this.refs=F,this.updater=he||P}G.prototype.isReactComponent={},G.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},G.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Y(){}Y.prototype=G.prototype;function U(z,J,he){this.props=z,this.context=J,this.refs=F,this.updater=he||P}var C=U.prototype=new Y;C.constructor=U,O(C,G.prototype),C.isPureReactComponent=!0;var E=Array.isArray;function A(){}var k={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function H(z,J,he){var ce=he.ref;return{$$typeof:e,type:z,key:J,ref:ce!==void 0?ce:null,props:he}}function q(z,J){return H(z.type,J,z.props)}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function ue(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(he){return J[he]})}var ne=/\/+/g;function se(z,J){return typeof z=="object"&&z!==null&&z.key!=null?ue(""+z.key):J.toString(36)}function we(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(A,A):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,J,he,ce,be){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var Oe=!1;if(z===null)Oe=!0;else switch(ye){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(z.$$typeof){case e:case t:Oe=!0;break;case v:return Oe=z._init,Q(Oe(z._payload),J,he,ce,be)}}if(Oe)return be=be(z),Oe=ce===""?"."+se(z,0):ce,E(be)?(he="",Oe!=null&&(he=Oe.replace(ne,"$&/")+"/"),Q(be,J,he,"",function(bt){return bt})):be!=null&&(X(be)&&(be=q(be,he+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(ne,"$&/")+"/")+Oe)),J.push(be)),1;Oe=0;var rt=ce===""?".":ce+":";if(E(z))for(var nt=0;nt<z.length;nt++)ce=z[nt],ye=rt+se(ce,nt),Oe+=Q(ce,J,he,ye,be);else if(nt=M(z),typeof nt=="function")for(z=nt.call(z),nt=0;!(ce=z.next()).done;)ce=ce.value,ye=rt+se(ce,nt++),Oe+=Q(ce,J,he,ye,be);else if(ye==="object"){if(typeof z.then=="function")return Q(we(z),J,he,ce,be);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function N(z,J,he){if(z==null)return z;var ce=[],be=0;return Q(z,ce,"","",function(ye){return J.call(he,ye,be++)}),ce}function ge(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(he){(z._status===0||z._status===-1)&&(z._status=1,z._result=he)},function(he){(z._status===0||z._status===-1)&&(z._status=2,z._result=he)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var ee=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},j={map:N,forEach:function(z,J,he){N(z,function(){J.apply(this,arguments)},he)},count:function(z){var J=0;return N(z,function(){J++}),J},toArray:function(z){return N(z,function(J){return J})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return $t.Activity=w,$t.Children=j,$t.Component=G,$t.Fragment=i,$t.Profiler=n,$t.PureComponent=U,$t.StrictMode=r,$t.Suspense=h,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,$t.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},$t.cache=function(z){return function(){return z.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(z,J,he){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=O({},z.props),be=z.key;if(J!=null)for(ye in J.key!==void 0&&(be=""+J.key),J)!V.call(J,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&J.ref===void 0||(ce[ye]=J[ye]);var ye=arguments.length-2;if(ye===1)ce.children=he;else if(1<ye){for(var Oe=Array(ye),rt=0;rt<ye;rt++)Oe[rt]=arguments[rt+2];ce.children=Oe}return H(z.type,be,ce)},$t.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},$t.createElement=function(z,J,he){var ce,be={},ye=null;if(J!=null)for(ce in J.key!==void 0&&(ye=""+J.key),J)V.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=J[ce]);var Oe=arguments.length-2;if(Oe===1)be.children=he;else if(1<Oe){for(var rt=Array(Oe),nt=0;nt<Oe;nt++)rt[nt]=arguments[nt+2];be.children=rt}if(z&&z.defaultProps)for(ce in Oe=z.defaultProps,Oe)be[ce]===void 0&&(be[ce]=Oe[ce]);return H(z,ye,be)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(z){return{$$typeof:u,render:z}},$t.isValidElement=X,$t.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ge}},$t.memo=function(z,J){return{$$typeof:f,type:z,compare:J===void 0?null:J}},$t.startTransition=function(z){var J=k.T,he={};k.T=he;try{var ce=z(),be=k.S;be!==null&&be(he,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(A,ee)}catch(ye){ee(ye)}finally{J!==null&&he.types!==null&&(J.types=he.types),k.T=J}},$t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},$t.use=function(z){return k.H.use(z)},$t.useActionState=function(z,J,he){return k.H.useActionState(z,J,he)},$t.useCallback=function(z,J){return k.H.useCallback(z,J)},$t.useContext=function(z){return k.H.useContext(z)},$t.useDebugValue=function(){},$t.useDeferredValue=function(z,J){return k.H.useDeferredValue(z,J)},$t.useEffect=function(z,J){return k.H.useEffect(z,J)},$t.useEffectEvent=function(z){return k.H.useEffectEvent(z)},$t.useId=function(){return k.H.useId()},$t.useImperativeHandle=function(z,J,he){return k.H.useImperativeHandle(z,J,he)},$t.useInsertionEffect=function(z,J){return k.H.useInsertionEffect(z,J)},$t.useLayoutEffect=function(z,J){return k.H.useLayoutEffect(z,J)},$t.useMemo=function(z,J){return k.H.useMemo(z,J)},$t.useOptimistic=function(z,J){return k.H.useOptimistic(z,J)},$t.useReducer=function(z,J,he){return k.H.useReducer(z,J,he)},$t.useRef=function(z){return k.H.useRef(z)},$t.useState=function(z){return k.H.useState(z)},$t.useSyncExternalStore=function(z,J,he){return k.H.useSyncExternalStore(z,J,he)},$t.useTransition=function(){return k.H.useTransition()},$t.version="19.2.0",$t}var GI;function Ml(){return GI||(GI=1,XM.exports=sZ()),XM.exports}var oe=Ml();const Au=H2(oe);var KM={exports:{}},uv={},QM={exports:{}},eE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function oZ(){return VI||(VI=1,(function(e){function t(Q,N){var ge=Q.length;Q.push(N);e:for(;0<ge;){var ee=ge-1>>>1,j=Q[ee];if(0<n(j,N))Q[ee]=N,Q[ge]=j,ge=ee;else break e}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var N=Q[0],ge=Q.pop();if(ge!==N){Q[0]=ge;e:for(var ee=0,j=Q.length,z=j>>>1;ee<z;){var J=2*(ee+1)-1,he=Q[J],ce=J+1,be=Q[ce];if(0>n(he,ge))ce<j&&0>n(be,he)?(Q[ee]=be,Q[ce]=ge,ee=ce):(Q[ee]=he,Q[J]=ge,ee=J);else if(ce<j&&0>n(be,ge))Q[ee]=be,Q[ce]=ge,ee=ce;else break e}}return N}function n(Q,N){var ge=Q.sortIndex-N.sortIndex;return ge!==0?ge:Q.id-N.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var h=[],f=[],v=1,w=null,x=3,M=!1,P=!1,O=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function C(Q){for(var N=i(f);N!==null;){if(N.callback===null)r(f);else if(N.startTime<=Q)r(f),N.sortIndex=N.expirationTime,t(h,N);else break;N=i(f)}}function E(Q){if(O=!1,C(Q),!P)if(i(h)!==null)P=!0,A||(A=!0,ue());else{var N=i(f);N!==null&&we(E,N.startTime-Q)}}var A=!1,k=-1,V=5,H=-1;function q(){return F?!0:!(e.unstable_now()-H<V)}function X(){if(F=!1,A){var Q=e.unstable_now();H=Q;var N=!0;try{e:{P=!1,O&&(O=!1,Y(k),k=-1),M=!0;var ge=x;try{t:{for(C(Q),w=i(h);w!==null&&!(w.expirationTime>Q&&q());){var ee=w.callback;if(typeof ee=="function"){w.callback=null,x=w.priorityLevel;var j=ee(w.expirationTime<=Q);if(Q=e.unstable_now(),typeof j=="function"){w.callback=j,C(Q),N=!0;break t}w===i(h)&&r(h),C(Q)}else r(h);w=i(h)}if(w!==null)N=!0;else{var z=i(f);z!==null&&we(E,z.startTime-Q),N=!1}}break e}finally{w=null,x=ge,M=!1}N=void 0}}finally{N?ue():A=!1}}}var ue;if(typeof U=="function")ue=function(){U(X)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=X,ue=function(){se.postMessage(null)}}else ue=function(){G(X,0)};function we(Q,N){k=G(function(){Q(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var N=3;break;default:N=x}var ge=x;x=N;try{return Q()}finally{x=ge}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(Q,N){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=x;x=Q;try{return N()}finally{x=ge}},e.unstable_scheduleCallback=function(Q,N,ge){var ee=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ee+ge:ee):ge=ee,Q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ge+j,Q={id:v++,callback:N,priorityLevel:Q,startTime:ge,expirationTime:j,sortIndex:-1},ge>ee?(Q.sortIndex=ge,t(f,Q),i(h)===null&&Q===i(f)&&(O?(Y(k),k=-1):O=!0,we(E,ge-ee))):(Q.sortIndex=j,t(h,Q),P||M||(P=!0,A||(A=!0,ue()))),Q},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Q){var N=x;return function(){var ge=x;x=N;try{return Q.apply(this,arguments)}finally{x=ge}}}})(eE)),eE}var HI;function aZ(){return HI||(HI=1,QM.exports=oZ()),QM.exports}var tE={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI;function lZ(){if(WI)return wn;WI=1;var e=Ml();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function s(h,f,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:w==null?null:""+w,children:h,containerInfo:f,implementation:v}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(h,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(h,f,null,v)},wn.flushSync=function(h){var f=a.T,v=r.p;try{if(a.T=null,r.p=2,h)return h()}finally{a.T=f,r.p=v,r.d.f()}},wn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},wn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},wn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var v=f.as,w=u(v,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,M=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:M}):v==="script"&&r.d.X(h,{crossOrigin:w,integrity:x,fetchPriority:M,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},wn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,w=u(v,f.crossOrigin);r.d.L(h,v,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wn.preloadModule=function(h,f){if(typeof h=="string")if(f){var v=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},wn.requestFormReset=function(h){r.d.r(h)},wn.unstable_batchedUpdates=function(h,f){return h(f)},wn.useFormState=function(h,f,v){return a.H.useFormState(h,f,v)},wn.useFormStatus=function(){return a.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var ZI;function Zj(){if(ZI)return tE.exports;ZI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tE.exports=lZ(),tE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI;function uZ(){if(YI)return uv;YI=1;var e=aZ(),t=Ml(),i=Zj();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function h(o){if(s(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,y=l;;){var S=d.return;if(S===null)break;var T=S.alternate;if(T===null){if(y=S.return,y!==null){d=y;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===d)return h(S),o;if(T===y)return h(S),l;T=T.sibling}throw Error(r(188))}if(d.return!==y.return)d=S,y=T;else{for(var I=!1,Z=S.child;Z;){if(Z===d){I=!0,d=S,y=T;break}if(Z===y){I=!0,y=S,d=T;break}Z=Z.sibling}if(!I){for(Z=T.child;Z;){if(Z===d){I=!0,d=T,y=S;break}if(Z===y){I=!0,y=T,d=S;break}Z=Z.sibling}if(!I)throw Error(r(189))}}if(d.alternate!==y)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function v(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=v(o),l!==null)return l;o=o.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),U=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Symbol.for("react.client.reference");function se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ne?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case G:return"Profiler";case F:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList";case H:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case P:return"Portal";case U:return o.displayName||"Context";case Y:return(o._context.displayName||"Context")+".Consumer";case C:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return l=o.displayName||null,l!==null?l:se(o.type)||"Memo";case V:l=o._payload,o=o._init;try{return se(o(l))}catch{}}return null}var we=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ee=[],j=-1;function z(o){return{current:o}}function J(o){0>j||(o.current=ee[j],ee[j]=null,j--)}function he(o,l){j++,ee[j]=o.current,o.current=l}var ce=z(null),be=z(null),ye=z(null),Oe=z(null);function rt(o,l){switch(he(ye,l),he(be,o),he(ce,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?lI(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=lI(l),o=uI(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(ce),he(ce,o)}function nt(){J(ce),J(be),J(ye)}function bt(o){o.memoizedState!==null&&he(Oe,o);var l=ce.current,d=uI(l,o.type);l!==d&&(he(be,o),he(ce,d))}function ft(o){be.current===o&&(J(ce),J(be)),Oe.current===o&&(J(Oe),rv._currentValue=ge)}var St,Pt;function vt(o){if(St===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);St=l&&l[1]||"",Pt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+o+Pt}var xt=!1;function _i(o,l){if(!o||xt)return"";xt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Me){var xe=Me}Reflect.construct(o,[],Le)}else{try{Le.call()}catch(Me){xe=Me}o.call(Le.prototype)}}else{try{throw Error()}catch(Me){xe=Me}(Le=o())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Me){if(Me&&xe&&typeof Me.stack=="string")return[Me.stack,xe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),I=T[0],Z=T[1];if(I&&Z){var te=I.split(`
`),_e=Z.split(`
`);for(S=y=0;y<te.length&&!te[y].includes("DetermineComponentFrameRoot");)y++;for(;S<_e.length&&!_e[S].includes("DetermineComponentFrameRoot");)S++;if(y===te.length||S===_e.length)for(y=te.length-1,S=_e.length-1;1<=y&&0<=S&&te[y]!==_e[S];)S--;for(;1<=y&&0<=S;y--,S--)if(te[y]!==_e[S]){if(y!==1||S!==1)do if(y--,S--,0>S||te[y]!==_e[S]){var Ce=`
`+te[y].replace(" at new "," at ");return o.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",o.displayName)),Ce}while(1<=y&&0<=S);break}}}finally{xt=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?vt(d):""}function Tt(o,l){switch(o.tag){case 26:case 27:case 5:return vt(o.type);case 16:return vt("Lazy");case 13:return o.child!==l&&l!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return _i(o.type,!1);case 11:return _i(o.type.render,!1);case 1:return _i(o.type,!0);case 31:return vt("Activity");default:return""}}function ii(o){try{var l="",d=null;do l+=Tt(o,d),d=o,o=o.return;while(o);return l}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Pi=Object.prototype.hasOwnProperty,Ai=e.unstable_scheduleCallback,Yi=e.unstable_cancelCallback,os=e.unstable_shouldYield,an=e.unstable_requestPaint,zi=e.unstable_now,ho=e.unstable_getCurrentPriorityLevel,fo=e.unstable_ImmediatePriority,Ui=e.unstable_UserBlockingPriority,Ji=e.unstable_NormalPriority,Wf=e.unstable_LowPriority,Dh=e.unstable_IdlePriority,Uu=e.log,cy=e.unstable_setDisableYieldValue,Hr=null,Tr=null;function as(o){if(typeof Uu=="function"&&cy(o),Tr&&typeof Tr.setStrictMode=="function")try{Tr.setStrictMode(Hr,o)}catch{}}var Wr=Math.clz32?Math.clz32:Fu,Pl=Math.log,Zf=Math.LN2;function Fu(o){return o>>>=0,o===0?32:31-(Pl(o)/Zf|0)|0}var La=256,Ko=262144,Al=4194304;function po(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Bu(o,l,d){var y=o.pendingLanes;if(y===0)return 0;var S=0,T=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var Z=y&134217727;return Z!==0?(y=Z&~T,y!==0?S=po(y):(I&=Z,I!==0?S=po(I):d||(d=Z&~o,d!==0&&(S=po(d))))):(Z=y&~T,Z!==0?S=po(Z):I!==0?S=po(I):d||(d=y&~o,d!==0&&(S=po(d)))),S===0?0:l!==0&&l!==S&&(l&T)===0&&(T=S&-S,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:S}function ka(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function qu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var o=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),o}function jh(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Qo(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function re(o,l,d,y,S,T){var I=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var Z=o.entanglements,te=o.expirationTimes,_e=o.hiddenUpdates;for(d=I&~d;0<d;){var Ce=31-Wr(d),Le=1<<Ce;Z[Ce]=0,te[Ce]=-1;var xe=_e[Ce];if(xe!==null)for(_e[Ce]=null,Ce=0;Ce<xe.length;Ce++){var Me=xe[Ce];Me!==null&&(Me.lane&=-536870913)}d&=~Le}y!==0&&me(o,y,0),T!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=T&~(I&~l))}function me(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var y=31-Wr(l);o.entangledLanes|=l,o.entanglements[y]=o.entanglements[y]|1073741824|d&261930}function Te(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var y=31-Wr(d),S=1<<y;S&l|o[y]&l&&(o[y]|=l),d&=~S}}function De(o,l){var d=l&-l;return d=(d&42)!==0?1:je(d),(d&(o.suspendedLanes|l))!==0?0:d}function je(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ae(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function st(){var o=N.p;return o!==0?o:(o=window.event,o===void 0?32:RI(o.type))}function Ke(o,l){var d=N.p;try{return N.p=o,l()}finally{N.p=d}}var Je=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Je,Ge="__reactProps$"+Je,Xe="__reactContainer$"+Je,Mt="__reactEvents$"+Je,pi="__reactListeners$"+Je,nr="__reactHandles$"+Je,Mr="__reactResources$"+Je,ri="__reactMarker$"+Je;function ni(o){delete o[Ze],delete o[Ge],delete o[Mt],delete o[pi],delete o[nr]}function ln(o){var l=o[Ze];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Xe]||d[Ze]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=gI(o);o!==null;){if(d=o[Ze])return d;o=gI(o)}return l}o=d,d=o.parentNode}return null}function ls(o){if(o=o[Ze]||o[Xe]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Dr(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function jr(o){var l=o[Mr];return l||(l=o[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Fi(o){o[ri]=!0}var Ia=new Set,mo={};function us(o,l){zn(o,l),zn(o+"Capture",l)}function zn(o,l){for(mo[o]=l,o=0;o<l.length;o++)Ia.add(l[o])}var Rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sr={},go={};function Un(o){return Pi.call(go,o)?!0:Pi.call(sr,o)?!1:Rt.test(o)?go[o]=!0:(sr[o]=!0,!1)}function ct(o,l,d){if(Un(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function Yt(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function un(o,l,d,y){if(y===null)o.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+y)}}function gr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ll(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hy(o,l,d){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,T=y.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(I){d=""+I,T.call(this,I)}}),Object.defineProperty(o,l,{enumerable:y.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Et(o){if(!o._valueTracker){var l=Ll(o)?"checked":"value";o._valueTracker=hy(o,l,""+o[l])}}function Bi(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),y="";return o&&(y=Ll(o)?o.checked?"true":"false":o.value),o=y,o!==d?(l.setValue(o),!0):!1}function Gu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Yf=/[\n"\\]/g;function ki(o){return o.replace(Yf,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function dy(o,l,d,y,S,T,I,Z){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),l!=null?I==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+gr(l)):o.value!==""+gr(l)&&(o.value=""+gr(l)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),l!=null?ea(o,I,gr(l)):d!=null?ea(o,I,gr(d)):y!=null&&o.removeAttribute("value"),S==null&&T!=null&&(o.defaultChecked=!!T),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?o.name=""+gr(Z):o.removeAttribute("name")}function zh(o,l,d,y,S,T,I,Z){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){Et(o);return}d=d!=null?""+gr(d):"",l=l!=null?""+gr(l):d,Z||l===o.value||(o.value=l),o.defaultValue=l}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=Z?o.checked:!!y,o.defaultChecked=!!y,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I),Et(o)}function ea(o,l,d){l==="number"&&Gu(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Ei(o,l,d,y){if(o=o.options,l){l={};for(var S=0;S<d.length;S++)l["$"+d[S]]=!0;for(d=0;d<o.length;d++)S=l.hasOwnProperty("$"+o[d].value),o[d].selected!==S&&(o[d].selected=S),S&&y&&(o[d].defaultSelected=!0)}else{for(d=""+gr(d),l=null,S=0;S<o.length;S++){if(o[S].value===d){o[S].selected=!0,y&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function Na(o,l,d){if(l!=null&&(l=""+gr(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+gr(d):""}function Vu(o,l,d,y){if(l==null){if(y!=null){if(d!=null)throw Error(r(92));if(we(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),l=d}d=gr(l),o.defaultValue=d,y=o.textContent,y===d&&y!==""&&y!==null&&(o.value=y),Et(o)}function yo(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(o,l,d){var y=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?y?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":y?o.setProperty(l,d):typeof d!="number"||d===0||fy.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function Jf(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var y in d)!d.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var S in l)y=l[S],l.hasOwnProperty(S)&&d[S]!==y&&Hu(o,S,y)}else for(var T in l)l.hasOwnProperty(T)&&Hu(o,T,l[T])}function Uh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wu(o){return py.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function cs(){}var Kf=null;function Fh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zu=null,yt=null;function js(o){var l=ls(o);if(l&&(o=l.stateNode)){var d=o[Ge]||null;e:switch(o=l.stateNode,l.type){case"input":if(dy(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ki(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var y=d[l];if(y!==o&&y.form===o.form){var S=y[Ge]||null;if(!S)throw Error(r(90));dy(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<d.length;l++)y=d[l],y.form===o.form&&Bi(y)}break e;case"textarea":Na(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ei(o,!!d.multiple,l,!1)}}}var li=!1;function my(o,l,d){if(li)return o(l,d);li=!0;try{var y=o(l);return y}finally{if(li=!1,(Zu!==null||yt!==null)&&(hw(),Zu&&(l=Zu,o=yt,yt=Zu=null,js(l),o)))for(l=0;l<o.length;l++)js(o[l])}}function kl(o,l){var d=o.stateNode;if(d===null)return null;var y=d[Ge]||null;if(y===null)return null;d=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=!1;if(zs)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Bh=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Bh=!1}var vo=null,Il=null,or=null;function Da(){if(or)return or;var o,l=Il,d=l.length,y,S="value"in vo?vo.value:vo.textContent,T=S.length;for(o=0;o<d&&l[o]===S[o];o++);var I=d-o;for(y=1;y<=I&&l[d-y]===S[T-y];y++);return or=S.slice(o,1<y?1-y:void 0)}function qh(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Gh(){return!0}function g1(){return!1}function cn(o){function l(d,y,S,T,I){this._reactName=d,this._targetInst=S,this.type=y,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var Z in o)o.hasOwnProperty(Z)&&(d=o[Z],this[Z]=d?d(T):T[Z]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Gh:g1,this.isPropagationStopped=g1,this}return w(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),l}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=cn(ta),Yu=w({},ta,{view:0,detail:0}),Vt=cn(Yu),gy,Fn,ia,Vh=w({},Yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ia&&(ia&&o.type==="mousemove"?(gy=o.screenX-ia.screenX,Fn=o.screenY-ia.screenY):Fn=gy=0,ia=o),gy)},movementY:function(o){return"movementY"in o?o.movementY:Fn}}),y1=cn(Vh),yy=w({},Vh,{dataTransfer:0}),sT=cn(yy),v1=w({},Yu,{relatedTarget:0}),vy=cn(v1),oT=w({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=cn(oT),aT=w({},ta,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_o=cn(aT),lT=w({},ta,{data:0}),wy=cn(lT),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function by(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=w1[o])?!!l[o]:!1}function Sy(){return by}var b1=w({},Yu,{key:function(o){if(o.key){var l=ja[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=qh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_1[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(o){return o.type==="keypress"?qh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?qh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S1=cn(b1),uT=w({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x1=cn(uT),xy=w({},Yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),cT=cn(xy),T1=w({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=cn(T1),ep=w({},Vh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Nl=cn(ep),hT=w({},ta,{newState:0,oldState:0}),Hh=cn(hT),hs=[9,13,27,32],tp=zs&&"CompositionEvent"in window,Ju=null;zs&&"documentMode"in document&&(Ju=document.documentMode);var dT=zs&&"TextEvent"in window&&!Ju,ip=zs&&(!tp||Ju&&8<Ju&&11>=Ju),rp=" ",E1=!1;function $1(o,l){switch(o){case"keyup":return hs.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xu=!1;function Fs(o,l){switch(o){case"compositionend":return Ty(l);case"keypress":return l.which!==32?null:(E1=!0,rp);case"textInput":return o=l.data,o===rp&&E1?null:o;default:return null}}function Ku(o,l){if(Xu)return o==="compositionend"||!tp&&$1(o,l)?(o=Da(),or=Il=vo=null,Xu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ip&&l.locale!=="ko"?null:l.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!fT[o.type]:l==="textarea"}function C1(o,l,d,y){Zu?yt?yt.push(y):yt=[y]:Zu=y,l=vw(l,"onChange"),0<l.length&&(d=new Qf("onChange","change",null,d,y),o.push({event:d,listeners:l}))}var bo=null,Wh=null;function Zh(o){iI(o,0)}function Yh(o){var l=Dr(o);if(Bi(l))return o}function Jh(o,l){if(o==="change")return l}var O1=!1;if(zs){var So;if(zs){var Qu="oninput"in document;if(!Qu){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),Qu=typeof P1.oninput=="function"}So=Qu}else So=!1;O1=So&&(!document.documentMode||9<document.documentMode)}function np(){bo&&(bo.detachEvent("onpropertychange",A1),Wh=bo=null)}function A1(o){if(o.propertyName==="value"&&Yh(Wh)){var l=[];C1(l,Wh,o,Fh(o)),my(Zh,l)}}function ra(o,l,d){o==="focusin"?(np(),bo=l,Wh=d,bo.attachEvent("onpropertychange",A1)):o==="focusout"&&np()}function pT(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yh(Wh)}function ec(o,l){if(o==="click")return Yh(l)}function mT(o,l){if(o==="input"||o==="change")return Yh(l)}function na(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Zr=typeof Object.is=="function"?Object.is:na;function tc(o,l){if(Zr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),y=Object.keys(l);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var S=d[y];if(!Pi.call(l,S)||!Zr(o[S],l[S]))return!1}return!0}function sp(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Xh(o,l){var d=sp(o);o=0;for(var y;d;){if(d.nodeType===3){if(y=o+d.textContent.length,o<=l&&y>=l)return{node:d,offset:l-o};o=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=sp(d)}}function op(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?op(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Kh(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Gu(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Gu(o.document)}return l}function za(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var ap=zs&&"documentMode"in document&&11>=document.documentMode,Ua=null,lp=null,Qh=null,ic=!1;function R1(o,l,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ic||Ua==null||Ua!==Gu(y)||(y=Ua,"selectionStart"in y&&za(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Qh&&tc(Qh,y)||(Qh=y,y=vw(lp,"onSelect"),0<y.length&&(l=new Qf("onSelect","select",null,l,d),o.push({event:l,listeners:y}),l.target=Ua)))}function Fa(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var rc={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},up={},L1={};zs&&(L1=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function Yr(o){if(up[o])return up[o];if(!rc[o])return o;var l=rc[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in L1)return up[o]=l[d];return o}var ed=Yr("animationend"),k1=Yr("animationiteration"),td=Yr("animationstart"),gT=Yr("transitionrun"),I1=Yr("transitionstart"),yT=Yr("transitioncancel"),nc=Yr("transitionend"),N1=new Map,Ba="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ba.push("scrollEnd");function ds(o,l){N1.set(o,l),us(l,[o])}var id=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},fs=[],vn=0,cp=0;function rd(){for(var o=vn,l=cp=vn=0;l<o;){var d=fs[l];fs[l++]=null;var y=fs[l];fs[l++]=null;var S=fs[l];fs[l++]=null;var T=fs[l];if(fs[l++]=null,y!==null&&S!==null){var I=y.pending;I===null?S.next=S:(S.next=I.next,I.next=S),y.pending=S}T!==0&&sc(d,S,T)}}function qa(o,l,d,y){fs[vn++]=o,fs[vn++]=l,fs[vn++]=d,fs[vn++]=y,cp|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function My(o,l,d,y){return qa(o,l,d,y),nd(o)}function xo(o,l){return qa(o,null,null,l),nd(o)}function sc(o,l,d){o.lanes|=d;var y=o.alternate;y!==null&&(y.lanes|=d);for(var S=!1,T=o.return;T!==null;)T.childLanes|=d,y=T.alternate,y!==null&&(y.childLanes|=d),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(S=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,S&&l!==null&&(S=31-Wr(d),o=T.hiddenUpdates,y=o[S],y===null?o[S]=[l]:y.push(l),l.lane=d|536870912),T):null}function nd(o){if(50<Jy)throw Jy=0,_M=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Dl={};function vT(o,l,d,y){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(o,l,d,y){return new vT(o,l,d,y)}function hp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function To(o,l){var d=o.alternate;return d===null?(d=_n(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function Ey(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function sd(o,l,d,y,S,T){var I=0;if(y=o,typeof o=="function")hp(o)&&(I=1);else if(typeof o=="string")I=BW(o,d,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case H:return o=_n(31,d,l,S),o.elementType=H,o.lanes=T,o;case O:return jl(d.children,S,T,l);case F:I=8,S|=24;break;case G:return o=_n(12,d,l,S|2),o.elementType=G,o.lanes=T,o;case E:return o=_n(13,d,l,S),o.elementType=E,o.lanes=T,o;case A:return o=_n(19,d,l,S),o.elementType=A,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:I=10;break e;case Y:I=9;break e;case C:I=11;break e;case k:I=14;break e;case V:I=16,y=null;break e}I=29,d=Error(r(130,o===null?"null":typeof o,"")),y=null}return l=_n(I,d,l,S),l.elementType=o,l.type=y,l.lanes=T,l}function jl(o,l,d,y){return o=_n(7,o,y,l),o.lanes=d,o}function dp(o,l,d){return o=_n(6,o,null,l),o.lanes=d,o}function $y(o){var l=_n(18,null,null,0);return l.stateNode=o,l}function Cy(o,l,d){return l=_n(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var c=new WeakMap;function g(o,l){if(typeof o=="object"&&o!==null){var d=c.get(o);return d!==void 0?d:(l={value:o,source:l,stack:ii(l)},c.set(o,l),l)}return{value:o,source:l,stack:ii(l)}}var b=[],$=0,R=null,W=0,K=[],fe=0,Se=null,Re=1,Ue="";function at(o,l){b[$++]=W,b[$++]=R,R=o,W=l}function Lt(o,l,d){K[fe++]=Re,K[fe++]=Ue,K[fe++]=Se,Se=o;var y=Re;o=Ue;var S=32-Wr(y)-1;y&=~(1<<S),d+=1;var T=32-Wr(l)+S;if(30<T){var I=S-S%5;T=(y&(1<<I)-1).toString(32),y>>=I,S-=I,Re=1<<32-Wr(l)+S|d<<S|y,Ue=T+o}else Re=1<<T|d<<S|y,Ue=o}function zr(o){o.return!==null&&(at(o,1),Lt(o,1,0))}function ar(o){for(;o===R;)R=b[--$],b[$]=null,W=b[--$],b[$]=null;for(;o===Se;)Se=K[--fe],K[fe]=null,Ue=K[--fe],K[fe]=null,Re=K[--fe],K[fe]=null}function Bn(o,l){K[fe++]=Re,K[fe++]=Ue,K[fe++]=Se,Re=l.id,Ue=l.overflow,Se=o}var Kt=null,Qt=null,Ut=!1,Ga=null,ps=!1,fp=Error(r(519));function Va(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw od(g(l,o)),fp}function Oy(o){var l=o.stateNode,d=o.type,y=o.memoizedProps;switch(l[Ze]=o,l[Ge]=y,d){case"dialog":Bt("cancel",l),Bt("close",l);break;case"iframe":case"object":case"embed":Bt("load",l);break;case"video":case"audio":for(d=0;d<Ky.length;d++)Bt(Ky[d],l);break;case"source":Bt("error",l);break;case"img":case"image":case"link":Bt("error",l),Bt("load",l);break;case"details":Bt("toggle",l);break;case"input":Bt("invalid",l),zh(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Bt("invalid",l);break;case"textarea":Bt("invalid",l),Vu(l,y.value,y.defaultValue,y.children)}d=y.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||y.suppressHydrationWarning===!0||oI(l.textContent,d)?(y.popover!=null&&(Bt("beforetoggle",l),Bt("toggle",l)),y.onScroll!=null&&Bt("scroll",l),y.onScrollEnd!=null&&Bt("scrollend",l),y.onClick!=null&&(l.onclick=cs),l=!0):l=!1,l||Va(o,!0)}function Xi(o){for(Kt=o.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:ps=!1;return;case 27:case 3:ps=!0;return;default:Kt=Kt.return}}function sa(o){if(o!==Kt)return!1;if(!Ut)return Xi(o),Ut=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||kM(o.type,o.memoizedProps)),d=!d),d&&Qt&&Va(o),Xi(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Qt=mI(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Qt=mI(o)}else l===27?(l=Qt,_c(o.type)?(o=zM,zM=null,Qt=o):Qt=l):Qt=Kt?Eo(o.stateNode.nextSibling):null;return!0}function zl(){Qt=Kt=null,Ut=!1}function Py(){var o=Ga;return o!==null&&(vs===null?vs=o:vs.push.apply(vs,o),Ga=null),o}function od(o){Ga===null?Ga=[o]:Ga.push(o)}var ad=z(null),Ha=null,oa=null;function oc(o,l,d){he(ad,l._currentValue),l._currentValue=d}function Ul(o){o._currentValue=ad.current,J(ad)}function _T(o,l,d){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===d)break;o=o.return}}function wT(o,l,d,y){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var T=S.dependencies;if(T!==null){var I=S.child;T=T.firstContext;e:for(;T!==null;){var Z=T;T=S;for(var te=0;te<l.length;te++)if(Z.context===l[te]){T.lanes|=d,Z=T.alternate,Z!==null&&(Z.lanes|=d),_T(T.return,d,o),y||(I=null);break e}T=Z.next}}else if(S.tag===18){if(I=S.return,I===null)throw Error(r(341));I.lanes|=d,T=I.alternate,T!==null&&(T.lanes|=d),_T(I,d,o),I=null}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===o){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}}function pp(o,l,d,y){o=null;for(var S=l,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var I=S.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var Z=S.type;Zr(S.pendingProps.value,I.value)||(o!==null?o.push(Z):o=[Z])}}else if(S===Oe.current){if(I=S.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(rv):o=[rv])}S=S.return}o!==null&&wT(l,o,d,y),l.flags|=262144}function D1(o){for(o=o.firstContext;o!==null;){if(!Zr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ld(o){Ha=o,oa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function hn(o){return VR(Ha,o)}function j1(o,l){return Ha===null&&ld(o),VR(o,l)}function VR(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},oa===null){if(o===null)throw Error(r(308));oa=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else oa=oa.next=l;return d}var jH=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,y){o.push(y)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},zH=e.unstable_scheduleCallback,UH=e.unstable_NormalPriority,Er={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bT(){return{controller:new jH,data:new Map,refCount:0}}function Ay(o){o.refCount--,o.refCount===0&&zH(UH,function(){o.controller.abort()})}var Ry=null,ST=0,mp=0,gp=null;function FH(o,l){if(Ry===null){var d=Ry=[];ST=0,mp=MM(),gp={status:"pending",value:void 0,then:function(y){d.push(y)}}}return ST++,l.then(HR,HR),l}function HR(){if(--ST===0&&Ry!==null){gp!==null&&(gp.status="fulfilled");var o=Ry;Ry=null,mp=0,gp=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function BH(o,l){var d=[],y={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return o.then(function(){y.status="fulfilled",y.value=l;for(var S=0;S<d.length;S++)(0,d[S])(l)},function(S){for(y.status="rejected",y.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),y}var WR=Q.S;Q.S=function(o,l){Pk=zi(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&FH(o,l),WR!==null&&WR(o,l)};var ud=z(null);function xT(){var o=ud.current;return o!==null?o:$i.pooledCache}function z1(o,l){l===null?he(ud,ud.current):he(ud,l.pool)}function ZR(){var o=xT();return o===null?null:{parent:Er._currentValue,pool:o}}var yp=Error(r(460)),TT=Error(r(474)),U1=Error(r(542)),F1={then:function(){}};function YR(o){return o=o.status,o==="fulfilled"||o==="rejected"}function JR(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(cs,cs),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,KR(o),o;default:if(typeof l.status=="string")l.then(cs,cs);else{if(o=$i,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(y){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=y}},function(y){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,KR(o),o}throw hd=l,yp}}function cd(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(hd=d,yp):d}}var hd=null;function XR(){if(hd===null)throw Error(r(459));var o=hd;return hd=null,o}function KR(o){if(o===yp||o===U1)throw Error(r(483))}var vp=null,Ly=0;function B1(o){var l=Ly;return Ly+=1,vp===null&&(vp=[]),JR(vp,o,l)}function ky(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function q1(o,l){throw l.$$typeof===x?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function QR(o){function l(de,le){if(o){var ve=de.deletions;ve===null?(de.deletions=[le],de.flags|=16):ve.push(le)}}function d(de,le){if(!o)return null;for(;le!==null;)l(de,le),le=le.sibling;return null}function y(de){for(var le=new Map;de!==null;)de.key!==null?le.set(de.key,de):le.set(de.index,de),de=de.sibling;return le}function S(de,le){return de=To(de,le),de.index=0,de.sibling=null,de}function T(de,le,ve){return de.index=ve,o?(ve=de.alternate,ve!==null?(ve=ve.index,ve<le?(de.flags|=67108866,le):ve):(de.flags|=67108866,le)):(de.flags|=1048576,le)}function I(de){return o&&de.alternate===null&&(de.flags|=67108866),de}function Z(de,le,ve,Pe){return le===null||le.tag!==6?(le=dp(ve,de.mode,Pe),le.return=de,le):(le=S(le,ve),le.return=de,le)}function te(de,le,ve,Pe){var dt=ve.type;return dt===O?Ce(de,le,ve.props.children,Pe,ve.key):le!==null&&(le.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===V&&cd(dt)===le.type)?(le=S(le,ve.props),ky(le,ve),le.return=de,le):(le=sd(ve.type,ve.key,ve.props,null,de.mode,Pe),ky(le,ve),le.return=de,le)}function _e(de,le,ve,Pe){return le===null||le.tag!==4||le.stateNode.containerInfo!==ve.containerInfo||le.stateNode.implementation!==ve.implementation?(le=Cy(ve,de.mode,Pe),le.return=de,le):(le=S(le,ve.children||[]),le.return=de,le)}function Ce(de,le,ve,Pe,dt){return le===null||le.tag!==7?(le=jl(ve,de.mode,Pe,dt),le.return=de,le):(le=S(le,ve),le.return=de,le)}function Le(de,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=dp(""+le,de.mode,ve),le.return=de,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case M:return ve=sd(le.type,le.key,le.props,null,de.mode,ve),ky(ve,le),ve.return=de,ve;case P:return le=Cy(le,de.mode,ve),le.return=de,le;case V:return le=cd(le),Le(de,le,ve)}if(we(le)||ue(le))return le=jl(le,de.mode,ve,null),le.return=de,le;if(typeof le.then=="function")return Le(de,B1(le),ve);if(le.$$typeof===U)return Le(de,j1(de,le),ve);q1(de,le)}return null}function xe(de,le,ve,Pe){var dt=le!==null?le.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return dt!==null?null:Z(de,le,""+ve,Pe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case M:return ve.key===dt?te(de,le,ve,Pe):null;case P:return ve.key===dt?_e(de,le,ve,Pe):null;case V:return ve=cd(ve),xe(de,le,ve,Pe)}if(we(ve)||ue(ve))return dt!==null?null:Ce(de,le,ve,Pe,null);if(typeof ve.then=="function")return xe(de,le,B1(ve),Pe);if(ve.$$typeof===U)return xe(de,le,j1(de,ve),Pe);q1(de,ve)}return null}function Me(de,le,ve,Pe,dt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return de=de.get(ve)||null,Z(le,de,""+Pe,dt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case M:return de=de.get(Pe.key===null?ve:Pe.key)||null,te(le,de,Pe,dt);case P:return de=de.get(Pe.key===null?ve:Pe.key)||null,_e(le,de,Pe,dt);case V:return Pe=cd(Pe),Me(de,le,ve,Pe,dt)}if(we(Pe)||ue(Pe))return de=de.get(ve)||null,Ce(le,de,Pe,dt,null);if(typeof Pe.then=="function")return Me(de,le,ve,B1(Pe),dt);if(Pe.$$typeof===U)return Me(de,le,ve,j1(le,Pe),dt);q1(le,Pe)}return null}function Qe(de,le,ve,Pe){for(var dt=null,ei=null,ot=le,kt=le=0,Wt=null;ot!==null&&kt<ve.length;kt++){ot.index>kt?(Wt=ot,ot=null):Wt=ot.sibling;var ti=xe(de,ot,ve[kt],Pe);if(ti===null){ot===null&&(ot=Wt);break}o&&ot&&ti.alternate===null&&l(de,ot),le=T(ti,le,kt),ei===null?dt=ti:ei.sibling=ti,ei=ti,ot=Wt}if(kt===ve.length)return d(de,ot),Ut&&at(de,kt),dt;if(ot===null){for(;kt<ve.length;kt++)ot=Le(de,ve[kt],Pe),ot!==null&&(le=T(ot,le,kt),ei===null?dt=ot:ei.sibling=ot,ei=ot);return Ut&&at(de,kt),dt}for(ot=y(ot);kt<ve.length;kt++)Wt=Me(ot,de,kt,ve[kt],Pe),Wt!==null&&(o&&Wt.alternate!==null&&ot.delete(Wt.key===null?kt:Wt.key),le=T(Wt,le,kt),ei===null?dt=Wt:ei.sibling=Wt,ei=Wt);return o&&ot.forEach(function(Tc){return l(de,Tc)}),Ut&&at(de,kt),dt}function mt(de,le,ve,Pe){if(ve==null)throw Error(r(151));for(var dt=null,ei=null,ot=le,kt=le=0,Wt=null,ti=ve.next();ot!==null&&!ti.done;kt++,ti=ve.next()){ot.index>kt?(Wt=ot,ot=null):Wt=ot.sibling;var Tc=xe(de,ot,ti.value,Pe);if(Tc===null){ot===null&&(ot=Wt);break}o&&ot&&Tc.alternate===null&&l(de,ot),le=T(Tc,le,kt),ei===null?dt=Tc:ei.sibling=Tc,ei=Tc,ot=Wt}if(ti.done)return d(de,ot),Ut&&at(de,kt),dt;if(ot===null){for(;!ti.done;kt++,ti=ve.next())ti=Le(de,ti.value,Pe),ti!==null&&(le=T(ti,le,kt),ei===null?dt=ti:ei.sibling=ti,ei=ti);return Ut&&at(de,kt),dt}for(ot=y(ot);!ti.done;kt++,ti=ve.next())ti=Me(ot,de,kt,ti.value,Pe),ti!==null&&(o&&ti.alternate!==null&&ot.delete(ti.key===null?kt:ti.key),le=T(ti,le,kt),ei===null?dt=ti:ei.sibling=ti,ei=ti);return o&&ot.forEach(function(QW){return l(de,QW)}),Ut&&at(de,kt),dt}function Si(de,le,ve,Pe){if(typeof ve=="object"&&ve!==null&&ve.type===O&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case M:e:{for(var dt=ve.key;le!==null;){if(le.key===dt){if(dt=ve.type,dt===O){if(le.tag===7){d(de,le.sibling),Pe=S(le,ve.props.children),Pe.return=de,de=Pe;break e}}else if(le.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===V&&cd(dt)===le.type){d(de,le.sibling),Pe=S(le,ve.props),ky(Pe,ve),Pe.return=de,de=Pe;break e}d(de,le);break}else l(de,le);le=le.sibling}ve.type===O?(Pe=jl(ve.props.children,de.mode,Pe,ve.key),Pe.return=de,de=Pe):(Pe=sd(ve.type,ve.key,ve.props,null,de.mode,Pe),ky(Pe,ve),Pe.return=de,de=Pe)}return I(de);case P:e:{for(dt=ve.key;le!==null;){if(le.key===dt)if(le.tag===4&&le.stateNode.containerInfo===ve.containerInfo&&le.stateNode.implementation===ve.implementation){d(de,le.sibling),Pe=S(le,ve.children||[]),Pe.return=de,de=Pe;break e}else{d(de,le);break}else l(de,le);le=le.sibling}Pe=Cy(ve,de.mode,Pe),Pe.return=de,de=Pe}return I(de);case V:return ve=cd(ve),Si(de,le,ve,Pe)}if(we(ve))return Qe(de,le,ve,Pe);if(ue(ve)){if(dt=ue(ve),typeof dt!="function")throw Error(r(150));return ve=dt.call(ve),mt(de,le,ve,Pe)}if(typeof ve.then=="function")return Si(de,le,B1(ve),Pe);if(ve.$$typeof===U)return Si(de,le,j1(de,ve),Pe);q1(de,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,le!==null&&le.tag===6?(d(de,le.sibling),Pe=S(le,ve),Pe.return=de,de=Pe):(d(de,le),Pe=dp(ve,de.mode,Pe),Pe.return=de,de=Pe),I(de)):d(de,le)}return function(de,le,ve,Pe){try{Ly=0;var dt=Si(de,le,ve,Pe);return vp=null,dt}catch(ot){if(ot===yp||ot===U1)throw ot;var ei=_n(29,ot,null,de.mode);return ei.lanes=Pe,ei.return=de,ei}finally{}}}var dd=QR(!0),eL=QR(!1),ac=!1;function MT(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ET(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function lc(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function uc(o,l,d){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(si&2)!==0){var S=y.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),y.pending=l,l=nd(o),sc(o,null,d),l}return qa(o,y,l,d),nd(o)}function Iy(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var y=l.lanes;y&=o.pendingLanes,d|=y,l.lanes=d,Te(o,d)}}function $T(o,l){var d=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var S=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?S=T=I:T=T.next=I,d=d.next}while(d!==null);T===null?S=T=l:T=T.next=l}else S=T=l;d={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var CT=!1;function Ny(){if(CT){var o=gp;if(o!==null)throw o}}function Dy(o,l,d,y){CT=!1;var S=o.updateQueue;ac=!1;var T=S.firstBaseUpdate,I=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var te=Z,_e=te.next;te.next=null,I===null?T=_e:I.next=_e,I=te;var Ce=o.alternate;Ce!==null&&(Ce=Ce.updateQueue,Z=Ce.lastBaseUpdate,Z!==I&&(Z===null?Ce.firstBaseUpdate=_e:Z.next=_e,Ce.lastBaseUpdate=te))}if(T!==null){var Le=S.baseState;I=0,Ce=_e=te=null,Z=T;do{var xe=Z.lane&-536870913,Me=xe!==Z.lane;if(Me?(Ht&xe)===xe:(y&xe)===xe){xe!==0&&xe===mp&&(CT=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Qe=o,mt=Z;xe=l;var Si=d;switch(mt.tag){case 1:if(Qe=mt.payload,typeof Qe=="function"){Le=Qe.call(Si,Le,xe);break e}Le=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=mt.payload,xe=typeof Qe=="function"?Qe.call(Si,Le,xe):Qe,xe==null)break e;Le=w({},Le,xe);break e;case 2:ac=!0}}xe=Z.callback,xe!==null&&(o.flags|=64,Me&&(o.flags|=8192),Me=S.callbacks,Me===null?S.callbacks=[xe]:Me.push(xe))}else Me={lane:xe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ce===null?(_e=Ce=Me,te=Le):Ce=Ce.next=Me,I|=xe;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;Me=Z,Z=Me.next,Me.next=null,S.lastBaseUpdate=Me,S.shared.pending=null}}while(!0);Ce===null&&(te=Le),S.baseState=te,S.firstBaseUpdate=_e,S.lastBaseUpdate=Ce,T===null&&(S.shared.lanes=0),pc|=I,o.lanes=I,o.memoizedState=Le}}function tL(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function iL(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)tL(d[o],l)}var _p=z(null),G1=z(0);function rL(o,l){o=Yl,he(G1,o),he(_p,l),Yl=o|l.baseLanes}function OT(){he(G1,Yl),he(_p,_p.current)}function PT(){Yl=G1.current,J(_p),J(G1)}var Bs=z(null),Mo=null;function cc(o){var l=o.alternate;he(yr,yr.current&1),he(Bs,o),Mo===null&&(l===null||_p.current!==null||l.memoizedState!==null)&&(Mo=o)}function AT(o){he(yr,yr.current),he(Bs,o),Mo===null&&(Mo=o)}function nL(o){o.tag===22?(he(yr,yr.current),he(Bs,o),Mo===null&&(Mo=o)):hc()}function hc(){he(yr,yr.current),he(Bs,Bs.current)}function qs(o){J(Bs),Mo===o&&(Mo=null),J(yr)}var yr=z(0);function V1(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||DM(d)||jM(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fl=0,At=null,wi=null,$r=null,H1=!1,wp=!1,fd=!1,W1=0,jy=0,bp=null,qH=0;function lr(){throw Error(r(321))}function RT(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Zr(o[d],l[d]))return!1;return!0}function LT(o,l,d,y,S,T){return Fl=T,At=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Q.H=o===null||o.memoizedState===null?FL:ZT,fd=!1,T=d(y,S),fd=!1,wp&&(T=oL(l,d,y,S)),sL(o),T}function sL(o){Q.H=Fy;var l=wi!==null&&wi.next!==null;if(Fl=0,$r=wi=At=null,H1=!1,jy=0,bp=null,l)throw Error(r(300));o===null||Cr||(o=o.dependencies,o!==null&&D1(o)&&(Cr=!0))}function oL(o,l,d,y){At=o;var S=0;do{if(wp&&(bp=null),jy=0,wp=!1,25<=S)throw Error(r(301));if(S+=1,$r=wi=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Q.H=BL,T=l(d,y)}while(wp);return T}function GH(){var o=Q.H,l=o.useState()[0];return l=typeof l.then=="function"?zy(l):l,o=o.useState()[0],(wi!==null?wi.memoizedState:null)!==o&&(At.flags|=1024),l}function kT(){var o=W1!==0;return W1=0,o}function IT(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function NT(o){if(H1){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}H1=!1}Fl=0,$r=wi=At=null,wp=!1,jy=W1=0,bp=null}function qn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?At.memoizedState=$r=o:$r=$r.next=o,$r}function vr(){if(wi===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=wi.next;var l=$r===null?At.memoizedState:$r.next;if(l!==null)$r=l,wi=o;else{if(o===null)throw At.alternate===null?Error(r(467)):Error(r(310));wi=o,o={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},$r===null?At.memoizedState=$r=o:$r=$r.next=o}return $r}function Z1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zy(o){var l=jy;return jy+=1,bp===null&&(bp=[]),o=JR(bp,o,l),l=At,($r===null?l.memoizedState:$r.next)===null&&(l=l.alternate,Q.H=l===null||l.memoizedState===null?FL:ZT),o}function Y1(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return zy(o);if(o.$$typeof===U)return hn(o)}throw Error(r(438,String(o)))}function DT(o){var l=null,d=At.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var y=At.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Z1(),At.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),y=0;y<o;y++)d[y]=q;return l.index++,d}function Bl(o,l){return typeof l=="function"?l(o):l}function J1(o){var l=vr();return jT(l,wi,o)}function jT(o,l,d){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var S=o.baseQueue,T=y.pending;if(T!==null){if(S!==null){var I=S.next;S.next=T.next,T.next=I}l.baseQueue=S=T,y.pending=null}if(T=o.baseState,S===null)o.memoizedState=T;else{l=S.next;var Z=I=null,te=null,_e=l,Ce=!1;do{var Le=_e.lane&-536870913;if(Le!==_e.lane?(Ht&Le)===Le:(Fl&Le)===Le){var xe=_e.revertLane;if(xe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Le===mp&&(Ce=!0);else if((Fl&xe)===xe){_e=_e.next,xe===mp&&(Ce=!0);continue}else Le={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},te===null?(Z=te=Le,I=T):te=te.next=Le,At.lanes|=xe,pc|=xe;Le=_e.action,fd&&d(T,Le),T=_e.hasEagerState?_e.eagerState:d(T,Le)}else xe={lane:Le,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},te===null?(Z=te=xe,I=T):te=te.next=xe,At.lanes|=Le,pc|=Le;_e=_e.next}while(_e!==null&&_e!==l);if(te===null?I=T:te.next=Z,!Zr(T,o.memoizedState)&&(Cr=!0,Ce&&(d=gp,d!==null)))throw d;o.memoizedState=T,o.baseState=I,o.baseQueue=te,y.lastRenderedState=T}return S===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function zT(o){var l=vr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var y=d.dispatch,S=d.pending,T=l.memoizedState;if(S!==null){d.pending=null;var I=S=S.next;do T=o(T,I.action),I=I.next;while(I!==S);Zr(T,l.memoizedState)||(Cr=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,y]}function aL(o,l,d){var y=At,S=vr(),T=Ut;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=l();var I=!Zr((wi||S).memoizedState,d);if(I&&(S.memoizedState=d,Cr=!0),S=S.queue,BT(cL.bind(null,y,S,o),[o]),S.getSnapshot!==l||I||$r!==null&&$r.memoizedState.tag&1){if(y.flags|=2048,Sp(9,{destroy:void 0},uL.bind(null,y,S,d,l),null),$i===null)throw Error(r(349));T||(Fl&127)!==0||lL(y,l,d)}return d}function lL(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=At.updateQueue,l===null?(l=Z1(),At.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function uL(o,l,d,y){l.value=d,l.getSnapshot=y,hL(l)&&dL(o)}function cL(o,l,d){return d(function(){hL(l)&&dL(o)})}function hL(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Zr(o,d)}catch{return!0}}function dL(o){var l=xo(o,2);l!==null&&_s(l,o,2)}function UT(o){var l=qn();if(typeof o=="function"){var d=o;if(o=d(),fd){as(!0);try{d()}finally{as(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:o},l}function fL(o,l,d,y){return o.baseState=d,jT(o,wi,typeof y=="function"?y:Bl)}function VH(o,l,d,y,S){if(Q1(o))throw Error(r(485));if(o=l.action,o!==null){var T={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){T.listeners.push(I)}};Q.T!==null?d(!0):T.isTransition=!1,y(T),d=l.pending,d===null?(T.next=l.pending=T,pL(l,T)):(T.next=d.next,l.pending=d.next=T)}}function pL(o,l){var d=l.action,y=l.payload,S=o.state;if(l.isTransition){var T=Q.T,I={};Q.T=I;try{var Z=d(S,y),te=Q.S;te!==null&&te(I,Z),mL(o,l,Z)}catch(_e){FT(o,l,_e)}finally{T!==null&&I.types!==null&&(T.types=I.types),Q.T=T}}else try{T=d(S,y),mL(o,l,T)}catch(_e){FT(o,l,_e)}}function mL(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(y){gL(o,l,y)},function(y){return FT(o,l,y)}):gL(o,l,d)}function gL(o,l,d){l.status="fulfilled",l.value=d,yL(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,pL(o,d)))}function FT(o,l,d){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=d,yL(l),l=l.next;while(l!==y)}o.action=null}function yL(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function vL(o,l){return l}function _L(o,l){if(Ut){var d=$i.formState;if(d!==null){e:{var y=At;if(Ut){if(Qt){t:{for(var S=Qt,T=ps;S.nodeType!==8;){if(!T){S=null;break t}if(S=Eo(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){Qt=Eo(S.nextSibling),y=S.data==="F!";break e}}Va(y)}y=!1}y&&(l=d[0])}}return d=qn(),d.memoizedState=d.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vL,lastRenderedState:l},d.queue=y,d=jL.bind(null,At,y),y.dispatch=d,y=UT(!1),T=WT.bind(null,At,!1,y.queue),y=qn(),S={state:l,dispatch:null,action:o,pending:null},y.queue=S,d=VH.bind(null,At,S,T,d),S.dispatch=d,y.memoizedState=o,[l,d,!1]}function wL(o){var l=vr();return bL(l,wi,o)}function bL(o,l,d){if(l=jT(o,l,vL)[0],o=J1(Bl)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=zy(l)}catch(I){throw I===yp?U1:I}else y=l;l=vr();var S=l.queue,T=S.dispatch;return d!==l.memoizedState&&(At.flags|=2048,Sp(9,{destroy:void 0},HH.bind(null,S,d),null)),[y,T,o]}function HH(o,l){o.action=l}function SL(o){var l=vr(),d=wi;if(d!==null)return bL(l,d,o);vr(),l=l.memoizedState,d=vr();var y=d.queue.dispatch;return d.memoizedState=o,[l,y,!1]}function Sp(o,l,d,y){return o={tag:o,create:d,deps:y,inst:l,next:null},l=At.updateQueue,l===null&&(l=Z1(),At.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(y=d.next,d.next=o,o.next=y,l.lastEffect=o),o}function xL(){return vr().memoizedState}function X1(o,l,d,y){var S=qn();At.flags|=o,S.memoizedState=Sp(1|l,{destroy:void 0},d,y===void 0?null:y)}function K1(o,l,d,y){var S=vr();y=y===void 0?null:y;var T=S.memoizedState.inst;wi!==null&&y!==null&&RT(y,wi.memoizedState.deps)?S.memoizedState=Sp(l,T,d,y):(At.flags|=o,S.memoizedState=Sp(1|l,T,d,y))}function TL(o,l){X1(8390656,8,o,l)}function BT(o,l){K1(2048,8,o,l)}function WH(o){At.flags|=4;var l=At.updateQueue;if(l===null)l=Z1(),At.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function ML(o){var l=vr().memoizedState;return WH({ref:l,nextImpl:o}),function(){if((si&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function EL(o,l){return K1(4,2,o,l)}function $L(o,l){return K1(4,4,o,l)}function CL(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function OL(o,l,d){d=d!=null?d.concat([o]):null,K1(4,4,CL.bind(null,l,o),d)}function qT(){}function PL(o,l){var d=vr();l=l===void 0?null:l;var y=d.memoizedState;return l!==null&&RT(l,y[1])?y[0]:(d.memoizedState=[o,l],o)}function AL(o,l){var d=vr();l=l===void 0?null:l;var y=d.memoizedState;if(l!==null&&RT(l,y[1]))return y[0];if(y=o(),fd){as(!0);try{o()}finally{as(!1)}}return d.memoizedState=[y,l],y}function GT(o,l,d){return d===void 0||(Fl&1073741824)!==0&&(Ht&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=Rk(),At.lanes|=o,pc|=o,d)}function RL(o,l,d,y){return Zr(d,l)?d:_p.current!==null?(o=GT(o,d,y),Zr(o,l)||(Cr=!0),o):(Fl&42)===0||(Fl&1073741824)!==0&&(Ht&261930)===0?(Cr=!0,o.memoizedState=d):(o=Rk(),At.lanes|=o,pc|=o,l)}function LL(o,l,d,y,S){var T=N.p;N.p=T!==0&&8>T?T:8;var I=Q.T,Z={};Q.T=Z,WT(o,!1,l,d);try{var te=S(),_e=Q.S;if(_e!==null&&_e(Z,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ce=BH(te,y);Uy(o,l,Ce,Hs(o))}else Uy(o,l,y,Hs(o))}catch(Le){Uy(o,l,{then:function(){},status:"rejected",reason:Le},Hs())}finally{N.p=T,I!==null&&Z.types!==null&&(I.types=Z.types),Q.T=I}}function ZH(){}function VT(o,l,d,y){if(o.tag!==5)throw Error(r(476));var S=kL(o).queue;LL(o,S,l,ge,d===null?ZH:function(){return IL(o),d(y)})}function kL(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:ge},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function IL(o){var l=kL(o);l.next===null&&(l=o.alternate.memoizedState),Uy(o,l.next.queue,{},Hs())}function HT(){return hn(rv)}function NL(){return vr().memoizedState}function DL(){return vr().memoizedState}function YH(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=Hs();o=lc(d);var y=uc(l,o,d);y!==null&&(_s(y,l,d),Iy(y,l,d)),l={cache:bT()},o.payload=l;return}l=l.return}}function JH(o,l,d){var y=Hs();d={lane:y,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Q1(o)?zL(l,d):(d=My(o,l,d,y),d!==null&&(_s(d,o,y),UL(d,l,y)))}function jL(o,l,d){var y=Hs();Uy(o,l,d,y)}function Uy(o,l,d,y){var S={lane:y,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Q1(o))zL(l,S);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var I=l.lastRenderedState,Z=T(I,d);if(S.hasEagerState=!0,S.eagerState=Z,Zr(Z,I))return qa(o,l,S,0),$i===null&&rd(),!1}catch{}finally{}if(d=My(o,l,S,y),d!==null)return _s(d,o,y),UL(d,l,y),!0}return!1}function WT(o,l,d,y){if(y={lane:2,revertLane:MM(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Q1(o)){if(l)throw Error(r(479))}else l=My(o,d,y,2),l!==null&&_s(l,o,2)}function Q1(o){var l=o.alternate;return o===At||l!==null&&l===At}function zL(o,l){wp=H1=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function UL(o,l,d){if((d&4194048)!==0){var y=l.lanes;y&=o.pendingLanes,d|=y,l.lanes=d,Te(o,d)}}var Fy={readContext:hn,use:Y1,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};Fy.useEffectEvent=lr;var FL={readContext:hn,use:Y1,useCallback:function(o,l){return qn().memoizedState=[o,l===void 0?null:l],o},useContext:hn,useEffect:TL,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,X1(4194308,4,CL.bind(null,l,o),d)},useLayoutEffect:function(o,l){return X1(4194308,4,o,l)},useInsertionEffect:function(o,l){X1(4,2,o,l)},useMemo:function(o,l){var d=qn();l=l===void 0?null:l;var y=o();if(fd){as(!0);try{o()}finally{as(!1)}}return d.memoizedState=[y,l],y},useReducer:function(o,l,d){var y=qn();if(d!==void 0){var S=d(l);if(fd){as(!0);try{d(l)}finally{as(!1)}}}else S=l;return y.memoizedState=y.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},y.queue=o,o=o.dispatch=JH.bind(null,At,o),[y.memoizedState,o]},useRef:function(o){var l=qn();return o={current:o},l.memoizedState=o},useState:function(o){o=UT(o);var l=o.queue,d=jL.bind(null,At,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:qT,useDeferredValue:function(o,l){var d=qn();return GT(d,o,l)},useTransition:function(){var o=UT(!1);return o=LL.bind(null,At,o.queue,!0,!1),qn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var y=At,S=qn();if(Ut){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),$i===null)throw Error(r(349));(Ht&127)!==0||lL(y,l,d)}S.memoizedState=d;var T={value:d,getSnapshot:l};return S.queue=T,TL(cL.bind(null,y,T,o),[o]),y.flags|=2048,Sp(9,{destroy:void 0},uL.bind(null,y,T,d,l),null),d},useId:function(){var o=qn(),l=$i.identifierPrefix;if(Ut){var d=Ue,y=Re;d=(y&~(1<<32-Wr(y)-1)).toString(32)+d,l="_"+l+"R_"+d,d=W1++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=qH++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:HT,useFormState:_L,useActionState:_L,useOptimistic:function(o){var l=qn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=WT.bind(null,At,!0,d),d.dispatch=l,[o,l]},useMemoCache:DT,useCacheRefresh:function(){return qn().memoizedState=YH.bind(null,At)},useEffectEvent:function(o){var l=qn(),d={impl:o};return l.memoizedState=d,function(){if((si&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},ZT={readContext:hn,use:Y1,useCallback:PL,useContext:hn,useEffect:BT,useImperativeHandle:OL,useInsertionEffect:EL,useLayoutEffect:$L,useMemo:AL,useReducer:J1,useRef:xL,useState:function(){return J1(Bl)},useDebugValue:qT,useDeferredValue:function(o,l){var d=vr();return RL(d,wi.memoizedState,o,l)},useTransition:function(){var o=J1(Bl)[0],l=vr().memoizedState;return[typeof o=="boolean"?o:zy(o),l]},useSyncExternalStore:aL,useId:NL,useHostTransitionStatus:HT,useFormState:wL,useActionState:wL,useOptimistic:function(o,l){var d=vr();return fL(d,wi,o,l)},useMemoCache:DT,useCacheRefresh:DL};ZT.useEffectEvent=ML;var BL={readContext:hn,use:Y1,useCallback:PL,useContext:hn,useEffect:BT,useImperativeHandle:OL,useInsertionEffect:EL,useLayoutEffect:$L,useMemo:AL,useReducer:zT,useRef:xL,useState:function(){return zT(Bl)},useDebugValue:qT,useDeferredValue:function(o,l){var d=vr();return wi===null?GT(d,o,l):RL(d,wi.memoizedState,o,l)},useTransition:function(){var o=zT(Bl)[0],l=vr().memoizedState;return[typeof o=="boolean"?o:zy(o),l]},useSyncExternalStore:aL,useId:NL,useHostTransitionStatus:HT,useFormState:SL,useActionState:SL,useOptimistic:function(o,l){var d=vr();return wi!==null?fL(d,wi,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:DT,useCacheRefresh:DL};BL.useEffectEvent=ML;function YT(o,l,d,y){l=o.memoizedState,d=d(y,l),d=d==null?l:w({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var JT={enqueueSetState:function(o,l,d){o=o._reactInternals;var y=Hs(),S=lc(y);S.payload=l,d!=null&&(S.callback=d),l=uc(o,S,y),l!==null&&(_s(l,o,y),Iy(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var y=Hs(),S=lc(y);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=uc(o,S,y),l!==null&&(_s(l,o,y),Iy(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Hs(),y=lc(d);y.tag=2,l!=null&&(y.callback=l),l=uc(o,y,d),l!==null&&(_s(l,o,d),Iy(l,o,d))}};function qL(o,l,d,y,S,T,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,I):l.prototype&&l.prototype.isPureReactComponent?!tc(d,y)||!tc(S,T):!0}function GL(o,l,d,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,y),l.state!==o&&JT.enqueueReplaceState(l,l.state,null)}function pd(o,l){var d=l;if("ref"in l){d={};for(var y in l)y!=="ref"&&(d[y]=l[y])}if(o=o.defaultProps){d===l&&(d=w({},d));for(var S in o)d[S]===void 0&&(d[S]=o[S])}return d}function VL(o){id(o)}function HL(o){console.error(o)}function WL(o){id(o)}function ew(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function ZL(o,l,d){try{var y=o.onCaughtError;y(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function XT(o,l,d){return d=lc(d),d.tag=3,d.payload={element:null},d.callback=function(){ew(o,l)},d}function YL(o){return o=lc(o),o.tag=3,o}function JL(o,l,d,y){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var T=y.value;o.payload=function(){return S(T)},o.callback=function(){ZL(l,d,y)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){ZL(l,d,y),typeof S!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var Z=y.stack;this.componentDidCatch(y.value,{componentStack:Z!==null?Z:""})})}function XH(o,l,d,y,S){if(d.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=d.alternate,l!==null&&pp(l,d,S,!0),d=Bs.current,d!==null){switch(d.tag){case 31:case 13:return Mo===null?dw():d.alternate===null&&ur===0&&(ur=3),d.flags&=-257,d.flags|=65536,d.lanes=S,y===F1?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([y]):l.add(y),SM(o,y,S)),!1;case 22:return d.flags|=65536,y===F1?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([y]):d.add(y)),SM(o,y,S)),!1}throw Error(r(435,d.tag))}return SM(o,y,S),dw(),!1}if(Ut)return l=Bs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,y!==fp&&(o=Error(r(422),{cause:y}),od(g(o,d)))):(y!==fp&&(l=Error(r(423),{cause:y}),od(g(l,d))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,y=g(y,d),S=XT(o.stateNode,y,S),$T(o,S),ur!==4&&(ur=2)),!1;var T=Error(r(520),{cause:y});if(T=g(T,d),Yy===null?Yy=[T]:Yy.push(T),ur!==4&&(ur=2),l===null)return!0;y=g(y,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=S&-S,d.lanes|=o,o=XT(d.stateNode,y,o),$T(d,o),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(mc===null||!mc.has(T))))return d.flags|=65536,S&=-S,d.lanes|=S,S=YL(S),JL(S,o,d,y),$T(d,S),!1}d=d.return}while(d!==null);return!1}var KT=Error(r(461)),Cr=!1;function dn(o,l,d,y){l.child=o===null?eL(l,null,d,y):dd(l,o.child,d,y)}function XL(o,l,d,y,S){d=d.render;var T=l.ref;if("ref"in y){var I={};for(var Z in y)Z!=="ref"&&(I[Z]=y[Z])}else I=y;return ld(l),y=LT(o,l,d,I,T,S),Z=kT(),o!==null&&!Cr?(IT(o,l,S),ql(o,l,S)):(Ut&&Z&&zr(l),l.flags|=1,dn(o,l,y,S),l.child)}function KL(o,l,d,y,S){if(o===null){var T=d.type;return typeof T=="function"&&!hp(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,QL(o,l,T,y,S)):(o=sd(d.type,null,y,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,!oM(o,S)){var I=T.memoizedProps;if(d=d.compare,d=d!==null?d:tc,d(I,y)&&o.ref===l.ref)return ql(o,l,S)}return l.flags|=1,o=To(T,y),o.ref=l.ref,o.return=l,l.child=o}function QL(o,l,d,y,S){if(o!==null){var T=o.memoizedProps;if(tc(T,y)&&o.ref===l.ref)if(Cr=!1,l.pendingProps=y=T,oM(o,S))(o.flags&131072)!==0&&(Cr=!0);else return l.lanes=o.lanes,ql(o,l,S)}return QT(o,l,d,y,S)}function ek(o,l,d,y){var S=y.children,T=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,o!==null){for(y=l.child=o.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~T}else y=0,l.child=null;return tk(o,l,T,d,y)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&z1(l,T!==null?T.cachePool:null),T!==null?rL(l,T):OT(),nL(l);else return y=l.lanes=536870912,tk(o,l,T!==null?T.baseLanes|d:d,d,y)}else T!==null?(z1(l,T.cachePool),rL(l,T),hc(),l.memoizedState=null):(o!==null&&z1(l,null),OT(),hc());return dn(o,l,S,d),l.child}function By(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function tk(o,l,d,y,S){var T=xT();return T=T===null?null:{parent:Er._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},o!==null&&z1(l,null),OT(),nL(l),o!==null&&pp(o,l,y,!0),l.childLanes=S,null}function tw(o,l){return l=rw({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function ik(o,l,d){return dd(l,o.child,null,d),o=tw(l,l.pendingProps),o.flags|=2,qs(l),l.memoizedState=null,o}function KH(o,l,d){var y=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(Ut){if(y.mode==="hidden")return o=tw(l,y),l.lanes=536870912,By(null,o);if(AT(l),(o=Qt)?(o=pI(o,ps),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Se!==null?{id:Re,overflow:Ue}:null,retryLane:536870912,hydrationErrors:null},d=$y(o),d.return=l,l.child=d,Kt=l,Qt=null)):o=null,o===null)throw Va(l);return l.lanes=536870912,null}return tw(l,y)}var T=o.memoizedState;if(T!==null){var I=T.dehydrated;if(AT(l),S)if(l.flags&256)l.flags&=-257,l=ik(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Cr||pp(o,l,d,!1),S=(d&o.childLanes)!==0,Cr||S){if(y=$i,y!==null&&(I=De(y,d),I!==0&&I!==T.retryLane))throw T.retryLane=I,xo(o,I),_s(y,o,I),KT;dw(),l=ik(o,l,d)}else o=T.treeContext,Qt=Eo(I.nextSibling),Kt=l,Ut=!0,Ga=null,ps=!1,o!==null&&Bn(l,o),l=tw(l,y),l.flags|=4096;return l}return o=To(o.child,{mode:y.mode,children:y.children}),o.ref=l.ref,l.child=o,o.return=l,o}function iw(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function QT(o,l,d,y,S){return ld(l),d=LT(o,l,d,y,void 0,S),y=kT(),o!==null&&!Cr?(IT(o,l,S),ql(o,l,S)):(Ut&&y&&zr(l),l.flags|=1,dn(o,l,d,S),l.child)}function rk(o,l,d,y,S,T){return ld(l),l.updateQueue=null,d=oL(l,y,d,S),sL(o),y=kT(),o!==null&&!Cr?(IT(o,l,T),ql(o,l,T)):(Ut&&y&&zr(l),l.flags|=1,dn(o,l,d,T),l.child)}function nk(o,l,d,y,S){if(ld(l),l.stateNode===null){var T=Dl,I=d.contextType;typeof I=="object"&&I!==null&&(T=hn(I)),T=new d(y,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=JT,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=y,T.state=l.memoizedState,T.refs={},MT(l),I=d.contextType,T.context=typeof I=="object"&&I!==null?hn(I):Dl,T.state=l.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(YT(l,d,I,y),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(I=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),I!==T.state&&JT.enqueueReplaceState(T,T.state,null),Dy(l,y,T,S),Ny(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(o===null){T=l.stateNode;var Z=l.memoizedProps,te=pd(d,Z);T.props=te;var _e=T.context,Ce=d.contextType;I=Dl,typeof Ce=="object"&&Ce!==null&&(I=hn(Ce));var Le=d.getDerivedStateFromProps;Ce=typeof Le=="function"||typeof T.getSnapshotBeforeUpdate=="function",Z=l.pendingProps!==Z,Ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(Z||_e!==I)&&GL(l,T,y,I),ac=!1;var xe=l.memoizedState;T.state=xe,Dy(l,y,T,S),Ny(),_e=l.memoizedState,Z||xe!==_e||ac?(typeof Le=="function"&&(YT(l,d,Le,y),_e=l.memoizedState),(te=ac||qL(l,d,te,y,xe,_e,I))?(Ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=_e),T.props=y,T.state=_e,T.context=I,y=te):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{T=l.stateNode,ET(o,l),I=l.memoizedProps,Ce=pd(d,I),T.props=Ce,Le=l.pendingProps,xe=T.context,_e=d.contextType,te=Dl,typeof _e=="object"&&_e!==null&&(te=hn(_e)),Z=d.getDerivedStateFromProps,(_e=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==Le||xe!==te)&&GL(l,T,y,te),ac=!1,xe=l.memoizedState,T.state=xe,Dy(l,y,T,S),Ny();var Me=l.memoizedState;I!==Le||xe!==Me||ac||o!==null&&o.dependencies!==null&&D1(o.dependencies)?(typeof Z=="function"&&(YT(l,d,Z,y),Me=l.memoizedState),(Ce=ac||qL(l,d,Ce,y,xe,Me,te)||o!==null&&o.dependencies!==null&&D1(o.dependencies))?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,Me,te),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,Me,te)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||I===o.memoizedProps&&xe===o.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&xe===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Me),T.props=y,T.state=Me,T.context=te,y=Ce):(typeof T.componentDidUpdate!="function"||I===o.memoizedProps&&xe===o.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&xe===o.memoizedState||(l.flags|=1024),y=!1)}return T=y,iw(o,l),y=(l.flags&128)!==0,T||y?(T=l.stateNode,d=y&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,o!==null&&y?(l.child=dd(l,o.child,null,S),l.child=dd(l,null,d,S)):dn(o,l,d,S),l.memoizedState=T.state,o=l.child):o=ql(o,l,S),o}function sk(o,l,d,y){return zl(),l.flags|=256,dn(o,l,d,y),l.child}var eM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tM(o){return{baseLanes:o,cachePool:ZR()}}function iM(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Vs),o}function ok(o,l,d){var y=l.pendingProps,S=!1,T=(l.flags&128)!==0,I;if((I=T)||(I=o!==null&&o.memoizedState===null?!1:(yr.current&2)!==0),I&&(S=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,o===null){if(Ut){if(S?cc(l):hc(),(o=Qt)?(o=pI(o,ps),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Se!==null?{id:Re,overflow:Ue}:null,retryLane:536870912,hydrationErrors:null},d=$y(o),d.return=l,l.child=d,Kt=l,Qt=null)):o=null,o===null)throw Va(l);return jM(o)?l.lanes=32:l.lanes=536870912,null}var Z=y.children;return y=y.fallback,S?(hc(),S=l.mode,Z=rw({mode:"hidden",children:Z},S),y=jl(y,S,d,null),Z.return=l,y.return=l,Z.sibling=y,l.child=Z,y=l.child,y.memoizedState=tM(d),y.childLanes=iM(o,I,d),l.memoizedState=eM,By(null,y)):(cc(l),rM(l,Z))}var te=o.memoizedState;if(te!==null&&(Z=te.dehydrated,Z!==null)){if(T)l.flags&256?(cc(l),l.flags&=-257,l=nM(o,l,d)):l.memoizedState!==null?(hc(),l.child=o.child,l.flags|=128,l=null):(hc(),Z=y.fallback,S=l.mode,y=rw({mode:"visible",children:y.children},S),Z=jl(Z,S,d,null),Z.flags|=2,y.return=l,Z.return=l,y.sibling=Z,l.child=y,dd(l,o.child,null,d),y=l.child,y.memoizedState=tM(d),y.childLanes=iM(o,I,d),l.memoizedState=eM,l=By(null,y));else if(cc(l),jM(Z)){if(I=Z.nextSibling&&Z.nextSibling.dataset,I)var _e=I.dgst;I=_e,y=Error(r(419)),y.stack="",y.digest=I,od({value:y,source:null,stack:null}),l=nM(o,l,d)}else if(Cr||pp(o,l,d,!1),I=(d&o.childLanes)!==0,Cr||I){if(I=$i,I!==null&&(y=De(I,d),y!==0&&y!==te.retryLane))throw te.retryLane=y,xo(o,y),_s(I,o,y),KT;DM(Z)||dw(),l=nM(o,l,d)}else DM(Z)?(l.flags|=192,l.child=o.child,l=null):(o=te.treeContext,Qt=Eo(Z.nextSibling),Kt=l,Ut=!0,Ga=null,ps=!1,o!==null&&Bn(l,o),l=rM(l,y.children),l.flags|=4096);return l}return S?(hc(),Z=y.fallback,S=l.mode,te=o.child,_e=te.sibling,y=To(te,{mode:"hidden",children:y.children}),y.subtreeFlags=te.subtreeFlags&65011712,_e!==null?Z=To(_e,Z):(Z=jl(Z,S,d,null),Z.flags|=2),Z.return=l,y.return=l,y.sibling=Z,l.child=y,By(null,y),y=l.child,Z=o.child.memoizedState,Z===null?Z=tM(d):(S=Z.cachePool,S!==null?(te=Er._currentValue,S=S.parent!==te?{parent:te,pool:te}:S):S=ZR(),Z={baseLanes:Z.baseLanes|d,cachePool:S}),y.memoizedState=Z,y.childLanes=iM(o,I,d),l.memoizedState=eM,By(o.child,y)):(cc(l),d=o.child,o=d.sibling,d=To(d,{mode:"visible",children:y.children}),d.return=l,d.sibling=null,o!==null&&(I=l.deletions,I===null?(l.deletions=[o],l.flags|=16):I.push(o)),l.child=d,l.memoizedState=null,d)}function rM(o,l){return l=rw({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function rw(o,l){return o=_n(22,o,null,l),o.lanes=0,o}function nM(o,l,d){return dd(l,o.child,null,d),o=rM(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function ak(o,l,d){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),_T(o.return,l,d)}function sM(o,l,d,y,S,T){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:S,treeForkCount:T}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=d,I.tailMode=S,I.treeForkCount=T)}function lk(o,l,d){var y=l.pendingProps,S=y.revealOrder,T=y.tail;y=y.children;var I=yr.current,Z=(I&2)!==0;if(Z?(I=I&1|2,l.flags|=128):I&=1,he(yr,I),dn(o,l,y,d),y=Ut?W:0,!Z&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ak(o,d,l);else if(o.tag===19)ak(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(d=l.child,S=null;d!==null;)o=d.alternate,o!==null&&V1(o)===null&&(S=d),d=d.sibling;d=S,d===null?(S=l.child,l.child=null):(S=d.sibling,d.sibling=null),sM(l,!1,S,d,T,y);break;case"backwards":case"unstable_legacy-backwards":for(d=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&V1(o)===null){l.child=S;break}o=S.sibling,S.sibling=d,d=S,S=o}sM(l,!0,d,null,T,y);break;case"together":sM(l,!1,null,null,void 0,y);break;default:l.memoizedState=null}return l.child}function ql(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),pc|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(pp(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=To(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=To(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function oM(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&D1(o)))}function QH(o,l,d){switch(l.tag){case 3:rt(l,l.stateNode.containerInfo),oc(l,Er,o.memoizedState.cache),zl();break;case 27:case 5:bt(l);break;case 4:rt(l,l.stateNode.containerInfo);break;case 10:oc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,AT(l),null;break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(cc(l),l.flags|=128,null):(d&l.child.childLanes)!==0?ok(o,l,d):(cc(l),o=ql(o,l,d),o!==null?o.sibling:null);cc(l);break;case 19:var S=(o.flags&128)!==0;if(y=(d&l.childLanes)!==0,y||(pp(o,l,d,!1),y=(d&l.childLanes)!==0),S){if(y)return lk(o,l,d);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),he(yr,yr.current),y)break;return null;case 22:return l.lanes=0,ek(o,l,d,l.pendingProps);case 24:oc(l,Er,o.memoizedState.cache)}return ql(o,l,d)}function uk(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Cr=!0;else{if(!oM(o,d)&&(l.flags&128)===0)return Cr=!1,QH(o,l,d);Cr=(o.flags&131072)!==0}else Cr=!1,Ut&&(l.flags&1048576)!==0&&Lt(l,W,l.index);switch(l.lanes=0,l.tag){case 16:e:{var y=l.pendingProps;if(o=cd(l.elementType),l.type=o,typeof o=="function")hp(o)?(y=pd(o,y),l.tag=1,l=nk(null,l,o,y,d)):(l.tag=0,l=QT(null,l,o,y,d));else{if(o!=null){var S=o.$$typeof;if(S===C){l.tag=11,l=XL(null,l,o,y,d);break e}else if(S===k){l.tag=14,l=KL(null,l,o,y,d);break e}}throw l=se(o)||o,Error(r(306,l,""))}}return l;case 0:return QT(o,l,l.type,l.pendingProps,d);case 1:return y=l.type,S=pd(y,l.pendingProps),nk(o,l,y,S,d);case 3:e:{if(rt(l,l.stateNode.containerInfo),o===null)throw Error(r(387));y=l.pendingProps;var T=l.memoizedState;S=T.element,ET(o,l),Dy(l,y,null,d);var I=l.memoizedState;if(y=I.cache,oc(l,Er,y),y!==T.cache&&wT(l,[Er],d,!0),Ny(),y=I.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=sk(o,l,y,d);break e}else if(y!==S){S=g(Error(r(424)),l),od(S),l=sk(o,l,y,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Qt=Eo(o.firstChild),Kt=l,Ut=!0,Ga=null,ps=!0,d=eL(l,null,y,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(zl(),y===S){l=ql(o,l,d);break e}dn(o,l,y,d)}l=l.child}return l;case 26:return iw(o,l),o===null?(d=wI(l.type,null,l.pendingProps,null))?l.memoizedState=d:Ut||(d=l.type,o=l.pendingProps,y=_w(ye.current).createElement(d),y[Ze]=l,y[Ge]=o,fn(y,d,o),Fi(y),l.stateNode=y):l.memoizedState=wI(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return bt(l),o===null&&Ut&&(y=l.stateNode=yI(l.type,l.pendingProps,ye.current),Kt=l,ps=!0,S=Qt,_c(l.type)?(zM=S,Qt=Eo(y.firstChild)):Qt=S),dn(o,l,l.pendingProps.children,d),iw(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Ut&&((S=y=Qt)&&(y=OW(y,l.type,l.pendingProps,ps),y!==null?(l.stateNode=y,Kt=l,Qt=Eo(y.firstChild),ps=!1,S=!0):S=!1),S||Va(l)),bt(l),S=l.type,T=l.pendingProps,I=o!==null?o.memoizedProps:null,y=T.children,kM(S,T)?y=null:I!==null&&kM(S,I)&&(l.flags|=32),l.memoizedState!==null&&(S=LT(o,l,GH,null,null,d),rv._currentValue=S),iw(o,l),dn(o,l,y,d),l.child;case 6:return o===null&&Ut&&((o=d=Qt)&&(d=PW(d,l.pendingProps,ps),d!==null?(l.stateNode=d,Kt=l,Qt=null,o=!0):o=!1),o||Va(l)),null;case 13:return ok(o,l,d);case 4:return rt(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=dd(l,null,y,d):dn(o,l,y,d),l.child;case 11:return XL(o,l,l.type,l.pendingProps,d);case 7:return dn(o,l,l.pendingProps,d),l.child;case 8:return dn(o,l,l.pendingProps.children,d),l.child;case 12:return dn(o,l,l.pendingProps.children,d),l.child;case 10:return y=l.pendingProps,oc(l,l.type,y.value),dn(o,l,y.children,d),l.child;case 9:return S=l.type._context,y=l.pendingProps.children,ld(l),S=hn(S),y=y(S),l.flags|=1,dn(o,l,y,d),l.child;case 14:return KL(o,l,l.type,l.pendingProps,d);case 15:return QL(o,l,l.type,l.pendingProps,d);case 19:return lk(o,l,d);case 31:return KH(o,l,d);case 22:return ek(o,l,d,l.pendingProps);case 24:return ld(l),y=hn(Er),o===null?(S=xT(),S===null&&(S=$i,T=bT(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=d),S=T),l.memoizedState={parent:y,cache:S},MT(l),oc(l,Er,S)):((o.lanes&d)!==0&&(ET(o,l),Dy(l,null,null,d),Ny()),S=o.memoizedState,T=l.memoizedState,S.parent!==y?(S={parent:y,cache:y},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),oc(l,Er,y)):(y=T.cache,oc(l,Er,y),y!==S.cache&&wT(l,[Er],d,!0))),dn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Gl(o){o.flags|=4}function aM(o,l,d,y,S){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(Nk())o.flags|=8192;else throw hd=F1,TT}else o.flags&=-16777217}function ck(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!MI(l))if(Nk())o.flags|=8192;else throw hd=F1,TT}function nw(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Rl():536870912,o.lanes|=l,Ep|=l)}function qy(o,l){if(!Ut)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ii(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,y=0;if(l)for(var S=o.child;S!==null;)d|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)d|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=y,o.childLanes=d,l}function eW(o,l,d){var y=l.pendingProps;switch(ar(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(l),null;case 1:return Ii(l),null;case 3:return d=l.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),Ul(Er),nt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(sa(l)?Gl(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Py())),Ii(l),null;case 26:var S=l.type,T=l.memoizedState;return o===null?(Gl(l),T!==null?(Ii(l),ck(l,T)):(Ii(l),aM(l,S,null,y,d))):T?T!==o.memoizedState?(Gl(l),Ii(l),ck(l,T)):(Ii(l),l.flags&=-16777217):(o=o.memoizedProps,o!==y&&Gl(l),Ii(l),aM(l,S,o,y,d)),null;case 27:if(ft(l),d=ye.current,S=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&Gl(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Ii(l),null}o=ce.current,sa(l)?Oy(l):(o=yI(S,y,d),l.stateNode=o,Gl(l))}return Ii(l),null;case 5:if(ft(l),S=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&Gl(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Ii(l),null}if(T=ce.current,sa(l))Oy(l);else{var I=_w(ye.current);switch(T){case 1:T=I.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:T=I.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":T=I.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":T=I.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":T=I.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?I.createElement("select",{is:y.is}):I.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?I.createElement(S,{is:y.is}):I.createElement(S)}}T[Ze]=l,T[Ge]=y;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)T.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=T;e:switch(fn(T,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Gl(l)}}return Ii(l),aM(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==y&&Gl(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(o=ye.current,sa(l)){if(o=l.stateNode,d=l.memoizedProps,y=null,S=Kt,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}o[Ze]=l,o=!!(o.nodeValue===d||y!==null&&y.suppressHydrationWarning===!0||oI(o.nodeValue,d)),o||Va(l,!0)}else o=_w(o).createTextNode(y),o[Ze]=l,l.stateNode=o}return Ii(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(y=sa(l),d!==null){if(o===null){if(!y)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Ze]=l}else zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ii(l),o=!1}else d=Py(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(qs(l),l):(qs(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Ii(l),null;case 13:if(y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=sa(l),y!==null&&y.dehydrated!==null){if(o===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Ze]=l}else zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ii(l),S=!1}else S=Py(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(qs(l),l):(qs(l),null)}return qs(l),(l.flags&128)!==0?(l.lanes=d,l):(d=y!==null,o=o!==null&&o.memoizedState!==null,d&&(y=l.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==S&&(y.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),nw(l,l.updateQueue),Ii(l),null);case 4:return nt(),o===null&&OM(l.stateNode.containerInfo),Ii(l),null;case 10:return Ul(l.type),Ii(l),null;case 19:if(J(yr),y=l.memoizedState,y===null)return Ii(l),null;if(S=(l.flags&128)!==0,T=y.rendering,T===null)if(S)qy(y,!1);else{if(ur!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(T=V1(o),T!==null){for(l.flags|=128,qy(y,!1),o=T.updateQueue,l.updateQueue=o,nw(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)Ey(d,o),d=d.sibling;return he(yr,yr.current&1|2),Ut&&at(l,y.treeForkCount),l.child}o=o.sibling}y.tail!==null&&zi()>uw&&(l.flags|=128,S=!0,qy(y,!1),l.lanes=4194304)}else{if(!S)if(o=V1(T),o!==null){if(l.flags|=128,S=!0,o=o.updateQueue,l.updateQueue=o,nw(l,o),qy(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ut)return Ii(l),null}else 2*zi()-y.renderingStartTime>uw&&d!==536870912&&(l.flags|=128,S=!0,qy(y,!1),l.lanes=4194304);y.isBackwards?(T.sibling=l.child,l.child=T):(o=y.last,o!==null?o.sibling=T:l.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=zi(),o.sibling=null,d=yr.current,he(yr,S?d&1|2:d&1),Ut&&at(l,y.treeForkCount),o):(Ii(l),null);case 22:case 23:return qs(l),PT(),y=l.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(d&536870912)!==0&&(l.flags&128)===0&&(Ii(l),l.subtreeFlags&6&&(l.flags|=8192)):Ii(l),d=l.updateQueue,d!==null&&nw(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==d&&(l.flags|=2048),o!==null&&J(ud),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ul(Er),Ii(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function tW(o,l){switch(ar(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ul(Er),nt(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return ft(l),null;case 31:if(l.memoizedState!==null){if(qs(l),l.alternate===null)throw Error(r(340));zl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(qs(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));zl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return J(yr),null;case 4:return nt(),null;case 10:return Ul(l.type),null;case 22:case 23:return qs(l),PT(),o!==null&&J(ud),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ul(Er),null;case 25:return null;default:return null}}function hk(o,l){switch(ar(l),l.tag){case 3:Ul(Er),nt();break;case 26:case 27:case 5:ft(l);break;case 4:nt();break;case 31:l.memoizedState!==null&&qs(l);break;case 13:qs(l);break;case 19:J(yr);break;case 10:Ul(l.type);break;case 22:case 23:qs(l),PT(),o!==null&&J(ud);break;case 24:Ul(Er)}}function Gy(o,l){try{var d=l.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var S=y.next;d=S;do{if((d.tag&o)===o){y=void 0;var T=d.create,I=d.inst;y=T(),I.destroy=y}d=d.next}while(d!==S)}}catch(Z){gi(l,l.return,Z)}}function dc(o,l,d){try{var y=l.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var T=S.next;y=T;do{if((y.tag&o)===o){var I=y.inst,Z=I.destroy;if(Z!==void 0){I.destroy=void 0,S=l;var te=d,_e=Z;try{_e()}catch(Ce){gi(S,te,Ce)}}}y=y.next}while(y!==T)}}catch(Ce){gi(l,l.return,Ce)}}function dk(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{iL(l,d)}catch(y){gi(o,o.return,y)}}}function fk(o,l,d){d.props=pd(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(y){gi(o,l,y)}}function Vy(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof d=="function"?o.refCleanup=d(y):d.current=y}}catch(S){gi(o,l,S)}}function Wa(o,l){var d=o.ref,y=o.refCleanup;if(d!==null)if(typeof y=="function")try{y()}catch(S){gi(o,l,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){gi(o,l,S)}else d.current=null}function pk(o){var l=o.type,d=o.memoizedProps,y=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&y.focus();break e;case"img":d.src?y.src=d.src:d.srcSet&&(y.srcset=d.srcSet)}}catch(S){gi(o,o.return,S)}}function lM(o,l,d){try{var y=o.stateNode;xW(y,o.type,d,l),y[Ge]=l}catch(S){gi(o,o.return,S)}}function mk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&_c(o.type)||o.tag===4}function uM(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&_c(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cM(o,l,d){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=cs));else if(y!==4&&(y===27&&_c(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(cM(o,l,d),o=o.sibling;o!==null;)cM(o,l,d),o=o.sibling}function sw(o,l,d){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(y!==4&&(y===27&&_c(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(sw(o,l,d),o=o.sibling;o!==null;)sw(o,l,d),o=o.sibling}function gk(o){var l=o.stateNode,d=o.memoizedProps;try{for(var y=o.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);fn(l,y,d),l[Ze]=o,l[Ge]=d}catch(T){gi(o,o.return,T)}}var Vl=!1,Or=!1,hM=!1,yk=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function iW(o,l){if(o=o.containerInfo,RM=Ew,o=Kh(o),za(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var S=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var I=0,Z=-1,te=-1,_e=0,Ce=0,Le=o,xe=null;t:for(;;){for(var Me;Le!==d||S!==0&&Le.nodeType!==3||(Z=I+S),Le!==T||y!==0&&Le.nodeType!==3||(te=I+y),Le.nodeType===3&&(I+=Le.nodeValue.length),(Me=Le.firstChild)!==null;)xe=Le,Le=Me;for(;;){if(Le===o)break t;if(xe===d&&++_e===S&&(Z=I),xe===T&&++Ce===y&&(te=I),(Me=Le.nextSibling)!==null)break;Le=xe,xe=Le.parentNode}Le=Me}d=Z===-1||te===-1?null:{start:Z,end:te}}else d=null}d=d||{start:0,end:0}}else d=null;for(LM={focusedElem:o,selectionRange:d},Ew=!1,Jr=l;Jr!==null;)if(l=Jr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Jr=o;else for(;Jr!==null;){switch(l=Jr,T=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)S=o[d],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,d=l,S=T.memoizedProps,T=T.memoizedState,y=d.stateNode;try{var Qe=pd(d.type,S);o=y.getSnapshotBeforeUpdate(Qe,T),y.__reactInternalSnapshotBeforeUpdate=o}catch(mt){gi(d,d.return,mt)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)NM(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":NM(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Jr=o;break}Jr=l.return}}function vk(o,l,d){var y=d.flags;switch(d.tag){case 0:case 11:case 15:Wl(o,d),y&4&&Gy(5,d);break;case 1:if(Wl(o,d),y&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(I){gi(d,d.return,I)}else{var S=pd(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(S,l,o.__reactInternalSnapshotBeforeUpdate)}catch(I){gi(d,d.return,I)}}y&64&&dk(d),y&512&&Vy(d,d.return);break;case 3:if(Wl(o,d),y&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{iL(o,l)}catch(I){gi(d,d.return,I)}}break;case 27:l===null&&y&4&&gk(d);case 26:case 5:Wl(o,d),l===null&&y&4&&pk(d),y&512&&Vy(d,d.return);break;case 12:Wl(o,d);break;case 31:Wl(o,d),y&4&&bk(o,d);break;case 13:Wl(o,d),y&4&&Sk(o,d),y&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=hW.bind(null,d),AW(o,d))));break;case 22:if(y=d.memoizedState!==null||Vl,!y){l=l!==null&&l.memoizedState!==null||Or,S=Vl;var T=Or;Vl=y,(Or=l)&&!T?Zl(o,d,(d.subtreeFlags&8772)!==0):Wl(o,d),Vl=S,Or=T}break;case 30:break;default:Wl(o,d)}}function _k(o){var l=o.alternate;l!==null&&(o.alternate=null,_k(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ni(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qi=null,ms=!1;function Hl(o,l,d){for(d=d.child;d!==null;)wk(o,l,d),d=d.sibling}function wk(o,l,d){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Hr,d)}catch{}switch(d.tag){case 26:Or||Wa(d,l),Hl(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Or||Wa(d,l);var y=qi,S=ms;_c(d.type)&&(qi=d.stateNode,ms=!1),Hl(o,l,d),ev(d.stateNode),qi=y,ms=S;break;case 5:Or||Wa(d,l);case 6:if(y=qi,S=ms,qi=null,Hl(o,l,d),qi=y,ms=S,qi!==null)if(ms)try{(qi.nodeType===9?qi.body:qi.nodeName==="HTML"?qi.ownerDocument.body:qi).removeChild(d.stateNode)}catch(T){gi(d,l,T)}else try{qi.removeChild(d.stateNode)}catch(T){gi(d,l,T)}break;case 18:qi!==null&&(ms?(o=qi,dI(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),kp(o)):dI(qi,d.stateNode));break;case 4:y=qi,S=ms,qi=d.stateNode.containerInfo,ms=!0,Hl(o,l,d),qi=y,ms=S;break;case 0:case 11:case 14:case 15:dc(2,d,l),Or||dc(4,d,l),Hl(o,l,d);break;case 1:Or||(Wa(d,l),y=d.stateNode,typeof y.componentWillUnmount=="function"&&fk(d,l,y)),Hl(o,l,d);break;case 21:Hl(o,l,d);break;case 22:Or=(y=Or)||d.memoizedState!==null,Hl(o,l,d),Or=y;break;default:Hl(o,l,d)}}function bk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{kp(o)}catch(d){gi(l,l.return,d)}}}function Sk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{kp(o)}catch(d){gi(l,l.return,d)}}function rW(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new yk),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new yk),l;default:throw Error(r(435,o.tag))}}function ow(o,l){var d=rW(o);l.forEach(function(y){if(!d.has(y)){d.add(y);var S=dW.bind(null,o,y);y.then(S,S)}})}function gs(o,l){var d=l.deletions;if(d!==null)for(var y=0;y<d.length;y++){var S=d[y],T=o,I=l,Z=I;e:for(;Z!==null;){switch(Z.tag){case 27:if(_c(Z.type)){qi=Z.stateNode,ms=!1;break e}break;case 5:qi=Z.stateNode,ms=!1;break e;case 3:case 4:qi=Z.stateNode.containerInfo,ms=!0;break e}Z=Z.return}if(qi===null)throw Error(r(160));wk(T,I,S),qi=null,ms=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)xk(l,o),l=l.sibling}var aa=null;function xk(o,l){var d=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gs(l,o),ys(o),y&4&&(dc(3,o,o.return),Gy(3,o),dc(5,o,o.return));break;case 1:gs(l,o),ys(o),y&512&&(Or||d===null||Wa(d,d.return)),y&64&&Vl&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?y:d.concat(y))));break;case 26:var S=aa;if(gs(l,o),ys(o),y&512&&(Or||d===null||Wa(d,d.return)),y&4){var T=d!==null?d.memoizedState:null;if(y=o.memoizedState,d===null)if(y===null)if(o.stateNode===null){e:{y=o.type,d=o.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":T=S.getElementsByTagName("title")[0],(!T||T[ri]||T[Ze]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(y),S.head.insertBefore(T,S.querySelector("head > title"))),fn(T,y,d),T[Ze]=o,Fi(T),y=T;break e;case"link":var I=xI("link","href",S).get(y+(d.href||""));if(I){for(var Z=0;Z<I.length;Z++)if(T=I[Z],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(Z,1);break t}}T=S.createElement(y),fn(T,y,d),S.head.appendChild(T);break;case"meta":if(I=xI("meta","content",S).get(y+(d.content||""))){for(Z=0;Z<I.length;Z++)if(T=I[Z],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(Z,1);break t}}T=S.createElement(y),fn(T,y,d),S.head.appendChild(T);break;default:throw Error(r(468,y))}T[Ze]=o,Fi(T),y=T}o.stateNode=y}else TI(S,o.type,o.stateNode);else o.stateNode=SI(S,y,o.memoizedProps);else T!==y?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,y===null?TI(S,o.type,o.stateNode):SI(S,y,o.memoizedProps)):y===null&&o.stateNode!==null&&lM(o,o.memoizedProps,d.memoizedProps)}break;case 27:gs(l,o),ys(o),y&512&&(Or||d===null||Wa(d,d.return)),d!==null&&y&4&&lM(o,o.memoizedProps,d.memoizedProps);break;case 5:if(gs(l,o),ys(o),y&512&&(Or||d===null||Wa(d,d.return)),o.flags&32){S=o.stateNode;try{yo(S,"")}catch(Qe){gi(o,o.return,Qe)}}y&4&&o.stateNode!=null&&(S=o.memoizedProps,lM(o,S,d!==null?d.memoizedProps:S)),y&1024&&(hM=!0);break;case 6:if(gs(l,o),ys(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,d=o.stateNode;try{d.nodeValue=y}catch(Qe){gi(o,o.return,Qe)}}break;case 3:if(Sw=null,S=aa,aa=ww(l.containerInfo),gs(l,o),aa=S,ys(o),y&4&&d!==null&&d.memoizedState.isDehydrated)try{kp(l.containerInfo)}catch(Qe){gi(o,o.return,Qe)}hM&&(hM=!1,Tk(o));break;case 4:y=aa,aa=ww(o.stateNode.containerInfo),gs(l,o),ys(o),aa=y;break;case 12:gs(l,o),ys(o);break;case 31:gs(l,o),ys(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ow(o,y)));break;case 13:gs(l,o),ys(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(lw=zi()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ow(o,y)));break;case 22:S=o.memoizedState!==null;var te=d!==null&&d.memoizedState!==null,_e=Vl,Ce=Or;if(Vl=_e||S,Or=Ce||te,gs(l,o),Or=Ce,Vl=_e,ys(o),y&8192)e:for(l=o.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(d===null||te||Vl||Or||md(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){te=d=l;try{if(T=te.stateNode,S)I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{Z=te.stateNode;var Le=te.memoizedProps.style,xe=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;Z.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(Qe){gi(te,te.return,Qe)}}}else if(l.tag===6){if(d===null){te=l;try{te.stateNode.nodeValue=S?"":te.memoizedProps}catch(Qe){gi(te,te.return,Qe)}}}else if(l.tag===18){if(d===null){te=l;try{var Me=te.stateNode;S?fI(Me,!0):fI(te.stateNode,!1)}catch(Qe){gi(te,te.return,Qe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=o.updateQueue,y!==null&&(d=y.retryQueue,d!==null&&(y.retryQueue=null,ow(o,d))));break;case 19:gs(l,o),ys(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ow(o,y)));break;case 30:break;case 21:break;default:gs(l,o),ys(o)}}function ys(o){var l=o.flags;if(l&2){try{for(var d,y=o.return;y!==null;){if(mk(y)){d=y;break}y=y.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var S=d.stateNode,T=uM(o);sw(o,T,S);break;case 5:var I=d.stateNode;d.flags&32&&(yo(I,""),d.flags&=-33);var Z=uM(o);sw(o,Z,I);break;case 3:case 4:var te=d.stateNode.containerInfo,_e=uM(o);cM(o,_e,te);break;default:throw Error(r(161))}}catch(Ce){gi(o,o.return,Ce)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Tk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Tk(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Wl(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vk(o,l.alternate,l),l=l.sibling}function md(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:dc(4,l,l.return),md(l);break;case 1:Wa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&fk(l,l.return,d),md(l);break;case 27:ev(l.stateNode);case 26:case 5:Wa(l,l.return),md(l);break;case 22:l.memoizedState===null&&md(l);break;case 30:md(l);break;default:md(l)}o=o.sibling}}function Zl(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,S=o,T=l,I=T.flags;switch(T.tag){case 0:case 11:case 15:Zl(S,T,d),Gy(4,T);break;case 1:if(Zl(S,T,d),y=T,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(_e){gi(y,y.return,_e)}if(y=T,S=y.updateQueue,S!==null){var Z=y.stateNode;try{var te=S.shared.hiddenCallbacks;if(te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<te.length;S++)tL(te[S],Z)}catch(_e){gi(y,y.return,_e)}}d&&I&64&&dk(T),Vy(T,T.return);break;case 27:gk(T);case 26:case 5:Zl(S,T,d),d&&y===null&&I&4&&pk(T),Vy(T,T.return);break;case 12:Zl(S,T,d);break;case 31:Zl(S,T,d),d&&I&4&&bk(S,T);break;case 13:Zl(S,T,d),d&&I&4&&Sk(S,T);break;case 22:T.memoizedState===null&&Zl(S,T,d),Vy(T,T.return);break;case 30:break;default:Zl(S,T,d)}l=l.sibling}}function dM(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Ay(d))}function fM(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Ay(o))}function la(o,l,d,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Mk(o,l,d,y),l=l.sibling}function Mk(o,l,d,y){var S=l.flags;switch(l.tag){case 0:case 11:case 15:la(o,l,d,y),S&2048&&Gy(9,l);break;case 1:la(o,l,d,y);break;case 3:la(o,l,d,y),S&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Ay(o)));break;case 12:if(S&2048){la(o,l,d,y),o=l.stateNode;try{var T=l.memoizedProps,I=T.id,Z=T.onPostCommit;typeof Z=="function"&&Z(I,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(te){gi(l,l.return,te)}}else la(o,l,d,y);break;case 31:la(o,l,d,y);break;case 13:la(o,l,d,y);break;case 23:break;case 22:T=l.stateNode,I=l.alternate,l.memoizedState!==null?T._visibility&2?la(o,l,d,y):Hy(o,l):T._visibility&2?la(o,l,d,y):(T._visibility|=2,xp(o,l,d,y,(l.subtreeFlags&10256)!==0||!1)),S&2048&&dM(I,l);break;case 24:la(o,l,d,y),S&2048&&fM(l.alternate,l);break;default:la(o,l,d,y)}}function xp(o,l,d,y,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=o,I=l,Z=d,te=y,_e=I.flags;switch(I.tag){case 0:case 11:case 15:xp(T,I,Z,te,S),Gy(8,I);break;case 23:break;case 22:var Ce=I.stateNode;I.memoizedState!==null?Ce._visibility&2?xp(T,I,Z,te,S):Hy(T,I):(Ce._visibility|=2,xp(T,I,Z,te,S)),S&&_e&2048&&dM(I.alternate,I);break;case 24:xp(T,I,Z,te,S),S&&_e&2048&&fM(I.alternate,I);break;default:xp(T,I,Z,te,S)}l=l.sibling}}function Hy(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,y=l,S=y.flags;switch(y.tag){case 22:Hy(d,y),S&2048&&dM(y.alternate,y);break;case 24:Hy(d,y),S&2048&&fM(y.alternate,y);break;default:Hy(d,y)}l=l.sibling}}var Wy=8192;function Tp(o,l,d){if(o.subtreeFlags&Wy)for(o=o.child;o!==null;)Ek(o,l,d),o=o.sibling}function Ek(o,l,d){switch(o.tag){case 26:Tp(o,l,d),o.flags&Wy&&o.memoizedState!==null&&qW(d,aa,o.memoizedState,o.memoizedProps);break;case 5:Tp(o,l,d);break;case 3:case 4:var y=aa;aa=ww(o.stateNode.containerInfo),Tp(o,l,d),aa=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Wy,Wy=16777216,Tp(o,l,d),Wy=y):Tp(o,l,d));break;default:Tp(o,l,d)}}function $k(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Zy(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];Jr=y,Ok(y,o)}$k(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ck(o),o=o.sibling}function Ck(o){switch(o.tag){case 0:case 11:case 15:Zy(o),o.flags&2048&&dc(9,o,o.return);break;case 3:Zy(o);break;case 12:Zy(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,aw(o)):Zy(o);break;default:Zy(o)}}function aw(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];Jr=y,Ok(y,o)}$k(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:dc(8,l,l.return),aw(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,aw(l));break;default:aw(l)}o=o.sibling}}function Ok(o,l){for(;Jr!==null;){var d=Jr;switch(d.tag){case 0:case 11:case 15:dc(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var y=d.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Ay(d.memoizedState.cache)}if(y=d.child,y!==null)y.return=d,Jr=y;else e:for(d=o;Jr!==null;){y=Jr;var S=y.sibling,T=y.return;if(_k(y),y===d){Jr=null;break e}if(S!==null){S.return=T,Jr=S;break e}Jr=T}}}var nW={getCacheForType:function(o){var l=hn(Er),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return hn(Er).controller.signal}},sW=typeof WeakMap=="function"?WeakMap:Map,si=0,$i=null,Ft=null,Ht=0,mi=0,Gs=null,fc=!1,Mp=!1,pM=!1,Yl=0,ur=0,pc=0,gd=0,mM=0,Vs=0,Ep=0,Yy=null,vs=null,gM=!1,lw=0,Pk=0,uw=1/0,cw=null,mc=null,Ur=0,gc=null,$p=null,Jl=0,yM=0,vM=null,Ak=null,Jy=0,_M=null;function Hs(){return(si&2)!==0&&Ht!==0?Ht&-Ht:Q.T!==null?MM():st()}function Rk(){if(Vs===0)if((Ht&536870912)===0||Ut){var o=Ko;Ko<<=1,(Ko&3932160)===0&&(Ko=262144),Vs=o}else Vs=536870912;return o=Bs.current,o!==null&&(o.flags|=32),Vs}function _s(o,l,d){(o===$i&&(mi===2||mi===9)||o.cancelPendingCommit!==null)&&(Cp(o,0),yc(o,Ht,Vs,!1)),Qo(o,d),((si&2)===0||o!==$i)&&(o===$i&&((si&2)===0&&(gd|=d),ur===4&&yc(o,Ht,Vs,!1)),Za(o))}function Lk(o,l,d){if((si&6)!==0)throw Error(r(327));var y=!d&&(l&127)===0&&(l&o.expiredLanes)===0||ka(o,l),S=y?lW(o,l):bM(o,l,!0),T=y;do{if(S===0){Mp&&!y&&yc(o,l,0,!1);break}else{if(d=o.current.alternate,T&&!oW(d)){S=bM(o,l,!1),T=!1;continue}if(S===2){if(T=l,o.errorRecoveryDisabledLanes&T)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var Z=o;S=Yy;var te=Z.current.memoizedState.isDehydrated;if(te&&(Cp(Z,I).flags|=256),I=bM(Z,I,!1),I!==2){if(pM&&!te){Z.errorRecoveryDisabledLanes|=T,gd|=T,S=4;break e}T=vs,vs=S,T!==null&&(vs===null?vs=T:vs.push.apply(vs,T))}S=I}if(T=!1,S!==2)continue}}if(S===1){Cp(o,0),yc(o,l,0,!0);break}e:{switch(y=o,T=S,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:yc(y,l,Vs,!fc);break e;case 2:vs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(S=lw+300-zi(),10<S)){if(yc(y,l,Vs,!fc),Bu(y,0,!0)!==0)break e;Jl=l,y.timeoutHandle=cI(kk.bind(null,y,d,vs,cw,gM,l,Vs,gd,Ep,fc,T,"Throttled",-0,0),S);break e}kk(y,d,vs,cw,gM,l,Vs,gd,Ep,fc,T,null,-0,0)}}break}while(!0);Za(o)}function kk(o,l,d,y,S,T,I,Z,te,_e,Ce,Le,xe,Me){if(o.timeoutHandle=-1,Le=l.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cs},Ek(l,T,Le);var Qe=(T&62914560)===T?lw-zi():(T&4194048)===T?Pk-zi():0;if(Qe=GW(Le,Qe),Qe!==null){Jl=T,o.cancelPendingCommit=Qe(Bk.bind(null,o,l,T,d,y,S,I,Z,te,Ce,Le,null,xe,Me)),yc(o,T,I,!_e);return}}Bk(o,l,T,d,y,S,I,Z,te)}function oW(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var y=0;y<d.length;y++){var S=d[y],T=S.getSnapshot;S=S.value;try{if(!Zr(T(),S))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yc(o,l,d,y){l&=~mM,l&=~gd,o.suspendedLanes|=l,o.pingedLanes&=~l,y&&(o.warmLanes|=l),y=o.expirationTimes;for(var S=l;0<S;){var T=31-Wr(S),I=1<<T;y[T]=-1,S&=~I}d!==0&&me(o,d,l)}function hw(){return(si&6)===0?(Xy(0),!1):!0}function wM(){if(Ft!==null){if(mi===0)var o=Ft.return;else o=Ft,oa=Ha=null,NT(o),vp=null,Ly=0,o=Ft;for(;o!==null;)hk(o.alternate,o),o=o.return;Ft=null}}function Cp(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,EW(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Jl=0,wM(),$i=o,Ft=d=To(o.current,null),Ht=l,mi=0,Gs=null,fc=!1,Mp=ka(o,l),pM=!1,Ep=Vs=mM=gd=pc=ur=0,vs=Yy=null,gM=!1,(l&8)!==0&&(l|=l&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=l;0<y;){var S=31-Wr(y),T=1<<S;l|=o[S],y&=~T}return Yl=l,rd(),d}function Ik(o,l){At=null,Q.H=Fy,l===yp||l===U1?(l=XR(),mi=3):l===TT?(l=XR(),mi=4):mi=l===KT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Gs=l,Ft===null&&(ur=1,ew(o,g(l,o.current)))}function Nk(){var o=Bs.current;return o===null?!0:(Ht&4194048)===Ht?Mo===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?o===Mo:!1}function Dk(){var o=Q.H;return Q.H=Fy,o===null?Fy:o}function jk(){var o=Q.A;return Q.A=nW,o}function dw(){ur=4,fc||(Ht&4194048)!==Ht&&Bs.current!==null||(Mp=!0),(pc&134217727)===0&&(gd&134217727)===0||$i===null||yc($i,Ht,Vs,!1)}function bM(o,l,d){var y=si;si|=2;var S=Dk(),T=jk();($i!==o||Ht!==l)&&(cw=null,Cp(o,l)),l=!1;var I=ur;e:do try{if(mi!==0&&Ft!==null){var Z=Ft,te=Gs;switch(mi){case 8:wM(),I=6;break e;case 3:case 2:case 9:case 6:Bs.current===null&&(l=!0);var _e=mi;if(mi=0,Gs=null,Op(o,Z,te,_e),d&&Mp){I=0;break e}break;default:_e=mi,mi=0,Gs=null,Op(o,Z,te,_e)}}aW(),I=ur;break}catch(Ce){Ik(o,Ce)}while(!0);return l&&o.shellSuspendCounter++,oa=Ha=null,si=y,Q.H=S,Q.A=T,Ft===null&&($i=null,Ht=0,rd()),I}function aW(){for(;Ft!==null;)zk(Ft)}function lW(o,l){var d=si;si|=2;var y=Dk(),S=jk();$i!==o||Ht!==l?(cw=null,uw=zi()+500,Cp(o,l)):Mp=ka(o,l);e:do try{if(mi!==0&&Ft!==null){l=Ft;var T=Gs;t:switch(mi){case 1:mi=0,Gs=null,Op(o,l,T,1);break;case 2:case 9:if(YR(T)){mi=0,Gs=null,Uk(l);break}l=function(){mi!==2&&mi!==9||$i!==o||(mi=7),Za(o)},T.then(l,l);break e;case 3:mi=7;break e;case 4:mi=5;break e;case 7:YR(T)?(mi=0,Gs=null,Uk(l)):(mi=0,Gs=null,Op(o,l,T,7));break;case 5:var I=null;switch(Ft.tag){case 26:I=Ft.memoizedState;case 5:case 27:var Z=Ft;if(I?MI(I):Z.stateNode.complete){mi=0,Gs=null;var te=Z.sibling;if(te!==null)Ft=te;else{var _e=Z.return;_e!==null?(Ft=_e,fw(_e)):Ft=null}break t}}mi=0,Gs=null,Op(o,l,T,5);break;case 6:mi=0,Gs=null,Op(o,l,T,6);break;case 8:wM(),ur=6;break e;default:throw Error(r(462))}}uW();break}catch(Ce){Ik(o,Ce)}while(!0);return oa=Ha=null,Q.H=y,Q.A=S,si=d,Ft!==null?0:($i=null,Ht=0,rd(),ur)}function uW(){for(;Ft!==null&&!os();)zk(Ft)}function zk(o){var l=uk(o.alternate,o,Yl);o.memoizedProps=o.pendingProps,l===null?fw(o):Ft=l}function Uk(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=rk(d,l,l.pendingProps,l.type,void 0,Ht);break;case 11:l=rk(d,l,l.pendingProps,l.type.render,l.ref,Ht);break;case 5:NT(l);default:hk(d,l),l=Ft=Ey(l,Yl),l=uk(d,l,Yl)}o.memoizedProps=o.pendingProps,l===null?fw(o):Ft=l}function Op(o,l,d,y){oa=Ha=null,NT(l),vp=null,Ly=0;var S=l.return;try{if(XH(o,S,l,d,Ht)){ur=1,ew(o,g(d,o.current)),Ft=null;return}}catch(T){if(S!==null)throw Ft=S,T;ur=1,ew(o,g(d,o.current)),Ft=null;return}l.flags&32768?(Ut||y===1?o=!0:Mp||(Ht&536870912)!==0?o=!1:(fc=o=!0,(y===2||y===9||y===3||y===6)&&(y=Bs.current,y!==null&&y.tag===13&&(y.flags|=16384))),Fk(l,o)):fw(l)}function fw(o){var l=o;do{if((l.flags&32768)!==0){Fk(l,fc);return}o=l.return;var d=eW(l.alternate,l,Yl);if(d!==null){Ft=d;return}if(l=l.sibling,l!==null){Ft=l;return}Ft=l=o}while(l!==null);ur===0&&(ur=5)}function Fk(o,l){do{var d=tW(o.alternate,o);if(d!==null){d.flags&=32767,Ft=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Ft=o;return}Ft=o=d}while(o!==null);ur=6,Ft=null}function Bk(o,l,d,y,S,T,I,Z,te){o.cancelPendingCommit=null;do pw();while(Ur!==0);if((si&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=cp,re(o,d,T,I,Z,te),o===$i&&(Ft=$i=null,Ht=0),$p=l,gc=o,Jl=d,yM=T,vM=S,Ak=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,fW(Ji,function(){return Wk(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=Q.T,Q.T=null,S=N.p,N.p=2,I=si,si|=4;try{iW(o,l,d)}finally{si=I,N.p=S,Q.T=y}}Ur=1,qk(),Gk(),Vk()}}function qk(){if(Ur===1){Ur=0;var o=gc,l=$p,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null;var y=N.p;N.p=2;var S=si;si|=4;try{xk(l,o);var T=LM,I=Kh(o.containerInfo),Z=T.focusedElem,te=T.selectionRange;if(I!==Z&&Z&&Z.ownerDocument&&op(Z.ownerDocument.documentElement,Z)){if(te!==null&&za(Z)){var _e=te.start,Ce=te.end;if(Ce===void 0&&(Ce=_e),"selectionStart"in Z)Z.selectionStart=_e,Z.selectionEnd=Math.min(Ce,Z.value.length);else{var Le=Z.ownerDocument||document,xe=Le&&Le.defaultView||window;if(xe.getSelection){var Me=xe.getSelection(),Qe=Z.textContent.length,mt=Math.min(te.start,Qe),Si=te.end===void 0?mt:Math.min(te.end,Qe);!Me.extend&&mt>Si&&(I=Si,Si=mt,mt=I);var de=Xh(Z,mt),le=Xh(Z,Si);if(de&&le&&(Me.rangeCount!==1||Me.anchorNode!==de.node||Me.anchorOffset!==de.offset||Me.focusNode!==le.node||Me.focusOffset!==le.offset)){var ve=Le.createRange();ve.setStart(de.node,de.offset),Me.removeAllRanges(),mt>Si?(Me.addRange(ve),Me.extend(le.node,le.offset)):(ve.setEnd(le.node,le.offset),Me.addRange(ve))}}}}for(Le=[],Me=Z;Me=Me.parentNode;)Me.nodeType===1&&Le.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Le.length;Z++){var Pe=Le[Z];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}Ew=!!RM,LM=RM=null}finally{si=S,N.p=y,Q.T=d}}o.current=l,Ur=2}}function Gk(){if(Ur===2){Ur=0;var o=gc,l=$p,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=Q.T,Q.T=null;var y=N.p;N.p=2;var S=si;si|=4;try{vk(o,l.alternate,l)}finally{si=S,N.p=y,Q.T=d}}Ur=3}}function Vk(){if(Ur===4||Ur===3){Ur=0,an();var o=gc,l=$p,d=Jl,y=Ak;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ur=5:(Ur=0,$p=gc=null,Hk(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(mc=null),Ae(d),l=l.stateNode,Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Hr,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=Q.T,S=N.p,N.p=2,Q.T=null;try{for(var T=o.onRecoverableError,I=0;I<y.length;I++){var Z=y[I];T(Z.value,{componentStack:Z.stack})}}finally{Q.T=l,N.p=S}}(Jl&3)!==0&&pw(),Za(o),S=o.pendingLanes,(d&261930)!==0&&(S&42)!==0?o===_M?Jy++:(Jy=0,_M=o):Jy=0,Xy(0)}}function Hk(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Ay(l)))}function pw(){return qk(),Gk(),Vk(),Wk()}function Wk(){if(Ur!==5)return!1;var o=gc,l=yM;yM=0;var d=Ae(Jl),y=Q.T,S=N.p;try{N.p=32>d?32:d,Q.T=null,d=vM,vM=null;var T=gc,I=Jl;if(Ur=0,$p=gc=null,Jl=0,(si&6)!==0)throw Error(r(331));var Z=si;if(si|=4,Ck(T.current),Mk(T,T.current,I,d),si=Z,Xy(0,!1),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Hr,T)}catch{}return!0}finally{N.p=S,Q.T=y,Hk(o,l)}}function Zk(o,l,d){l=g(d,l),l=XT(o.stateNode,l,2),o=uc(o,l,2),o!==null&&(Qo(o,2),Za(o))}function gi(o,l,d){if(o.tag===3)Zk(o,o,d);else for(;l!==null;){if(l.tag===3){Zk(l,o,d);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(mc===null||!mc.has(y))){o=g(d,o),d=YL(2),y=uc(l,d,2),y!==null&&(JL(d,y,l,o),Qo(y,2),Za(y));break}}l=l.return}}function SM(o,l,d){var y=o.pingCache;if(y===null){y=o.pingCache=new sW;var S=new Set;y.set(l,S)}else S=y.get(l),S===void 0&&(S=new Set,y.set(l,S));S.has(d)||(pM=!0,S.add(d),o=cW.bind(null,o,l,d),l.then(o,o))}function cW(o,l,d){var y=o.pingCache;y!==null&&y.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,$i===o&&(Ht&d)===d&&(ur===4||ur===3&&(Ht&62914560)===Ht&&300>zi()-lw?(si&2)===0&&Cp(o,0):mM|=d,Ep===Ht&&(Ep=0)),Za(o)}function Yk(o,l){l===0&&(l=Rl()),o=xo(o,l),o!==null&&(Qo(o,l),Za(o))}function hW(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Yk(o,d)}function dW(o,l){var d=0;switch(o.tag){case 31:case 13:var y=o.stateNode,S=o.memoizedState;S!==null&&(d=S.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),Yk(o,d)}function fW(o,l){return Ai(o,l)}var mw=null,Pp=null,xM=!1,gw=!1,TM=!1,vc=0;function Za(o){o!==Pp&&o.next===null&&(Pp===null?mw=Pp=o:Pp=Pp.next=o),gw=!0,xM||(xM=!0,mW())}function Xy(o,l){if(!TM&&gw){TM=!0;do for(var d=!1,y=mw;y!==null;){if(o!==0){var S=y.pendingLanes;if(S===0)var T=0;else{var I=y.suspendedLanes,Z=y.pingedLanes;T=(1<<31-Wr(42|o)+1)-1,T&=S&~(I&~Z),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,Qk(y,T))}else T=Ht,T=Bu(y,y===$i?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||ka(y,T)||(d=!0,Qk(y,T));y=y.next}while(d);TM=!1}}function pW(){Jk()}function Jk(){gw=xM=!1;var o=0;vc!==0&&MW()&&(o=vc);for(var l=zi(),d=null,y=mw;y!==null;){var S=y.next,T=Xk(y,l);T===0?(y.next=null,d===null?mw=S:d.next=S,S===null&&(Pp=d)):(d=y,(o!==0||(T&3)!==0)&&(gw=!0)),y=S}Ur!==0&&Ur!==5||Xy(o),vc!==0&&(vc=0)}function Xk(o,l){for(var d=o.suspendedLanes,y=o.pingedLanes,S=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var I=31-Wr(T),Z=1<<I,te=S[I];te===-1?((Z&d)===0||(Z&y)!==0)&&(S[I]=qu(Z,l)):te<=l&&(o.expiredLanes|=Z),T&=~Z}if(l=$i,d=Ht,d=Bu(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,d===0||o===l&&(mi===2||mi===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Yi(y),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||ka(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(y!==null&&Yi(y),Ae(d)){case 2:case 8:d=Ui;break;case 32:d=Ji;break;case 268435456:d=Dh;break;default:d=Ji}return y=Kk.bind(null,o),d=Ai(d,y),o.callbackPriority=l,o.callbackNode=d,l}return y!==null&&y!==null&&Yi(y),o.callbackPriority=2,o.callbackNode=null,2}function Kk(o,l){if(Ur!==0&&Ur!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(pw()&&o.callbackNode!==d)return null;var y=Ht;return y=Bu(o,o===$i?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(Lk(o,y,l),Xk(o,zi()),o.callbackNode!=null&&o.callbackNode===d?Kk.bind(null,o):null)}function Qk(o,l){if(pw())return null;Lk(o,l,!0)}function mW(){$W(function(){(si&6)!==0?Ai(fo,pW):Jk()})}function MM(){if(vc===0){var o=mp;o===0&&(o=La,La<<=1,(La&261888)===0&&(La=256)),vc=o}return vc}function eI(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Wu(""+o)}function tI(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function gW(o,l,d,y,S){if(l==="submit"&&d&&d.stateNode===S){var T=eI((S[Ge]||null).action),I=y.submitter;I&&(l=(l=I[Ge]||null)?eI(l.formAction):I.getAttribute("formAction"),l!==null&&(T=l,I=null));var Z=new Qf("action","action",null,y,S);o.push({event:Z,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(vc!==0){var te=I?tI(S,I):new FormData(S);VT(d,{pending:!0,data:te,method:S.method,action:T},null,te)}}else typeof T=="function"&&(Z.preventDefault(),te=I?tI(S,I):new FormData(S),VT(d,{pending:!0,data:te,method:S.method,action:T},T,te))},currentTarget:S}]})}}for(var EM=0;EM<Ba.length;EM++){var $M=Ba[EM],yW=$M.toLowerCase(),vW=$M[0].toUpperCase()+$M.slice(1);ds(yW,"on"+vW)}ds(ed,"onAnimationEnd"),ds(k1,"onAnimationIteration"),ds(td,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(gT,"onTransitionRun"),ds(I1,"onTransitionStart"),ds(yT,"onTransitionCancel"),ds(nc,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_W=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ky));function iI(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var y=o[d],S=y.event;y=y.listeners;e:{var T=void 0;if(l)for(var I=y.length-1;0<=I;I--){var Z=y[I],te=Z.instance,_e=Z.currentTarget;if(Z=Z.listener,te!==T&&S.isPropagationStopped())break e;T=Z,S.currentTarget=_e;try{T(S)}catch(Ce){id(Ce)}S.currentTarget=null,T=te}else for(I=0;I<y.length;I++){if(Z=y[I],te=Z.instance,_e=Z.currentTarget,Z=Z.listener,te!==T&&S.isPropagationStopped())break e;T=Z,S.currentTarget=_e;try{T(S)}catch(Ce){id(Ce)}S.currentTarget=null,T=te}}}}function Bt(o,l){var d=l[Mt];d===void 0&&(d=l[Mt]=new Set);var y=o+"__bubble";d.has(y)||(rI(l,o,2,!1),d.add(y))}function CM(o,l,d){var y=0;l&&(y|=4),rI(d,o,y,l)}var yw="_reactListening"+Math.random().toString(36).slice(2);function OM(o){if(!o[yw]){o[yw]=!0,Ia.forEach(function(d){d!=="selectionchange"&&(_W.has(d)||CM(d,!1,o),CM(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[yw]||(l[yw]=!0,CM("selectionchange",!1,l))}}function rI(o,l,d,y){switch(RI(l)){case 2:var S=WW;break;case 8:S=ZW;break;default:S=GM}d=S.bind(null,l,d,o),S=void 0,!Bh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),y?S!==void 0?o.addEventListener(l,d,{capture:!0,passive:S}):o.addEventListener(l,d,!0):S!==void 0?o.addEventListener(l,d,{passive:S}):o.addEventListener(l,d,!1)}function PM(o,l,d,y,S){var T=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var Z=y.stateNode.containerInfo;if(Z===S)break;if(I===4)for(I=y.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===S)return;I=I.return}for(;Z!==null;){if(I=ln(Z),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){y=T=I;continue e}Z=Z.parentNode}}y=y.return}my(function(){var _e=T,Ce=Fh(d),Le=[];e:{var xe=N1.get(o);if(xe!==void 0){var Me=Qf,Qe=o;switch(o){case"keypress":if(qh(d)===0)break e;case"keydown":case"keyup":Me=S1;break;case"focusin":Qe="focus",Me=vy;break;case"focusout":Qe="blur",Me=vy;break;case"beforeblur":case"afterblur":Me=vy;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=sT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=cT;break;case ed:case k1:case td:Me=_y;break;case nc:Me=M1;break;case"scroll":case"scrollend":Me=Vt;break;case"wheel":Me=Nl;break;case"copy":case"cut":case"paste":Me=_o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=x1;break;case"toggle":case"beforetoggle":Me=Hh}var mt=(l&4)!==0,Si=!mt&&(o==="scroll"||o==="scrollend"),de=mt?xe!==null?xe+"Capture":null:xe;mt=[];for(var le=_e,ve;le!==null;){var Pe=le;if(ve=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ve===null||de===null||(Pe=kl(le,de),Pe!=null&&mt.push(Qy(le,Pe,ve))),Si)break;le=le.return}0<mt.length&&(xe=new Me(xe,Qe,null,d,Ce),Le.push({event:xe,listeners:mt}))}}if((l&7)===0){e:{if(xe=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",xe&&d!==Kf&&(Qe=d.relatedTarget||d.fromElement)&&(ln(Qe)||Qe[Xe]))break e;if((Me||xe)&&(xe=Ce.window===Ce?Ce:(xe=Ce.ownerDocument)?xe.defaultView||xe.parentWindow:window,Me?(Qe=d.relatedTarget||d.toElement,Me=_e,Qe=Qe?ln(Qe):null,Qe!==null&&(Si=s(Qe),mt=Qe.tag,Qe!==Si||mt!==5&&mt!==27&&mt!==6)&&(Qe=null)):(Me=null,Qe=_e),Me!==Qe)){if(mt=y1,Pe="onMouseLeave",de="onMouseEnter",le="mouse",(o==="pointerout"||o==="pointerover")&&(mt=x1,Pe="onPointerLeave",de="onPointerEnter",le="pointer"),Si=Me==null?xe:Dr(Me),ve=Qe==null?xe:Dr(Qe),xe=new mt(Pe,le+"leave",Me,d,Ce),xe.target=Si,xe.relatedTarget=ve,Pe=null,ln(Ce)===_e&&(mt=new mt(de,le+"enter",Qe,d,Ce),mt.target=ve,mt.relatedTarget=Si,Pe=mt),Si=Pe,Me&&Qe)t:{for(mt=wW,de=Me,le=Qe,ve=0,Pe=de;Pe;Pe=mt(Pe))ve++;Pe=0;for(var dt=le;dt;dt=mt(dt))Pe++;for(;0<ve-Pe;)de=mt(de),ve--;for(;0<Pe-ve;)le=mt(le),Pe--;for(;ve--;){if(de===le||le!==null&&de===le.alternate){mt=de;break t}de=mt(de),le=mt(le)}mt=null}else mt=null;Me!==null&&nI(Le,xe,Me,mt,!1),Qe!==null&&Si!==null&&nI(Le,Si,Qe,mt,!0)}}e:{if(xe=_e?Dr(_e):window,Me=xe.nodeName&&xe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&xe.type==="file")var ei=Jh;else if(wo(xe))if(O1)ei=mT;else{ei=pT;var ot=ra}else Me=xe.nodeName,!Me||Me.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?_e&&Uh(_e.elementType)&&(ei=Jh):ei=ec;if(ei&&(ei=ei(o,_e))){C1(Le,ei,d,Ce);break e}ot&&ot(o,xe,_e),o==="focusout"&&_e&&xe.type==="number"&&_e.memoizedProps.value!=null&&ea(xe,"number",xe.value)}switch(ot=_e?Dr(_e):window,o){case"focusin":(wo(ot)||ot.contentEditable==="true")&&(Ua=ot,lp=_e,Qh=null);break;case"focusout":Qh=lp=Ua=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,R1(Le,d,Ce);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":R1(Le,d,Ce)}var kt;if(tp)e:{switch(o){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Xu?$1(o,d)&&(Wt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Wt="onCompositionStart");Wt&&(ip&&d.locale!=="ko"&&(Xu||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Xu&&(kt=Da()):(vo=Ce,Il="value"in vo?vo.value:vo.textContent,Xu=!0)),ot=vw(_e,Wt),0<ot.length&&(Wt=new wy(Wt,o,null,d,Ce),Le.push({event:Wt,listeners:ot}),kt?Wt.data=kt:(kt=Ty(d),kt!==null&&(Wt.data=kt)))),(kt=dT?Fs(o,d):Ku(o,d))&&(Wt=vw(_e,"onBeforeInput"),0<Wt.length&&(ot=new wy("onBeforeInput","beforeinput",null,d,Ce),Le.push({event:ot,listeners:Wt}),ot.data=kt)),gW(Le,o,_e,d,Ce)}iI(Le,l)})}function Qy(o,l,d){return{instance:o,listener:l,currentTarget:d}}function vw(o,l){for(var d=l+"Capture",y=[];o!==null;){var S=o,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=kl(o,d),S!=null&&y.unshift(Qy(o,S,T)),S=kl(o,l),S!=null&&y.push(Qy(o,S,T))),o.tag===3)return y;o=o.return}return[]}function wW(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function nI(o,l,d,y,S){for(var T=l._reactName,I=[];d!==null&&d!==y;){var Z=d,te=Z.alternate,_e=Z.stateNode;if(Z=Z.tag,te!==null&&te===y)break;Z!==5&&Z!==26&&Z!==27||_e===null||(te=_e,S?(_e=kl(d,T),_e!=null&&I.unshift(Qy(d,_e,te))):S||(_e=kl(d,T),_e!=null&&I.push(Qy(d,_e,te)))),d=d.return}I.length!==0&&o.push({event:l,listeners:I})}var bW=/\r\n?/g,SW=/\u0000|\uFFFD/g;function sI(o){return(typeof o=="string"?o:""+o).replace(bW,`
`).replace(SW,"")}function oI(o,l){return l=sI(l),sI(o)===l}function bi(o,l,d,y,S,T){switch(d){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||yo(o,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&yo(o,""+y);break;case"className":Yt(o,"class",y);break;case"tabIndex":Yt(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Yt(o,d,y);break;case"style":Jf(o,y,T);break;case"data":if(l!=="object"){Yt(o,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(d);break}y=Wu(""+y),o.setAttribute(d,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&bi(o,l,"name",S.name,S,null),bi(o,l,"formEncType",S.formEncType,S,null),bi(o,l,"formMethod",S.formMethod,S,null),bi(o,l,"formTarget",S.formTarget,S,null)):(bi(o,l,"encType",S.encType,S,null),bi(o,l,"method",S.method,S,null),bi(o,l,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(d);break}y=Wu(""+y),o.setAttribute(d,y);break;case"onClick":y!=null&&(o.onclick=cs);break;case"onScroll":y!=null&&Bt("scroll",o);break;case"onScrollEnd":y!=null&&Bt("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(d=y.__html,d!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}d=Wu(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(d,""+y):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":y===!0?o.setAttribute(d,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(d,y):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(d,y):o.removeAttribute(d);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(d):o.setAttribute(d,y);break;case"popover":Bt("beforetoggle",o),Bt("toggle",o),ct(o,"popover",y);break;case"xlinkActuate":un(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":un(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":un(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":un(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":un(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":un(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":un(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":un(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":un(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":ct(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Xf.get(d)||d,ct(o,d,y))}}function AM(o,l,d,y,S,T){switch(d){case"style":Jf(o,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(d=y.__html,d!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof y=="string"?yo(o,y):(typeof y=="number"||typeof y=="bigint")&&yo(o,""+y);break;case"onScroll":y!=null&&Bt("scroll",o);break;case"onScrollEnd":y!=null&&Bt("scrollend",o);break;case"onClick":y!=null&&(o.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),l=d.slice(2,S?d.length-7:void 0),T=o[Ge]||null,T=T!=null?T[d]:null,typeof T=="function"&&o.removeEventListener(l,T,S),typeof y=="function")){typeof T!="function"&&T!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,y,S);break e}d in o?o[d]=y:y===!0?o.setAttribute(d,""):ct(o,d,y)}}}function fn(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",o),Bt("load",o);var y=!1,S=!1,T;for(T in d)if(d.hasOwnProperty(T)){var I=d[T];if(I!=null)switch(T){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bi(o,l,T,I,d,null)}}S&&bi(o,l,"srcSet",d.srcSet,d,null),y&&bi(o,l,"src",d.src,d,null);return;case"input":Bt("invalid",o);var Z=T=I=S=null,te=null,_e=null;for(y in d)if(d.hasOwnProperty(y)){var Ce=d[y];if(Ce!=null)switch(y){case"name":S=Ce;break;case"type":I=Ce;break;case"checked":te=Ce;break;case"defaultChecked":_e=Ce;break;case"value":T=Ce;break;case"defaultValue":Z=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,l));break;default:bi(o,l,y,Ce,d,null)}}zh(o,T,Z,te,_e,I,S,!1);return;case"select":Bt("invalid",o),y=I=T=null;for(S in d)if(d.hasOwnProperty(S)&&(Z=d[S],Z!=null))switch(S){case"value":T=Z;break;case"defaultValue":I=Z;break;case"multiple":y=Z;default:bi(o,l,S,Z,d,null)}l=T,d=I,o.multiple=!!y,l!=null?Ei(o,!!y,l,!1):d!=null&&Ei(o,!!y,d,!0);return;case"textarea":Bt("invalid",o),T=S=y=null;for(I in d)if(d.hasOwnProperty(I)&&(Z=d[I],Z!=null))switch(I){case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":T=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:bi(o,l,I,Z,d,null)}Vu(o,y,S,T);return;case"option":for(te in d)if(d.hasOwnProperty(te)&&(y=d[te],y!=null))switch(te){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:bi(o,l,te,y,d,null)}return;case"dialog":Bt("beforetoggle",o),Bt("toggle",o),Bt("cancel",o),Bt("close",o);break;case"iframe":case"object":Bt("load",o);break;case"video":case"audio":for(y=0;y<Ky.length;y++)Bt(Ky[y],o);break;case"image":Bt("error",o),Bt("load",o);break;case"details":Bt("toggle",o);break;case"embed":case"source":case"link":Bt("error",o),Bt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in d)if(d.hasOwnProperty(_e)&&(y=d[_e],y!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bi(o,l,_e,y,d,null)}return;default:if(Uh(l)){for(Ce in d)d.hasOwnProperty(Ce)&&(y=d[Ce],y!==void 0&&AM(o,l,Ce,y,d,void 0));return}}for(Z in d)d.hasOwnProperty(Z)&&(y=d[Z],y!=null&&bi(o,l,Z,y,d,null))}function xW(o,l,d,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,I=null,Z=null,te=null,_e=null,Ce=null;for(Me in d){var Le=d[Me];if(d.hasOwnProperty(Me)&&Le!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":te=Le;default:y.hasOwnProperty(Me)||bi(o,l,Me,null,y,Le)}}for(var xe in y){var Me=y[xe];if(Le=d[xe],y.hasOwnProperty(xe)&&(Me!=null||Le!=null))switch(xe){case"type":T=Me;break;case"name":S=Me;break;case"checked":_e=Me;break;case"defaultChecked":Ce=Me;break;case"value":I=Me;break;case"defaultValue":Z=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,l));break;default:Me!==Le&&bi(o,l,xe,Me,y,Le)}}dy(o,I,Z,te,_e,Ce,T,S);return;case"select":Me=I=Z=xe=null;for(T in d)if(te=d[T],d.hasOwnProperty(T)&&te!=null)switch(T){case"value":break;case"multiple":Me=te;default:y.hasOwnProperty(T)||bi(o,l,T,null,y,te)}for(S in y)if(T=y[S],te=d[S],y.hasOwnProperty(S)&&(T!=null||te!=null))switch(S){case"value":xe=T;break;case"defaultValue":Z=T;break;case"multiple":I=T;default:T!==te&&bi(o,l,S,T,y,te)}l=Z,d=I,y=Me,xe!=null?Ei(o,!!d,xe,!1):!!y!=!!d&&(l!=null?Ei(o,!!d,l,!0):Ei(o,!!d,d?[]:"",!1));return;case"textarea":Me=xe=null;for(Z in d)if(S=d[Z],d.hasOwnProperty(Z)&&S!=null&&!y.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:bi(o,l,Z,null,y,S)}for(I in y)if(S=y[I],T=d[I],y.hasOwnProperty(I)&&(S!=null||T!=null))switch(I){case"value":xe=S;break;case"defaultValue":Me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==T&&bi(o,l,I,S,y,T)}Na(o,xe,Me);return;case"option":for(var Qe in d)if(xe=d[Qe],d.hasOwnProperty(Qe)&&xe!=null&&!y.hasOwnProperty(Qe))switch(Qe){case"selected":o.selected=!1;break;default:bi(o,l,Qe,null,y,xe)}for(te in y)if(xe=y[te],Me=d[te],y.hasOwnProperty(te)&&xe!==Me&&(xe!=null||Me!=null))switch(te){case"selected":o.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:bi(o,l,te,xe,y,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in d)xe=d[mt],d.hasOwnProperty(mt)&&xe!=null&&!y.hasOwnProperty(mt)&&bi(o,l,mt,null,y,xe);for(_e in y)if(xe=y[_e],Me=d[_e],y.hasOwnProperty(_e)&&xe!==Me&&(xe!=null||Me!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:bi(o,l,_e,xe,y,Me)}return;default:if(Uh(l)){for(var Si in d)xe=d[Si],d.hasOwnProperty(Si)&&xe!==void 0&&!y.hasOwnProperty(Si)&&AM(o,l,Si,void 0,y,xe);for(Ce in y)xe=y[Ce],Me=d[Ce],!y.hasOwnProperty(Ce)||xe===Me||xe===void 0&&Me===void 0||AM(o,l,Ce,xe,y,Me);return}}for(var de in d)xe=d[de],d.hasOwnProperty(de)&&xe!=null&&!y.hasOwnProperty(de)&&bi(o,l,de,null,y,xe);for(Le in y)xe=y[Le],Me=d[Le],!y.hasOwnProperty(Le)||xe===Me||xe==null&&Me==null||bi(o,l,Le,xe,y,Me)}function aI(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TW(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),y=0;y<d.length;y++){var S=d[y],T=S.transferSize,I=S.initiatorType,Z=S.duration;if(T&&Z&&aI(I)){for(I=0,Z=S.responseEnd,y+=1;y<d.length;y++){var te=d[y],_e=te.startTime;if(_e>Z)break;var Ce=te.transferSize,Le=te.initiatorType;Ce&&aI(Le)&&(te=te.responseEnd,I+=Ce*(te<Z?1:(Z-_e)/(te-_e)))}if(--y,l+=8*(T+I)/(S.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var RM=null,LM=null;function _w(o){return o.nodeType===9?o:o.ownerDocument}function lI(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uI(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function kM(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var IM=null;function MW(){var o=window.event;return o&&o.type==="popstate"?o===IM?!1:(IM=o,!0):(IM=null,!1)}var cI=typeof setTimeout=="function"?setTimeout:void 0,EW=typeof clearTimeout=="function"?clearTimeout:void 0,hI=typeof Promise=="function"?Promise:void 0,$W=typeof queueMicrotask=="function"?queueMicrotask:typeof hI<"u"?function(o){return hI.resolve(null).then(o).catch(CW)}:cI;function CW(o){setTimeout(function(){throw o})}function _c(o){return o==="head"}function dI(o,l){var d=l,y=0;do{var S=d.nextSibling;if(o.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"||d==="/&"){if(y===0){o.removeChild(S),kp(l);return}y--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")y++;else if(d==="html")ev(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,ev(d);for(var T=d.firstChild;T;){var I=T.nextSibling,Z=T.nodeName;T[ri]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=I}}else d==="body"&&ev(o.ownerDocument.body);d=S}while(d);kp(l)}function fI(o,l){var d=o;o=0;do{var y=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=y}while(d)}function NM(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":NM(d),ni(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function OW(o,l,d,y){for(;o.nodeType===1;){var S=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[ri])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=Eo(o.nextSibling),o===null)break}return null}function PW(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Eo(o.nextSibling),o===null))return null;return o}function pI(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Eo(o.nextSibling),o===null))return null;return o}function DM(o){return o.data==="$?"||o.data==="$~"}function jM(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function AW(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var y=function(){l(),d.removeEventListener("DOMContentLoaded",y)};d.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Eo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var zM=null;function mI(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return Eo(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function gI(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function yI(o,l,d){switch(l=_w(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function ev(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ni(o)}var $o=new Map,vI=new Set;function ww(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Xl=N.d;N.d={f:RW,r:LW,D:kW,C:IW,L:NW,m:DW,X:zW,S:jW,M:UW};function RW(){var o=Xl.f(),l=hw();return o||l}function LW(o){var l=ls(o);l!==null&&l.tag===5&&l.type==="form"?IL(l):Xl.r(o)}var Ap=typeof document>"u"?null:document;function _I(o,l,d){var y=Ap;if(y&&typeof l=="string"&&l){var S=ki(l);S='link[rel="'+o+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),vI.has(S)||(vI.add(S),o={rel:o,crossOrigin:d,href:l},y.querySelector(S)===null&&(l=y.createElement("link"),fn(l,"link",o),Fi(l),y.head.appendChild(l)))}}function kW(o){Xl.D(o),_I("dns-prefetch",o,null)}function IW(o,l){Xl.C(o,l),_I("preconnect",o,l)}function NW(o,l,d){Xl.L(o,l,d);var y=Ap;if(y&&o&&l){var S='link[rel="preload"][as="'+ki(l)+'"]';l==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+ki(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+ki(d.imageSizes)+'"]')):S+='[href="'+ki(o)+'"]';var T=S;switch(l){case"style":T=Rp(o);break;case"script":T=Lp(o)}$o.has(T)||(o=w({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),$o.set(T,o),y.querySelector(S)!==null||l==="style"&&y.querySelector(tv(T))||l==="script"&&y.querySelector(iv(T))||(l=y.createElement("link"),fn(l,"link",o),Fi(l),y.head.appendChild(l)))}}function DW(o,l){Xl.m(o,l);var d=Ap;if(d&&o){var y=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+ki(y)+'"][href="'+ki(o)+'"]',T=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Lp(o)}if(!$o.has(T)&&(o=w({rel:"modulepreload",href:o},l),$o.set(T,o),d.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(iv(T)))return}y=d.createElement("link"),fn(y,"link",o),Fi(y),d.head.appendChild(y)}}}function jW(o,l,d){Xl.S(o,l,d);var y=Ap;if(y&&o){var S=jr(y).hoistableStyles,T=Rp(o);l=l||"default";var I=S.get(T);if(!I){var Z={loading:0,preload:null};if(I=y.querySelector(tv(T)))Z.loading=5;else{o=w({rel:"stylesheet",href:o,"data-precedence":l},d),(d=$o.get(T))&&UM(o,d);var te=I=y.createElement("link");Fi(te),fn(te,"link",o),te._p=new Promise(function(_e,Ce){te.onload=_e,te.onerror=Ce}),te.addEventListener("load",function(){Z.loading|=1}),te.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,bw(I,l,y)}I={type:"stylesheet",instance:I,count:1,state:Z},S.set(T,I)}}}function zW(o,l){Xl.X(o,l);var d=Ap;if(d&&o){var y=jr(d).hoistableScripts,S=Lp(o),T=y.get(S);T||(T=d.querySelector(iv(S)),T||(o=w({src:o,async:!0},l),(l=$o.get(S))&&FM(o,l),T=d.createElement("script"),Fi(T),fn(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(S,T))}}function UW(o,l){Xl.M(o,l);var d=Ap;if(d&&o){var y=jr(d).hoistableScripts,S=Lp(o),T=y.get(S);T||(T=d.querySelector(iv(S)),T||(o=w({src:o,async:!0,type:"module"},l),(l=$o.get(S))&&FM(o,l),T=d.createElement("script"),Fi(T),fn(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(S,T))}}function wI(o,l,d,y){var S=(S=ye.current)?ww(S):null;if(!S)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Rp(d.href),d=jr(S).hoistableStyles,y=d.get(l),y||(y={type:"style",instance:null,count:0,state:null},d.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Rp(d.href);var T=jr(S).hoistableStyles,I=T.get(o);if(I||(S=S.ownerDocument||S,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,I),(T=S.querySelector(tv(o)))&&!T._p&&(I.instance=T,I.state.loading=5),$o.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},$o.set(o,d),T||FW(S,o,d,I.state))),l&&y===null)throw Error(r(528,""));return I}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Lp(d),d=jr(S).hoistableScripts,y=d.get(l),y||(y={type:"script",instance:null,count:0,state:null},d.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Rp(o){return'href="'+ki(o)+'"'}function tv(o){return'link[rel="stylesheet"]['+o+"]"}function bI(o){return w({},o,{"data-precedence":o.precedence,precedence:null})}function FW(o,l,d,y){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=o.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),fn(l,"link",d),Fi(l),o.head.appendChild(l))}function Lp(o){return'[src="'+ki(o)+'"]'}function iv(o){return"script[async]"+o}function SI(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var y=o.querySelector('style[data-href~="'+ki(d.href)+'"]');if(y)return l.instance=y,Fi(y),y;var S=w({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),Fi(y),fn(y,"style",S),bw(y,d.precedence,o),l.instance=y;case"stylesheet":S=Rp(d.href);var T=o.querySelector(tv(S));if(T)return l.state.loading|=4,l.instance=T,Fi(T),T;y=bI(d),(S=$o.get(S))&&UM(y,S),T=(o.ownerDocument||o).createElement("link"),Fi(T);var I=T;return I._p=new Promise(function(Z,te){I.onload=Z,I.onerror=te}),fn(T,"link",y),l.state.loading|=4,bw(T,d.precedence,o),l.instance=T;case"script":return T=Lp(d.src),(S=o.querySelector(iv(T)))?(l.instance=S,Fi(S),S):(y=d,(S=$o.get(T))&&(y=w({},d),FM(y,S)),o=o.ownerDocument||o,S=o.createElement("script"),Fi(S),fn(S,"link",y),o.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,bw(y,d.precedence,o));return l.instance}function bw(o,l,d){for(var y=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,T=S,I=0;I<y.length;I++){var Z=y[I];if(Z.dataset.precedence===l)T=Z;else if(T!==S)break}T?T.parentNode.insertBefore(o,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function UM(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function FM(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Sw=null;function xI(o,l,d){if(Sw===null){var y=new Map,S=Sw=new Map;S.set(d,y)}else S=Sw,y=S.get(d),y||(y=new Map,S.set(d,y));if(y.has(o))return y;for(y.set(o,null),d=d.getElementsByTagName(o),S=0;S<d.length;S++){var T=d[S];if(!(T[ri]||T[Ze]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var I=T.getAttribute(l)||"";I=o+I;var Z=y.get(I);Z?Z.push(T):y.set(I,[T])}}return y}function TI(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function BW(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function MI(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function qW(o,l,d,y){if(d.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=Rp(y.href),T=l.querySelector(tv(S));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=xw.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=T,Fi(T);return}T=l.ownerDocument||l,y=bI(y),(S=$o.get(S))&&UM(y,S),T=T.createElement("link"),Fi(T);var I=T;I._p=new Promise(function(Z,te){I.onload=Z,I.onerror=te}),fn(T,"link",y),d.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=xw.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var BM=0;function GW(o,l){return o.stylesheets&&o.count===0&&Mw(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var y=setTimeout(function(){if(o.stylesheets&&Mw(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+l);0<o.imgBytes&&BM===0&&(BM=62500*TW());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Mw(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>BM?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function xw(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mw(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Tw=null;function Mw(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Tw=new Map,l.forEach(VW,o),Tw=null,xw.call(o))}function VW(o,l){if(!(l.state.loading&4)){var d=Tw.get(o);if(d)var y=d.get(null);else{d=new Map,Tw.set(o,d);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var I=S[T];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),y=I)}y&&d.set(null,y)}S=l.instance,I=S.getAttribute("data-precedence"),T=d.get(I)||y,T===y&&d.set(null,S),d.set(I,S),this.count++,y=xw.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),T?T.parentNode.insertBefore(S,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),l.state.loading|=4}}var rv={$$typeof:U,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function HW(o,l,d,y,S,T,I,Z,te){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.hiddenUpdates=jh(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function EI(o,l,d,y,S,T,I,Z,te,_e,Ce,Le){return o=new HW(o,l,d,I,te,_e,Ce,Le,Z),l=1,T===!0&&(l|=24),T=_n(3,null,null,l),o.current=T,T.stateNode=o,l=bT(),l.refCount++,o.pooledCache=l,l.refCount++,T.memoizedState={element:y,isDehydrated:d,cache:l},MT(T),o}function $I(o){return o?(o=Dl,o):Dl}function CI(o,l,d,y,S,T){S=$I(S),y.context===null?y.context=S:y.pendingContext=S,y=lc(l),y.payload={element:d},T=T===void 0?null:T,T!==null&&(y.callback=T),d=uc(o,y,l),d!==null&&(_s(d,o,l),Iy(d,o,l))}function OI(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function qM(o,l){OI(o,l),(o=o.alternate)&&OI(o,l)}function PI(o){if(o.tag===13||o.tag===31){var l=xo(o,67108864);l!==null&&_s(l,o,67108864),qM(o,67108864)}}function AI(o){if(o.tag===13||o.tag===31){var l=Hs();l=je(l);var d=xo(o,l);d!==null&&_s(d,o,l),qM(o,l)}}var Ew=!0;function WW(o,l,d,y){var S=Q.T;Q.T=null;var T=N.p;try{N.p=2,GM(o,l,d,y)}finally{N.p=T,Q.T=S}}function ZW(o,l,d,y){var S=Q.T;Q.T=null;var T=N.p;try{N.p=8,GM(o,l,d,y)}finally{N.p=T,Q.T=S}}function GM(o,l,d,y){if(Ew){var S=VM(y);if(S===null)PM(o,l,y,$w,d),LI(o,y);else if(JW(S,o,l,d,y))y.stopPropagation();else if(LI(o,y),l&4&&-1<YW.indexOf(o)){for(;S!==null;){var T=ls(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var I=po(T.pendingLanes);if(I!==0){var Z=T;for(Z.pendingLanes|=2,Z.entangledLanes|=2;I;){var te=1<<31-Wr(I);Z.entanglements[1]|=te,I&=~te}Za(T),(si&6)===0&&(uw=zi()+500,Xy(0))}}break;case 31:case 13:Z=xo(T,2),Z!==null&&_s(Z,T,2),hw(),qM(T,2)}if(T=VM(y),T===null&&PM(o,l,y,$w,d),T===S)break;S=T}S!==null&&y.stopPropagation()}else PM(o,l,y,null,d)}}function VM(o){return o=Fh(o),HM(o)}var $w=null;function HM(o){if($w=null,o=ln(o),o!==null){var l=s(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=a(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return $w=o,null}function RI(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ho()){case fo:return 2;case Ui:return 8;case Ji:case Wf:return 32;case Dh:return 268435456;default:return 32}default:return 32}}var WM=!1,wc=null,bc=null,Sc=null,nv=new Map,sv=new Map,xc=[],YW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LI(o,l){switch(o){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":Sc=null;break;case"pointerover":case"pointerout":nv.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":sv.delete(l.pointerId)}}function ov(o,l,d,y,S,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:y,nativeEvent:T,targetContainers:[S]},l!==null&&(l=ls(l),l!==null&&PI(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function JW(o,l,d,y,S){switch(l){case"focusin":return wc=ov(wc,o,l,d,y,S),!0;case"dragenter":return bc=ov(bc,o,l,d,y,S),!0;case"mouseover":return Sc=ov(Sc,o,l,d,y,S),!0;case"pointerover":var T=S.pointerId;return nv.set(T,ov(nv.get(T)||null,o,l,d,y,S)),!0;case"gotpointercapture":return T=S.pointerId,sv.set(T,ov(sv.get(T)||null,o,l,d,y,S)),!0}return!1}function kI(o){var l=ln(o.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){o.blockedOn=l,Ke(o.priority,function(){AI(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,Ke(o.priority,function(){AI(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cw(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=VM(o.nativeEvent);if(d===null){d=o.nativeEvent;var y=new d.constructor(d.type,d);Kf=y,d.target.dispatchEvent(y),Kf=null}else return l=ls(d),l!==null&&PI(l),o.blockedOn=d,!1;l.shift()}return!0}function II(o,l,d){Cw(o)&&d.delete(l)}function XW(){WM=!1,wc!==null&&Cw(wc)&&(wc=null),bc!==null&&Cw(bc)&&(bc=null),Sc!==null&&Cw(Sc)&&(Sc=null),nv.forEach(II),sv.forEach(II)}function Ow(o,l){o.blockedOn===l&&(o.blockedOn=null,WM||(WM=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,XW)))}var Pw=null;function NI(o){Pw!==o&&(Pw=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pw===o&&(Pw=null);for(var l=0;l<o.length;l+=3){var d=o[l],y=o[l+1],S=o[l+2];if(typeof y!="function"){if(HM(y||d)===null)continue;break}var T=ls(d);T!==null&&(o.splice(l,3),l-=3,VT(T,{pending:!0,data:S,method:d.method,action:y},y,S))}}))}function kp(o){function l(te){return Ow(te,o)}wc!==null&&Ow(wc,o),bc!==null&&Ow(bc,o),Sc!==null&&Ow(Sc,o),nv.forEach(l),sv.forEach(l);for(var d=0;d<xc.length;d++){var y=xc[d];y.blockedOn===o&&(y.blockedOn=null)}for(;0<xc.length&&(d=xc[0],d.blockedOn===null);)kI(d),d.blockedOn===null&&xc.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(y=0;y<d.length;y+=3){var S=d[y],T=d[y+1],I=S[Ge]||null;if(typeof T=="function")I||NI(d);else if(I){var Z=null;if(T&&T.hasAttribute("formAction")){if(S=T,I=T[Ge]||null)Z=I.formAction;else if(HM(S)!==null)continue}else Z=I.action;typeof Z=="function"?d[y+1]=Z:(d.splice(y,3),y-=3),NI(d)}}}function DI(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(I){return S=I})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),y||setTimeout(d,20)}function d(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function ZM(o){this._internalRoot=o}Aw.prototype.render=ZM.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,y=Hs();CI(d,y,o,l,null,null)},Aw.prototype.unmount=ZM.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;CI(o.current,2,null,o,null,null),hw(),l[Xe]=null}};function Aw(o){this._internalRoot=o}Aw.prototype.unstable_scheduleHydration=function(o){if(o){var l=st();o={blockedOn:null,target:o,priority:l};for(var d=0;d<xc.length&&l!==0&&l<xc[d].priority;d++);xc.splice(d,0,o),d===0&&kI(o)}};var jI=t.version;if(jI!=="19.2.0")throw Error(r(527,jI,"19.2.0"));N.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?v(o):null,o=o===null?null:o.stateNode,o};var KW={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rw.isDisabled&&Rw.supportsFiber)try{Hr=Rw.inject(KW),Tr=Rw}catch{}}return uv.createRoot=function(o,l){if(!n(o))throw Error(r(299));var d=!1,y="",S=VL,T=HL,I=WL;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=EI(o,1,!1,null,null,d,y,null,S,T,I,DI),o[Xe]=l.current,OM(o),new ZM(l)},uv.hydrateRoot=function(o,l,d){if(!n(o))throw Error(r(299));var y=!1,S="",T=VL,I=HL,Z=WL,te=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(Z=d.onRecoverableError),d.formState!==void 0&&(te=d.formState)),l=EI(o,1,!0,l,d??null,y,S,te,T,I,Z,DI),l.context=$I(null),d=l.current,y=Hs(),y=je(y),S=lc(y),S.callback=null,uc(d,S,y),d=y,l.current.lanes=d,Qo(l,d),Za(l),o[Xe]=l.current,OM(o),new Aw(l)},uv.version="19.2.0",uv}var JI;function cZ(){if(JI)return KM.exports;JI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),KM.exports=uZ(),KM.exports}var hZ=cZ();const dZ=H2(hZ);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yj=e=>{throw TypeError(e)},fZ=(e,t,i)=>t.has(e)||Yj("Cannot "+i),iE=(e,t,i)=>(fZ(e,t,"read from private field"),i?i.call(e):t.get(e)),pZ=(e,t,i)=>t.has(e)?Yj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),XI="popstate";function mZ(e={}){function t(r,n){let{pathname:s,search:a,hash:u}=r.location;return K0("",{pathname:s,search:a,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(r,n){return typeof n=="string"?n:_l(n)}return yZ(t,i,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gZ(){return Math.random().toString(36).substring(2,10)}function KI(e,t){return{usr:e.state,key:e.key,idx:t}}function K0(e,t,i=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ah(t):t,state:i,key:t&&t.key||r||gZ()}}function _l({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ah(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function yZ(e,t,i,r={}){let{window:n=document.defaultView,v5Compat:s=!1}=r,a=n.history,u="POP",h=null,f=v();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function v(){return(a.state||{idx:null}).idx}function w(){u="POP";let F=v(),G=F==null?null:F-f;f=F,h&&h({action:u,location:O.location,delta:G})}function x(F,G){u="PUSH";let Y=K0(O.location,F,G);f=v()+1;let U=KI(Y,f),C=O.createHref(Y);try{a.pushState(U,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(C)}s&&h&&h({action:u,location:O.location,delta:1})}function M(F,G){u="REPLACE";let Y=K0(O.location,F,G);f=v();let U=KI(Y,f),C=O.createHref(Y);a.replaceState(U,"",C),s&&h&&h({action:u,location:O.location,delta:0})}function P(F){return Jj(F)}let O={get action(){return u},get location(){return e(n,a)},listen(F){if(h)throw new Error("A history only accepts one active listener");return n.addEventListener(XI,w),h=F,()=>{n.removeEventListener(XI,w),h=null}},createHref(F){return t(n,F)},createURL:P,encodeLocation(F){let G=P(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:M,go(F){return a.go(F)}};return O}function Jj(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(i,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_l(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}var Uv,QI=class{constructor(e){if(pZ(this,Uv,new Map),e)for(let[t,i]of e)this.set(t,i)}get(e){if(iE(this,Uv).has(e))return iE(this,Uv).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){iE(this,Uv).set(e,t)}};Uv=new WeakMap;var vZ=new Set(["lazy","caseSensitive","path","id","index","children"]);function _Z(e){return vZ.has(e)}var wZ=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function bZ(e){return wZ.has(e)}function SZ(e){return e.index===!0}function Q0(e,t,i=[],r={},n=!1){return e.map((s,a)=>{let u=[...i,String(a)],h=typeof s.id=="string"?s.id:u.join("-");if(Dt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Dt(n||!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),SZ(s)){let f={...s,id:h};return r[h]=e5(f,t(f)),f}else{let f={...s,id:h,children:void 0};return r[h]=e5(f,t(f)),s.children&&(f.children=Q0(s.children,t,u,r,n)),f}})}function e5(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Qc(e,t,i="/"){return Eb(e,t,i,!1)}function Eb(e,t,i,r){let n=typeof t=="string"?Ah(t):t,s=Zo(n.pathname||"/",i);if(s==null)return null;let a=Xj(e);TZ(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let f=IZ(s);u=LZ(a[h],f,r)}return u}function xZ(e,t){let{route:i,pathname:r,params:n}=e;return{id:i.id,pathname:r,params:n,data:t[i.id],loaderData:t[i.id],handle:i.handle}}function Xj(e,t=[],i=[],r="",n=!1){let s=(a,u,h=n,f)=>{let v={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;Dt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let w=pl([r,v.relativePath]),x=i.concat(v);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Xj(a.children,t,x,w,h)),!(a.path==null&&!a.index)&&t.push({path:w,score:AZ(w,a.index),routesMeta:x})};return e.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))s(a,u);else for(let h of Kj(a.path))s(a,u,!0,h)}),t}function Kj(e){let t=e.split("/");if(t.length===0)return[];let[i,...r]=t,n=i.endsWith("?"),s=i.replace(/\?$/,"");if(r.length===0)return n?[s,""]:[s];let a=Kj(r.join("/")),u=[];return u.push(...a.map(h=>h===""?s:[s,h].join("/"))),n&&u.push(...a),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function TZ(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:RZ(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var MZ=/^:[\w-]+$/,EZ=3,$Z=2,CZ=1,OZ=10,PZ=-2,t5=e=>e==="*";function AZ(e,t){let i=e.split("/"),r=i.length;return i.some(t5)&&(r+=PZ),t&&(r+=$Z),i.filter(n=>!t5(n)).reduce((n,s)=>n+(MZ.test(s)?EZ:s===""?CZ:OZ),r)}function RZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function LZ(e,t,i=!1){let{routesMeta:r}=e,n={},s="/",a=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,v=s==="/"?t:t.slice(s.length)||"/",w=IS({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},v),x=h.route;if(!w&&f&&i&&!r[r.length-1].route.index&&(w=IS({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!w)return null;Object.assign(n,w.params),a.push({params:n,pathname:pl([s,w.pathname]),pathnameBase:zZ(pl([s,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(s=pl([s,w.pathnameBase]))}return a}function IS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,r]=kZ(e.path,e.caseSensitive,e.end),n=t.match(i);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:r.reduce((f,{paramName:v,isOptional:w},x)=>{if(v==="*"){let P=u[x]||"";a=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const M=u[x];return w&&!M?f[v]=void 0:f[v]=(M||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:e}}function kZ(e,t=!1,i=!0){Nr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function IZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=e.charAt(i);return r&&r!=="/"?null:e.slice(i)||"/"}function NZ({basename:e,pathname:t}){return t==="/"?e:pl([e,t])}function DZ(e,t="/"){let{pathname:i,search:r="",hash:n=""}=typeof e=="string"?Ah(e):e;return{pathname:i?i.startsWith("/")?i:jZ(i,t):t,search:UZ(r),hash:FZ(n)}}function jZ(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function rE(e,t,i,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qj(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function cP(e){let t=Qj(e);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function hP(e,t,i,r=!1){let n;typeof e=="string"?n=Ah(e):(n={...e},Dt(!n.pathname||!n.pathname.includes("?"),rE("?","pathname","search",n)),Dt(!n.pathname||!n.pathname.includes("#"),rE("#","pathname","hash",n)),Dt(!n.search||!n.search.includes("#"),rE("#","search","hash",n)));let s=e===""||n.pathname==="",a=s?"/":n.pathname,u;if(a==null)u=i;else{let w=t.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),w-=1;n.pathname=x.join("/")}u=w>=0?t[w]:"/"}let h=DZ(n,u),f=a&&a!=="/"&&a.endsWith("/"),v=(s||a===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(f||v)&&(h.pathname+="/"),h}var pl=e=>e.join("/").replace(/\/\/+/g,"/"),zZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,NS=class{constructor(e,t,i,r=!1){this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function e_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function dP(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sh=Symbol("Uninstrumented");function BZ(e,t){let i={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(n=>n({id:t.id,index:t.index,path:t.path,instrument(s){let a=Object.keys(i);for(let u of a)s[u]&&i[u].push(s[u])}}));let r={};if(typeof t.lazy=="function"&&i.lazy.length>0){let n=Tm(i.lazy,t.lazy,()=>{});n&&(r.lazy=n)}if(typeof t.lazy=="object"){let n=t.lazy;["middleware","loader","action"].forEach(s=>{let a=n[s],u=i[`lazy.${s}`];if(typeof a=="function"&&u.length>0){let h=Tm(u,a,()=>{});h&&(r.lazy=Object.assign(r.lazy||{},{[s]:h}))}})}return["loader","action"].forEach(n=>{let s=t[n];if(typeof s=="function"&&i[n].length>0){let a=s[sh]??s,u=Tm(i[n],a,(...h)=>i5(h[0]));u&&(u[sh]=a,r[n]=u)}}),t.middleware&&t.middleware.length>0&&i.middleware.length>0&&(r.middleware=t.middleware.map(n=>{let s=n[sh]??n,a=Tm(i.middleware,s,(...u)=>i5(u[0]));return a?(a[sh]=s,a):n})),r}function qZ(e,t){let i={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(n){let s=Object.keys(n);for(let a of s)n[a]&&i[a].push(n[a])}})),i.navigate.length>0){let r=e.navigate[sh]??e.navigate,n=Tm(i.navigate,r,(...s)=>{let[a,u]=s;return{to:typeof a=="number"||typeof a=="string"?a:a?_l(a):".",...r5(e,u??{})}});n&&(n[sh]=r,e.navigate=n)}if(i.fetch.length>0){let r=e.fetch[sh]??e.fetch,n=Tm(i.fetch,r,(...s)=>{let[a,,u,h]=s;return{href:u??".",fetcherKey:a,...r5(e,h??{})}});n&&(n[sh]=r,e.fetch=n)}return e}function Tm(e,t,i){return e.length===0?null:async(...r)=>{let n=await ez(e,i(...r),()=>t(...r),e.length-1);if(n.type==="error")throw n.value;return n.value}}async function ez(e,t,i,r){let n=e[r],s;if(n){let a,u=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=ez(e,t,i,r-1),s=await a,Dt(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await n(u,t)}catch(h){console.error("An instrumentation function threw an error:",h)}a||await u(),await a}else try{s={type:"success",value:await i()}}catch(a){s={type:"error",value:a}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function i5(e){let{request:t,context:i,params:r,unstable_pattern:n}=e;return{request:GZ(t),params:{...r},unstable_pattern:n,context:VZ(i)}}function r5(e,t){return{currentUrl:_l(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function GZ(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function VZ(e){if(WZ(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var HZ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function WZ(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===HZ}var tz=["POST","PUT","PATCH","DELETE"],ZZ=new Set(tz),YZ=["GET",...tz],JZ=new Set(YZ),XZ=new Set([301,302,303,307,308]),KZ=new Set([307,308]),nE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QZ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fP=e=>eY.test(e),tY=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),iz="remix-router-transitions",rz=Symbol("ResetLoaderData");function iY(e){const t=e.window?e.window:typeof window<"u"?window:void 0,i=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Dt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],n=e.mapRouteProperties||tY,s=n;if(e.unstable_instrumentations){let re=e.unstable_instrumentations;s=me=>({...n(me),...BZ(re.map(Te=>Te.route).filter(Boolean),me)})}let a={},u=Q0(e.routes,s,void 0,a),h,f=e.basename||"/";f.startsWith("/")||(f=`/${f}`);let v=e.dataStrategy||aY,w={...e.future},x=null,M=new Set,P=null,O=null,F=null,G=e.hydrationData!=null,Y=Qc(u,e.history.location,f),U=!1,C=null,E;if(Y==null&&!e.patchRoutesOnNavigation){let re=Do(404,{pathname:e.history.location.pathname}),{matches:me,route:Te}=kw(u);E=!0,Y=me,C={[Te.id]:re}}else if(Y&&!e.hydrationData&&qu(Y,u,e.history.location.pathname).active&&(Y=null),Y)if(Y.some(re=>re.route.lazy))E=!1;else if(!Y.some(re=>pP(re.route)))E=!0;else{let re=e.hydrationData?e.hydrationData.loaderData:null,me=e.hydrationData?e.hydrationData.errors:null;if(me){let Te=Y.findIndex(De=>me[De.route.id]!==void 0);E=Y.slice(0,Te+1).every(De=>!N3(De.route,re,me))}else E=Y.every(Te=>!N3(Te.route,re,me))}else{E=!1,Y=[];let re=qu(null,u,e.history.location.pathname);re.active&&re.matches&&(U=!0,Y=re.matches)}let A,k={historyAction:e.history.action,location:e.history.location,matches:Y,initialized:E,navigation:nE,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},V="POP",H=!1,q,X=!1,ue=new Map,ne=null,se=!1,we=!1,Q=new Set,N=new Map,ge=0,ee=-1,j=new Map,z=new Set,J=new Map,he=new Map,ce=new Set,be=new Map,ye,Oe=null;function rt(){if(x=e.history.listen(({action:re,location:me,delta:Te})=>{if(ye){ye(),ye=void 0;return}Nr(be.size===0||Te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=La({currentLocation:k.location,nextLocation:me,historyAction:re});if(De&&Te!=null){let je=new Promise(Ae=>{ye=Ae});e.history.go(Te*-1),Fu(De,{state:"blocked",location:me,proceed(){Fu(De,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),je.then(()=>e.history.go(Te))},reset(){let Ae=new Map(k.blockers);Ae.set(De,cv),ft({blockers:Ae})}});return}return xt(re,me)}),i){SY(t,ue);let re=()=>xY(t,ue);t.addEventListener("pagehide",re),ne=()=>t.removeEventListener("pagehide",re)}return k.initialized||xt("POP",k.location,{initialHydration:!0}),A}function nt(){x&&x(),ne&&ne(),M.clear(),q&&q.abort(),k.fetchers.forEach((re,me)=>Uu(me)),k.blockers.forEach((re,me)=>Zf(me))}function bt(re){return M.add(re),()=>M.delete(re)}function ft(re,me={}){re.matches&&(re.matches=re.matches.map(je=>{let Ae=a[je.route.id],st=je.route;return st.element!==Ae.element||st.errorElement!==Ae.errorElement||st.hydrateFallbackElement!==Ae.hydrateFallbackElement?{...je,route:Ae}:je})),k={...k,...re};let Te=[],De=[];k.fetchers.forEach((je,Ae)=>{je.state==="idle"&&(ce.has(Ae)?Te.push(Ae):De.push(Ae))}),ce.forEach(je=>{!k.fetchers.has(je)&&!N.has(je)&&Te.push(je)}),[...M].forEach(je=>je(k,{deletedFetchers:Te,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),Te.forEach(je=>Uu(je)),De.forEach(je=>k.fetchers.delete(je))}function St(re,me,{flushSync:Te}={}){let De=k.actionData!=null&&k.navigation.formMethod!=null&&Qn(k.navigation.formMethod)&&k.navigation.state==="loading"&&re.state?._isRedirect!==!0,je;me.actionData?Object.keys(me.actionData).length>0?je=me.actionData:je=null:De?je=k.actionData:je=null;let Ae=me.loaderData?f5(k.loaderData,me.loaderData,me.matches||[],me.errors):k.loaderData,st=k.blockers;st.size>0&&(st=new Map(st),st.forEach((Ge,Xe)=>st.set(Xe,cv)));let Ke=se?!1:ka(re,me.matches||k.matches),Je=H===!0||k.navigation.formMethod!=null&&Qn(k.navigation.formMethod)&&re.state?._isRedirect!==!0;h&&(u=h,h=void 0),se||V==="POP"||(V==="PUSH"?e.history.push(re,re.state):V==="REPLACE"&&e.history.replace(re,re.state));let Ze;if(V==="POP"){let Ge=ue.get(k.location.pathname);Ge&&Ge.has(re.pathname)?Ze={currentLocation:k.location,nextLocation:re}:ue.has(re.pathname)&&(Ze={currentLocation:re,nextLocation:k.location})}else if(X){let Ge=ue.get(k.location.pathname);Ge?Ge.add(re.pathname):(Ge=new Set([re.pathname]),ue.set(k.location.pathname,Ge)),Ze={currentLocation:k.location,nextLocation:re}}ft({...me,actionData:je,loaderData:Ae,historyAction:V,location:re,initialized:!0,navigation:nE,revalidation:"idle",restoreScrollPosition:Ke,preventScrollReset:Je,blockers:st},{viewTransitionOpts:Ze,flushSync:Te===!0}),V="POP",H=!1,X=!1,se=!1,we=!1,Oe?.resolve(),Oe=null}async function Pt(re,me){if(typeof re=="number"){e.history.go(re);return}let Te=I3(k.location,k.matches,f,re,me?.fromRouteId,me?.relative),{path:De,submission:je,error:Ae}=n5(!1,Te,me),st=k.location,Ke=K0(k.location,De,me&&me.state);Ke={...Ke,...e.history.encodeLocation(Ke)};let Je=me&&me.replace!=null?me.replace:void 0,Ze="PUSH";Je===!0?Ze="REPLACE":Je===!1||je!=null&&Qn(je.formMethod)&&je.formAction===k.location.pathname+k.location.search&&(Ze="REPLACE");let Ge=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,Xe=(me&&me.flushSync)===!0,Mt=La({currentLocation:st,nextLocation:Ke,historyAction:Ze});if(Mt){Fu(Mt,{state:"blocked",location:Ke,proceed(){Fu(Mt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),Pt(re,me)},reset(){let pi=new Map(k.blockers);pi.set(Mt,cv),ft({blockers:pi})}});return}await xt(Ze,Ke,{submission:je,pendingError:Ae,preventScrollReset:Ge,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:Xe})}function vt(){Oe||(Oe=TY()),fo(),ft({revalidation:"loading"});let re=Oe.promise;return k.navigation.state==="submitting"?re:k.navigation.state==="idle"?(xt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),re):(xt(V||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:X===!0}),re)}async function xt(re,me,Te){q&&q.abort(),q=null,V=re,se=(Te&&Te.startUninterruptedRevalidation)===!0,Bu(k.location,k.matches),H=(Te&&Te.preventScrollReset)===!0,X=(Te&&Te.enableViewTransition)===!0;let De=h||u,je=Te&&Te.overrideNavigation,Ae=Te?.initialHydration&&k.matches&&k.matches.length>0&&!U?k.matches:Qc(De,me,f),st=(Te&&Te.flushSync)===!0;if(Ae&&k.initialized&&!we&&mY(k.location,me)&&!(Te&&Te.submission&&Qn(Te.submission.formMethod))){St(me,{matches:Ae},{flushSync:st});return}let Ke=qu(Ae,De,me.pathname);if(Ke.active&&Ke.matches&&(Ae=Ke.matches),!Ae){let{error:Mr,notFoundMatches:ri,route:ni}=Ko(me.pathname);St(me,{matches:ri,loaderData:{},errors:{[ni.id]:Mr}},{flushSync:st});return}q=new AbortController;let Je=Xp(e.history,me,q.signal,Te&&Te.submission),Ze=e.getContext?await e.getContext():new QI,Ge;if(Te&&Te.pendingError)Ge=[eh(Ae).route.id,{type:"error",error:Te.pendingError}];else if(Te&&Te.submission&&Qn(Te.submission.formMethod)){let Mr=await _i(Je,me,Te.submission,Ae,Ze,Ke.active,Te&&Te.initialHydration===!0,{replace:Te.replace,flushSync:st});if(Mr.shortCircuited)return;if(Mr.pendingActionResult){let[ri,ni]=Mr.pendingActionResult;if(io(ni)&&e_(ni.error)&&ni.error.status===404){q=null,St(me,{matches:Mr.matches,loaderData:{},errors:{[ri]:ni.error}});return}}Ae=Mr.matches||Ae,Ge=Mr.pendingActionResult,je=sE(me,Te.submission),st=!1,Ke.active=!1,Je=Xp(e.history,Je.url,Je.signal)}let{shortCircuited:Xe,matches:Mt,loaderData:pi,errors:nr}=await Tt(Je,me,Ae,Ze,Ke.active,je,Te&&Te.submission,Te&&Te.fetcherSubmission,Te&&Te.replace,Te&&Te.initialHydration===!0,st,Ge);Xe||(q=null,St(me,{matches:Mt||Ae,...p5(Ge),loaderData:pi,errors:nr}))}async function _i(re,me,Te,De,je,Ae,st,Ke={}){fo();let Je=wY(me,Te);if(ft({navigation:Je},{flushSync:Ke.flushSync===!0}),Ae){let Xe=await Rl(De,me.pathname,re.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){if(Xe.partialMatches.length===0){let{matches:pi,route:nr}=kw(u);return{matches:pi,pendingActionResult:[nr.id,{type:"error",error:Xe.error}]}}let Mt=eh(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,pendingActionResult:[Mt,{type:"error",error:Xe.error}]}}else if(Xe.matches)De=Xe.matches;else{let{notFoundMatches:Mt,error:pi,route:nr}=Ko(me.pathname);return{matches:Mt,pendingActionResult:[nr.id,{type:"error",error:pi}]}}}let Ze,Ge=$b(De,me);if(!Ge.route.action&&!Ge.route.lazy)Ze={type:"error",error:Do(405,{method:re.method,pathname:me.pathname,routeId:Ge.route.id})};else{let Xe=Nm(s,a,re,De,Ge,st?[]:r,je),Mt=await zi(re,Xe,je,null);if(Ze=Mt[Ge.route.id],!Ze){for(let pi of De)if(Mt[pi.route.id]){Ze=Mt[pi.route.id];break}}if(re.signal.aborted)return{shortCircuited:!0}}if(Kd(Ze)){let Xe;return Ke&&Ke.replace!=null?Xe=Ke.replace:Xe=c5(Ze.response.headers.get("Location"),new URL(re.url),f)===k.location.pathname+k.location.search,await an(re,Ze,!0,{submission:Te,replace:Xe}),{shortCircuited:!0}}if(io(Ze)){let Xe=eh(De,Ge.route.id);return(Ke&&Ke.replace)!==!0&&(V="PUSH"),{matches:De,pendingActionResult:[Xe.route.id,Ze,Ge.route.id]}}return{matches:De,pendingActionResult:[Ge.route.id,Ze]}}async function Tt(re,me,Te,De,je,Ae,st,Ke,Je,Ze,Ge,Xe){let Mt=Ae||sE(me,st),pi=st||Ke||g5(Mt),nr=!se&&!Ze;if(je){if(nr){let sr=ii(Xe);ft({navigation:Mt,...sr!==void 0?{actionData:sr}:{}},{flushSync:Ge})}let Rt=await Rl(Te,me.pathname,re.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){if(Rt.partialMatches.length===0){let{matches:go,route:Un}=kw(u);return{matches:go,loaderData:{},errors:{[Un.id]:Rt.error}}}let sr=eh(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[sr]:Rt.error}}}else if(Rt.matches)Te=Rt.matches;else{let{error:sr,notFoundMatches:go,route:Un}=Ko(me.pathname);return{matches:go,loaderData:{},errors:{[Un.id]:sr}}}}let Mr=h||u,{dsMatches:ri,revalidatingFetchers:ni}=s5(re,De,s,a,e.history,k,Te,pi,me,Ze?[]:r,Ze===!0,we,Q,ce,J,z,Mr,f,e.patchRoutesOnNavigation!=null,Xe);if(ee=++ge,!e.dataStrategy&&!ri.some(Rt=>Rt.shouldLoad)&&!ri.some(Rt=>Rt.route.middleware&&Rt.route.middleware.length>0)&&ni.length===0){let Rt=as();return St(me,{matches:Te,loaderData:{},errors:Xe&&io(Xe[1])?{[Xe[0]]:Xe[1].error}:null,...p5(Xe),...Rt?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ge}),{shortCircuited:!0}}if(nr){let Rt={};if(!je){Rt.navigation=Mt;let sr=ii(Xe);sr!==void 0&&(Rt.actionData=sr)}ni.length>0&&(Rt.fetchers=Pi(ni)),ft(Rt,{flushSync:Ge})}ni.forEach(Rt=>{Hr(Rt.key),Rt.controller&&N.set(Rt.key,Rt.controller)});let ln=()=>ni.forEach(Rt=>Hr(Rt.key));q&&q.signal.addEventListener("abort",ln);let{loaderResults:ls,fetcherResults:Dr}=await ho(ri,ni,re,De);if(re.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",ln),ni.forEach(Rt=>N.delete(Rt.key));let jr=Iw(ls);if(jr)return await an(re,jr.result,!0,{replace:Je}),{shortCircuited:!0};if(jr=Iw(Dr),jr)return z.add(jr.key),await an(re,jr.result,!0,{replace:Je}),{shortCircuited:!0};let{loaderData:Fi,errors:Ia}=d5(k,Te,ls,Xe,ni,Dr);Ze&&k.errors&&(Ia={...k.errors,...Ia});let mo=as(),us=Wr(ee),zn=mo||us||ni.length>0;return{matches:Te,loaderData:Fi,errors:Ia,...zn?{fetchers:new Map(k.fetchers)}:{}}}function ii(re){if(re&&!io(re[1]))return{[re[0]]:re[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Pi(re){return re.forEach(me=>{let Te=k.fetchers.get(me.key),De=hv(void 0,Te?Te.data:void 0);k.fetchers.set(me.key,De)}),new Map(k.fetchers)}async function Ai(re,me,Te,De){Hr(re);let je=(De&&De.flushSync)===!0,Ae=h||u,st=I3(k.location,k.matches,f,Te,me,De?.relative),Ke=Qc(Ae,st,f),Je=qu(Ke,Ae,st);if(Je.active&&Je.matches&&(Ke=Je.matches),!Ke){Ji(re,me,Do(404,{pathname:st}),{flushSync:je});return}let{path:Ze,submission:Ge,error:Xe}=n5(!0,st,De);if(Xe){Ji(re,me,Xe,{flushSync:je});return}let Mt=e.getContext?await e.getContext():new QI,pi=(De&&De.preventScrollReset)===!0;if(Ge&&Qn(Ge.formMethod)){await Yi(re,me,Ze,Ke,Mt,Je.active,je,pi,Ge);return}J.set(re,{routeId:me,path:Ze}),await os(re,me,Ze,Ke,Mt,Je.active,je,pi,Ge)}async function Yi(re,me,Te,De,je,Ae,st,Ke,Je){fo(),J.delete(re);let Ze=k.fetchers.get(re);Ui(re,bY(Je,Ze),{flushSync:st});let Ge=new AbortController,Xe=Xp(e.history,Te,Ge.signal,Je);if(Ae){let ct=await Rl(De,new URL(Xe.url).pathname,Xe.signal,re);if(ct.type==="aborted")return;if(ct.type==="error"){Ji(re,me,ct.error,{flushSync:st});return}else if(ct.matches)De=ct.matches;else{Ji(re,me,Do(404,{pathname:Te}),{flushSync:st});return}}let Mt=$b(De,Te);if(!Mt.route.action&&!Mt.route.lazy){let ct=Do(405,{method:Je.formMethod,pathname:Te,routeId:me});Ji(re,me,ct,{flushSync:st});return}N.set(re,Ge);let pi=ge,nr=Nm(s,a,Xe,De,Mt,r,je),ri=(await zi(Xe,nr,je,re))[Mt.route.id];if(Xe.signal.aborted){N.get(re)===Ge&&N.delete(re);return}if(ce.has(re)){if(Kd(ri)||io(ri)){Ui(re,nu(void 0));return}}else{if(Kd(ri))if(N.delete(re),ee>pi){Ui(re,nu(void 0));return}else return z.add(re),Ui(re,hv(Je)),an(Xe,ri,!1,{fetcherSubmission:Je,preventScrollReset:Ke});if(io(ri)){Ji(re,me,ri.error);return}}let ni=k.navigation.location||k.location,ln=Xp(e.history,ni,Ge.signal),ls=h||u,Dr=k.navigation.state!=="idle"?Qc(ls,k.navigation.location,f):k.matches;Dt(Dr,"Didn't find any matches after fetcher action");let jr=++ge;j.set(re,jr);let Fi=hv(Je,ri.data);k.fetchers.set(re,Fi);let{dsMatches:Ia,revalidatingFetchers:mo}=s5(ln,je,s,a,e.history,k,Dr,Je,ni,r,!1,we,Q,ce,J,z,ls,f,e.patchRoutesOnNavigation!=null,[Mt.route.id,ri]);mo.filter(ct=>ct.key!==re).forEach(ct=>{let Yt=ct.key,un=k.fetchers.get(Yt),gr=hv(void 0,un?un.data:void 0);k.fetchers.set(Yt,gr),Hr(Yt),ct.controller&&N.set(Yt,ct.controller)}),ft({fetchers:new Map(k.fetchers)});let us=()=>mo.forEach(ct=>Hr(ct.key));Ge.signal.addEventListener("abort",us);let{loaderResults:zn,fetcherResults:Rt}=await ho(Ia,mo,ln,je);if(Ge.signal.aborted)return;if(Ge.signal.removeEventListener("abort",us),j.delete(re),N.delete(re),mo.forEach(ct=>N.delete(ct.key)),k.fetchers.has(re)){let ct=nu(ri.data);k.fetchers.set(re,ct)}let sr=Iw(zn);if(sr)return an(ln,sr.result,!1,{preventScrollReset:Ke});if(sr=Iw(Rt),sr)return z.add(sr.key),an(ln,sr.result,!1,{preventScrollReset:Ke});let{loaderData:go,errors:Un}=d5(k,Dr,zn,void 0,mo,Rt);Wr(jr),k.navigation.state==="loading"&&jr>ee?(Dt(V,"Expected pending action"),q&&q.abort(),St(k.navigation.location,{matches:Dr,loaderData:go,errors:Un,fetchers:new Map(k.fetchers)})):(ft({errors:Un,loaderData:f5(k.loaderData,go,Dr,Un),fetchers:new Map(k.fetchers)}),we=!1)}async function os(re,me,Te,De,je,Ae,st,Ke,Je){let Ze=k.fetchers.get(re);Ui(re,hv(Je,Ze?Ze.data:void 0),{flushSync:st});let Ge=new AbortController,Xe=Xp(e.history,Te,Ge.signal);if(Ae){let ni=await Rl(De,new URL(Xe.url).pathname,Xe.signal,re);if(ni.type==="aborted")return;if(ni.type==="error"){Ji(re,me,ni.error,{flushSync:st});return}else if(ni.matches)De=ni.matches;else{Ji(re,me,Do(404,{pathname:Te}),{flushSync:st});return}}let Mt=$b(De,Te);N.set(re,Ge);let pi=ge,nr=Nm(s,a,Xe,De,Mt,r,je),ri=(await zi(Xe,nr,je,re))[Mt.route.id];if(N.get(re)===Ge&&N.delete(re),!Xe.signal.aborted){if(ce.has(re)){Ui(re,nu(void 0));return}if(Kd(ri))if(ee>pi){Ui(re,nu(void 0));return}else{z.add(re),await an(Xe,ri,!1,{preventScrollReset:Ke});return}if(io(ri)){Ji(re,me,ri.error);return}Ui(re,nu(ri.data))}}async function an(re,me,Te,{submission:De,fetcherSubmission:je,preventScrollReset:Ae,replace:st}={}){me.response.headers.has("X-Remix-Revalidate")&&(we=!0);let Ke=me.response.headers.get("Location");Dt(Ke,"Expected a Location header on the redirect Response"),Ke=c5(Ke,new URL(re.url),f);let Je=K0(k.location,Ke,{_isRedirect:!0});if(i){let nr=!1;if(me.response.headers.has("X-Remix-Reload-Document"))nr=!0;else if(fP(Ke)){const Mr=Jj(Ke,!0);nr=Mr.origin!==t.location.origin||Zo(Mr.pathname,f)==null}if(nr){st?t.location.replace(Ke):t.location.assign(Ke);return}}q=null;let Ze=st===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ge,formAction:Xe,formEncType:Mt}=k.navigation;!De&&!je&&Ge&&Xe&&Mt&&(De=g5(k.navigation));let pi=De||je;if(KZ.has(me.response.status)&&pi&&Qn(pi.formMethod))await xt(Ze,Je,{submission:{...pi,formAction:Ke},preventScrollReset:Ae||H,enableViewTransition:Te?X:void 0});else{let nr=sE(Je,De);await xt(Ze,Je,{overrideNavigation:nr,fetcherSubmission:je,preventScrollReset:Ae||H,enableViewTransition:Te?X:void 0})}}async function zi(re,me,Te,De){let je,Ae={};try{je=await uY(v,re,me,De,Te,!1)}catch(st){return me.filter(Ke=>Ke.shouldLoad).forEach(Ke=>{Ae[Ke.route.id]={type:"error",error:st}}),Ae}if(re.signal.aborted)return Ae;for(let[st,Ke]of Object.entries(je))if(vY(Ke)){let Je=Ke.result;Ae[st]={type:"redirect",response:fY(Je,re,st,me,f)}}else Ae[st]=await dY(Ke);return Ae}async function ho(re,me,Te,De){let je=zi(Te,re,De,null),Ae=Promise.all(me.map(async Je=>{if(Je.matches&&Je.match&&Je.request&&Je.controller){let Ge=(await zi(Je.request,Je.matches,De,Je.key))[Je.match.route.id];return{[Je.key]:Ge}}else return Promise.resolve({[Je.key]:{type:"error",error:Do(404,{pathname:Je.path})}})})),st=await je,Ke=(await Ae).reduce((Je,Ze)=>Object.assign(Je,Ze),{});return{loaderResults:st,fetcherResults:Ke}}function fo(){we=!0,J.forEach((re,me)=>{N.has(me)&&Q.add(me),Hr(me)})}function Ui(re,me,Te={}){k.fetchers.set(re,me),ft({fetchers:new Map(k.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function Ji(re,me,Te,De={}){let je=eh(k.matches,me);Uu(re),ft({errors:{[je.route.id]:Te},fetchers:new Map(k.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function Wf(re){return he.set(re,(he.get(re)||0)+1),ce.has(re)&&ce.delete(re),k.fetchers.get(re)||QZ}function Dh(re,me){Hr(re,me?.reason),Ui(re,nu(null))}function Uu(re){let me=k.fetchers.get(re);N.has(re)&&!(me&&me.state==="loading"&&j.has(re))&&Hr(re),J.delete(re),j.delete(re),z.delete(re),ce.delete(re),Q.delete(re),k.fetchers.delete(re)}function cy(re){let me=(he.get(re)||0)-1;me<=0?(he.delete(re),ce.add(re)):he.set(re,me),ft({fetchers:new Map(k.fetchers)})}function Hr(re,me){let Te=N.get(re);Te&&(Te.abort(me),N.delete(re))}function Tr(re){for(let me of re){let Te=Wf(me),De=nu(Te.data);k.fetchers.set(me,De)}}function as(){let re=[],me=!1;for(let Te of z){let De=k.fetchers.get(Te);Dt(De,`Expected fetcher: ${Te}`),De.state==="loading"&&(z.delete(Te),re.push(Te),me=!0)}return Tr(re),me}function Wr(re){let me=[];for(let[Te,De]of j)if(De<re){let je=k.fetchers.get(Te);Dt(je,`Expected fetcher: ${Te}`),je.state==="loading"&&(Hr(Te),j.delete(Te),me.push(Te))}return Tr(me),me.length>0}function Pl(re,me){let Te=k.blockers.get(re)||cv;return be.get(re)!==me&&be.set(re,me),Te}function Zf(re){k.blockers.delete(re),be.delete(re)}function Fu(re,me){let Te=k.blockers.get(re)||cv;Dt(Te.state==="unblocked"&&me.state==="blocked"||Te.state==="blocked"&&me.state==="blocked"||Te.state==="blocked"&&me.state==="proceeding"||Te.state==="blocked"&&me.state==="unblocked"||Te.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${Te.state} -> ${me.state}`);let De=new Map(k.blockers);De.set(re,me),ft({blockers:De})}function La({currentLocation:re,nextLocation:me,historyAction:Te}){if(be.size===0)return;be.size>1&&Nr(!1,"A router only supports one blocker at a time");let De=Array.from(be.entries()),[je,Ae]=De[De.length-1],st=k.blockers.get(je);if(!(st&&st.state==="proceeding")&&Ae({currentLocation:re,nextLocation:me,historyAction:Te}))return je}function Ko(re){let me=Do(404,{pathname:re}),Te=h||u,{matches:De,route:je}=kw(Te);return{notFoundMatches:De,route:je,error:me}}function Al(re,me,Te){if(P=re,F=me,O=Te||null,!G&&k.navigation===nE){G=!0;let De=ka(k.location,k.matches);De!=null&&ft({restoreScrollPosition:De})}return()=>{P=null,F=null,O=null}}function po(re,me){return O&&O(re,me.map(De=>xZ(De,k.loaderData)))||re.key}function Bu(re,me){if(P&&F){let Te=po(re,me);P[Te]=F()}}function ka(re,me){if(P){let Te=po(re,me),De=P[Te];if(typeof De=="number")return De}return null}function qu(re,me,Te){if(e.patchRoutesOnNavigation)if(re){if(Object.keys(re[0].params).length>0)return{active:!0,matches:Eb(me,Te,f,!0)}}else return{active:!0,matches:Eb(me,Te,f,!0)||[]};return{active:!1,matches:null}}async function Rl(re,me,Te,De){if(!e.patchRoutesOnNavigation)return{type:"success",matches:re};let je=re;for(;;){let Ae=h==null,st=h||u,Ke=a;try{await e.patchRoutesOnNavigation({signal:Te,path:me,matches:je,fetcherKey:De,patch:(Ge,Xe)=>{Te.aborted||o5(Ge,Xe,st,Ke,s,!1)}})}catch(Ge){return{type:"error",error:Ge,partialMatches:je}}finally{Ae&&!Te.aborted&&(u=[...u])}if(Te.aborted)return{type:"aborted"};let Je=Qc(st,me,f);if(Je)return{type:"success",matches:Je};let Ze=Eb(st,me,f,!0);if(!Ze||je.length===Ze.length&&je.every((Ge,Xe)=>Ge.route.id===Ze[Xe].route.id))return{type:"success",matches:null};je=Ze}}function jh(re){a={},h=Q0(re,s,void 0,a)}function Qo(re,me,Te=!1){let De=h==null;o5(re,me,h||u,a,s,Te),De&&(u=[...u],ft({}))}return A={get basename(){return f},get future(){return w},get state(){return k},get routes(){return u},get window(){return t},initialize:rt,subscribe:bt,enableScrollRestoration:Al,navigate:Pt,fetch:Ai,revalidate:vt,createHref:re=>e.history.createHref(re),encodeLocation:re=>e.history.encodeLocation(re),getFetcher:Wf,resetFetcher:Dh,deleteFetcher:cy,dispose:nt,getBlocker:Pl,deleteBlocker:Zf,patchRoutes:Qo,_internalFetchControllers:N,_internalSetRoutes:jh,_internalSetStateDoNotUseOrYouWillBreakYourApp(re){ft(re)}},e.unstable_instrumentations&&(A=qZ(A,e.unstable_instrumentations.map(re=>re.router).filter(Boolean))),A}function rY(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function I3(e,t,i,r,n,s){let a,u;if(n){a=[];for(let f of t)if(a.push(f),f.route.id===n){u=f;break}}else a=t,u=t[t.length-1];let h=hP(r||".",cP(a),Zo(e.pathname,i)||e.pathname,s==="path");if(r==null&&(h.search=e.search,h.hash=e.hash),(r==null||r===""||r===".")&&u){let f=mP(h.search);if(u.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let v=new URLSearchParams(h.search),w=v.getAll("index");v.delete("index"),w.filter(M=>M).forEach(M=>v.append("index",M));let x=v.toString();h.search=x?`?${x}`:""}}return i!=="/"&&(h.pathname=NZ({basename:i,pathname:h.pathname})),_l(h)}function n5(e,t,i){if(!i||!rY(i))return{path:t};if(i.formMethod&&!_Y(i.formMethod))return{path:t,error:Do(405,{method:i.formMethod})};let r=()=>({path:t,error:Do(400,{type:"invalid-body"})}),s=(i.formMethod||"get").toUpperCase(),a=uz(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Qn(s))return r();let w=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((x,[M,P])=>`${x}${M}=${P}
`,""):String(i.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:w}}}else if(i.formEncType==="application/json"){if(!Qn(s))return r();try{let w=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:i.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}Dt(typeof FormData=="function","FormData is not available in this environment");let u,h;if(i.formData)u=j3(i.formData),h=i.formData;else if(i.body instanceof FormData)u=j3(i.body),h=i.body;else if(i.body instanceof URLSearchParams)u=i.body,h=h5(u);else if(i.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(i.body),h=h5(u)}catch{return r()}let f={formMethod:s,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Qn(f.formMethod))return{path:t,submission:f};let v=Ah(t);return e&&v.search&&mP(v.search)&&u.append("index",""),v.search=`?${u}`,{path:_l(v),submission:f}}function s5(e,t,i,r,n,s,a,u,h,f,v,w,x,M,P,O,F,G,Y,U){let C=U?io(U[1])?U[1].error:U[1].data:void 0,E=n.createURL(s.location),A=n.createURL(h),k;if(v&&s.errors){let se=Object.keys(s.errors)[0];k=a.findIndex(we=>we.route.id===se)}else if(U&&io(U[1])){let se=U[0];k=a.findIndex(we=>we.route.id===se)-1}let V=U?U[1].statusCode:void 0,H=V&&V>=400,q={currentUrl:E,currentParams:s.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...u,actionResult:C,actionStatus:V},X=dP(a.map(se=>se.route.path)),ue=a.map((se,we)=>{let{route:Q}=se,N=null;if(k!=null&&we>k?N=!1:Q.lazy?N=!0:pP(Q)?v?N=N3(Q,s.loaderData,s.errors):nY(s.loaderData,s.matches[we],se)&&(N=!0):N=!1,N!==null)return D3(i,r,e,X,se,f,t,N);let ge=H?!1:w||E.pathname+E.search===A.pathname+A.search||E.search!==A.search||sY(s.matches[we],se),ee={...q,defaultShouldRevalidate:ge},j=DS(se,ee);return D3(i,r,e,X,se,f,t,j,ee)}),ne=[];return P.forEach((se,we)=>{if(v||!a.some(he=>he.route.id===se.routeId)||M.has(we))return;let Q=s.fetchers.get(we),N=Q&&Q.state!=="idle"&&Q.data===void 0,ge=Qc(F,se.path,G);if(!ge){if(Y&&N)return;ne.push({key:we,routeId:se.routeId,path:se.path,matches:null,match:null,request:null,controller:null});return}if(O.has(we))return;let ee=$b(ge,se.path),j=new AbortController,z=Xp(n,se.path,j.signal),J=null;if(x.has(we))x.delete(we),J=Nm(i,r,z,ge,ee,f,t);else if(N)w&&(J=Nm(i,r,z,ge,ee,f,t));else{let he={...q,defaultShouldRevalidate:H?!1:w};DS(ee,he)&&(J=Nm(i,r,z,ge,ee,f,t,he))}J&&ne.push({key:we,routeId:se.routeId,path:se.path,matches:J,match:ee,request:z,controller:j})}),{dsMatches:ue,revalidatingFetchers:ne}}function pP(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function N3(e,t,i){if(e.lazy)return!0;if(!pP(e))return!1;let r=t!=null&&e.id in t,n=i!=null&&i[e.id]!==void 0;return!r&&n?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!n}function nY(e,t,i){let r=!t||i.route.id!==t.route.id,n=!e.hasOwnProperty(i.route.id);return r||n}function sY(e,t){let i=e.route.path;return e.pathname!==t.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function DS(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if(typeof i=="boolean")return i}return t.defaultShouldRevalidate}function o5(e,t,i,r,n,s){let a;if(e){let f=r[e];Dt(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),a=f.children}else a=i;let u=[],h=[];if(t.forEach(f=>{let v=a.find(w=>nz(f,w));v?h.push({existingRoute:v,newRoute:f}):u.push(f)}),u.length>0){let f=Q0(u,n,[e||"_","patch",String(a?.length||"0")],r);a.push(...f)}if(s&&h.length>0)for(let f=0;f<h.length;f++){let{existingRoute:v,newRoute:w}=h[f],x=v,[M]=Q0([w],n,[],{},!0);Object.assign(x,{element:M.element?M.element:x.element,errorElement:M.errorElement?M.errorElement:x.errorElement,hydrateFallbackElement:M.hydrateFallbackElement?M.hydrateFallbackElement:x.hydrateFallbackElement})}}function nz(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((i,r)=>t.children?.some(n=>nz(i,n))):!1}var a5=new WeakMap,sz=({key:e,route:t,manifest:i,mapRouteProperties:r})=>{let n=i[t.id];if(Dt(n,"No route found in manifest"),!n.lazy||typeof n.lazy!="object")return;let s=n.lazy[e];if(!s)return;let a=a5.get(n);a||(a={},a5.set(n,a));let u=a[e];if(u)return u;let h=(async()=>{let f=_Z(e),w=n[e]!==void 0&&e!=="hasErrorBoundary";if(f)Nr(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(w)Nr(!1,`Route "${n.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await s();x!=null&&(Object.assign(n,{[e]:x}),Object.assign(n,r(n)))}typeof n.lazy=="object"&&(n.lazy[e]=void 0,Object.values(n.lazy).every(x=>x===void 0)&&(n.lazy=void 0))})();return a[e]=h,h},l5=new WeakMap;function oY(e,t,i,r,n){let s=i[e.id];if(Dt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let v=l5.get(s);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{Dt(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),M={};for(let P in x){let O=x[P];if(O===void 0)continue;let F=bZ(P),Y=s[P]!==void 0&&P!=="hasErrorBoundary";F?Nr(!F,"Route property "+P+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Y?Nr(!Y,`Route "${s.id}" has a static property "${P}" defined but its lazy function is also returning a value for this property. The lazy route property "${P}" will be ignored.`):M[P]=O}Object.assign(s,M),Object.assign(s,{...r(s),lazy:void 0})})();return l5.set(s,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let a=Object.keys(e.lazy),u=[],h;for(let v of a){if(n&&n.includes(v))continue;let w=sz({key:v,route:e,manifest:i,mapRouteProperties:r});w&&(u.push(w),v===t&&(h=w))}let f=u.length>0?Promise.all(u).then(()=>{}):void 0;return f?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:h}}async function u5(e){let t=e.matches.filter(n=>n.shouldLoad),i={};return(await Promise.all(t.map(n=>n.resolve()))).forEach((n,s)=>{i[t[s].route.id]=n}),i}async function aY(e){return e.matches.some(t=>t.route.middleware)?oz(e,()=>u5(e)):u5(e)}function oz(e,t){return lY(e,t,r=>r,gY,i);function i(r,n,s){if(s)return Promise.resolve(Object.assign(s.value,{[n]:{type:"error",result:r}}));{let{matches:a}=e,u=Math.min(Math.max(a.findIndex(f=>f.route.id===n),0),Math.max(a.findIndex(f=>f.unstable_shouldCallHandler()),0)),h=eh(a,a[u].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:r}})}}}async function lY(e,t,i,r,n){let{matches:s,request:a,params:u,context:h,unstable_pattern:f}=e,v=s.flatMap(x=>x.route.middleware?x.route.middleware.map(M=>[x.route.id,M]):[]);return await az({request:a,params:u,context:h,unstable_pattern:f},v,t,i,r,n)}async function az(e,t,i,r,n,s,a=0){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let h=t[a];if(!h)return await i();let[f,v]=h,w,x=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await az(e,t,i,r,n,s,a+1)},w.value}catch(M){return w={value:await s(M,f,w)},w.value}};try{let M=await v(e,x),P=M!=null?r(M):void 0;return n(P)?P:w?P??w.value:(w={value:await x()},w.value)}catch(M){return await s(M,f,w)}}function lz(e,t,i,r,n){let s=sz({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=oY(r.route,Qn(i.method)?"action":"loader",t,e,n);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function D3(e,t,i,r,n,s,a,u,h=null){let f=!1,v=lz(e,t,i,n,s);return{...n,_lazyPromises:v,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(w){return f=!0,h?typeof w=="boolean"?DS(n,{...h,defaultShouldRevalidate:w}):DS(n,h):u},resolve(w){let{lazy:x,loader:M,middleware:P}=n.route,O=f||u||w&&!Qn(i.method)&&(x||M),F=P&&P.length>0&&!M&&!x;return O&&(Qn(i.method)||!F)?cY({request:i,unstable_pattern:r,match:n,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:w,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Nm(e,t,i,r,n,s,a,u=null){return r.map(h=>h.route.id!==n.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:lz(e,t,i,h,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:D3(e,t,i,dP(r.map(f=>f.route.path)),h,s,a,!0,u))}async function uY(e,t,i,r,n,s){i.some(f=>f._lazyPromises?.middleware)&&await Promise.all(i.map(f=>f._lazyPromises?.middleware));let a={request:t,unstable_pattern:dP(i.map(f=>f.route.path)),params:i[0].params,context:n,matches:i},h=await e({...a,fetcherKey:r,runClientMiddleware:f=>{let v=a;return oz(v,()=>f({...v,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(i.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return h}async function cY({request:e,unstable_pattern:t,match:i,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:s,scopedContext:a}){let u,h,f=Qn(e.method),v=f?"action":"loader",w=x=>{let M,P=new Promise((G,Y)=>M=Y);h=()=>M(),e.signal.addEventListener("abort",h);let O=G=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${i.route.id}]`)):x({request:e,unstable_pattern:t,params:i.params,context:a},...G!==void 0?[G]:[]),F=(async()=>{try{return{type:"data",result:await(s?s(Y=>O(Y)):O())}}catch(G){return{type:"error",result:G}}})();return Promise.race([F,P])};try{let x=f?i.route.action:i.route.loader;if(r||n)if(x){let M,[P]=await Promise.all([w(x).catch(O=>{M=O}),r,n]);if(M!==void 0)throw M;u=P}else{await r;let M=f?i.route.action:i.route.loader;if(M)[u]=await Promise.all([w(M),n]);else if(v==="action"){let P=new URL(e.url),O=P.pathname+P.search;throw Do(405,{method:e.method,pathname:O,routeId:i.route.id})}else return{type:"data",result:void 0}}else if(x)u=await w(x);else{let M=new URL(e.url),P=M.pathname+M.search;throw Do(404,{pathname:P})}}catch(x){return{type:"error",result:x}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function hY(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function dY(e){let{result:t,type:i}=e;if(cz(t)){let r;try{r=await hY(t)}catch(n){return{type:"error",error:n}}return i==="error"?{type:"error",error:new NS(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return i==="error"?m5(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new NS(t.init?.status||500,void 0,t.data),statusCode:e_(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:e_(t)?t.status:void 0}:m5(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function fY(e,t,i,r,n){let s=e.headers.get("Location");if(Dt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!fP(s)){let a=r.slice(0,r.findIndex(u=>u.route.id===i)+1);s=I3(new URL(t.url),a,n,s),e.headers.set("Location",s)}return e}function c5(e,t,i){if(fP(e)){let r=e,n=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Zo(n.pathname,i)!=null;if(n.origin===t.origin&&s)return n.pathname+n.search+n.hash}return e}function Xp(e,t,i,r){let n=e.createURL(uz(t)).toString(),s={signal:i};if(r&&Qn(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=j3(r.formData):s.body=r.formData}return new Request(n,s)}function j3(e){let t=new URLSearchParams;for(let[i,r]of e.entries())t.append(i,typeof r=="string"?r:r.name);return t}function h5(e){let t=new FormData;for(let[i,r]of e.entries())t.append(i,r);return t}function pY(e,t,i,r=!1,n=!1){let s={},a=null,u,h=!1,f={},v=i&&io(i[1])?i[1].error:void 0;return e.forEach(w=>{if(!(w.route.id in t))return;let x=w.route.id,M=t[x];if(Dt(!Kd(M),"Cannot handle redirect results in processLoaderData"),io(M)){let P=M.error;if(v!==void 0&&(P=v,v=void 0),a=a||{},n)a[x]=P;else{let O=eh(e,x);a[O.route.id]==null&&(a[O.route.id]=P)}r||(s[x]=rz),h||(h=!0,u=e_(M.error)?M.error.status:500),M.headers&&(f[x]=M.headers)}else s[x]=M.data,M.statusCode&&M.statusCode!==200&&!h&&(u=M.statusCode),M.headers&&(f[x]=M.headers)}),v!==void 0&&i&&(a={[i[0]]:v},i[2]&&(s[i[2]]=void 0)),{loaderData:s,errors:a,statusCode:u||200,loaderHeaders:f}}function d5(e,t,i,r,n,s){let{loaderData:a,errors:u}=pY(t,i,r);return n.filter(h=>!h.matches||h.matches.some(f=>f.shouldLoad)).forEach(h=>{let{key:f,match:v,controller:w}=h;if(w&&w.signal.aborted)return;let x=s[f];if(Dt(x,"Did not find corresponding fetcher result"),io(x)){let M=eh(e.matches,v?.route.id);u&&u[M.route.id]||(u={...u,[M.route.id]:x.error}),e.fetchers.delete(f)}else if(Kd(x))Dt(!1,"Unhandled fetcher revalidation redirect");else{let M=nu(x.data);e.fetchers.set(f,M)}}),{loaderData:a,errors:u}}function f5(e,t,i,r){let n=Object.entries(t).filter(([,s])=>s!==rz).reduce((s,[a,u])=>(s[a]=u,s),{});for(let s of i){let a=s.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&s.route.loader&&(n[a]=e[a]),r&&r.hasOwnProperty(a))break}return n}function p5(e){return e?io(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function eh(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function kw(e){let t=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Do(e,{pathname:t,routeId:i,method:r,type:n,message:s}={}){let a="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&i?u=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:n==="invalid-body"&&(u="Unable to encode submission body")):e===403?(a="Forbidden",u=`Route "${i}" does not match URL "${t}"`):e===404?(a="Not Found",u=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&i?u=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new NS(e||500,a,new Error(u),!0)}function Iw(e){let t=Object.entries(e);for(let i=t.length-1;i>=0;i--){let[r,n]=t[i];if(Kd(n))return{key:r,result:n}}}function uz(e){let t=typeof e=="string"?Ah(e):e;return _l({...t,hash:""})}function mY(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function gY(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,i])=>typeof t=="string"&&yY(i))}function yY(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function vY(e){return cz(e.result)&&XZ.has(e.result.status)}function io(e){return e.type==="error"}function Kd(e){return(e&&e.type)==="redirect"}function m5(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function cz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function _Y(e){return JZ.has(e.toUpperCase())}function Qn(e){return ZZ.has(e.toUpperCase())}function mP(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function $b(e,t){let i=typeof t=="string"?Ah(t).search:t.search;if(e[e.length-1].route.index&&mP(i||""))return e[e.length-1];let r=Qj(e);return r[r.length-1]}function g5(e){let{formMethod:t,formAction:i,formEncType:r,text:n,formData:s,json:a}=e;if(!(!t||!i||!r)){if(n!=null)return{formMethod:t,formAction:i,formEncType:r,formData:void 0,json:void 0,text:n};if(s!=null)return{formMethod:t,formAction:i,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:i,formEncType:r,formData:void 0,json:a,text:void 0}}}function sE(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wY(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function hv(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function bY(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function nu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SY(e,t){try{let i=e.sessionStorage.getItem(iz);if(i){let r=JSON.parse(i);for(let[n,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(n,new Set(s||[]))}}catch{}}function xY(e,t){if(t.size>0){let i={};for(let[r,n]of t)i[r]=[...n];try{e.sessionStorage.setItem(iz,JSON.stringify(i))}catch(r){Nr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function TY(){let e,t,i=new Promise((r,n)=>{e=async s=>{r(s);try{await i}catch{}},t=async s=>{n(s);try{await i}catch{}}});return{promise:i,resolve:e,reject:t}}var jf=oe.createContext(null);jf.displayName="DataRouter";var k_=oe.createContext(null);k_.displayName="DataRouterState";oe.createContext(!1);var gP=oe.createContext({isTransitioning:!1});gP.displayName="ViewTransition";var hz=oe.createContext(new Map);hz.displayName="Fetchers";var MY=oe.createContext(null);MY.displayName="Await";var El=oe.createContext(null);El.displayName="Navigation";var W2=oe.createContext(null);W2.displayName="Location";var $l=oe.createContext({outlet:null,matches:[],isDataRoute:!1});$l.displayName="Route";var yP=oe.createContext(null);yP.displayName="RouteError";function EY(e,{relative:t}={}){Dt(I_(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=oe.useContext(El),{hash:n,pathname:s,search:a}=N_(e,{relative:t}),u=s;return i!=="/"&&(u=s==="/"?i:pl([i,s])),r.createHref({pathname:u,search:a,hash:n})}function I_(){return oe.useContext(W2)!=null}function zf(){return Dt(I_(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(W2).location}var dz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fz(e){oe.useContext(El).static||oe.useLayoutEffect(e)}function $Y(){let{isDataRoute:e}=oe.useContext($l);return e?BY():CY()}function CY(){Dt(I_(),"useNavigate() may be used only in the context of a <Router> component.");let e=oe.useContext(jf),{basename:t,navigator:i}=oe.useContext(El),{matches:r}=oe.useContext($l),{pathname:n}=zf(),s=JSON.stringify(cP(r)),a=oe.useRef(!1);return fz(()=>{a.current=!0}),oe.useCallback((h,f={})=>{if(Nr(a.current,dz),!a.current)return;if(typeof h=="number"){i.go(h);return}let v=hP(h,JSON.parse(s),n,f.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:pl([t,v.pathname])),(f.replace?i.replace:i.push)(v,f.state,f)},[t,i,s,n,e])}var OY=oe.createContext(null);function PY(e){let t=oe.useContext($l).outlet;return oe.useMemo(()=>t&&oe.createElement(OY.Provider,{value:e},t),[t,e])}function N_(e,{relative:t}={}){let{matches:i}=oe.useContext($l),{pathname:r}=zf(),n=JSON.stringify(cP(i));return oe.useMemo(()=>hP(e,JSON.parse(n),r,t==="path"),[e,n,r,t])}function AY(e,t,i,r,n){Dt(I_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=oe.useContext(El),{matches:a}=oe.useContext($l),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",v=u?u.pathnameBase:"/",w=u&&u.route;{let Y=w&&w.path||"";pz(f,!w||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let x=zf(),M;M=x;let P=M.pathname||"/",O=P;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");O="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let F=Qc(e,{pathname:O});return Nr(w||F!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Nr(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),NY(F&&F.map(Y=>Object.assign({},Y,{params:Object.assign({},h,Y.params),pathname:pl([v,s.encodeLocation?s.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:pl([v,s.encodeLocation?s.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),a,i,r,n)}function RY(){let e=FY(),t=e_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:s},"ErrorBoundary")," or"," ",oe.createElement("code",{style:s},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},t),i?oe.createElement("pre",{style:n},i):null,a)}var LY=oe.createElement(RY,null),kY=class extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?oe.createElement($l.Provider,{value:this.props.routeContext},oe.createElement(yP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IY({routeContext:e,match:t,children:i}){let r=oe.useContext(jf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),oe.createElement($l.Provider,{value:e},i)}function NY(e,t=[],i=null,r=null,n=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let s=e,a=i?.errors;if(a!=null){let f=s.findIndex(v=>v.route.id&&a?.[v.route.id]!==void 0);Dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(i)for(let f=0;f<s.length;f++){let v=s[f];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=f),v.route.id){let{loaderData:w,errors:x}=i,M=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||M){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,v,w)=>{let x,M=!1,P=null,O=null;i&&(x=a&&v.route.id?a[v.route.id]:void 0,P=v.route.errorElement||LY,u&&(h<0&&w===0?(pz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,O=null):h===w&&(M=!0,O=v.route.hydrateFallbackElement||null)));let F=t.concat(s.slice(0,w+1)),G=()=>{let Y;return x?Y=P:M?Y=O:v.route.Component?Y=oe.createElement(v.route.Component,null):v.route.element?Y=v.route.element:Y=f,oe.createElement(IY,{match:v,routeContext:{outlet:f,matches:F,isDataRoute:i!=null},children:Y})};return i&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?oe.createElement(kY,{location:i.location,revalidation:i.revalidation,component:P,error:x,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:r}):G()},null)}function vP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DY(e){let t=oe.useContext(jf);return Dt(t,vP(e)),t}function jY(e){let t=oe.useContext(k_);return Dt(t,vP(e)),t}function zY(e){let t=oe.useContext($l);return Dt(t,vP(e)),t}function _P(e){let t=zY(e),i=t.matches[t.matches.length-1];return Dt(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function UY(){return _P("useRouteId")}function FY(){let e=oe.useContext(yP),t=jY("useRouteError"),i=_P("useRouteError");return e!==void 0?e:t.errors?.[i]}function BY(){let{router:e}=DY("useNavigate"),t=_P("useNavigate"),i=oe.useRef(!1);return fz(()=>{i.current=!0}),oe.useCallback(async(n,s={})=>{Nr(i.current,dz),i.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...s}))},[e,t])}var y5={};function pz(e,t,i){!t&&!y5[e]&&(y5[e]=!0,Nr(!1,i))}var v5={};function _5(e,t){!e&&!v5[t]&&(v5[t]=!0,console.warn(t))}function qY(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Nr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:oe.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Nr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:oe.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Nr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:oe.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var GY=["HydrateFallback","hydrateFallbackElement"],VY=class{constructor(){this.status="pending",this.promise=new Promise((t,i)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",i(r))}})}};function HY({router:e,flushSync:t,unstable_onError:i}){let[r,n]=oe.useState(e.state),[s,a]=oe.useState(),[u,h]=oe.useState({isTransitioning:!1}),[f,v]=oe.useState(),[w,x]=oe.useState(),[M,P]=oe.useState(),O=oe.useRef(new Map),F=oe.useCallback(E=>{n(A=>(E.errors&&i&&Object.entries(E.errors).forEach(([k,V])=>{A.errors?.[k]!==V&&i(V)}),E))},[i]),G=oe.useCallback((E,{deletedFetchers:A,flushSync:k,viewTransitionOpts:V})=>{E.fetchers.forEach((q,X)=>{q.data!==void 0&&O.current.set(X,q.data)}),A.forEach(q=>O.current.delete(q)),_5(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let H=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(_5(V==null||H,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!H){t&&k?t(()=>F(E)):oe.startTransition(()=>F(E));return}if(t&&k){t(()=>{w&&(f&&f.resolve(),w.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let q=e.window.document.startViewTransition(()=>{t(()=>F(E))});q.finished.finally(()=>{t(()=>{v(void 0),x(void 0),a(void 0),h({isTransitioning:!1})})}),t(()=>x(q));return}w?(f&&f.resolve(),w.skipTransition(),P({state:E,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(E),h({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[e.window,t,w,f,F]);oe.useLayoutEffect(()=>e.subscribe(G),[e,G]),oe.useEffect(()=>{u.isTransitioning&&!u.flushSync&&v(new VY)},[u]),oe.useEffect(()=>{if(f&&s&&e.window){let E=s,A=f.promise,k=e.window.document.startViewTransition(async()=>{oe.startTransition(()=>F(E)),await A});k.finished.finally(()=>{v(void 0),x(void 0),a(void 0),h({isTransitioning:!1})}),x(k)}},[s,f,e.window,F]),oe.useEffect(()=>{f&&s&&r.location.key===s.location.key&&f.resolve()},[f,w,r.location,s]),oe.useEffect(()=>{!u.isTransitioning&&M&&(a(M.state),h({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}),P(void 0))},[u.isTransitioning,M]);let Y=oe.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,A,k)=>e.navigate(E,{state:A,preventScrollReset:k?.preventScrollReset}),replace:(E,A,k)=>e.navigate(E,{replace:!0,state:A,preventScrollReset:k?.preventScrollReset})}),[e]),U=e.basename||"/",C=oe.useMemo(()=>({router:e,navigator:Y,static:!1,basename:U,unstable_onError:i}),[e,Y,U,i]);return oe.createElement(oe.Fragment,null,oe.createElement(jf.Provider,{value:C},oe.createElement(k_.Provider,{value:r},oe.createElement(hz.Provider,{value:O.current},oe.createElement(gP.Provider,{value:u},oe.createElement(JY,{basename:U,location:r.location,navigationType:r.historyAction,navigator:Y},oe.createElement(WY,{routes:e.routes,future:e.future,state:r,unstable_onError:i})))))),null)}var WY=oe.memo(ZY);function ZY({routes:e,future:t,state:i,unstable_onError:r}){return AY(e,void 0,i,r,t)}function YY(e){return PY(e.context)}function JY({basename:e="/",children:t=null,location:i,navigationType:r="POP",navigator:n,static:s=!1}){Dt(!I_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:a,navigator:n,static:s,future:{}}),[a,n,s]);typeof i=="string"&&(i=Ah(i));let{pathname:h="/",search:f="",hash:v="",state:w=null,key:x="default"}=i,M=oe.useMemo(()=>{let P=Zo(h,a);return P==null?null:{location:{pathname:P,search:f,hash:v,state:w,key:x},navigationType:r}},[a,h,f,v,w,x,r]);return Nr(M!=null,`<Router basename="${a}"> is not able to match the URL "${h}${f}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:oe.createElement(El.Provider,{value:u},oe.createElement(W2.Provider,{children:t,value:M}))}var Cb="get",Ob="application/x-www-form-urlencoded";function Z2(e){return e!=null&&typeof e.tagName=="string"}function XY(e){return Z2(e)&&e.tagName.toLowerCase()==="button"}function KY(e){return Z2(e)&&e.tagName.toLowerCase()==="form"}function QY(e){return Z2(e)&&e.tagName.toLowerCase()==="input"}function eJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tJ(e,t){return e.button===0&&(!t||t==="_self")&&!eJ(e)}var Nw=null;function iJ(){if(Nw===null)try{new FormData(document.createElement("form"),0),Nw=!1}catch{Nw=!0}return Nw}var rJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oE(e){return e!=null&&!rJ.has(e)?(Nr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ob}"`),null):e}function nJ(e,t){let i,r,n,s,a;if(KY(e)){let u=e.getAttribute("action");r=u?Zo(u,t):null,i=e.getAttribute("method")||Cb,n=oE(e.getAttribute("enctype"))||Ob,s=new FormData(e)}else if(XY(e)||QY(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(r=h?Zo(h,t):null,i=e.getAttribute("formmethod")||u.getAttribute("method")||Cb,n=oE(e.getAttribute("formenctype"))||oE(u.getAttribute("enctype"))||Ob,s=new FormData(u,e),!iJ()){let{name:f,type:v,value:w}=e;if(v==="image"){let x=f?`${f}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else f&&s.append(f,w)}}else{if(Z2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Cb,r=null,n=Ob,a=e}return s&&n==="text/plain"&&(a=s,s=void 0),{action:r,method:i.toLowerCase(),encType:n,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wP(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sJ(e,t,i){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&Zo(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function oJ(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aJ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lJ(e,t,i){let r=await Promise.all(e.map(async n=>{let s=t.routes[n.route.id];if(s){let a=await oJ(s,i);return a.links?a.links():[]}return[]}));return dJ(r.flat(1).filter(aJ).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function w5(e,t,i,r,n,s){let a=(h,f)=>i[f]?h.route.id!==i[f].route.id:!0,u=(h,f)=>i[f].pathname!==h.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==h.params["*"];return s==="assets"?t.filter((h,f)=>a(h,f)||u(h,f)):s==="data"?t.filter((h,f)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(a(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function uJ(e,t,{includeHydrateFallback:i}={}){return cJ(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let s=[n.module];return n.clientActionModule&&(s=s.concat(n.clientActionModule)),n.clientLoaderModule&&(s=s.concat(n.clientLoaderModule)),i&&n.hydrateFallbackModule&&(s=s.concat(n.hydrateFallbackModule)),n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function cJ(e){return[...new Set(e)]}function hJ(e){let t={},i=Object.keys(e).sort();for(let r of i)t[r]=e[r];return t}function dJ(e,t){let i=new Set;return new Set(t),e.reduce((r,n)=>{let s=JSON.stringify(hJ(n));return i.has(s)||(i.add(s),r.push({key:s,link:n})),r},[])}function mz(){let e=oe.useContext(jf);return wP(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fJ(){let e=oe.useContext(k_);return wP(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bP=oe.createContext(void 0);bP.displayName="FrameworkContext";function gz(){let e=oe.useContext(bP);return wP(e,"You must render this element inside a <HydratedRouter> element"),e}function pJ(e,t){let i=oe.useContext(bP),[r,n]=oe.useState(!1),[s,a]=oe.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:v,onTouchStart:w}=t,x=oe.useRef(null);oe.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let O=G=>{G.forEach(Y=>{a(Y.isIntersecting)})},F=new IntersectionObserver(O,{threshold:.5});return x.current&&F.observe(x.current),()=>{F.disconnect()}}},[e]),oe.useEffect(()=>{if(r){let O=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(O)}}},[r]);let M=()=>{n(!0)},P=()=>{n(!1),a(!1)};return i?e!=="intent"?[s,x,{}]:[s,x,{onFocus:dv(u,M),onBlur:dv(h,P),onMouseEnter:dv(f,M),onMouseLeave:dv(v,P),onTouchStart:dv(w,M)}]:[!1,x,{}]}function dv(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function mJ({page:e,...t}){let{router:i}=mz(),r=oe.useMemo(()=>Qc(i.routes,e,i.basename),[i.routes,e,i.basename]);return r?oe.createElement(yJ,{page:e,matches:r,...t}):null}function gJ(e){let{manifest:t,routeModules:i}=gz(),[r,n]=oe.useState([]);return oe.useEffect(()=>{let s=!1;return lJ(e,t,i).then(a=>{s||n(a)}),()=>{s=!0}},[e,t,i]),r}function yJ({page:e,matches:t,...i}){let r=zf(),{manifest:n,routeModules:s}=gz(),{basename:a}=mz(),{loaderData:u,matches:h}=fJ(),f=oe.useMemo(()=>w5(e,t,h,n,r,"data"),[e,t,h,n,r]),v=oe.useMemo(()=>w5(e,t,h,n,r,"assets"),[e,t,h,n,r]),w=oe.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let P=new Set,O=!1;if(t.forEach(G=>{let Y=n.routes[G.route.id];!Y||!Y.hasLoader||(!f.some(U=>U.route.id===G.route.id)&&G.route.id in u&&s[G.route.id]?.shouldRevalidate||Y.hasClientLoader?O=!0:P.add(G.route.id))}),P.size===0)return[];let F=sJ(e,a,"data");return O&&P.size>0&&F.searchParams.set("_routes",t.filter(G=>P.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[a,u,r,n,f,t,e,s]),x=oe.useMemo(()=>uJ(v,n),[v,n]),M=gJ(v);return oe.createElement(oe.Fragment,null,w.map(P=>oe.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...i})),x.map(P=>oe.createElement("link",{key:P,rel:"modulepreload",href:P,...i})),M.map(({key:P,link:O})=>oe.createElement("link",{key:P,nonce:i.nonce,...O})))}function vJ(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var yz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yz&&(window.__reactRouterVersion="7.9.5")}catch{}function _J(e,t){return iY({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:mZ({window:t?.window}),hydrationData:wJ(),routes:e,mapRouteProperties:qY,hydrationRouteProperties:GY,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function wJ(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:bJ(e.errors)}),e}function bJ(e){if(!e)return null;let t=Object.entries(e),i={};for(let[r,n]of t)if(n&&n.__type==="RouteErrorResponse")i[r]=new NS(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let s=window[n.__subType];if(typeof s=="function")try{let a=new s(n.message);a.stack="",i[r]=a}catch{}}if(i[r]==null){let s=new Error(n.message);s.stack="",i[r]=s}}else i[r]=n;return i}var vz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=oe.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:n,reloadDocument:s,replace:a,state:u,target:h,to:f,preventScrollReset:v,viewTransition:w,...x},M){let{basename:P}=oe.useContext(El),O=typeof f=="string"&&vz.test(f),F,G=!1;if(typeof f=="string"&&O&&(F=f,yz))try{let H=new URL(window.location.href),q=f.startsWith("//")?new URL(H.protocol+f):new URL(f),X=Zo(q.pathname,P);q.origin===H.origin&&X!=null?f=X+q.search+q.hash:G=!0}catch{Nr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=EY(f,{relative:n}),[U,C,E]=pJ(r,x),A=MJ(f,{replace:a,state:u,target:h,preventScrollReset:v,relative:n,viewTransition:w});function k(H){t&&t(H),H.defaultPrevented||A(H)}let V=oe.createElement("a",{...x,...E,href:F||Y,onClick:G||s?t:k,ref:vJ(M,C),target:h,"data-discover":!O&&i==="render"?"true":void 0});return U&&!O?oe.createElement(oe.Fragment,null,V,oe.createElement(mJ,{page:Y})):V});Ts.displayName="Link";var SJ=oe.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:n=!1,style:s,to:a,viewTransition:u,children:h,...f},v){let w=N_(a,{relative:f.relative}),x=zf(),M=oe.useContext(k_),{navigator:P,basename:O}=oe.useContext(El),F=M!=null&&PJ(w)&&u===!0,G=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,Y=x.pathname,U=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),U=U?U.toLowerCase():null,G=G.toLowerCase()),U&&O&&(U=Zo(U,O)||U);const C=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let E=Y===G||!n&&Y.startsWith(G)&&Y.charAt(C)==="/",A=U!=null&&(U===G||!n&&U.startsWith(G)&&U.charAt(G.length)==="/"),k={isActive:E,isPending:A,isTransitioning:F},V=E?t:void 0,H;typeof r=="function"?H=r(k):H=[r,E?"active":null,A?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(k):s;return oe.createElement(Ts,{...f,"aria-current":V,className:H,ref:v,style:q,to:a,viewTransition:u},typeof h=="function"?h(k):h)});SJ.displayName="NavLink";var xJ=oe.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:n,state:s,method:a=Cb,action:u,onSubmit:h,relative:f,preventScrollReset:v,viewTransition:w,...x},M)=>{let P=CJ(),O=OJ(u,{relative:f}),F=a.toLowerCase()==="get"?"get":"post",G=typeof u=="string"&&vz.test(u),Y=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let C=U.nativeEvent.submitter,E=C?.getAttribute("formmethod")||a;P(C||U.currentTarget,{fetcherKey:t,method:E,navigate:i,replace:n,state:s,relative:f,preventScrollReset:v,viewTransition:w})};return oe.createElement("form",{ref:M,method:F,action:O,onSubmit:r?h:Y,...x,"data-discover":!G&&e==="render"?"true":void 0})});xJ.displayName="Form";function TJ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _z(e){let t=oe.useContext(jf);return Dt(t,TJ(e)),t}function MJ(e,{target:t,replace:i,state:r,preventScrollReset:n,relative:s,viewTransition:a}={}){let u=$Y(),h=zf(),f=N_(e,{relative:s});return oe.useCallback(v=>{if(tJ(v,t)){v.preventDefault();let w=i!==void 0?i:_l(h)===_l(f);u(e,{replace:w,state:r,preventScrollReset:n,relative:s,viewTransition:a})}},[h,u,f,i,r,t,e,n,s,a])}var EJ=0,$J=()=>`__${String(++EJ)}__`;function CJ(){let{router:e}=_z("useSubmit"),{basename:t}=oe.useContext(El),i=UY();return oe.useCallback(async(r,n={})=>{let{action:s,method:a,encType:u,formData:h,body:f}=nJ(r,t);if(n.navigate===!1){let v=n.fetcherKey||$J();await e.fetch(v,i,n.action||s,{preventScrollReset:n.preventScrollReset,formData:h,body:f,formMethod:n.method||a,formEncType:n.encType||u,flushSync:n.flushSync})}else await e.navigate(n.action||s,{preventScrollReset:n.preventScrollReset,formData:h,body:f,formMethod:n.method||a,formEncType:n.encType||u,replace:n.replace,state:n.state,fromRouteId:i,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,i])}function OJ(e,{relative:t}={}){let{basename:i}=oe.useContext(El),r=oe.useContext($l);Dt(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),s={...N_(e||".",{relative:t})},a=zf();if(e==null){s.search=a.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(v=>v==="")){u.delete("index"),h.filter(w=>w).forEach(w=>u.append("index",w));let v=u.toString();s.search=v?`?${v}`:""}}return(!e||e===".")&&n.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(s.pathname=s.pathname==="/"?i:pl([i,s.pathname])),_l(s)}function PJ(e,{relative:t}={}){let i=oe.useContext(gP);Dt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_z("useViewTransitionState"),n=N_(e,{relative:t});if(!i.isTransitioning)return!1;let s=Zo(i.currentLocation.pathname,r)||i.currentLocation.pathname,a=Zo(i.nextLocation.pathname,r)||i.nextLocation.pathname;return IS(n.pathname,a)!=null||IS(n.pathname,s)!=null}var wz=Zj();function AJ(e){return oe.createElement(HY,{flushSync:wz.flushSync,...e})}const Gg=""+new URL("PRLHMO_LOGO-BKrWgKH4.svg",import.meta.url).href,RJ=""+new URL("LANDSLIDEREADY_LOGO-DTBvLp9f.png",import.meta.url).href;function LJ(){const[e,t]=oe.useState(null),[i,r]=oe.useState(!1),n=s=>{t(e===s?null:s)};return D.jsx("nav",{className:"nav",children:D.jsxs("div",{className:"nav__inner",children:[D.jsx(Ts,{to:"/",className:"nav__brand","aria-label":"Ir al inicio",children:D.jsx("img",{src:Gg,alt:"PR Landslide Hazard Mitigation Office",className:"nav__logo"})}),D.jsx("button",{className:"nav__hamburger","aria-label":"Toggle menu",onClick:()=>r(!i),children:""}),D.jsxs("ul",{className:`nav__list ${i?"active":""}`,children:[D.jsx("li",{className:"nav__item",children:D.jsx(Ts,{to:"/",className:"nav__link",children:"Inicio"})}),D.jsx("li",{className:"nav__item",children:D.jsx(Ts,{to:"/sobre-nosotros",className:"nav__link",children:"Sobre Nosotros"})}),D.jsxs("li",{className:"nav__item nav__item--dropdown",children:[D.jsxs("button",{className:"nav__link nav__toggle",onClick:()=>n("investigacin"),children:["Investigacin ",e==="investigacin"?"":""]}),e==="investigacin"&&D.jsxs("ul",{className:"nav__menu",children:[D.jsx("li",{children:D.jsx(Ts,{to:"/proyectos",className:"nav__sublink",children:"Proyectos"})}),D.jsx("li",{children:D.jsx(Ts,{to:"/publicaciones",className:"nav__sublink",children:"Publicaciones"})})]})]}),D.jsxs("li",{className:"nav__item nav__item--dropdown",children:[D.jsxs("button",{className:"nav__link nav__toggle",onClick:()=>n("monitoreo"),children:["Monitoreo ",e==="monitoreo"?"":""]}),e==="monitoreo"&&D.jsxs("ul",{className:"nav__menu",children:[D.jsx("li",{children:D.jsx(Ts,{to:"/mapa-interactivo",className:"nav__sublink",children:"Mapa Interactivo"})}),D.jsx("li",{children:D.jsx(Ts,{to:"/pronostico-lluvia",className:"nav__sublink",children:"Pronstico de lluvia"})})]})]}),D.jsxs("li",{className:"nav__item nav__item--dropdown",children:[D.jsxs("button",{className:"nav__link nav__toggle",onClick:()=>n("recursos"),children:["Recursos ",e==="recursos"?"":""]}),e==="recursos"&&D.jsx("ul",{className:"nav__menu",children:D.jsx("li",{children:D.jsx(Ts,{to:"/guia-deslizamientos",className:"nav__sublink",children:"Gua sobre Deslizamientos"})})})]}),D.jsx("li",{className:"nav__item",children:D.jsx(Ts,{to:"/reportar",className:"nav__link",children:"Reportar"})}),D.jsxs("li",{className:"nav__item nav__item--dropdown",children:[D.jsxs("button",{className:"nav__link nav__toggle",onClick:()=>n("landslideready"),children:[D.jsx("img",{src:RJ,alt:"LandslideReady PR",className:"nav__logo",style:{height:"1.5rem",verticalAlign:"middle"}})," ",e==="landslideready"?"":""]}),e==="landslideready"&&D.jsxs("ul",{className:"nav__menu",children:[D.jsx("li",{children:D.jsx(Ts,{to:"/landslideready-individuos",className:"nav__sublink",children:"LandslideReady para Individuos"})}),D.jsx("li",{children:D.jsx(Ts,{to:"/landslideready-municipios",className:"nav__sublink",children:"LandslideReady para Municipios"})})]})]})]})]})})}const kJ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-204.79995%20-341.33325%201774.9329%202047.9995'%3e%3cpath%20d='M1365.333%20682.667C1365.333%20305.64%201059.693%200%20682.667%200%20305.64%200%200%20305.64%200%20682.667c0%20340.738%20249.641%20623.16%20576%20674.373V880H402.667V682.667H576v-150.4c0-171.094%20101.917-265.6%20257.853-265.6%2074.69%200%20152.814%2013.333%20152.814%2013.333v168h-86.083c-84.804%200-111.25%2052.623-111.25%20106.61v128.057h189.333L948.4%20880H789.333v477.04c326.359-51.213%20576-333.635%20576-674.373'%20fill='%23100f0d'/%3e%3cpath%20d='M948.4%20880l30.267-197.333H789.333V554.609C789.333%20500.623%20815.78%20448%20900.584%20448h86.083V280s-78.124-13.333-152.814-13.333c-155.936%200-257.853%2094.506-257.853%20265.6v150.4H402.667V880H576v477.04a687.805%20687.805%200%2000106.667%208.293c36.288%200%2071.91-2.84%20106.666-8.293V880H948.4'%20fill='%23fff'/%3e%3c/svg%3e";function IJ(){return D.jsx("footer",{className:"footer",children:D.jsxs("div",{className:"footer__inner",children:[D.jsxs("div",{className:"footer__top",children:[D.jsxs("div",{className:"footer__left",children:[D.jsx("img",{src:Gg,alt:"PRLHMO Logo",className:"footer__logo"}),D.jsxs("div",{className:"footer__text",children:["Puerto Rico Landslide",D.jsx("br",{}),"Hazard Mitigation Office"]})]}),D.jsx("div",{className:"footer__right",children:D.jsx("a",{href:"https://www.facebook.com/SlidesPR",target:"_blank",rel:"noreferrer",children:D.jsx("img",{src:kJ,alt:"Facebook",className:"footer__icon"})})})]}),D.jsx("p",{className:"footer__disclaimer",children:"La informacin que se ofrece en este sitio web se proporciona tal cual, debe considerarse provisional y est sujeta a cambios. La informacin no ha sido revisada ni avalada por ninguna agencia u organizacin. Los autores y editores de esta informacin rechazan cualquier prdida o responsabilidad, ya sea directa o indirectamente, como consecuencia de la aplicacin de la informacin proporcionada en este documento, o en relacin con el uso y la aplicacin de dicha informacin. No se ofrece garanta alguna, ya sea expresa o implcita, con respecto a la exactitud o aceptabilidad de la informacin."})]})})}function NJ(){return D.jsxs("div",{id:"root",style:{width:"100%",overflowX:"hidden"},children:[D.jsx(LJ,{}),D.jsx(YY,{})," ",D.jsx(IJ,{})]})}const DJ=""+new URL("landing_page_background-BcEPuPlt.webp",import.meta.url).href,jJ=""+new URL("interactive_map_preview-B8xR5_sJ.webp",import.meta.url).href,zJ=""+new URL("landslide_landing_page-Bu-f5FGP.webp",import.meta.url).href,UJ=""+new URL("alturas_de_belgica-DUbhqhGN.gif",import.meta.url).href,FJ=""+new URL("office_door-CO8Evxpg.webp",import.meta.url).href,BJ=""+new URL("UPRM_LOGO-C8Vzu2Xp.png",import.meta.url).href,qJ=""+new URL("CCFLH_LOGO-Bg6_awAj.svg",import.meta.url).href;function GJ(){return D.jsxs("div",{className:"landing",children:[D.jsx("section",{className:"hero",style:{backgroundImage:`url(${DJ})`},children:D.jsxs("div",{className:"hero__overlay",children:[D.jsxs("div",{className:"hero__logos",children:[D.jsx("img",{src:Gg,alt:"PRLHMO Logo",className:"hero__logo hero__logo--left"}),D.jsxs("h1",{className:"hero__title",children:["Oficina de Mitigacin ante ",D.jsx("br",{}),"Deslizamientos de Tierra en Puerto Rico"]}),D.jsx("img",{src:BJ,alt:"UPRM Logo",className:"hero__logo hero__logo--right"})]}),D.jsxs("div",{className:"hero__buttons",children:[D.jsx("a",{href:"#contact",className:"btn btn--contact",children:"Contctenos"}),D.jsx(Ts,{to:"/solicitud",className:"btn btn--outline",children:"Solicitud de Charla"})]})]})}),D.jsxs("section",{className:"landing__map",children:[D.jsxs("div",{className:"landing__map-text",children:[D.jsx("h2",{children:"Explora nuestro Mapa Interactivo de Monitoreo de Deslizamientos"}),D.jsx("p",{children:"Herramienta interactiva que muestra, en tiempo real, datos de saturacin del suelo, susceptibilidad a deslizamientos y estimaciones de precipitacin en Puerto Rico."}),D.jsx("a",{className:"landing__map-link",children:"Haz clic en el mapa!"})]}),D.jsx("img",{className:"landing__map-image",src:jJ,alt:"Mapa interactivo",loading:"lazy"})]}),D.jsxs("section",{className:"landing__report",children:[D.jsxs("div",{className:"landing__report-text",children:[D.jsx("h2",{children:"Reporta un Deslizamiento"}),D.jsx("p",{children:"Aydanos a mejorar el monitoreo reportando deslizamientos que observes en tu rea. Tu apoyo puede brindar ayuda para la comunidad."}),D.jsx("a",{href:"/reportar",className:"btn--black",children:"Haz tu Reporte!"})]}),D.jsx("div",{className:"landing__report-image-wrapper",children:D.jsx("img",{src:zJ,alt:"Ejemplo de deslizamiento",className:"landing__report-image",loading:"lazy"})})]}),D.jsxs("section",{className:"landing__featured-news",children:[D.jsx("div",{className:"landing__featured-news-image-wrapper",children:D.jsx("img",{className:"landing__featured-news-image",src:UJ,alt:"Deslizamiento en Alturas de Blgica",loading:"lazy"})}),D.jsxs("div",{className:"landing__featured-news-text",children:[D.jsx("h2",{children:"Noticia Destacada:"}),D.jsx("h3",{children:"Alturas de Blgica, Gunica, PR"}),D.jsx("p",{className:"landing__featured-news-date",children:"Junio 2024 - Septiembre 2024"}),D.jsx("p",{children:"Vea a continuacin el lapso de tiempo ms reciente del deslizamiento de tierra en Alturas de Blgica, Gunica, PR."}),D.jsx("p",{children:"This project is an effort of the Puerto Rico Landslide Hazard Mitigation Office and the NSF Collaborative Center for Landslide Geohazards."}),D.jsx("img",{className:"landing__featured-news-logo",src:qJ,alt:"Collaborative Center for Landslide Geohazards"})]})]}),D.jsxs("section",{id:"contact",className:"landing__contact",children:[D.jsxs("div",{className:"landing__contact-text",children:[D.jsx("h2",{children:"Contctenos"}),D.jsx("hr",{}),D.jsxs("p",{children:[D.jsx("strong",{children:"Email:"}),D.jsx("br",{}),"slidespr@uprm.edu"]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Telfono:"}),D.jsx("br",{}),"787-832-4040 Ext. 6844"]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Oficina:"}),D.jsx("br",{}),"Residencia 4B",D.jsx("br",{}),"Universidad de Puerto Rico, Recinto de Mayagez"]})]}),D.jsx("div",{className:"landing__contact-image-wrapper",children:D.jsx("img",{className:"landing__contact-image",src:FJ,alt:"Rtulo de oficina",loading:"lazy"})})]})]})}const VJ=""+new URL("office_monitors-BJrMPW9o.webp",import.meta.url).href,HJ=""+new URL("coordinator_professor-Dgw2j_r0.webp",import.meta.url).href,WJ=""+new URL("assistant_researcher_1-D84xXbv2.webp",import.meta.url).href,ZJ=""+new URL("assistant_researcher_2-C6JOrPAc.webp",import.meta.url).href,aE=""+new URL("LINKEDIN_LOGO-Cuc_o8Q6.svg",import.meta.url).href;function YJ(){return D.jsxs("section",{className:"about",children:[D.jsxs("div",{className:"about__content",children:[D.jsx("div",{className:"about__image-wrapper",children:D.jsx("img",{src:VJ,alt:"Monitores de la oficina",className:"about__image",loading:"lazy"})}),D.jsxs("div",{className:"about__text-block",children:[D.jsx("img",{src:Gg,alt:"Logo PRLHMO",className:"about__logo-bg"}),D.jsx("h1",{className:"about__title",children:"Quines somos?"}),D.jsx("p",{className:"about__description",children:"La Oficina de Mitigacin de Peligros de Deslizamientos de Tierra en Puerto Rico es parte del Departamento de Geologa de la Universidad de Puerto Rico en Mayagez. La oficina trabaja con diversas agencias, partes interesadas, organizaciones comunitarias y otros en los asuntos relacionados con los peligros de deslizamientos de tierra en Puerto Rico."}),D.jsxs("p",{className:"about__mission",children:[D.jsx("strong",{children:"Misin:"})," Llevar a cabo investigaciones continuas y actividades de participacin comunitaria relacionadas con los peligros de deslizamientos de tierra en Puerto Rico."]}),D.jsxs("p",{className:"about__vision",children:[D.jsx("strong",{children:"Visin:"})," Ciencia y preparacin para los peligros de deslizamientos de tierra en Puerto Rico."]})]})]}),D.jsx("div",{className:"directory__title",children:"Directorio de Oficina"}),D.jsx("h2",{className:"directory__subtitle",children:"Facultad"}),D.jsxs("div",{className:"directory__profiles",children:[D.jsxs("div",{className:"directory__card",children:[D.jsx("img",{src:HJ,alt:"Stephen Hughes",className:"profile"}),D.jsxs("div",{className:"directory__info",children:[D.jsx("div",{className:"directory__linkedin",children:D.jsx("div",{className:"directory__linkedin-box",children:D.jsx("a",{href:"https://www.linkedin.com/in/stephen-hughes-1a35a091/",target:"_blank",rel:"noreferrer",children:D.jsx("img",{src:aE,alt:"LinkedIn",className:"footer__icon"})})})}),D.jsxs("div",{className:"directory__person-info",children:[D.jsx("strong",{children:"Stephen Hughes"}),D.jsx("p",{children:"Coordinator and PI"}),D.jsxs("p",{children:["kenneth.hughes@upr.edu ",D.jsx("br",{}),"(787) 832-4040 ",D.jsx("br",{}),"Ext. 6844, 2706"]})]})]})]}),D.jsxs("div",{className:"directory__card",children:[D.jsx("img",{src:WJ,alt:"Pedro Matos",className:"profile"}),D.jsxs("div",{className:"directory__info",children:[D.jsx("div",{className:"directory__linkedin",children:D.jsx("div",{className:"directory__linkedin-box",children:D.jsx("a",{href:"https://www.linkedin.com/in/matosllavonap",target:"_blank",rel:"noreferrer",children:D.jsx("img",{src:aE,alt:"LinkedIn",className:"footer__icon"})})})}),D.jsxs("div",{className:"directory__person-info",children:[D.jsx("strong",{children:"Pedro Matos"}),D.jsx("p",{children:"Assistant Researcher"}),D.jsxs("p",{children:["pedro.matos4@upr.edu ",D.jsx("br",{}),"(787) 832-4040 ",D.jsx("br",{}),"Ext. 6843"]})]})]})]}),D.jsxs("div",{className:"directory__card",children:[D.jsx("img",{src:ZJ,alt:"Isabella Cmara",className:"profile"}),D.jsxs("div",{className:"directory__info",children:[D.jsx("div",{className:"directory__linkedin",children:D.jsx("div",{className:"directory__linkedin-box",children:D.jsx("a",{href:"https://www.linkedin.com/in/isabella-camara-torres-",target:"_blank",rel:"noreferrer",children:D.jsx("img",{src:aE,alt:"LinkedIn",className:"footer__icon"})})})}),D.jsxs("div",{className:"directory__person-info",children:[D.jsx("strong",{children:"Isabella Cmara"}),D.jsx("p",{children:"Assistant Researcher"}),D.jsxs("p",{children:["isabella.camara@upr.edu ",D.jsx("br",{}),"(787) 832-4040 ",D.jsx("br",{}),"Ext. 6843"]})]})]})]})]}),D.jsxs("div",{className:"directory__groups",children:[D.jsxs("div",{className:"directory__group",children:[D.jsx("h3",{children:"Estudiantes Graduados"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Anishka Ruiz"}),D.jsx("li",{children:"Csar Rodrguez"}),D.jsx("li",{children:"Tana Figueroa"}),D.jsx("li",{children:"Estefana Vicens"}),D.jsx("li",{children:"Eduardo Gonzlez"}),D.jsx("li",{children:"Karla Torres"})]})]}),D.jsxs("div",{className:"directory__group",children:[D.jsx("h3",{children:"Estudiantes Subgraduados"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Gabriel A. Coln"}),D.jsx("li",{children:"Ednet C. Lpez"}),D.jsx("li",{children:"Ma V. Aponte"}),D.jsx("li",{children:"Anthony Y. Collazo"}),D.jsx("li",{children:"Kyleshaquill Fred"})]})]})]})]})}var Fv={exports:{}},JJ=Fv.exports,b5;function XJ(){return b5||(b5=1,(function(e,t){(function(i,r){r(t)})(JJ,(function(i){class r{constructor(C,E){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=E,this.nowDrawingDensity=this.createdDensity,this.render=C}setDensity(C){this.createdDensity=C,this.nowDrawingDensity=C}setDrawingDensity(C){this.nowDrawingDensity=C}setPosition(C){this.state.position=C}setAngle(C){this.state.angle=C}setArea(C){this.state.area=C}setHardDrawingAngle(C){this.state.hardDrawingAngle=C}setHardAngle(C){this.state.hardAngle=C,this.state.hardDrawingAngle=C}setOrientation(C){this.orientation=C}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class n extends r{constructor(C,E,A){super(C,A),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=E}draw(C){const E=this.render.getContext(),A=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,V=this.render.getRect().height;E.save(),E.translate(A.x,A.y),E.beginPath();for(let H of this.state.area)H!==null&&(H=this.render.convertToGlobal(H),E.lineTo(H.x-A.x,H.y-A.y));E.rotate(this.state.angle),E.clip(),this.isLoad?E.drawImage(this.image,0,0,k,V):this.drawLoader(E,{x:0,y:0},k,V),E.restore()}simpleDraw(C){const E=this.render.getRect(),A=this.render.getContext(),k=E.pageWidth,V=E.height,H=C===1?E.left+E.pageWidth:E.left,q=E.top;this.isLoad?A.drawImage(this.image,H,q,k,V):this.drawLoader(A,{x:H,y:q},k,V)}drawLoader(C,E,A,k){C.beginPath(),C.strokeStyle="rgb(200, 200, 200)",C.fillStyle="rgb(255, 255, 255)",C.lineWidth=1,C.rect(E.x+1,E.y+1,A-1,k-1),C.stroke(),C.fill();const V={x:E.x+A/2,y:E.y+k/2};C.beginPath(),C.lineWidth=10,C.arc(V.x,V.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),C.stroke(),C.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(C,E){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=E,this.app=C,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let E=0;E<this.pages.length;E++)this.portraitSpread.push([E]);let C=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([C]),C++);for(let E=C;E<this.pages.length;E+=2)E<this.pages.length-1?this.landscapeSpread.push([E,E+1]):(this.landscapeSpread.push([E]),this.pages[E].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(C){const E=this.getSpread();for(let A=0;A<E.length;A++)if(C===E[A][0]||C===E[A][1])return A;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(C){if(C>=0&&C<this.pages.length)return this.pages[C];throw new Error("Invalid page number")}nextBy(C){const E=this.pages.indexOf(C);return E<this.pages.length-1?this.pages[E+1]:null}prevBy(C){const E=this.pages.indexOf(C);return E>0?this.pages[E-1]:null}getFlippingPage(C){const E=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return C===0?this.pages[E].newTemporaryCopy():this.pages[E-1];{const A=C===0?this.getSpread()[E+1]:this.getSpread()[E-1];return A.length===1||C===0?this.pages[A[0]]:this.pages[A[1]]}}getBottomPage(C){const E=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return C===0?this.pages[E+1]:this.pages[E-1];{const A=C===0?this.getSpread()[E+1]:this.getSpread()[E-1];return A.length===1?this.pages[A[0]]:C===0?this.pages[A[1]]:this.pages[A[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(C=null){if(C===null&&(C=this.currentPageIndex),C<0||C>=this.pages.length)return;const E=this.getSpreadIndexByPage(C);E!==null&&(this.currentSpreadIndex=E,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(C){if(!(C>=0&&C<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=C}showSpread(){const C=this.getSpread()[this.currentSpreadIndex];C.length===2?(this.render.setLeftPage(this.pages[C[0]]),this.render.setRightPage(this.pages[C[1]])):this.render.getOrientation()==="landscape"&&C[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[C[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[C[0]])),this.currentPageIndex=C[0],this.app.updatePageIndex(this.currentPageIndex)}}class a extends s{constructor(C,E,A){super(C,E),this.imagesHref=A}load(){for(const C of this.imagesHref){const E=new n(this.render,C,"soft");E.load(),this.pages.push(E)}this.createSpread()}}class u{static GetDistanceBetweenTwoPoint(C,E){return C===null||E===null?1/0:Math.sqrt(Math.pow(E.x-C.x,2)+Math.pow(E.y-C.y,2))}static GetSegmentLength(C){return u.GetDistanceBetweenTwoPoint(C[0],C[1])}static GetAngleBetweenTwoLine(C,E){const A=C[0].y-C[1].y,k=E[0].y-E[1].y,V=C[1].x-C[0].x,H=E[1].x-E[0].x;return Math.acos((A*k+V*H)/(Math.sqrt(A*A+V*V)*Math.sqrt(k*k+H*H)))}static PointInRect(C,E){return E===null?null:E.x>=C.left&&E.x<=C.width+C.left&&E.y>=C.top&&E.y<=C.top+C.height?E:null}static GetRotatedPoint(C,E,A){return{x:C.x*Math.cos(A)+C.y*Math.sin(A)+E.x,y:C.y*Math.cos(A)-C.x*Math.sin(A)+E.y}}static LimitPointToCircle(C,E,A){if(u.GetDistanceBetweenTwoPoint(C,A)<=E)return A;const k=C.x,V=C.y,H=A.x,q=A.y;let X=Math.sqrt(Math.pow(E,2)*Math.pow(k-H,2)/(Math.pow(k-H,2)+Math.pow(V-q,2)))+k;A.x<0&&(X*=-1);let ue=(X-k)*(V-q)/(k-H)+V;return k-H+V===0&&(ue=E),{x:X,y:ue}}static GetIntersectBetweenTwoSegment(C,E,A){return u.PointInRect(C,u.GetIntersectBeetwenTwoLine(E,A))}static GetIntersectBeetwenTwoLine(C,E){const A=C[0].y-C[1].y,k=E[0].y-E[1].y,V=C[1].x-C[0].x,H=E[1].x-E[0].x,q=C[0].x*C[1].y-C[1].x*C[0].y,X=E[0].x*E[1].y-E[1].x*E[0].y,ue=A*X-k*q,ne=V*X-H*q,se=-(q*H-X*V)/(A*H-k*V),we=-(A*X-k*q)/(A*H-k*V);if(isFinite(se)&&isFinite(we))return{x:se,y:we};if(Math.abs(ue-ne)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(C,E){const A=Math.abs(C.x-E.x),k=Math.abs(C.y-E.y),V=Math.max(A,k),H=[C];function q(X,ue,ne,se,we){return ue>X?X+we*(ne/se):ue<X?X-we*(ne/se):X}for(let X=1;X<=V;X+=1)H.push({x:q(C.x,E.x,A,V,X),y:q(C.y,E.y,k,V,X)});return H}}class h extends r{constructor(C,E,A){super(C,A),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=E,this.element.classList.add("stf__item"),this.element.classList.add("--"+A)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(C){const E=C||this.nowDrawingDensity,A=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,V=this.render.getRect().height;this.element.classList.remove("--simple");const H=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${k}px;
            height: ${V}px;
        `;E==="hard"?this.drawHard(H):this.drawSoft(A,H)}drawHard(C=""){const E=this.render.getRect().left+this.render.getRect().width/2,A=this.state.hardDrawingAngle,k=C+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${A}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${E}px, 0, 0) rotateY(${A}deg);`);this.element.style.cssText=k}drawSoft(C,E=""){let A="polygon( ";for(const V of this.state.area)if(V!==null){let H=this.render.getDirection()===1?{x:-V.x+this.state.position.x,y:V.y-this.state.position.y}:{x:V.x-this.state.position.x,y:V.y-this.state.position.y};H=u.GetRotatedPoint(H,{x:0,y:0},this.state.angle),A+=H.x+"px "+H.y+"px, "}A=A.slice(0,-2),A+=")";const k=E+`transform-origin: 0 0; clip-path: ${A}; -webkit-clip-path: ${A};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${C.x}px, ${C.y}px);`:`transform: translate3d(${C.x}px, ${C.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=k}simpleDraw(C){const E=this.render.getRect(),A=E.pageWidth,k=E.height,V=C===1?E.left+E.pageWidth:E.left,H=E.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${k}px; 
            left: ${V}px; 
            top: ${H}px; 
            width: ${A}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(C){super.setOrientation(C),this.element.classList.remove("--left","--right"),this.element.classList.add(C===1?"--right":"--left")}setDrawingDensity(C){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+C),super.setDrawingDensity(C)}}class f extends s{constructor(C,E,A,k){super(C,E),this.element=A,this.pagesElement=k}load(){for(const C of this.pagesElement){const E=new h(this.render,C,C.dataset.density==="hard"?"hard":"soft");E.load(),this.pages.push(E)}this.createSpread()}}class v{constructor(C,E,A,k){this.direction=C,this.corner=E,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(A,10),this.pageHeight=parseInt(k,10)}calc(C){try{return this.position=this.calcAngleAndPosition(C),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const C=[];let E=!1;return C.push(this.rect.topLeft),C.push(this.topIntersectPoint),this.sideIntersectPoint===null?E=!0:(C.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(E=!1)),C.push(this.bottomIntersectPoint),(E||this.corner==="bottom")&&C.push(this.rect.bottomLeft),C}getBottomClipArea(){const C=[];return C.push(this.topIntersectPoint),this.corner==="top"?C.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&C.push({x:this.pageWidth,y:0}),C.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?u.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&C.push(this.sideIntersectPoint):this.corner==="top"&&C.push({x:this.pageWidth,y:this.pageHeight}),C.push(this.bottomIntersectPoint),C.push(this.topIntersectPoint),C}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const C=u.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?C:Math.PI-C}calcAngleAndPosition(C){let E=C;if(this.updateAngleAndGeometry(E),E=this.corner==="top"?this.checkPositionAtCenterLine(E,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(E,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(E.x-this.pageWidth)<1&&Math.abs(E.y)<1)throw new Error("Point is too small");return E}updateAngleAndGeometry(C){this.angle=this.calculateAngle(C),this.rect=this.getPageRect(C)}calculateAngle(C){const E=this.pageWidth-C.x+1,A=this.corner==="bottom"?this.pageHeight-C.y:C.y;let k=2*Math.acos(E/Math.sqrt(A*A+E*E));A<0&&(k=-k);const V=Math.PI-k;if(!isFinite(k)||V>=0&&V<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(k=-k),k}getPageRect(C){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],C):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],C)}getRectFromBasePoint(C,E){return{topLeft:this.getRotatedPoint(C[0],E),topRight:this.getRotatedPoint(C[1],E),bottomLeft:this.getRotatedPoint(C[2],E),bottomRight:this.getRotatedPoint(C[3],E)}}getRotatedPoint(C,E){return{x:C.x*Math.cos(this.angle)+C.y*Math.sin(this.angle)+E.x,y:C.y*Math.cos(this.angle)-C.x*Math.sin(this.angle)+E.y}}calculateIntersectPoint(C){const E={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=u.GetIntersectBetweenTwoSegment(E,[C,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=u.GetIntersectBetweenTwoSegment(E,[C,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=u.GetIntersectBetweenTwoSegment(E,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=u.GetIntersectBetweenTwoSegment(E,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=u.GetIntersectBetweenTwoSegment(E,[C,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=u.GetIntersectBetweenTwoSegment(E,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(C,E,A){let k=C;const V=u.LimitPointToCircle(E,this.pageWidth,k);k!==V&&(k=V,this.updateAngleAndGeometry(k));const H=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let q=this.rect.bottomRight,X=this.rect.topLeft;if(this.corner==="bottom"&&(q=this.rect.topRight,X=this.rect.bottomLeft),q.x<=0){const ue=u.LimitPointToCircle(A,H,X);ue!==k&&(k=ue,this.updateAngleAndGeometry(k))}return k}getSegmentToShadowLine(){const C=this.getShadowStartPoint();return[C,C!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class w{constructor(C,E){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=C,this.app=E}fold(C){this.setState("user_fold"),this.calc===null&&this.start(C),this.do(this.render.convertToPage(C))}flip(C){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(C)||(this.calc!==null&&this.render.finishAnimation(),!this.start(C)))return;const E=this.getBoundsRect();this.setState("flipping");const A=E.height/10,k=this.calc.getCorner()==="bottom"?E.height-A:A,V=this.calc.getCorner()==="bottom"?E.height:0;this.calc.calc({x:E.pageWidth-A,y:k}),this.animateFlippingTo({x:E.pageWidth-A,y:k},{x:-E.pageWidth,y:V},!0)}start(C){this.reset();const E=this.render.convertToBook(C),A=this.getBoundsRect(),k=this.getDirectionByPoint(E),V=E.y>=A.height/2?"bottom":"top";if(!this.checkDirection(k))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(k),this.bottomPage=this.app.getPageCollection().getBottomPage(k),this.render.getOrientation()==="landscape")if(k===1){const H=this.app.getPageCollection().nextBy(this.flippingPage);H!==null&&this.flippingPage.getDensity()!==H.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),H.setDrawingDensity("hard"))}else{const H=this.app.getPageCollection().prevBy(this.flippingPage);H!==null&&this.flippingPage.getDensity()!==H.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),H.setDrawingDensity("hard"))}return this.render.setDirection(k),this.calc=new v(k,V,A.pageWidth.toString(10),A.height.toString(10)),!0}catch{return!1}}do(C){if(this.calc!==null&&this.calc.calc(C)){const E=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*E)/100):this.flippingPage.setHardAngle(-90*(200-2*E)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),E,this.calc.getDirection())}}flipToPage(C,E){const A=this.app.getPageCollection().getCurrentSpreadIndex(),k=this.app.getPageCollection().getSpreadIndexByPage(C);try{k>A&&(this.app.getPageCollection().setCurrentSpreadIndex(k-1),this.flipNext(E)),k<A&&(this.app.getPageCollection().setCurrentSpreadIndex(k+1),this.flipPrev(E))}catch{}}flipNext(C){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:C==="top"?1:this.render.getRect().height-2})}flipPrev(C){this.flip({x:10,y:C==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const C=this.calc.getPosition(),E=this.getBoundsRect(),A=this.calc.getCorner()==="bottom"?E.height:0;C.x<=0?this.animateFlippingTo(C,{x:-E.pageWidth,y:A},!0):this.animateFlippingTo(C,{x:E.pageWidth,y:A},!1)}showCorner(C){if(!this.checkState("read","fold_corner"))return;const E=this.getBoundsRect(),A=E.pageWidth;if(this.isPointOnCorners(C))if(this.calc===null){if(!this.start(C))return;this.setState("fold_corner"),this.calc.calc({x:A-1,y:1});const k=50,V=this.calc.getCorner()==="bottom"?E.height-1:1,H=this.calc.getCorner()==="bottom"?E.height-k:k;this.animateFlippingTo({x:A-1,y:V},{x:A-k,y:H},!1,!1)}else this.do(this.render.convertToPage(C));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(C,E,A,k=!0){const V=u.GetCordsFromTwoPoint(C,E),H=[];for(const X of V)H.push(()=>this.do(X));const q=this.getAnimationDuration(V.length);this.render.startAnimation(H,q,()=>{this.calc&&(A&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),k&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(C){this.state!==C&&(this.app.updateState(C),this.state=C)}getDirectionByPoint(C){const E=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(C.x-E.pageWidth<=E.width/5)return 1}else if(C.x<E.width/2)return 1;return 0}getAnimationDuration(C){const E=this.app.getSettings().flippingTime;return C>=1e3?E:C/1e3*E}checkDirection(C){return C===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...C){for(const E of C)if(this.state===E)return!0;return!1}isPointOnCorners(C){const E=this.getBoundsRect(),A=E.pageWidth,k=Math.sqrt(Math.pow(A,2)+Math.pow(E.height,2))/5,V=this.render.convertToBook(C);return V.x>0&&V.y>0&&V.x<E.width&&V.y<E.height&&(V.x<k||V.x>E.width-k)&&(V.y<k||V.y>E.height-k)}}class x{constructor(C,E){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=E,this.app=C;const A=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=A.exec(window.navigator.userAgent)!==null}render(C){if(this.animation!==null){const E=Math.round((C-this.animation.startedAt)/this.animation.durationFrame);E<this.animation.frames.length?this.animation.frames[E]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=C,this.drawFrame()}start(){this.update();const C=E=>{this.render(E),requestAnimationFrame(C)};requestAnimationFrame(C)}startAnimation(C,E,A){this.finishAnimation(),this.animation={frames:C,duration:E,durationFrame:E/C.length,onAnimateEnd:A,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const C=this.calculateBoundsRect();this.orientation!==C&&(this.orientation=C,this.app.updateOrientation(C))}calculateBoundsRect(){let C="landscape";const E=this.getBlockWidth(),A=E/2,k=this.getBlockHeight()/2,V=this.setting.width/this.setting.height;let H=this.setting.width,q=this.setting.height,X=A-H;return this.setting.size==="stretch"?(E<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(C="portrait"),H=C==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,H>this.setting.maxWidth&&(H=this.setting.maxWidth),q=H/V,q>this.getBlockHeight()&&(q=this.getBlockHeight(),H=q*V),X=C==="portrait"?A-H/2-H:A-H):E<2*H&&this.app.getSettings().usePortrait&&(C="portrait",X=A-H/2-H),this.boundsRect={left:X,top:k-q/2,width:2*H,height:q,pageWidth:H},C}setShadowData(C,E,A,k){if(!this.app.getSettings().drawShadow)return;const V=100*this.getSettings().maxShadowOpacity;this.shadow={pos:C,angle:E,width:3*this.getRect().pageWidth/4*A/100,opacity:(100-A)*V/100/100,direction:k,progress:2*A}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(C){this.pageRect=C}setDirection(C){this.direction=C}setRightPage(C){C!==null&&C.setOrientation(1),this.rightPage=C}setLeftPage(C){C!==null&&C.setOrientation(0),this.leftPage=C}setBottomPage(C){C!==null&&C.setOrientation(this.direction===1?0:1),this.bottomPage=C}setFlippingPage(C){C!==null&&C.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=C}convertToBook(C){const E=this.getRect();return{x:C.x-E.left,y:C.y-E.top}}isSafari(){return this.safari}convertToPage(C,E){E||(E=this.direction);const A=this.getRect();return{x:E===0?C.x-A.left-A.width/2:A.width/2-C.x+A.left,y:C.y-A.top}}convertToGlobal(C,E){if(E||(E=this.direction),C==null)return null;const A=this.getRect();return{x:E===0?C.x+A.left+A.width/2:A.width/2-C.x+A.left,y:C.y+A.top}}convertRectToGlobal(C,E){return E||(E=this.direction),{topLeft:this.convertToGlobal(C.topLeft,E),topRight:this.convertToGlobal(C.topRight,E),bottomLeft:this.convertToGlobal(C.bottomLeft,E),bottomRight:this.convertToGlobal(C.bottomRight,E)}}}class M extends x{constructor(C,E,A){super(C,E),this.canvas=A,this.ctx=A.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const C=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(C.left+C.pageWidth,C.top,C.width,C.height),this.ctx.clip())}drawBookShadow(){const C=this.getRect();this.ctx.save(),this.ctx.beginPath();const E=C.width/20;this.ctx.rect(C.left,C.top,C.width,C.height);const A={x:C.left+C.width/2-E/2,y:0};this.ctx.translate(A.x,A.y);const k=this.ctx.createLinearGradient(0,0,E,0);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),k.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),k.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),k.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),k.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,E,2*C.height),this.ctx.restore()}drawOuterShadow(){const C=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(C.left,C.top,C.width,C.height);const E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(E.x,E.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const A=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),A.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),A.addColorStop(0,"rgba(0, 0, 0, 0)"),A.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=A,this.ctx.fillRect(0,0,this.shadow.width,2*C.height),this.ctx.restore()}drawInnerShadow(){const C=this.getRect();this.ctx.save(),this.ctx.beginPath();const E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),A=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(A.topLeft.x,A.topLeft.y),this.ctx.lineTo(A.topRight.x,A.topRight.y),this.ctx.lineTo(A.bottomRight.x,A.bottomRight.y),this.ctx.lineTo(A.bottomLeft.x,A.bottomLeft.y),this.ctx.translate(E.x,E.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=3*this.shadow.width/4,V=this.ctx.createLinearGradient(0,0,k,0);this.shadow.direction===0?(this.ctx.translate(-k,-100),V.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),V.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),V.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),V.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),V.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=V,this.ctx.fillRect(0,0,k,2*C.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class P{constructor(C,E,A){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=V=>{if(this.checkTarget(V.target)){const H=this.getMousePos(V.clientX,V.clientY);this.app.startUserTouch(H),V.preventDefault()}},this.onTouchStart=V=>{if(this.checkTarget(V.target)&&V.changedTouches.length>0){const H=V.changedTouches[0],q=this.getMousePos(H.clientX,H.clientY);this.touchPoint={point:q,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(q)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||V.preventDefault()}},this.onMouseUp=V=>{const H=this.getMousePos(V.clientX,V.clientY);this.app.userStop(H)},this.onMouseMove=V=>{const H=this.getMousePos(V.clientX,V.clientY);this.app.userMove(H,!1)},this.onTouchMove=V=>{if(V.changedTouches.length>0){const H=V.changedTouches[0],q=this.getMousePos(H.clientX,H.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-q.x)>10||this.app.getState()!=="read")&&V.cancelable&&this.app.userMove(q,!0),this.app.getState()!=="read"&&V.preventDefault()):this.app.userMove(q,!0)}},this.onTouchEnd=V=>{if(V.changedTouches.length>0){const H=V.changedTouches[0],q=this.getMousePos(H.clientX,H.clientY);let X=!1;if(this.touchPoint!==null){const ue=q.x-this.touchPoint.point.x,ne=Math.abs(q.y-this.touchPoint.point.y);Math.abs(ue)>this.swipeDistance&&ne<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ue>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),X=!0),this.touchPoint=null}this.app.userStop(q,X)}},this.parentElement=C,C.classList.add("stf__parent"),C.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=C.querySelector(".stf__wrapper"),this.app=E;const k=this.app.getSettings().usePortrait?1:2;C.style.minWidth=A.minWidth*k+"px",C.style.minHeight=A.minHeight+"px",A.size==="fixed"&&(C.style.minWidth=A.width*k+"px",C.style.minHeight=A.height+"px"),A.autoSize&&(C.style.width="100%",C.style.maxWidth=2*A.maxWidth+"px"),C.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=A.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(C){this.wrapper.classList.remove("--portrait","--landscape"),C==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(C,E){const A=this.distElement.getBoundingClientRect();return{x:C-A.left,y:E-A.top}}checkTarget(C){return!this.app.getSettings().clickEventForward||!["a","button"].includes(C.tagName.toLowerCase())}}class O extends P{constructor(C,E,A,k){super(C,E,A),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=C.querySelector(".stf__block"),this.items=k;for(const V of k)this.distElement.appendChild(V);this.setHandlers()}clear(){for(const C of this.items)this.parentElement.appendChild(C)}updateItems(C){this.removeHandlers(),this.distElement.innerHTML="";for(const E of C)this.distElement.appendChild(E);this.items=C,this.setHandlers()}update(){this.app.getRender().update()}}class F extends P{constructor(C,E,A){super(C,E,A),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=C.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const C=getComputedStyle(this.canvas),E=parseInt(C.getPropertyValue("width"),10),A=parseInt(C.getPropertyValue("height"),10);this.canvas.width=E,this.canvas.height=A}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class G extends x{constructor(C,E,A){super(C,E),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=A,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const C=this.getRect(),E=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let A=(100-E)*(2.5*C.pageWidth)/100+20;A>C.pageWidth&&(A=C.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${A}px;
            height: ${C.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*E/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${C.left+C.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=k}drawHardOuterShadow(){const C=this.getRect();let E=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*C.pageWidth)/100+20;E>C.pageWidth&&(E=C.pageWidth);let A=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${E}px;
            height: ${C.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${C.left+C.width/2}px;
            transform-origin: 0 0;
        `;A+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=A}drawInnerShadow(){const C=this.getRect(),E=3*this.shadow.width/4,A=this.getDirection()===0?E:0,k=this.getDirection()===0?"to left":"to right",V=this.convertToGlobal(this.shadow.pos),H=this.shadow.angle+3*Math.PI/2,q=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let X="polygon( ";for(const ne of q){let se=this.getDirection()===1?{x:-ne.x+this.shadow.pos.x,y:ne.y-this.shadow.pos.y}:{x:ne.x-this.shadow.pos.x,y:ne.y-this.shadow.pos.y};se=u.GetRotatedPoint(se,{x:A,y:100},H),X+=se.x+"px "+se.y+"px, "}X=X.slice(0,-2),X+=")";const ue=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${E}px;
            height: ${2*C.height}px;
            background: linear-gradient(${k},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${A}px 100px;
            transform: translate3d(${V.x-A}px, ${V.y-100}px, 0) rotate(${H}rad);
            clip-path: ${X};
            -webkit-clip-path: ${X};
        `;this.innerShadow.style.cssText=ue}drawOuterShadow(){const C=this.getRect(),E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),A=this.shadow.angle+3*Math.PI/2,k=this.getDirection()===1?this.shadow.width:0,V=this.getDirection()===0?"to right":"to left",H=[{x:0,y:0},{x:C.pageWidth,y:0},{x:C.pageWidth,y:C.height},{x:0,y:C.height}];let q="polygon( ";for(const ue of H)if(ue!==null){let ne=this.getDirection()===1?{x:-ue.x+this.shadow.pos.x,y:ue.y-this.shadow.pos.y}:{x:ue.x-this.shadow.pos.x,y:ue.y-this.shadow.pos.y};ne=u.GetRotatedPoint(ne,{x:k,y:100},A),q+=ne.x+"px "+ne.y+"px, "}q=q.slice(0,-2),q+=")";const X=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*C.height}px;
            background: linear-gradient(${V}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${k}px 100px;
            transform: translate3d(${E.x-k}px, ${E.y-100}px, 0) rotate(${A}rad);
            clip-path: ${q};
            -webkit-clip-path: ${q};
        `;this.outerShadow.style.cssText=X}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const C=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(C))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const C of this.app.getPageCollection().getPages())C!==this.leftPage&&C!==this.rightPage&&C!==this.flippingPage&&C!==this.bottomPage&&(C.getElement().style.cssText="display: none"),C.getTemporaryCopy()!==this.flippingPage&&C.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class Y{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(C){const E=this._default;if(Object.assign(E,C),E.size!=="stretch"&&E.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(E.width<=0||E.height<=0)throw new Error("Invalid width or height");if(E.flippingTime<=0)throw new Error("Invalid flipping time");return E.size==="stretch"?(E.minWidth<=0&&(E.minWidth=100),E.maxWidth<E.minWidth&&(E.maxWidth=2e3),E.minHeight<=0&&(E.minHeight=100),E.maxHeight<E.minHeight&&(E.maxHeight=2e3)):(E.minWidth=E.width,E.maxWidth=E.width,E.minHeight=E.height,E.maxHeight=E.height),E}}(function(U,C){C===void 0&&(C={});var E=C.insertAt;if(typeof document<"u"){var A=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",E==="top"&&A.firstChild?A.insertBefore(k,A.firstChild):A.appendChild(k),k.styleSheet?k.styleSheet.cssText=U:k.appendChild(document.createTextNode(U))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),i.PageFlip=class extends class{constructor(){this.events=new Map}on(U,C){return this.events.has(U)?this.events.get(U).push(C):this.events.set(U,[C]),this}off(U){this.events.delete(U)}trigger(U,C,E=null){if(this.events.has(U))for(const A of this.events.get(U))A({data:E,object:C})}}{constructor(U,C){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new Y().getSettings(C),this.block=U}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(U){this.ui=new F(this.block,this,this.setting);const C=this.ui.getCanvas();this.render=new M(this,this.setting,C),this.flipController=new w(this.render,this),this.pages=new a(this,this.render,U),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(U){this.ui=new O(this.block,this,this.setting,U),this.render=new G(this,this.setting,this.ui.getDistElement()),this.flipController=new w(this.render,this),this.pages=new f(this,this.render,this.ui.getDistElement(),U),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(U){const C=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new a(this,this.render,U),this.pages.load(),this.pages.show(C),this.trigger("update",this,{page:C,mode:this.render.getOrientation()})}updateFromHtml(U){const C=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new f(this,this.render,this.ui.getDistElement(),U),this.pages.load(),this.ui.updateItems(U),this.render.reload(),this.pages.show(C),this.trigger("update",this,{page:C,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(U){this.pages.show(U)}flipNext(U="top"){this.flipController.flipNext(U)}flipPrev(U="top"){this.flipController.flipPrev(U)}flip(U,C="top"){this.flipController.flipToPage(U,C)}updateState(U){this.trigger("changeState",this,U)}updatePageIndex(U){this.trigger("flip",this,U)}updateOrientation(U){this.ui.setOrientationStyle(U),this.update(),this.trigger("changeOrientation",this,U)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(U){return this.pages.getPage(U)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(U){this.mousePosition=U,this.isUserTouch=!0,this.isUserMove=!1}userMove(U,C){this.isUserTouch||C||!this.setting.showPageCorners?this.isUserTouch&&u.GetDistanceBetweenTwoPoint(this.mousePosition,U)>5&&(this.isUserMove=!0,this.flipController.fold(U)):this.flipController.showCorner(U)}userStop(U,C=!1){this.isUserTouch&&(this.isUserTouch=!1,C||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(U)))}},Object.defineProperty(i,"__esModule",{value:!0})}))})(Fv,Fv.exports)),Fv.exports}var KJ=XJ();const QJ=Au.forwardRef((e,t)=>{const i=oe.useRef(null),r=oe.useRef([]),n=oe.useRef(),[s,a]=oe.useState([]);oe.useImperativeHandle(t,()=>({pageFlip:()=>n.current}));const u=oe.useCallback(()=>{n.current&&n.current.clear()},[]),h=oe.useCallback(()=>{const f=n.current;f&&(f.off("flip"),f.off("changeOrientation"),f.off("changeState"),f.off("init"),f.off("update"))},[]);return oe.useEffect(()=>{if(r.current=[],e.children){const f=Au.Children.map(e.children,v=>Au.cloneElement(v,{ref:w=>{w&&r.current.push(w)}}));(!e.renderOnlyPageLengthChange||s.length!==f.length)&&(f.length<s.length&&u(),a(f))}},[e.children]),oe.useEffect(()=>{const f=()=>{const v=n.current;v&&(e.onFlip&&v.on("flip",w=>e.onFlip(w)),e.onChangeOrientation&&v.on("changeOrientation",w=>e.onChangeOrientation(w)),e.onChangeState&&v.on("changeState",w=>e.onChangeState(w)),e.onInit&&v.on("init",w=>e.onInit(w)),e.onUpdate&&v.on("update",w=>e.onUpdate(w)))};s.length>0&&r.current.length>0&&(h(),i.current&&!n.current&&(n.current=new KJ.PageFlip(i.current,e)),n.current.getFlipController()?n.current.updateFromHtml(r.current):n.current.loadFromHTML(r.current),f())},[s]),Au.createElement("div",{ref:i,className:e.className,style:e.style},s)}),eX=Au.memo(QJ);var lE={},uE={},fv={},cE={},S5;function tX(){return S5||(S5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t})(cE)),cE}var hE,x5;function iX(){if(x5)return hE;x5=1;var e="Expected a function",t=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,h=typeof Lw=="object"&&Lw&&Lw.Object===Object&&Lw,f=typeof self=="object"&&self&&self.Object===Object&&self,v=h||f||Function("return this")(),w=Object.prototype,x=w.toString,M=Math.max,P=Math.min,O=function(){return v.Date.now()};function F(E,A,k){var V,H,q,X,ue,ne,se=0,we=!1,Q=!1,N=!0;if(typeof E!="function")throw new TypeError(e);A=C(A)||0,G(k)&&(we=!!k.leading,Q="maxWait"in k,q=Q?M(C(k.maxWait)||0,A):q,N="trailing"in k?!!k.trailing:N);function ge(Oe){var rt=V,nt=H;return V=H=void 0,se=Oe,X=E.apply(nt,rt),X}function ee(Oe){return se=Oe,ue=setTimeout(J,A),we?ge(Oe):X}function j(Oe){var rt=Oe-ne,nt=Oe-se,bt=A-rt;return Q?P(bt,q-nt):bt}function z(Oe){var rt=Oe-ne,nt=Oe-se;return ne===void 0||rt>=A||rt<0||Q&&nt>=q}function J(){var Oe=O();if(z(Oe))return he(Oe);ue=setTimeout(J,j(Oe))}function he(Oe){return ue=void 0,N&&V?ge(Oe):(V=H=void 0,X)}function ce(){ue!==void 0&&clearTimeout(ue),se=0,V=ne=H=ue=void 0}function be(){return ue===void 0?X:he(O())}function ye(){var Oe=O(),rt=z(Oe);if(V=arguments,H=this,ne=Oe,rt){if(ue===void 0)return ee(ne);if(Q)return ue=setTimeout(J,A),ge(ne)}return ue===void 0&&(ue=setTimeout(J,A)),X}return ye.cancel=ce,ye.flush=be,ye}function G(E){var A=typeof E;return!!E&&(A=="object"||A=="function")}function Y(E){return!!E&&typeof E=="object"}function U(E){return typeof E=="symbol"||Y(E)&&x.call(E)==i}function C(E){if(typeof E=="number")return E;if(U(E))return t;if(G(E)){var A=typeof E.valueOf=="function"?E.valueOf():E;E=G(A)?A+"":A}if(typeof E!="string")return E===0?E:+E;E=E.replace(r,"");var k=s.test(E);return k||a.test(E)?u(E.slice(2),k?2:8):n.test(E)?t:+E}return hE=F,hE}var dE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var T5;function Y2(){return T5||(T5=1,(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var s="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(s=n(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return i.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var u in s)t.call(s,u)&&s[u]&&(a=n(a,u));return a}function n(s,a){return a?s?s+" "+a:s+a:s}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(dE)),dE.exports}var Ve={},fE={},M5;function bz(){return M5||(M5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(Ml());function i(n){return n&&n.__esModule?n:{default:n}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return t.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return t.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=r})(fE)),fE}var E5;function D_(){if(E5)return Ve;E5=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.checkSpecKeys=Ve.checkNavigable=Ve.changeSlide=Ve.canUseDOM=Ve.canGoNext=void 0,Ve.clamp=f,Ve.extractObject=void 0,Ve.filterSettings=ge,Ve.validSettings=Ve.swipeStart=Ve.swipeMove=Ve.swipeEnd=Ve.slidesOnRight=Ve.slidesOnLeft=Ve.slideHandler=Ve.siblingDirection=Ve.safePreventDefault=Ve.lazyStartIndex=Ve.lazySlidesOnRight=Ve.lazySlidesOnLeft=Ve.lazyEndIndex=Ve.keyHandler=Ve.initializedState=Ve.getWidth=Ve.getTrackLeft=Ve.getTrackCSS=Ve.getTrackAnimateCSS=Ve.getTotalSlides=Ve.getSwipeDirection=Ve.getSlideCount=Ve.getRequiredLazySlides=Ve.getPreClones=Ve.getPostClones=Ve.getOnDemandLazySlides=Ve.getNavigableIndexes=Ve.getHeight=void 0;var e=i(Ml()),t=i(bz());function i(ee){return ee&&ee.__esModule?ee:{default:ee}}function r(ee){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},r(ee)}function n(ee,j){var z=Object.keys(ee);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(ee);j&&(J=J.filter(function(he){return Object.getOwnPropertyDescriptor(ee,he).enumerable})),z.push.apply(z,J)}return z}function s(ee){for(var j=1;j<arguments.length;j++){var z=arguments[j]!=null?arguments[j]:{};j%2?n(Object(z),!0).forEach(function(J){a(ee,J,z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(z)):n(Object(z)).forEach(function(J){Object.defineProperty(ee,J,Object.getOwnPropertyDescriptor(z,J))})}return ee}function a(ee,j,z){return(j=u(j))in ee?Object.defineProperty(ee,j,{value:z,enumerable:!0,configurable:!0,writable:!0}):ee[j]=z,ee}function u(ee){var j=h(ee,"string");return r(j)=="symbol"?j:j+""}function h(ee,j){if(r(ee)!="object"||!ee)return ee;var z=ee[Symbol.toPrimitive];if(z!==void 0){var J=z.call(ee,j);if(r(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(ee)}function f(ee,j,z){return Math.max(j,Math.min(ee,z))}var v=Ve.safePreventDefault=function(j){var z=["onTouchStart","onTouchMove","onWheel"];z.includes(j._reactName)||j.preventDefault()},w=Ve.getOnDemandLazySlides=function(j){for(var z=[],J=x(j),he=M(j),ce=J;ce<he;ce++)j.lazyLoadedList.indexOf(ce)<0&&z.push(ce);return z};Ve.getRequiredLazySlides=function(j){for(var z=[],J=x(j),he=M(j),ce=J;ce<he;ce++)z.push(ce);return z};var x=Ve.lazyStartIndex=function(j){return j.currentSlide-P(j)},M=Ve.lazyEndIndex=function(j){return j.currentSlide+O(j)},P=Ve.lazySlidesOnLeft=function(j){return j.centerMode?Math.floor(j.slidesToShow/2)+(parseInt(j.centerPadding)>0?1:0):0},O=Ve.lazySlidesOnRight=function(j){return j.centerMode?Math.floor((j.slidesToShow-1)/2)+1+(parseInt(j.centerPadding)>0?1:0):j.slidesToShow},F=Ve.getWidth=function(j){return j&&j.offsetWidth||0},G=Ve.getHeight=function(j){return j&&j.offsetHeight||0},Y=Ve.getSwipeDirection=function(j){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J,he,ce,be;return J=j.startX-j.curX,he=j.startY-j.curY,ce=Math.atan2(he,J),be=Math.round(ce*180/Math.PI),be<0&&(be=360-Math.abs(be)),be<=45&&be>=0||be<=360&&be>=315?"left":be>=135&&be<=225?"right":z===!0?be>=35&&be<=135?"up":"down":"vertical"},U=Ve.canGoNext=function(j){var z=!0;return j.infinite||(j.centerMode&&j.currentSlide>=j.slideCount-1||j.slideCount<=j.slidesToShow||j.currentSlide>=j.slideCount-j.slidesToShow)&&(z=!1),z};Ve.extractObject=function(j,z){var J={};return z.forEach(function(he){return J[he]=j[he]}),J},Ve.initializedState=function(j){var z=e.default.Children.count(j.children),J=j.listRef,he=Math.ceil(F(J)),ce=j.trackRef&&j.trackRef.node,be=Math.ceil(F(ce)),ye;if(j.vertical)ye=he;else{var Oe=j.centerMode&&parseInt(j.centerPadding)*2;typeof j.centerPadding=="string"&&j.centerPadding.slice(-1)==="%"&&(Oe*=he/100),ye=Math.ceil((he-Oe)/j.slidesToShow)}var rt=J&&G(J.querySelector('[data-index="0"]')),nt=rt*j.slidesToShow,bt=j.currentSlide===void 0?j.initialSlide:j.currentSlide;j.rtl&&j.currentSlide===void 0&&(bt=z-1-j.initialSlide);var ft=j.lazyLoadedList||[],St=w(s(s({},j),{},{currentSlide:bt,lazyLoadedList:ft}));ft=ft.concat(St);var Pt={slideCount:z,slideWidth:ye,listWidth:he,trackWidth:be,currentSlide:bt,slideHeight:rt,listHeight:nt,lazyLoadedList:ft};return j.autoplaying===null&&j.autoplay&&(Pt.autoplaying="playing"),Pt},Ve.slideHandler=function(j){var z=j.waitForAnimate,J=j.animating,he=j.fade,ce=j.infinite,be=j.index,ye=j.slideCount,Oe=j.lazyLoad,rt=j.currentSlide,nt=j.centerMode,bt=j.slidesToScroll,ft=j.slidesToShow,St=j.useCSS,Pt=j.lazyLoadedList;if(z&&J)return{};var vt=be,xt,_i,Tt,ii={},Pi={},Ai=ce?be:f(be,0,ye-1);if(he){if(!ce&&(be<0||be>=ye))return{};be<0?vt=be+ye:be>=ye&&(vt=be-ye),Oe&&Pt.indexOf(vt)<0&&(Pt=Pt.concat(vt)),ii={animating:!0,currentSlide:vt,lazyLoadedList:Pt,targetSlide:vt},Pi={animating:!1,targetSlide:vt}}else xt=vt,vt<0?(xt=vt+ye,ce?ye%bt!==0&&(xt=ye-ye%bt):xt=0):!U(j)&&vt>rt?vt=xt=rt:nt&&vt>=ye?(vt=ce?ye:ye-1,xt=ce?0:ye-1):vt>=ye&&(xt=vt-ye,ce?ye%bt!==0&&(xt=0):xt=ye-ft),!ce&&vt+ft>=ye&&(xt=ye-ft),_i=q(s(s({},j),{},{slideIndex:vt})),Tt=q(s(s({},j),{},{slideIndex:xt})),ce||(_i===Tt&&(vt=xt),_i=Tt),Oe&&(Pt=Pt.concat(w(s(s({},j),{},{currentSlide:vt})))),St?(ii={animating:!0,currentSlide:xt,trackStyle:H(s(s({},j),{},{left:_i})),lazyLoadedList:Pt,targetSlide:Ai},Pi={animating:!1,currentSlide:xt,trackStyle:V(s(s({},j),{},{left:Tt})),swipeLeft:null,targetSlide:Ai}):ii={currentSlide:xt,trackStyle:V(s(s({},j),{},{left:Tt})),lazyLoadedList:Pt,targetSlide:Ai};return{state:ii,nextState:Pi}},Ve.changeSlide=function(j,z){var J,he,ce,be,ye,Oe=j.slidesToScroll,rt=j.slidesToShow,nt=j.slideCount,bt=j.currentSlide,ft=j.targetSlide,St=j.lazyLoad,Pt=j.infinite;if(be=nt%Oe!==0,J=be?0:(nt-bt)%Oe,z.message==="previous")ce=J===0?Oe:rt-J,ye=bt-ce,St&&!Pt&&(he=bt-ce,ye=he===-1?nt-1:he),Pt||(ye=ft-Oe);else if(z.message==="next")ce=J===0?Oe:J,ye=bt+ce,St&&!Pt&&(ye=(bt+Oe)%nt+J),Pt||(ye=ft+Oe);else if(z.message==="dots")ye=z.index*z.slidesToScroll;else if(z.message==="children"){if(ye=z.index,Pt){var vt=se(s(s({},j),{},{targetSlide:ye}));ye>z.currentSlide&&vt==="left"?ye=ye-nt:ye<z.currentSlide&&vt==="right"&&(ye=ye+nt)}}else z.message==="index"&&(ye=Number(z.index));return ye},Ve.keyHandler=function(j,z,J){return j.target.tagName.match("TEXTAREA|INPUT|SELECT")||!z?"":j.keyCode===37?J?"next":"previous":j.keyCode===39?J?"previous":"next":""},Ve.swipeStart=function(j,z,J){return j.target.tagName==="IMG"&&v(j),!z||!J&&j.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:j.touches?j.touches[0].pageX:j.clientX,startY:j.touches?j.touches[0].pageY:j.clientY,curX:j.touches?j.touches[0].pageX:j.clientX,curY:j.touches?j.touches[0].pageY:j.clientY}}},Ve.swipeMove=function(j,z){var J=z.scrolling,he=z.animating,ce=z.vertical,be=z.swipeToSlide,ye=z.verticalSwiping,Oe=z.rtl,rt=z.currentSlide,nt=z.edgeFriction,bt=z.edgeDragged,ft=z.onEdge,St=z.swiped,Pt=z.swiping,vt=z.slideCount,xt=z.slidesToScroll,_i=z.infinite,Tt=z.touchObject,ii=z.swipeEvent,Pi=z.listHeight,Ai=z.listWidth;if(!J){if(he)return v(j);ce&&be&&ye&&v(j);var Yi,os={},an=q(z);Tt.curX=j.touches?j.touches[0].pageX:j.clientX,Tt.curY=j.touches?j.touches[0].pageY:j.clientY,Tt.swipeLength=Math.round(Math.sqrt(Math.pow(Tt.curX-Tt.startX,2)));var zi=Math.round(Math.sqrt(Math.pow(Tt.curY-Tt.startY,2)));if(!ye&&!Pt&&zi>10)return{scrolling:!0};ye&&(Tt.swipeLength=zi);var ho=(Oe?-1:1)*(Tt.curX>Tt.startX?1:-1);ye&&(ho=Tt.curY>Tt.startY?1:-1);var fo=Math.ceil(vt/xt),Ui=Y(z.touchObject,ye),Ji=Tt.swipeLength;return _i||(rt===0&&(Ui==="right"||Ui==="down")||rt+1>=fo&&(Ui==="left"||Ui==="up")||!U(z)&&(Ui==="left"||Ui==="up"))&&(Ji=Tt.swipeLength*nt,bt===!1&&ft&&(ft(Ui),os.edgeDragged=!0)),!St&&ii&&(ii(Ui),os.swiped=!0),ce?Yi=an+Ji*(Pi/Ai)*ho:Oe?Yi=an-Ji*ho:Yi=an+Ji*ho,ye&&(Yi=an+Ji*ho),os=s(s({},os),{},{touchObject:Tt,swipeLeft:Yi,trackStyle:V(s(s({},z),{},{left:Yi}))}),Math.abs(Tt.curX-Tt.startX)<Math.abs(Tt.curY-Tt.startY)*.8||Tt.swipeLength>10&&(os.swiping=!0,v(j)),os}},Ve.swipeEnd=function(j,z){var J=z.dragging,he=z.swipe,ce=z.touchObject,be=z.listWidth,ye=z.touchThreshold,Oe=z.verticalSwiping,rt=z.listHeight,nt=z.swipeToSlide,bt=z.scrolling,ft=z.onSwipe,St=z.targetSlide,Pt=z.currentSlide,vt=z.infinite;if(!J)return he&&v(j),{};var xt=Oe?rt/ye:be/ye,_i=Y(ce,Oe),Tt={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(bt||!ce.swipeLength)return Tt;if(ce.swipeLength>xt){v(j),ft&&ft(_i);var ii,Pi,Ai=vt?Pt:St;switch(_i){case"left":case"up":Pi=Ai+A(z),ii=nt?E(z,Pi):Pi,Tt.currentDirection=0;break;case"right":case"down":Pi=Ai-A(z),ii=nt?E(z,Pi):Pi,Tt.currentDirection=1;break;default:ii=Ai}Tt.triggerSlideHandler=ii}else{var Yi=q(z);Tt.trackStyle=H(s(s({},z),{},{left:Yi}))}return Tt};var C=Ve.getNavigableIndexes=function(j){for(var z=j.infinite?j.slideCount*2:j.slideCount,J=j.infinite?j.slidesToShow*-1:0,he=j.infinite?j.slidesToShow*-1:0,ce=[];J<z;)ce.push(J),J=he+j.slidesToScroll,he+=Math.min(j.slidesToScroll,j.slidesToShow);return ce},E=Ve.checkNavigable=function(j,z){var J=C(j),he=0;if(z>J[J.length-1])z=J[J.length-1];else for(var ce in J){if(z<J[ce]){z=he;break}he=J[ce]}return z},A=Ve.getSlideCount=function(j){var z=j.centerMode?j.slideWidth*Math.floor(j.slidesToShow/2):0;if(j.swipeToSlide){var J,he=j.listRef,ce=he.querySelectorAll&&he.querySelectorAll(".slick-slide")||[];if(Array.from(ce).every(function(Oe){if(j.vertical){if(Oe.offsetTop+G(Oe)/2>j.swipeLeft*-1)return J=Oe,!1}else if(Oe.offsetLeft-z+F(Oe)/2>j.swipeLeft*-1)return J=Oe,!1;return!0}),!J)return 0;var be=j.rtl===!0?j.slideCount-j.currentSlide:j.currentSlide,ye=Math.abs(J.dataset.index-be)||1;return ye}else return j.slidesToScroll},k=Ve.checkSpecKeys=function(j,z){return z.reduce(function(J,he){return J&&j.hasOwnProperty(he)},!0)?null:console.error("Keys Missing:",j)},V=Ve.getTrackCSS=function(j){k(j,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var z,J;if(!j.vertical)z=ne(j)*j.slideWidth;else{var he=j.unslick?j.slideCount:j.slideCount+2*j.slidesToShow;J=he*j.slideHeight}var ce={opacity:1,transition:"",WebkitTransition:""};if(j.useTransform){var be=j.vertical?"translate3d(0px, "+j.left+"px, 0px)":"translate3d("+j.left+"px, 0px, 0px)",ye=j.vertical?"translate3d(0px, "+j.left+"px, 0px)":"translate3d("+j.left+"px, 0px, 0px)",Oe=j.vertical?"translateY("+j.left+"px)":"translateX("+j.left+"px)";ce=s(s({},ce),{},{WebkitTransform:be,transform:ye,msTransform:Oe})}else j.vertical?ce.top=j.left:ce.left=j.left;return j.fade&&(ce={opacity:1}),z&&(ce.width=z),J&&(ce.height=J),window&&!window.addEventListener&&window.attachEvent&&(j.vertical?ce.marginTop=j.left+"px":ce.marginLeft=j.left+"px"),ce},H=Ve.getTrackAnimateCSS=function(j){k(j,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var z=V(j);return j.useTransform?(z.WebkitTransition="-webkit-transform "+j.speed+"ms "+j.cssEase,z.transition="transform "+j.speed+"ms "+j.cssEase):j.vertical?z.transition="top "+j.speed+"ms "+j.cssEase:z.transition="left "+j.speed+"ms "+j.cssEase,z},q=Ve.getTrackLeft=function(j){if(j.unslick)return 0;k(j,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var z=j.slideIndex,J=j.trackRef,he=j.infinite,ce=j.centerMode,be=j.slideCount,ye=j.slidesToShow,Oe=j.slidesToScroll,rt=j.slideWidth,nt=j.listWidth,bt=j.variableWidth,ft=j.slideHeight,St=j.fade,Pt=j.vertical,vt=0,xt,_i,Tt=0;if(St||j.slideCount===1)return 0;var ii=0;if(he?(ii=-X(j),be%Oe!==0&&z+Oe>be&&(ii=-(z>be?ye-(z-be):be%Oe)),ce&&(ii+=parseInt(ye/2))):(be%Oe!==0&&z+Oe>be&&(ii=ye-be%Oe),ce&&(ii=parseInt(ye/2))),vt=ii*rt,Tt=ii*ft,Pt?xt=z*ft*-1+Tt:xt=z*rt*-1+vt,bt===!0){var Pi,Ai=J&&J.node;if(Pi=z+X(j),_i=Ai&&Ai.childNodes[Pi],xt=_i?_i.offsetLeft*-1:0,ce===!0){Pi=he?z+X(j):z,_i=Ai&&Ai.children[Pi],xt=0;for(var Yi=0;Yi<Pi;Yi++)xt-=Ai&&Ai.children[Yi]&&Ai.children[Yi].offsetWidth;xt-=parseInt(j.centerPadding),xt+=_i&&(nt-_i.offsetWidth)/2}}return xt},X=Ve.getPreClones=function(j){return j.unslick||!j.infinite?0:j.variableWidth?j.slideCount:j.slidesToShow+(j.centerMode?1:0)},ue=Ve.getPostClones=function(j){return j.unslick||!j.infinite?0:j.variableWidth?j.slideCount:j.slidesToShow+(j.centerMode?1:0)},ne=Ve.getTotalSlides=function(j){return j.slideCount===1?1:X(j)+j.slideCount+ue(j)},se=Ve.siblingDirection=function(j){return j.targetSlide>j.currentSlide?j.targetSlide>j.currentSlide+we(j)?"left":"right":j.targetSlide<j.currentSlide-Q(j)?"right":"left"},we=Ve.slidesOnRight=function(j){var z=j.slidesToShow,J=j.centerMode,he=j.rtl,ce=j.centerPadding;if(J){var be=(z-1)/2+1;return parseInt(ce)>0&&(be+=1),he&&z%2===0&&(be+=1),be}return he?0:z-1},Q=Ve.slidesOnLeft=function(j){var z=j.slidesToShow,J=j.centerMode,he=j.rtl,ce=j.centerPadding;if(J){var be=(z-1)/2+1;return parseInt(ce)>0&&(be+=1),!he&&z%2===0&&(be+=1),be}return he?z-1:0};Ve.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var N=Ve.validSettings=Object.keys(t.default);function ge(ee){return N.reduce(function(j,z){return ee.hasOwnProperty(z)&&(j[z]=ee[z]),j},{})}return Ve}var pv={},$5;function rX(){if($5)return pv;$5=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.Track=void 0;var e=r(Ml()),t=r(Y2()),i=D_();function r(H){return H&&H.__esModule?H:{default:H}}function n(H){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},n(H)}function s(){return s=Object.assign?Object.assign.bind():function(H){for(var q=1;q<arguments.length;q++){var X=arguments[q];for(var ue in X)({}).hasOwnProperty.call(X,ue)&&(H[ue]=X[ue])}return H},s.apply(null,arguments)}function a(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")}function u(H,q){for(var X=0;X<q.length;X++){var ue=q[X];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(H,U(ue.key),ue)}}function h(H,q,X){return q&&u(H.prototype,q),Object.defineProperty(H,"prototype",{writable:!1}),H}function f(H,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(q&&q.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),q&&v(H,q)}function v(H,q){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,ue){return X.__proto__=ue,X},v(H,q)}function w(H){var q=P();return function(){var X,ue=O(H);if(q){var ne=O(this).constructor;X=Reflect.construct(ue,arguments,ne)}else X=ue.apply(this,arguments);return x(this,X)}}function x(H,q){if(q&&(n(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(H)}function M(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function P(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!H})()}function O(H){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},O(H)}function F(H,q){var X=Object.keys(H);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(H);q&&(ue=ue.filter(function(ne){return Object.getOwnPropertyDescriptor(H,ne).enumerable})),X.push.apply(X,ue)}return X}function G(H){for(var q=1;q<arguments.length;q++){var X=arguments[q]!=null?arguments[q]:{};q%2?F(Object(X),!0).forEach(function(ue){Y(H,ue,X[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(X)):F(Object(X)).forEach(function(ue){Object.defineProperty(H,ue,Object.getOwnPropertyDescriptor(X,ue))})}return H}function Y(H,q,X){return(q=U(q))in H?Object.defineProperty(H,q,{value:X,enumerable:!0,configurable:!0,writable:!0}):H[q]=X,H}function U(H){var q=C(H,"string");return n(q)=="symbol"?q:q+""}function C(H,q){if(n(H)!="object"||!H)return H;var X=H[Symbol.toPrimitive];if(X!==void 0){var ue=X.call(H,q);if(n(ue)!="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(H)}var E=function(q){var X,ue,ne,se,we;q.rtl?we=q.slideCount-1-q.index:we=q.index,ne=we<0||we>=q.slideCount,q.centerMode?(se=Math.floor(q.slidesToShow/2),ue=(we-q.currentSlide)%q.slideCount===0,we>q.currentSlide-se-1&&we<=q.currentSlide+se&&(X=!0)):X=q.currentSlide<=we&&we<q.currentSlide+q.slidesToShow;var Q;q.targetSlide<0?Q=q.targetSlide+q.slideCount:q.targetSlide>=q.slideCount?Q=q.targetSlide-q.slideCount:Q=q.targetSlide;var N=we===Q;return{"slick-slide":!0,"slick-active":X,"slick-center":ue,"slick-cloned":ne,"slick-current":N}},A=function(q){var X={};return(q.variableWidth===void 0||q.variableWidth===!1)&&(X.width=q.slideWidth),q.fade&&(X.position="relative",q.vertical?X.top=-q.index*parseInt(q.slideHeight):X.left=-q.index*parseInt(q.slideWidth),X.opacity=q.currentSlide===q.index?1:0,X.zIndex=q.currentSlide===q.index?999:998,q.useCSS&&(X.transition="opacity "+q.speed+"ms "+q.cssEase+", visibility "+q.speed+"ms "+q.cssEase)),X},k=function(q,X){return q.key||X},V=function(q){var X,ue=[],ne=[],se=[],we=e.default.Children.count(q.children),Q=(0,i.lazyStartIndex)(q),N=(0,i.lazyEndIndex)(q);return e.default.Children.forEach(q.children,function(ge,ee){var j,z={message:"children",index:ee,slidesToScroll:q.slidesToScroll,currentSlide:q.currentSlide};!q.lazyLoad||q.lazyLoad&&q.lazyLoadedList.indexOf(ee)>=0?j=ge:j=e.default.createElement("div",null);var J=A(G(G({},q),{},{index:ee})),he=j.props.className||"",ce=E(G(G({},q),{},{index:ee}));if(ue.push(e.default.cloneElement(j,{key:"original"+k(j,ee),"data-index":ee,className:(0,t.default)(ce,he),tabIndex:"-1","aria-hidden":!ce["slick-active"],style:G(G({outline:"none"},j.props.style||{}),J),onClick:function(Oe){j.props&&j.props.onClick&&j.props.onClick(Oe),q.focusOnSelect&&q.focusOnSelect(z)}})),q.infinite&&we>1&&q.fade===!1&&!q.unslick){var be=we-ee;be<=(0,i.getPreClones)(q)&&(X=-be,X>=Q&&(j=ge),ce=E(G(G({},q),{},{index:X})),ne.push(e.default.cloneElement(j,{key:"precloned"+k(j,X),"data-index":X,tabIndex:"-1",className:(0,t.default)(ce,he),"aria-hidden":!ce["slick-active"],style:G(G({},j.props.style||{}),J),onClick:function(Oe){j.props&&j.props.onClick&&j.props.onClick(Oe),q.focusOnSelect&&q.focusOnSelect(z)}}))),ee<(0,i.getPostClones)(q)&&(X=we+ee,X<N&&(j=ge),ce=E(G(G({},q),{},{index:X})),se.push(e.default.cloneElement(j,{key:"postcloned"+k(j,X),"data-index":X,tabIndex:"-1",className:(0,t.default)(ce,he),"aria-hidden":!ce["slick-active"],style:G(G({},j.props.style||{}),J),onClick:function(Oe){j.props&&j.props.onClick&&j.props.onClick(Oe),q.focusOnSelect&&q.focusOnSelect(z)}})))}}),q.rtl?ne.concat(ue,se).reverse():ne.concat(ue,se)};return pv.Track=(function(H){f(X,H);var q=w(X);function X(){var ue;a(this,X);for(var ne=arguments.length,se=new Array(ne),we=0;we<ne;we++)se[we]=arguments[we];return ue=q.call.apply(q,[this].concat(se)),Y(M(ue),"node",null),Y(M(ue),"handleRef",function(Q){ue.node=Q}),ue}return h(X,[{key:"render",value:function(){var ne=V(this.props),se=this.props,we=se.onMouseEnter,Q=se.onMouseOver,N=se.onMouseLeave,ge={onMouseEnter:we,onMouseOver:Q,onMouseLeave:N};return e.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ge),ne)}}]),X})(e.default.PureComponent),pv}var mv={},C5;function nX(){if(C5)return mv;C5=1;function e(E){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(E)}Object.defineProperty(mv,"__esModule",{value:!0}),mv.Dots=void 0;var t=n(Ml()),i=n(Y2()),r=D_();function n(E){return E&&E.__esModule?E:{default:E}}function s(E,A){var k=Object.keys(E);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(E);A&&(V=V.filter(function(H){return Object.getOwnPropertyDescriptor(E,H).enumerable})),k.push.apply(k,V)}return k}function a(E){for(var A=1;A<arguments.length;A++){var k=arguments[A]!=null?arguments[A]:{};A%2?s(Object(k),!0).forEach(function(V){u(E,V,k[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(k)):s(Object(k)).forEach(function(V){Object.defineProperty(E,V,Object.getOwnPropertyDescriptor(k,V))})}return E}function u(E,A,k){return(A=w(A))in E?Object.defineProperty(E,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[A]=k,E}function h(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function f(E,A){for(var k=0;k<A.length;k++){var V=A[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,w(V.key),V)}}function v(E,A,k){return A&&f(E.prototype,A),Object.defineProperty(E,"prototype",{writable:!1}),E}function w(E){var A=x(E,"string");return e(A)=="symbol"?A:A+""}function x(E,A){if(e(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var V=k.call(E,A);if(e(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}function M(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),A&&P(E,A)}function P(E,A){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,V){return k.__proto__=V,k},P(E,A)}function O(E){var A=Y();return function(){var k,V=U(E);if(A){var H=U(this).constructor;k=Reflect.construct(V,arguments,H)}else k=V.apply(this,arguments);return F(this,k)}}function F(E,A){if(A&&(e(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(E)}function G(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function Y(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y=function(){return!!E})()}function U(E){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},U(E)}var C=function(A){var k;return A.infinite?k=Math.ceil(A.slideCount/A.slidesToScroll):k=Math.ceil((A.slideCount-A.slidesToShow)/A.slidesToScroll)+1,k};return mv.Dots=(function(E){M(k,E);var A=O(k);function k(){return h(this,k),A.apply(this,arguments)}return v(k,[{key:"clickHandler",value:function(H,q){q.preventDefault(),this.props.clickHandler(H)}},{key:"render",value:function(){for(var H=this.props,q=H.onMouseEnter,X=H.onMouseOver,ue=H.onMouseLeave,ne=H.infinite,se=H.slidesToScroll,we=H.slidesToShow,Q=H.slideCount,N=H.currentSlide,ge=C({slideCount:Q,slidesToScroll:se,slidesToShow:we,infinite:ne}),ee={onMouseEnter:q,onMouseOver:X,onMouseLeave:ue},j=[],z=0;z<ge;z++){var J=(z+1)*se-1,he=ne?J:(0,r.clamp)(J,0,Q-1),ce=he-(se-1),be=ne?ce:(0,r.clamp)(ce,0,Q-1),ye=(0,i.default)({"slick-active":ne?N>=be&&N<=he:N===be}),Oe={message:"dots",index:z,slidesToScroll:se,currentSlide:N},rt=this.clickHandler.bind(this,Oe);j=j.concat(t.default.createElement("li",{key:z,className:ye},t.default.cloneElement(this.props.customPaging(z),{onClick:rt})))}return t.default.cloneElement(this.props.appendDots(j),a({className:this.props.dotsClass},ee))}}]),k})(t.default.PureComponent),mv}var yd={},O5;function sX(){if(O5)return yd;O5=1;function e(E){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(E)}Object.defineProperty(yd,"__esModule",{value:!0}),yd.PrevArrow=yd.NextArrow=void 0;var t=n(Ml()),i=n(Y2()),r=D_();function n(E){return E&&E.__esModule?E:{default:E}}function s(){return s=Object.assign?Object.assign.bind():function(E){for(var A=1;A<arguments.length;A++){var k=arguments[A];for(var V in k)({}).hasOwnProperty.call(k,V)&&(E[V]=k[V])}return E},s.apply(null,arguments)}function a(E,A){var k=Object.keys(E);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(E);A&&(V=V.filter(function(H){return Object.getOwnPropertyDescriptor(E,H).enumerable})),k.push.apply(k,V)}return k}function u(E){for(var A=1;A<arguments.length;A++){var k=arguments[A]!=null?arguments[A]:{};A%2?a(Object(k),!0).forEach(function(V){h(E,V,k[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(k)):a(Object(k)).forEach(function(V){Object.defineProperty(E,V,Object.getOwnPropertyDescriptor(k,V))})}return E}function h(E,A,k){return(A=x(A))in E?Object.defineProperty(E,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[A]=k,E}function f(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function v(E,A){for(var k=0;k<A.length;k++){var V=A[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,x(V.key),V)}}function w(E,A,k){return A&&v(E.prototype,A),Object.defineProperty(E,"prototype",{writable:!1}),E}function x(E){var A=M(E,"string");return e(A)=="symbol"?A:A+""}function M(E,A){if(e(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var V=k.call(E,A);if(e(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}function P(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),A&&O(E,A)}function O(E,A){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,V){return k.__proto__=V,k},O(E,A)}function F(E){var A=U();return function(){var k,V=C(E);if(A){var H=C(this).constructor;k=Reflect.construct(V,arguments,H)}else k=V.apply(this,arguments);return G(this,k)}}function G(E,A){if(A&&(e(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(E)}function Y(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!E})()}function C(E){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},C(E)}return yd.PrevArrow=(function(E){P(k,E);var A=F(k);function k(){return f(this,k),A.apply(this,arguments)}return w(k,[{key:"clickHandler",value:function(H,q){q&&q.preventDefault(),this.props.clickHandler(H,q)}},{key:"render",value:function(){var H={"slick-arrow":!0,"slick-prev":!0},q=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(H["slick-disabled"]=!0,q=null);var X={key:"0","data-role":"none",className:(0,i.default)(H),style:{display:"block"},onClick:q},ue={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},ne;return this.props.prevArrow?ne=t.default.cloneElement(this.props.prevArrow,u(u({},X),ue)):ne=t.default.createElement("button",s({key:"0",type:"button"},X)," ","Previous"),ne}}]),k})(t.default.PureComponent),yd.NextArrow=(function(E){P(k,E);var A=F(k);function k(){return f(this,k),A.apply(this,arguments)}return w(k,[{key:"clickHandler",value:function(H,q){q&&q.preventDefault(),this.props.clickHandler(H,q)}},{key:"render",value:function(){var H={"slick-arrow":!0,"slick-next":!0},q=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(H["slick-disabled"]=!0,q=null);var X={key:"1","data-role":"none",className:(0,i.default)(H),style:{display:"block"},onClick:q},ue={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},ne;return this.props.nextArrow?ne=t.default.cloneElement(this.props.nextArrow,u(u({},X),ue)):ne=t.default.createElement("button",s({key:"1",type:"button"},X)," ","Next"),ne}}]),k})(t.default.PureComponent),yd}var Sz=(function(){if(typeof Map<"u")return Map;function e(t,i){var r=-1;return t.some(function(n,s){return n[0]===i?(r=s,!0):!1}),r}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(i){var r=e(this.__entries__,i),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(i,r){var n=e(this.__entries__,i);~n?this.__entries__[n][1]=r:this.__entries__.push([i,r])},t.prototype.delete=function(i){var r=this.__entries__,n=e(r,i);~n&&r.splice(n,1)},t.prototype.has=function(i){return!!~e(this.__entries__,i)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(i,r){r===void 0&&(r=null);for(var n=0,s=this.__entries__;n<s.length;n++){var a=s[n];i.call(r,a[1],a[0])}},t})()})(),z3=typeof window<"u"&&typeof document<"u"&&window.document===document,jS=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),oX=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(jS):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),aX=2;function lX(e,t){var i=!1,r=!1,n=0;function s(){i&&(i=!1,e()),r&&u()}function a(){oX(s)}function u(){var h=Date.now();if(i){if(h-n<aX)return;r=!0}else i=!0,r=!1,setTimeout(a,t);n=h}return u}var uX=20,cX=["top","right","bottom","left","width","height","size","weight"],hX=typeof MutationObserver<"u",dX=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=lX(this.refresh.bind(this),uX)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var i=this.observers_,r=i.indexOf(t);~r&&i.splice(r,1),!i.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return t.forEach(function(i){return i.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!z3||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hX?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!z3||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var i=t.propertyName,r=i===void 0?"":i,n=cX.some(function(s){return!!~r.indexOf(s)});n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),xz=(function(e,t){for(var i=0,r=Object.keys(t);i<r.length;i++){var n=r[i];Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return e}),wg=(function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||jS}),Tz=J2(0,0,0,0);function zS(e){return parseFloat(e)||0}function P5(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce(function(r,n){var s=e["border-"+n+"-width"];return r+zS(s)},0)}function fX(e){for(var t=["top","right","bottom","left"],i={},r=0,n=t;r<n.length;r++){var s=n[r],a=e["padding-"+s];i[s]=zS(a)}return i}function pX(e){var t=e.getBBox();return J2(0,0,t.width,t.height)}function mX(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return Tz;var r=wg(e).getComputedStyle(e),n=fX(r),s=n.left+n.right,a=n.top+n.bottom,u=zS(r.width),h=zS(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+s)!==t&&(u-=P5(r,"left","right")+s),Math.round(h+a)!==i&&(h-=P5(r,"top","bottom")+a)),!yX(e)){var f=Math.round(u+s)-t,v=Math.round(h+a)-i;Math.abs(f)!==1&&(u-=f),Math.abs(v)!==1&&(h-=v)}return J2(n.left,n.top,u,h)}var gX=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof wg(e).SVGGraphicsElement}:function(e){return e instanceof wg(e).SVGElement&&typeof e.getBBox=="function"}})();function yX(e){return e===wg(e).document.documentElement}function vX(e){return z3?gX(e)?pX(e):mX(e):Tz}function _X(e){var t=e.x,i=e.y,r=e.width,n=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return xz(a,{x:t,y:i,width:r,height:n,top:i,right:t+r,bottom:n+i,left:t}),a}function J2(e,t,i,r){return{x:e,y:t,width:i,height:r}}var wX=(function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=J2(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=vX(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e})(),bX=(function(){function e(t,i){var r=_X(i);xz(this,{target:t,contentRect:r})}return e})(),SX=(function(){function e(t,i,r){if(this.activeObservations_=[],this.observations_=new Sz,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof wg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(t)||(i.set(t,new wX(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof wg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(t)&&(i.delete(t),i.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&t.activeObservations_.push(i)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,i=this.activeObservations_.map(function(r){return new bX(r.target,r.broadcastRect())});this.callback_.call(t,i,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),Mz=typeof WeakMap<"u"?new WeakMap:new Sz,Ez=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=dX.getInstance(),r=new SX(t,i,this);Mz.set(this,r)}return e})();["observe","unobserve","disconnect"].forEach(function(e){Ez.prototype[e]=function(){var t;return(t=Mz.get(this))[e].apply(t,arguments)}});var xX=(function(){return typeof jS.ResizeObserver<"u"?jS.ResizeObserver:Ez})();const TX=Object.freeze(Object.defineProperty({__proto__:null,default:xX},Symbol.toStringTag,{value:"Module"})),MX=iZ(TX);var A5;function EX(){if(A5)return fv;A5=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.InnerSlider=void 0;var e=f(Ml()),t=f(tX()),i=f(iX()),r=f(Y2()),n=D_(),s=rX(),a=nX(),u=sX(),h=f(MX);function f(ne){return ne&&ne.__esModule?ne:{default:ne}}function v(ne){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},v(ne)}function w(){return w=Object.assign?Object.assign.bind():function(ne){for(var se=1;se<arguments.length;se++){var we=arguments[se];for(var Q in we)({}).hasOwnProperty.call(we,Q)&&(ne[Q]=we[Q])}return ne},w.apply(null,arguments)}function x(ne,se){if(ne==null)return{};var we,Q,N=M(ne,se);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(ne);for(Q=0;Q<ge.length;Q++)we=ge[Q],se.includes(we)||{}.propertyIsEnumerable.call(ne,we)&&(N[we]=ne[we])}return N}function M(ne,se){if(ne==null)return{};var we={};for(var Q in ne)if({}.hasOwnProperty.call(ne,Q)){if(se.includes(Q))continue;we[Q]=ne[Q]}return we}function P(ne,se){var we=Object.keys(ne);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(ne);se&&(Q=Q.filter(function(N){return Object.getOwnPropertyDescriptor(ne,N).enumerable})),we.push.apply(we,Q)}return we}function O(ne){for(var se=1;se<arguments.length;se++){var we=arguments[se]!=null?arguments[se]:{};se%2?P(Object(we),!0).forEach(function(Q){q(ne,Q,we[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(we)):P(Object(we)).forEach(function(Q){Object.defineProperty(ne,Q,Object.getOwnPropertyDescriptor(we,Q))})}return ne}function F(ne,se){if(!(ne instanceof se))throw new TypeError("Cannot call a class as a function")}function G(ne,se){for(var we=0;we<se.length;we++){var Q=se[we];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ne,X(Q.key),Q)}}function Y(ne,se,we){return se&&G(ne.prototype,se),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function U(ne,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(se&&se.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),se&&C(ne,se)}function C(ne,se){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(we,Q){return we.__proto__=Q,we},C(ne,se)}function E(ne){var se=V();return function(){var we,Q=H(ne);if(se){var N=H(this).constructor;we=Reflect.construct(Q,arguments,N)}else we=Q.apply(this,arguments);return A(this,we)}}function A(ne,se){if(se&&(v(se)=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(ne)}function k(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function V(){try{var ne=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V=function(){return!!ne})()}function H(ne){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},H(ne)}function q(ne,se,we){return(se=X(se))in ne?Object.defineProperty(ne,se,{value:we,enumerable:!0,configurable:!0,writable:!0}):ne[se]=we,ne}function X(ne){var se=ue(ne,"string");return v(se)=="symbol"?se:se+""}function ue(ne,se){if(v(ne)!="object"||!ne)return ne;var we=ne[Symbol.toPrimitive];if(we!==void 0){var Q=we.call(ne,se);if(v(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(ne)}return fv.InnerSlider=(function(ne){U(we,ne);var se=E(we);function we(Q){var N;F(this,we),N=se.call(this,Q),q(k(N),"listRefHandler",function(ee){return N.list=ee}),q(k(N),"trackRefHandler",function(ee){return N.track=ee}),q(k(N),"adaptHeight",function(){if(N.props.adaptiveHeight&&N.list){var ee=N.list.querySelector('[data-index="'.concat(N.state.currentSlide,'"]'));N.list.style.height=(0,n.getHeight)(ee)+"px"}}),q(k(N),"componentDidMount",function(){if(N.props.onInit&&N.props.onInit(),N.props.lazyLoad){var ee=(0,n.getOnDemandLazySlides)(O(O({},N.props),N.state));ee.length>0&&(N.setState(function(z){return{lazyLoadedList:z.lazyLoadedList.concat(ee)}}),N.props.onLazyLoad&&N.props.onLazyLoad(ee))}var j=O({listRef:N.list,trackRef:N.track},N.props);N.updateState(j,!0,function(){N.adaptHeight(),N.props.autoplay&&N.autoPlay("update")}),N.props.lazyLoad==="progressive"&&(N.lazyLoadTimer=setInterval(N.progressiveLazyLoad,1e3)),N.ro=new h.default(function(){N.state.animating?(N.onWindowResized(!1),N.callbackTimers.push(setTimeout(function(){return N.onWindowResized()},N.props.speed))):N.onWindowResized()}),N.ro.observe(N.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(z){z.onfocus=N.props.pauseOnFocus?N.onSlideFocus:null,z.onblur=N.props.pauseOnFocus?N.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",N.onWindowResized):window.attachEvent("onresize",N.onWindowResized)}),q(k(N),"componentWillUnmount",function(){N.animationEndCallback&&clearTimeout(N.animationEndCallback),N.lazyLoadTimer&&clearInterval(N.lazyLoadTimer),N.callbackTimers.length&&(N.callbackTimers.forEach(function(ee){return clearTimeout(ee)}),N.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",N.onWindowResized):window.detachEvent("onresize",N.onWindowResized),N.autoplayTimer&&clearInterval(N.autoplayTimer),N.ro.disconnect()}),q(k(N),"componentDidUpdate",function(ee){if(N.checkImagesLoad(),N.props.onReInit&&N.props.onReInit(),N.props.lazyLoad){var j=(0,n.getOnDemandLazySlides)(O(O({},N.props),N.state));j.length>0&&(N.setState(function(he){return{lazyLoadedList:he.lazyLoadedList.concat(j)}}),N.props.onLazyLoad&&N.props.onLazyLoad(j))}N.adaptHeight();var z=O(O({listRef:N.list,trackRef:N.track},N.props),N.state),J=N.didPropsChange(ee);J&&N.updateState(z,J,function(){N.state.currentSlide>=e.default.Children.count(N.props.children)&&N.changeSlide({message:"index",index:e.default.Children.count(N.props.children)-N.props.slidesToShow,currentSlide:N.state.currentSlide}),N.props.autoplay?N.autoPlay("update"):N.pause("paused")})}),q(k(N),"onWindowResized",function(ee){N.debouncedResize&&N.debouncedResize.cancel(),N.debouncedResize=(0,i.default)(function(){return N.resizeWindow(ee)},50),N.debouncedResize()}),q(k(N),"resizeWindow",function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,j=!!(N.track&&N.track.node);if(j){var z=O(O({listRef:N.list,trackRef:N.track},N.props),N.state);N.updateState(z,ee,function(){N.props.autoplay?N.autoPlay("update"):N.pause("paused")}),N.setState({animating:!1}),clearTimeout(N.animationEndCallback),delete N.animationEndCallback}}),q(k(N),"updateState",function(ee,j,z){var J=(0,n.initializedState)(ee);ee=O(O(O({},ee),J),{},{slideIndex:J.currentSlide});var he=(0,n.getTrackLeft)(ee);ee=O(O({},ee),{},{left:he});var ce=(0,n.getTrackCSS)(ee);(j||e.default.Children.count(N.props.children)!==e.default.Children.count(ee.children))&&(J.trackStyle=ce),N.setState(J,z)}),q(k(N),"ssrInit",function(){if(N.props.variableWidth){var ee=0,j=0,z=[],J=(0,n.getPreClones)(O(O(O({},N.props),N.state),{},{slideCount:N.props.children.length})),he=(0,n.getPostClones)(O(O(O({},N.props),N.state),{},{slideCount:N.props.children.length}));N.props.children.forEach(function(_i){z.push(_i.props.style.width),ee+=_i.props.style.width});for(var ce=0;ce<J;ce++)j+=z[z.length-1-ce],ee+=z[z.length-1-ce];for(var be=0;be<he;be++)ee+=z[be];for(var ye=0;ye<N.state.currentSlide;ye++)j+=z[ye];var Oe={width:ee+"px",left:-j+"px"};if(N.props.centerMode){var rt="".concat(z[N.state.currentSlide],"px");Oe.left="calc(".concat(Oe.left," + (100% - ").concat(rt,") / 2 ) ")}return{trackStyle:Oe}}var nt=e.default.Children.count(N.props.children),bt=O(O(O({},N.props),N.state),{},{slideCount:nt}),ft=(0,n.getPreClones)(bt)+(0,n.getPostClones)(bt)+nt,St=100/N.props.slidesToShow*ft,Pt=100/ft,vt=-Pt*((0,n.getPreClones)(bt)+N.state.currentSlide)*St/100;N.props.centerMode&&(vt+=(100-Pt*St/100)/2);var xt={width:St+"%",left:vt+"%"};return{slideWidth:Pt+"%",trackStyle:xt}}),q(k(N),"checkImagesLoad",function(){var ee=N.list&&N.list.querySelectorAll&&N.list.querySelectorAll(".slick-slide img")||[],j=ee.length,z=0;Array.prototype.forEach.call(ee,function(J){var he=function(){return++z&&z>=j&&N.onWindowResized()};if(!J.onclick)J.onclick=function(){return J.parentNode.focus()};else{var ce=J.onclick;J.onclick=function(be){ce(be),J.parentNode.focus()}}J.onload||(N.props.lazyLoad?J.onload=function(){N.adaptHeight(),N.callbackTimers.push(setTimeout(N.onWindowResized,N.props.speed))}:(J.onload=he,J.onerror=function(){he(),N.props.onLazyLoadError&&N.props.onLazyLoadError()}))})}),q(k(N),"progressiveLazyLoad",function(){for(var ee=[],j=O(O({},N.props),N.state),z=N.state.currentSlide;z<N.state.slideCount+(0,n.getPostClones)(j);z++)if(N.state.lazyLoadedList.indexOf(z)<0){ee.push(z);break}for(var J=N.state.currentSlide-1;J>=-(0,n.getPreClones)(j);J--)if(N.state.lazyLoadedList.indexOf(J)<0){ee.push(J);break}ee.length>0?(N.setState(function(he){return{lazyLoadedList:he.lazyLoadedList.concat(ee)}}),N.props.onLazyLoad&&N.props.onLazyLoad(ee)):N.lazyLoadTimer&&(clearInterval(N.lazyLoadTimer),delete N.lazyLoadTimer)}),q(k(N),"slideHandler",function(ee){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=N.props,J=z.asNavFor,he=z.beforeChange,ce=z.onLazyLoad,be=z.speed,ye=z.afterChange,Oe=N.state.currentSlide,rt=(0,n.slideHandler)(O(O(O({index:ee},N.props),N.state),{},{trackRef:N.track,useCSS:N.props.useCSS&&!j})),nt=rt.state,bt=rt.nextState;if(nt){he&&he(Oe,nt.currentSlide);var ft=nt.lazyLoadedList.filter(function(St){return N.state.lazyLoadedList.indexOf(St)<0});ce&&ft.length>0&&ce(ft),!N.props.waitForAnimate&&N.animationEndCallback&&(clearTimeout(N.animationEndCallback),ye&&ye(Oe),delete N.animationEndCallback),N.setState(nt,function(){J&&N.asNavForIndex!==ee&&(N.asNavForIndex=ee,J.innerSlider.slideHandler(ee)),bt&&(N.animationEndCallback=setTimeout(function(){var St=bt.animating,Pt=x(bt,["animating"]);N.setState(Pt,function(){N.callbackTimers.push(setTimeout(function(){return N.setState({animating:St})},10)),ye&&ye(nt.currentSlide),delete N.animationEndCallback})},be))})}}),q(k(N),"changeSlide",function(ee){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=O(O({},N.props),N.state),J=(0,n.changeSlide)(z,ee);if(!(J!==0&&!J)&&(j===!0?N.slideHandler(J,j):N.slideHandler(J),N.props.autoplay&&N.autoPlay("update"),N.props.focusOnSelect)){var he=N.list.querySelectorAll(".slick-current");he[0]&&he[0].focus()}}),q(k(N),"clickHandler",function(ee){N.clickable===!1&&(ee.stopPropagation(),ee.preventDefault()),N.clickable=!0}),q(k(N),"keyHandler",function(ee){var j=(0,n.keyHandler)(ee,N.props.accessibility,N.props.rtl);j!==""&&N.changeSlide({message:j})}),q(k(N),"selectHandler",function(ee){N.changeSlide(ee)}),q(k(N),"disableBodyScroll",function(){var ee=function(z){z=z||window.event,z.preventDefault&&z.preventDefault(),z.returnValue=!1};window.ontouchmove=ee}),q(k(N),"enableBodyScroll",function(){window.ontouchmove=null}),q(k(N),"swipeStart",function(ee){N.props.verticalSwiping&&N.disableBodyScroll();var j=(0,n.swipeStart)(ee,N.props.swipe,N.props.draggable);j!==""&&N.setState(j)}),q(k(N),"swipeMove",function(ee){var j=(0,n.swipeMove)(ee,O(O(O({},N.props),N.state),{},{trackRef:N.track,listRef:N.list,slideIndex:N.state.currentSlide}));j&&(j.swiping&&(N.clickable=!1),N.setState(j))}),q(k(N),"swipeEnd",function(ee){var j=(0,n.swipeEnd)(ee,O(O(O({},N.props),N.state),{},{trackRef:N.track,listRef:N.list,slideIndex:N.state.currentSlide}));if(j){var z=j.triggerSlideHandler;delete j.triggerSlideHandler,N.setState(j),z!==void 0&&(N.slideHandler(z),N.props.verticalSwiping&&N.enableBodyScroll())}}),q(k(N),"touchEnd",function(ee){N.swipeEnd(ee),N.clickable=!0}),q(k(N),"slickPrev",function(){N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"previous"})},0))}),q(k(N),"slickNext",function(){N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"next"})},0))}),q(k(N),"slickGoTo",function(ee){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ee=Number(ee),isNaN(ee))return"";N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"index",index:ee,currentSlide:N.state.currentSlide},j)},0))}),q(k(N),"play",function(){var ee;if(N.props.rtl)ee=N.state.currentSlide-N.props.slidesToScroll;else if((0,n.canGoNext)(O(O({},N.props),N.state)))ee=N.state.currentSlide+N.props.slidesToScroll;else return!1;N.slideHandler(ee)}),q(k(N),"autoPlay",function(ee){N.autoplayTimer&&clearInterval(N.autoplayTimer);var j=N.state.autoplaying;if(ee==="update"){if(j==="hovered"||j==="focused"||j==="paused")return}else if(ee==="leave"){if(j==="paused"||j==="focused")return}else if(ee==="blur"&&(j==="paused"||j==="hovered"))return;N.autoplayTimer=setInterval(N.play,N.props.autoplaySpeed+50),N.setState({autoplaying:"playing"})}),q(k(N),"pause",function(ee){N.autoplayTimer&&(clearInterval(N.autoplayTimer),N.autoplayTimer=null);var j=N.state.autoplaying;ee==="paused"?N.setState({autoplaying:"paused"}):ee==="focused"?(j==="hovered"||j==="playing")&&N.setState({autoplaying:"focused"}):j==="playing"&&N.setState({autoplaying:"hovered"})}),q(k(N),"onDotsOver",function(){return N.props.autoplay&&N.pause("hovered")}),q(k(N),"onDotsLeave",function(){return N.props.autoplay&&N.state.autoplaying==="hovered"&&N.autoPlay("leave")}),q(k(N),"onTrackOver",function(){return N.props.autoplay&&N.pause("hovered")}),q(k(N),"onTrackLeave",function(){return N.props.autoplay&&N.state.autoplaying==="hovered"&&N.autoPlay("leave")}),q(k(N),"onSlideFocus",function(){return N.props.autoplay&&N.pause("focused")}),q(k(N),"onSlideBlur",function(){return N.props.autoplay&&N.state.autoplaying==="focused"&&N.autoPlay("blur")}),q(k(N),"render",function(){var ee=(0,r.default)("slick-slider",N.props.className,{"slick-vertical":N.props.vertical,"slick-initialized":!0}),j=O(O({},N.props),N.state),z=(0,n.extractObject)(j,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),J=N.props.pauseOnHover;z=O(O({},z),{},{onMouseEnter:J?N.onTrackOver:null,onMouseLeave:J?N.onTrackLeave:null,onMouseOver:J?N.onTrackOver:null,focusOnSelect:N.props.focusOnSelect&&N.clickable?N.selectHandler:null});var he;if(N.props.dots===!0&&N.state.slideCount>=N.props.slidesToShow){var ce=(0,n.extractObject)(j,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),be=N.props.pauseOnDotsHover;ce=O(O({},ce),{},{clickHandler:N.changeSlide,onMouseEnter:be?N.onDotsLeave:null,onMouseOver:be?N.onDotsOver:null,onMouseLeave:be?N.onDotsLeave:null}),he=e.default.createElement(a.Dots,ce)}var ye,Oe,rt=(0,n.extractObject)(j,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);rt.clickHandler=N.changeSlide,N.props.arrows&&(ye=e.default.createElement(u.PrevArrow,rt),Oe=e.default.createElement(u.NextArrow,rt));var nt=null;N.props.vertical&&(nt={height:N.state.listHeight});var bt=null;N.props.vertical===!1?N.props.centerMode===!0&&(bt={padding:"0px "+N.props.centerPadding}):N.props.centerMode===!0&&(bt={padding:N.props.centerPadding+" 0px"});var ft=O(O({},nt),bt),St=N.props.touchMove,Pt={className:"slick-list",style:ft,onClick:N.clickHandler,onMouseDown:St?N.swipeStart:null,onMouseMove:N.state.dragging&&St?N.swipeMove:null,onMouseUp:St?N.swipeEnd:null,onMouseLeave:N.state.dragging&&St?N.swipeEnd:null,onTouchStart:St?N.swipeStart:null,onTouchMove:N.state.dragging&&St?N.swipeMove:null,onTouchEnd:St?N.touchEnd:null,onTouchCancel:N.state.dragging&&St?N.swipeEnd:null,onKeyDown:N.props.accessibility?N.keyHandler:null},vt={className:ee,dir:"ltr",style:N.props.style};return N.props.unslick&&(Pt={className:"slick-list"},vt={className:ee,style:N.props.style}),e.default.createElement("div",vt,N.props.unslick?"":ye,e.default.createElement("div",w({ref:N.listRefHandler},Pt),e.default.createElement(s.Track,w({ref:N.trackRefHandler},z),N.props.children)),N.props.unslick?"":Oe,N.props.unslick?"":he)}),N.list=null,N.track=null,N.state=O(O({},t.default),{},{currentSlide:N.props.initialSlide,targetSlide:N.props.initialSlide?N.props.initialSlide:0,slideCount:e.default.Children.count(N.props.children)}),N.callbackTimers=[],N.clickable=!0,N.debouncedResize=null;var ge=N.ssrInit();return N.state=O(O({},N.state),ge),N}return Y(we,[{key:"didPropsChange",value:function(N){for(var ge=!1,ee=0,j=Object.keys(this.props);ee<j.length;ee++){var z=j[ee];if(!N.hasOwnProperty(z)){ge=!0;break}if(!(v(N[z])==="object"||typeof N[z]=="function"||isNaN(N[z]))&&N[z]!==this.props[z]){ge=!0;break}}return ge||e.default.Children.count(this.props.children)!==e.default.Children.count(N.children)}}]),we})(e.default.Component),fv}var pE,R5;function $X(){if(R5)return pE;R5=1;var e=function(t){return t.replace(/[A-Z]/g,function(i){return"-"+i.toLowerCase()}).toLowerCase()};return pE=e,pE}var mE,L5;function CX(){if(L5)return mE;L5=1;var e=$X(),t=function(n){var s=/[height|width]$/;return s.test(n)},i=function(n){var s="",a=Object.keys(n);return a.forEach(function(u,h){var f=n[u];u=e(u),t(u)&&typeof f=="number"&&(f=f+"px"),f===!0?s+=u:f===!1?s+="not "+u:s+="("+u+": "+f+")",h<a.length-1&&(s+=" and ")}),s},r=function(n){var s="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(a,u){s+=i(a),u<n.length-1&&(s+=", ")}),s):i(n)};return mE=r,mE}var k5;function OX(){return k5||(k5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(Ml()),i=EX(),r=a(CX()),n=a(bz()),s=D_();function a(V){return V&&V.__esModule?V:{default:V}}function u(V){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},u(V)}function h(){return h=Object.assign?Object.assign.bind():function(V){for(var H=1;H<arguments.length;H++){var q=arguments[H];for(var X in q)({}).hasOwnProperty.call(q,X)&&(V[X]=q[X])}return V},h.apply(null,arguments)}function f(V,H){var q=Object.keys(V);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(V);H&&(X=X.filter(function(ue){return Object.getOwnPropertyDescriptor(V,ue).enumerable})),q.push.apply(q,X)}return q}function v(V){for(var H=1;H<arguments.length;H++){var q=arguments[H]!=null?arguments[H]:{};H%2?f(Object(q),!0).forEach(function(X){E(V,X,q[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(q)):f(Object(q)).forEach(function(X){Object.defineProperty(V,X,Object.getOwnPropertyDescriptor(q,X))})}return V}function w(V,H){if(!(V instanceof H))throw new TypeError("Cannot call a class as a function")}function x(V,H){for(var q=0;q<H.length;q++){var X=H[q];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(V,A(X.key),X)}}function M(V,H,q){return H&&x(V.prototype,H),Object.defineProperty(V,"prototype",{writable:!1}),V}function P(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(H&&H.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),H&&O(V,H)}function O(V,H){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,X){return q.__proto__=X,q},O(V,H)}function F(V){var H=U();return function(){var q,X=C(V);if(H){var ue=C(this).constructor;q=Reflect.construct(X,arguments,ue)}else q=X.apply(this,arguments);return G(this,q)}}function G(V,H){if(H&&(u(H)=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(V)}function Y(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function U(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!V})()}function C(V){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},C(V)}function E(V,H,q){return(H=A(H))in V?Object.defineProperty(V,H,{value:q,enumerable:!0,configurable:!0,writable:!0}):V[H]=q,V}function A(V){var H=k(V,"string");return u(H)=="symbol"?H:H+""}function k(V,H){if(u(V)!="object"||!V)return V;var q=V[Symbol.toPrimitive];if(q!==void 0){var X=q.call(V,H);if(u(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(V)}e.default=(function(V){P(q,V);var H=F(q);function q(X){var ue;return w(this,q),ue=H.call(this,X),E(Y(ue),"innerSliderRefHandler",function(ne){return ue.innerSlider=ne}),E(Y(ue),"slickPrev",function(){return ue.innerSlider.slickPrev()}),E(Y(ue),"slickNext",function(){return ue.innerSlider.slickNext()}),E(Y(ue),"slickGoTo",function(ne){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ue.innerSlider.slickGoTo(ne,se)}),E(Y(ue),"slickPause",function(){return ue.innerSlider.pause("paused")}),E(Y(ue),"slickPlay",function(){return ue.innerSlider.autoPlay("play")}),ue.state={breakpoint:null},ue._responsiveMediaHandlers=[],ue}return M(q,[{key:"media",value:function(ue,ne){var se=window.matchMedia(ue),we=function(N){var ge=N.matches;ge&&ne()};se.addListener(we),this._responsiveMediaHandlers.push({mql:se,query:ue,listener:we})}},{key:"componentDidMount",value:function(){var ue=this;if(this.props.responsive){var ne=this.props.responsive.map(function(we){return we.breakpoint});ne.sort(function(we,Q){return we-Q}),ne.forEach(function(we,Q){var N;Q===0?N=(0,r.default)({minWidth:0,maxWidth:we}):N=(0,r.default)({minWidth:ne[Q-1]+1,maxWidth:we}),(0,s.canUseDOM)()&&ue.media(N,function(){ue.setState({breakpoint:we})})});var se=(0,r.default)({minWidth:ne.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(se,function(){ue.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(ue){ue.mql.removeListener(ue.listener)})}},{key:"render",value:function(){var ue=this,ne,se;this.state.breakpoint?(se=this.props.responsive.filter(function(ce){return ce.breakpoint===ue.state.breakpoint}),ne=se[0].settings==="unslick"?"unslick":v(v(v({},n.default),this.props),se[0].settings)):ne=v(v({},n.default),this.props),ne.centerMode&&(ne.slidesToScroll>1,ne.slidesToScroll=1),ne.fade&&(ne.slidesToShow>1,ne.slidesToScroll>1,ne.slidesToShow=1,ne.slidesToScroll=1);var we=t.default.Children.toArray(this.props.children);we=we.filter(function(ce){return typeof ce=="string"?!!ce.trim():!!ce}),ne.variableWidth&&(ne.rows>1||ne.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),ne.variableWidth=!1);for(var Q=[],N=null,ge=0;ge<we.length;ge+=ne.rows*ne.slidesPerRow){for(var ee=[],j=ge;j<ge+ne.rows*ne.slidesPerRow;j+=ne.slidesPerRow){for(var z=[],J=j;J<j+ne.slidesPerRow&&(ne.variableWidth&&we[J].props.style&&(N=we[J].props.style.width),!(J>=we.length));J+=1)z.push(t.default.cloneElement(we[J],{key:100*ge+10*j+J,tabIndex:-1,style:{width:"".concat(100/ne.slidesPerRow,"%"),display:"inline-block"}}));ee.push(t.default.createElement("div",{key:10*ge+j},z))}ne.variableWidth?Q.push(t.default.createElement("div",{key:ge,style:{width:N}},ee)):Q.push(t.default.createElement("div",{key:ge},ee))}if(ne==="unslick"){var he="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:he},we)}else Q.length<=ne.slidesToShow&&(ne.unslick=!0);return t.default.createElement(i.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(ne)),Q)}}]),q})(t.default.Component)})(uE)),uE}var I5;function PX(){return I5||(I5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(OX());function i(r){return r&&r.__esModule?r:{default:r}}e.default=t.default})(lE)),lE}var AX=PX();const RX=H2(AX),LX=""+new URL("page1-CgGZSkDL.webp",import.meta.url).href,kX=""+new URL("page2-CN_ym0tj.webp",import.meta.url).href,IX=""+new URL("page3-Cxr1x-b5.webp",import.meta.url).href,NX=""+new URL("page4-DBcuOs-5.webp",import.meta.url).href,DX=""+new URL("page5-BfpZGkl8.webp",import.meta.url).href,jX=""+new URL("page6-M90-LiUl.webp",import.meta.url).href,zX=""+new URL("page7-C92WV5Lr.webp",import.meta.url).href,UX=""+new URL("page8-fiEbY_i-.webp",import.meta.url).href,FX=""+new URL("page9-DMrVQbyt.webp",import.meta.url).href,BX=""+new URL("page10-CN4b_Sma.webp",import.meta.url).href,qX=""+new URL("page11-Dga4Ouj-.webp",import.meta.url).href,GX=""+new URL("page12-BfD7VH64.webp",import.meta.url).href,VX=""+new URL("page13-B5n8Zj0E.webp",import.meta.url).href,HX=""+new URL("page14-CDw84Ayn.webp",import.meta.url).href,WX=""+new URL("page15-DQ5JaKTU.webp",import.meta.url).href,ZX=""+new URL("page16-CqpoPQkM.webp",import.meta.url).href,YX=""+new URL("landslide-CdOBooOw.png",import.meta.url).href;function JX(){const e=[LX,kX,IX,NX,DX,jX,zX,UX,FX,BX,qX,GX,VX,HX,WX,ZX],t={dots:!0,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:7e3,pauseOnHover:!0};return D.jsxs("section",{className:"guide",children:[D.jsx("img",{src:YX,alt:"Landslide Cartoon",className:"guide__landslide-bg"}),D.jsx("h1",{children:"Gua sobre Deslizamientos de Tierra"}),D.jsxs("p",{children:["Esta "," ",D.jsx("a",{href:"https://hazards.colorado.edu/uploads/documents/PuertoRico_GuiaDerrumbe_2020.pdf",target:"_blank",rel:"noopener noreferrer",children:"gua"})," incluye 16 pginas de informacin til para ciudadanos de la isla que viven en zonas propensas a derrumbes."]}),D.jsxs("p",{children:["Para solicitar una versin impresa de la gua, favor de comunicar con nosotros por correo electrnico "," ",D.jsx("a",{href:"mailto:slidespr@uprm.edu",children:"slidespr@uprm.edu"})," o llamar el Departamento de Geologa de la UPRM: 787-265-3845."]}),D.jsxs("p",{children:["Para ms information sobre la gua, puede visitar: "," ",D.jsx("a",{href:"https://hazards.colorado.edu/research-projects/puerto-rico-landslide-hazard-mitigation-project",target:"_blank",rel:"noopener noreferrer",children:"hazards.colorado.edu/puertorico"})]}),D.jsxs("p",{children:["English version "," ",D.jsx("a",{href:"https://hazards.colorado.edu/uploads/documents/PuertoRico_LandslideGuide_2020.pdf",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),D.jsx("p",{children:"Para avanzar o retroceder, haga clic o arrastre desde las esquinas del libro. Puede detenerse en cualquier pgina para leer con calma o ampliar el contenido usando el zoom del navegador."}),D.jsx("div",{className:"guide__flipbook-container",children:D.jsx(eX,{width:500,height:700,size:"stretch",minWidth:315,maxWidth:600,maxHeight:900,showCover:!0,className:"guide__flipbook",children:e.map((i,r)=>D.jsx("div",{className:"guide__page",children:D.jsx("img",{src:i,alt:`Pgina ${r+1}`})},r))})}),D.jsxs("div",{className:"landslide__extra-info",children:[D.jsx("h2",{children:"Datos sobre Deslizamientos de Tierra"}),D.jsxs(RX,{...t,className:"landslide__carousel",children:[D.jsxs("div",{className:"landslide__card",children:[D.jsx("h3",{children:"Los Deslizamientos de Tierra y sus Mitigaciones"}),D.jsx("em",{children:"Para prevenir derrumbes causados naturalmente o por intervencin humana:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"1. Evita hacer cortes de terreno con pendientes escarpadas."}),D.jsx("li",{children:"2. Redirige el agua hacia desages y alcantarillas para no sobresaturar el terreno."}),D.jsx("li",{children:"3. Incrementa la siembra de rboles en pendientes y evita la deforestacin."}),D.jsx("li",{children:"4. Consulta siempre a un profesional antes de realizar construcciones."})]})]}),D.jsxs("div",{className:"landslide__card",children:[D.jsx("h3",{children:"Seales de la Naturaleza ante un Posible Deslizamiento"}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"rboles inclinados:"})," Ocurre cuando la tierra se mueve lentamente."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Brotes de agua o desaparicin:"})," Aparicin de agua en lugares nuevos o desaparicin por obstruccin de derrumbe."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Grietas:"})," Indican movimiento y facilitan el paso de agua en el terreno."]})]})]}),D.jsxs("div",{className:"landslide__card",children:[D.jsx("h3",{children:"Deslizamientos Comunes en Puerto Rico"}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Cada de roca:"})," Movimientos descendentes de roca o tierra desprendidos de elevaciones empinadas."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Flujo:"})," Desplazamiento rpido provocado por gran cantidad de agua acumulada y mezclada con la tierra."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Derrumbe:"})," Desprendimiento de roca o tierra que ocurre a lo largo de una superficie."]})]})]})]})]}),D.jsxs("div",{className:"landslide__videos",children:[D.jsx("h2",{children:"Animaciones sobre Deslizamientos de Tierra"}),D.jsxs("div",{className:"landslide__video-grid",children:[D.jsxs("div",{className:"landslide__video-card",children:[D.jsx("div",{className:"landslide__video-container",children:D.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/2dS2Sisj4GQ?si=Wiu9Rr6NXIPaayEt",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),D.jsx("p",{children:"Versin en espaol"})]}),D.jsxs("div",{className:"landslide__video-card",children:[D.jsx("div",{className:"landslide__video-container",children:D.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/lbHGOz3WXgw?si=me9p18wwXhpuatWI",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),D.jsx("p",{children:"English Version"})]})]})]})]})}function $z(e,t){const i=oe.useRef(t);oe.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const XX=1;function KX(e){return Object.freeze({__version:XX,map:e})}function QX(e,t){return Object.freeze({...e,...t})}const SP=oe.createContext(null);function X2(){const e=oe.use(SP);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function eK(e){function t(i,r){const{instance:n,context:s}=e(i).current;oe.useImperativeHandle(r,()=>n);const{children:a}=i;return a==null?null:Au.createElement(SP,{value:s},a)}return oe.forwardRef(t)}function tK(e){function t(i,r){const[n,s]=oe.useState(!1),{instance:a}=e(i,s).current;oe.useImperativeHandle(r,()=>a),oe.useEffect(function(){n&&a.update()},[a,n,i.children]);const u=a._contentNode;return u?wz.createPortal(i.children,u):null}return oe.forwardRef(t)}function Cz(e){function t(i,r){const{instance:n}=e(i).current;return oe.useImperativeHandle(r,()=>n),null}return oe.forwardRef(t)}function iK(e){return function(i){const r=X2(),n=e(i,r),{instance:s}=n.current,a=oe.useRef(i.position),{position:u}=i;return oe.useEffect(function(){return s.addTo(r.map),function(){s.remove()}},[r.map,s]),oe.useEffect(function(){u!=null&&u!==a.current&&(s.setPosition(u),a.current=u)},[s,u]),n}}function Oz(e,t){const i=oe.useRef(void 0);oe.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function xP(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function rK(e,t){return function(r,n){const s=X2(),a=e(xP(r,s),s);return $z(s.map,r.attribution),Oz(a.current,r.eventHandlers),t(a.current,s,r,n),a}}var Bv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nK=Bv.exports,N5;function sK(){return N5||(N5=1,(function(e,t){(function(i,r){r(t)})(nK,(function(i){var r="1.9.4";function n(c){var g,b,$,R;for(b=1,$=arguments.length;b<$;b++){R=arguments[b];for(g in R)c[g]=R[g]}return c}var s=Object.create||(function(){function c(){}return function(g){return c.prototype=g,new c}})();function a(c,g){var b=Array.prototype.slice;if(c.bind)return c.bind.apply(c,b.call(arguments,1));var $=b.call(arguments,2);return function(){return c.apply(g,$.length?$.concat(b.call(arguments)):arguments)}}var u=0;function h(c){return"_leaflet_id"in c||(c._leaflet_id=++u),c._leaflet_id}function f(c,g,b){var $,R,W,K;return K=function(){$=!1,R&&(W.apply(b,R),R=!1)},W=function(){$?R=arguments:(c.apply(b,arguments),setTimeout(K,g),$=!0)},W}function v(c,g,b){var $=g[1],R=g[0],W=$-R;return c===$&&b?c:((c-R)%W+W)%W+R}function w(){return!1}function x(c,g){if(g===!1)return c;var b=Math.pow(10,g===void 0?6:g);return Math.round(c*b)/b}function M(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function P(c){return M(c).split(/\s+/)}function O(c,g){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?s(c.options):{});for(var b in g)c.options[b]=g[b];return c.options}function F(c,g,b){var $=[];for(var R in c)$.push(encodeURIComponent(b?R.toUpperCase():R)+"="+encodeURIComponent(c[R]));return(!g||g.indexOf("?")===-1?"?":"&")+$.join("&")}var G=/\{ *([\w_ -]+) *\}/g;function Y(c,g){return c.replace(G,function(b,$){var R=g[$];if(R===void 0)throw new Error("No value provided for variable "+b);return typeof R=="function"&&(R=R(g)),R})}var U=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function C(c,g){for(var b=0;b<c.length;b++)if(c[b]===g)return b;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var k=0;function V(c){var g=+new Date,b=Math.max(0,16-(g-k));return k=g+b,window.setTimeout(c,b)}var H=window.requestAnimationFrame||A("RequestAnimationFrame")||V,q=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function X(c,g,b){if(b&&H===V)c.call(g);else return H.call(window,a(c,g))}function ue(c){c&&q.call(window,c)}var ne={__proto__:null,extend:n,create:s,bind:a,get lastId(){return u},stamp:h,throttle:f,wrapNum:v,falseFn:w,formatNum:x,trim:M,splitWords:P,setOptions:O,getParamString:F,template:Y,isArray:U,indexOf:C,emptyImageUrl:E,requestFn:H,cancelFn:q,requestAnimFrame:X,cancelAnimFrame:ue};function se(){}se.extend=function(c){var g=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=g.__super__=this.prototype,$=s(b);$.constructor=g,g.prototype=$;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(g[R]=this[R]);return c.statics&&n(g,c.statics),c.includes&&(we(c.includes),n.apply(null,[$].concat(c.includes))),n($,c),delete $.statics,delete $.includes,$.options&&($.options=b.options?s(b.options):{},n($.options,c.options)),$._initHooks=[],$.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,K=$._initHooks.length;W<K;W++)$._initHooks[W].call(this)}},g},se.include=function(c){var g=this.prototype.options;return n(this.prototype,c),c.options&&(this.prototype.options=g,this.mergeOptions(c.options)),this},se.mergeOptions=function(c){return n(this.prototype.options,c),this},se.addInitHook=function(c){var g=Array.prototype.slice.call(arguments,1),b=typeof c=="function"?c:function(){this[c].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function we(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=U(c)?c:[c];for(var g=0;g<c.length;g++)c[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(c,g,b){if(typeof c=="object")for(var $ in c)this._on($,c[$],g);else{c=P(c);for(var R=0,W=c.length;R<W;R++)this._on(c[R],g,b)}return this},off:function(c,g,b){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var $ in c)this._off($,c[$],g);else{c=P(c);for(var R=arguments.length===1,W=0,K=c.length;W<K;W++)R?this._off(c[W]):this._off(c[W],g,b)}return this},_on:function(c,g,b,$){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(c,g,b)===!1){b===this&&(b=void 0);var R={fn:g,ctx:b};$&&(R.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(R)}},_off:function(c,g,b){var $,R,W;if(this._events&&($=this._events[c],!!$)){if(arguments.length===1){if(this._firingCount)for(R=0,W=$.length;R<W;R++)$[R].fn=w;delete this._events[c];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var K=this._listens(c,g,b);if(K!==!1){var fe=$[K];this._firingCount&&(fe.fn=w,this._events[c]=$=$.slice()),$.splice(K,1)}}},fire:function(c,g,b){if(!this.listens(c,b))return this;var $=n({},g,{type:c,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var R=this._events[c];if(R){this._firingCount=this._firingCount+1||1;for(var W=0,K=R.length;W<K;W++){var fe=R[W],Se=fe.fn;fe.once&&this.off(c,Se,fe.ctx),Se.call(fe.ctx||this,$)}this._firingCount--}}return b&&this._propagateEvent($),this},listens:function(c,g,b,$){typeof c!="string"&&console.warn('"string" type argument expected');var R=g;typeof g!="function"&&($=!!g,R=void 0,b=void 0);var W=this._events&&this._events[c];if(W&&W.length&&this._listens(c,R,b)!==!1)return!0;if($){for(var K in this._eventParents)if(this._eventParents[K].listens(c,g,b,$))return!0}return!1},_listens:function(c,g,b){if(!this._events)return!1;var $=this._events[c]||[];if(!g)return!!$.length;b===this&&(b=void 0);for(var R=0,W=$.length;R<W;R++)if($[R].fn===g&&$[R].ctx===b)return R;return!1},once:function(c,g,b){if(typeof c=="object")for(var $ in c)this._on($,c[$],g,!0);else{c=P(c);for(var R=0,W=c.length;R<W;R++)this._on(c[R],g,b,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[h(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[h(c)],this},_propagateEvent:function(c){for(var g in this._eventParents)this._eventParents[g].fire(c.type,n({layer:c.target,propagatedFrom:c.target},c),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var N=se.extend(Q);function ge(c,g,b){this.x=b?Math.round(c):c,this.y=b?Math.round(g):g}var ee=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};ge.prototype={clone:function(){return new ge(this.x,this.y)},add:function(c){return this.clone()._add(j(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(j(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new ge(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new ge(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(c){c=j(c);var g=c.x-this.x,b=c.y-this.y;return Math.sqrt(g*g+b*b)},equals:function(c){return c=j(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=j(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function j(c,g,b){return c instanceof ge?c:U(c)?new ge(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new ge(c.x,c.y):new ge(c,g,b)}function z(c,g){if(c)for(var b=g?[c,g]:c,$=0,R=b.length;$<R;$++)this.extend(b[$])}z.prototype={extend:function(c){var g,b;if(!c)return this;if(c instanceof ge||typeof c[0]=="number"||"x"in c)g=b=j(c);else if(c=J(c),g=c.min,b=c.max,!g||!b)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=b.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(c){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var g,b;return typeof c[0]=="number"||c instanceof ge?c=j(c):c=J(c),c instanceof z?(g=c.min,b=c.max):g=b=c,g.x>=this.min.x&&b.x<=this.max.x&&g.y>=this.min.y&&b.y<=this.max.y},intersects:function(c){c=J(c);var g=this.min,b=this.max,$=c.min,R=c.max,W=R.x>=g.x&&$.x<=b.x,K=R.y>=g.y&&$.y<=b.y;return W&&K},overlaps:function(c){c=J(c);var g=this.min,b=this.max,$=c.min,R=c.max,W=R.x>g.x&&$.x<b.x,K=R.y>g.y&&$.y<b.y;return W&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var g=this.min,b=this.max,$=Math.abs(g.x-b.x)*c,R=Math.abs(g.y-b.y)*c;return J(j(g.x-$,g.y-R),j(b.x+$,b.y+R))},equals:function(c){return c?(c=J(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function J(c,g){return!c||c instanceof z?c:new z(c,g)}function he(c,g){if(c)for(var b=g?[c,g]:c,$=0,R=b.length;$<R;$++)this.extend(b[$])}he.prototype={extend:function(c){var g=this._southWest,b=this._northEast,$,R;if(c instanceof be)$=c,R=c;else if(c instanceof he){if($=c._southWest,R=c._northEast,!$||!R)return this}else return c?this.extend(ye(c)||ce(c)):this;return!g&&!b?(this._southWest=new be($.lat,$.lng),this._northEast=new be(R.lat,R.lng)):(g.lat=Math.min($.lat,g.lat),g.lng=Math.min($.lng,g.lng),b.lat=Math.max(R.lat,b.lat),b.lng=Math.max(R.lng,b.lng)),this},pad:function(c){var g=this._southWest,b=this._northEast,$=Math.abs(g.lat-b.lat)*c,R=Math.abs(g.lng-b.lng)*c;return new he(new be(g.lat-$,g.lng-R),new be(b.lat+$,b.lng+R))},getCenter:function(){return new be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new be(this.getNorth(),this.getWest())},getSouthEast:function(){return new be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof be||"lat"in c?c=ye(c):c=ce(c);var g=this._southWest,b=this._northEast,$,R;return c instanceof he?($=c.getSouthWest(),R=c.getNorthEast()):$=R=c,$.lat>=g.lat&&R.lat<=b.lat&&$.lng>=g.lng&&R.lng<=b.lng},intersects:function(c){c=ce(c);var g=this._southWest,b=this._northEast,$=c.getSouthWest(),R=c.getNorthEast(),W=R.lat>=g.lat&&$.lat<=b.lat,K=R.lng>=g.lng&&$.lng<=b.lng;return W&&K},overlaps:function(c){c=ce(c);var g=this._southWest,b=this._northEast,$=c.getSouthWest(),R=c.getNorthEast(),W=R.lat>g.lat&&$.lat<b.lat,K=R.lng>g.lng&&$.lng<b.lng;return W&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,g){return c?(c=ce(c),this._southWest.equals(c.getSouthWest(),g)&&this._northEast.equals(c.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(c,g){return c instanceof he?c:new he(c,g)}function be(c,g,b){if(isNaN(c)||isNaN(g))throw new Error("Invalid LatLng object: ("+c+", "+g+")");this.lat=+c,this.lng=+g,b!==void 0&&(this.alt=+b)}be.prototype={equals:function(c,g){if(!c)return!1;c=ye(c);var b=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return b<=(g===void 0?1e-9:g)},toString:function(c){return"LatLng("+x(this.lat,c)+", "+x(this.lng,c)+")"},distanceTo:function(c){return rt.distance(this,ye(c))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(c){var g=180*c/40075017,b=g/Math.cos(Math.PI/180*this.lat);return ce([this.lat-g,this.lng-b],[this.lat+g,this.lng+b])},clone:function(){return new be(this.lat,this.lng,this.alt)}};function ye(c,g,b){return c instanceof be?c:U(c)&&typeof c[0]!="object"?c.length===3?new be(c[0],c[1],c[2]):c.length===2?new be(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new be(c.lat,"lng"in c?c.lng:c.lon,c.alt):g===void 0?null:new be(c,g,b)}var Oe={latLngToPoint:function(c,g){var b=this.projection.project(c),$=this.scale(g);return this.transformation._transform(b,$)},pointToLatLng:function(c,g){var b=this.scale(g),$=this.transformation.untransform(c,b);return this.projection.unproject($)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var g=this.projection.bounds,b=this.scale(c),$=this.transformation.transform(g.min,b),R=this.transformation.transform(g.max,b);return new z($,R)},infinite:!1,wrapLatLng:function(c){var g=this.wrapLng?v(c.lng,this.wrapLng,!0):c.lng,b=this.wrapLat?v(c.lat,this.wrapLat,!0):c.lat,$=c.alt;return new be(b,g,$)},wrapLatLngBounds:function(c){var g=c.getCenter(),b=this.wrapLatLng(g),$=g.lat-b.lat,R=g.lng-b.lng;if($===0&&R===0)return c;var W=c.getSouthWest(),K=c.getNorthEast(),fe=new be(W.lat-$,W.lng-R),Se=new be(K.lat-$,K.lng-R);return new he(fe,Se)}},rt=n({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(c,g){var b=Math.PI/180,$=c.lat*b,R=g.lat*b,W=Math.sin((g.lat-c.lat)*b/2),K=Math.sin((g.lng-c.lng)*b/2),fe=W*W+Math.cos($)*Math.cos(R)*K*K,Se=2*Math.atan2(Math.sqrt(fe),Math.sqrt(1-fe));return this.R*Se}}),nt=6378137,bt={R:nt,MAX_LATITUDE:85.0511287798,project:function(c){var g=Math.PI/180,b=this.MAX_LATITUDE,$=Math.max(Math.min(b,c.lat),-b),R=Math.sin($*g);return new ge(this.R*c.lng*g,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(c){var g=180/Math.PI;return new be((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*g,c.x*g/this.R)},bounds:(function(){var c=nt*Math.PI;return new z([-c,-c],[c,c])})()};function ft(c,g,b,$){if(U(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=g,this._c=b,this._d=$}ft.prototype={transform:function(c,g){return this._transform(c.clone(),g)},_transform:function(c,g){return g=g||1,c.x=g*(this._a*c.x+this._b),c.y=g*(this._c*c.y+this._d),c},untransform:function(c,g){return g=g||1,new ge((c.x/g-this._b)/this._a,(c.y/g-this._d)/this._c)}};function St(c,g,b,$){return new ft(c,g,b,$)}var Pt=n({},rt,{code:"EPSG:3857",projection:bt,transformation:(function(){var c=.5/(Math.PI*bt.R);return St(c,.5,-c,.5)})()}),vt=n({},Pt,{code:"EPSG:900913"});function xt(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function _i(c,g){var b="",$,R,W,K,fe,Se;for($=0,W=c.length;$<W;$++){for(fe=c[$],R=0,K=fe.length;R<K;R++)Se=fe[R],b+=(R?"L":"M")+Se.x+" "+Se.y;b+=g?Ae.svg?"z":"x":""}return b||"M0 0"}var Tt=document.documentElement.style,ii="ActiveXObject"in window,Pi=ii&&!document.addEventListener,Ai="msLaunchUri"in navigator&&!("documentMode"in document),Yi=je("webkit"),os=je("android"),an=je("android 2")||je("android 3"),zi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ho=os&&je("Google")&&zi<537&&!("AudioNode"in window),fo=!!window.opera,Ui=!Ai&&je("chrome"),Ji=je("gecko")&&!Yi&&!fo&&!ii,Wf=!Ui&&je("safari"),Dh=je("phantom"),Uu="OTransition"in Tt,cy=navigator.platform.indexOf("Win")===0,Hr=ii&&"transition"in Tt,Tr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!an,as="MozPerspective"in Tt,Wr=!window.L_DISABLE_3D&&(Hr||Tr||as)&&!Uu&&!Dh,Pl=typeof orientation<"u"||je("mobile"),Zf=Pl&&Yi,Fu=Pl&&Tr,La=!window.PointerEvent&&window.MSPointerEvent,Ko=!!(window.PointerEvent||La),Al="ontouchstart"in window||!!window.TouchEvent,po=!window.L_NO_TOUCH&&(Al||Ko),Bu=Pl&&fo,ka=Pl&&Ji,qu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rl=(function(){var c=!1;try{var g=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",w,g),window.removeEventListener("testPassiveEventSupport",w,g)}catch{}return c})(),jh=(function(){return!!document.createElement("canvas").getContext})(),Qo=!!(document.createElementNS&&xt("svg").createSVGRect),re=!!Qo&&(function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),me=!Qo&&(function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var g=c.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),Te=navigator.platform.indexOf("Mac")===0,De=navigator.platform.indexOf("Linux")===0;function je(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var Ae={ie:ii,ielt9:Pi,edge:Ai,webkit:Yi,android:os,android23:an,androidStock:ho,opera:fo,chrome:Ui,gecko:Ji,safari:Wf,phantom:Dh,opera12:Uu,win:cy,ie3d:Hr,webkit3d:Tr,gecko3d:as,any3d:Wr,mobile:Pl,mobileWebkit:Zf,mobileWebkit3d:Fu,msPointer:La,pointer:Ko,touch:po,touchNative:Al,mobileOpera:Bu,mobileGecko:ka,retina:qu,passiveEvents:Rl,canvas:jh,svg:Qo,vml:me,inlineSvg:re,mac:Te,linux:De},st=Ae.msPointer?"MSPointerDown":"pointerdown",Ke=Ae.msPointer?"MSPointerMove":"pointermove",Je=Ae.msPointer?"MSPointerUp":"pointerup",Ze=Ae.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:st,touchmove:Ke,touchend:Je,touchcancel:Ze},Xe={touchstart:jr,touchmove:Dr,touchend:Dr,touchcancel:Dr},Mt={},pi=!1;function nr(c,g,b){return g==="touchstart"&&ls(),Xe[g]?(b=Xe[g].bind(this,b),c.addEventListener(Ge[g],b,!1),b):(console.warn("wrong event specified:",g),w)}function Mr(c,g,b){if(!Ge[g]){console.warn("wrong event specified:",g);return}c.removeEventListener(Ge[g],b,!1)}function ri(c){Mt[c.pointerId]=c}function ni(c){Mt[c.pointerId]&&(Mt[c.pointerId]=c)}function ln(c){delete Mt[c.pointerId]}function ls(){pi||(document.addEventListener(st,ri,!0),document.addEventListener(Ke,ni,!0),document.addEventListener(Je,ln,!0),document.addEventListener(Ze,ln,!0),pi=!0)}function Dr(c,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var b in Mt)g.touches.push(Mt[b]);g.changedTouches=[g],c(g)}}function jr(c,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&or(g),Dr(c,g)}function Fi(c){var g={},b,$;for($ in c)b=c[$],g[$]=b&&b.bind?b.bind(c):b;return c=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Ia=200;function mo(c,g){c.addEventListener("dblclick",g);var b=0,$;function R(W){if(W.detail!==1){$=W.detail;return}if(!(W.pointerType==="mouse"||W.sourceCapabilities&&!W.sourceCapabilities.firesTouchEvents)){var K=qh(W);if(!(K.some(function(Se){return Se instanceof HTMLLabelElement&&Se.attributes.for})&&!K.some(function(Se){return Se instanceof HTMLInputElement||Se instanceof HTMLSelectElement}))){var fe=Date.now();fe-b<=Ia?($++,$===2&&g(Fi(W))):$=1,b=fe}}}return c.addEventListener("click",R),{dblclick:g,simDblclick:R}}function us(c,g){c.removeEventListener("dblclick",g.dblclick),c.removeEventListener("click",g.simDblclick)}var zn=zh(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rt=zh(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sr=Rt==="webkitTransition"||Rt==="OTransition"?Rt+"End":"transitionend";function go(c){return typeof c=="string"?document.getElementById(c):c}function Un(c,g){var b=c.style[g]||c.currentStyle&&c.currentStyle[g];if((!b||b==="auto")&&document.defaultView){var $=document.defaultView.getComputedStyle(c,null);b=$?$[g]:null}return b==="auto"?null:b}function ct(c,g,b){var $=document.createElement(c);return $.className=g||"",b&&b.appendChild($),$}function Yt(c){var g=c.parentNode;g&&g.removeChild(c)}function un(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function gr(c){var g=c.parentNode;g&&g.lastChild!==c&&g.appendChild(c)}function Ll(c){var g=c.parentNode;g&&g.firstChild!==c&&g.insertBefore(c,g.firstChild)}function hy(c,g){if(c.classList!==void 0)return c.classList.contains(g);var b=Yf(c);return b.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(b)}function Et(c,g){if(c.classList!==void 0)for(var b=P(g),$=0,R=b.length;$<R;$++)c.classList.add(b[$]);else if(!hy(c,g)){var W=Yf(c);Gu(c,(W?W+" ":"")+g)}}function Bi(c,g){c.classList!==void 0?c.classList.remove(g):Gu(c,M((" "+Yf(c)+" ").replace(" "+g+" "," ")))}function Gu(c,g){c.className.baseVal===void 0?c.className=g:c.className.baseVal=g}function Yf(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function ki(c,g){"opacity"in c.style?c.style.opacity=g:"filter"in c.style&&dy(c,g)}function dy(c,g){var b=!1,$="DXImageTransform.Microsoft.Alpha";try{b=c.filters.item($)}catch{if(g===1)return}g=Math.round(g*100),b?(b.Enabled=g!==100,b.Opacity=g):c.style.filter+=" progid:"+$+"(opacity="+g+")"}function zh(c){for(var g=document.documentElement.style,b=0;b<c.length;b++)if(c[b]in g)return c[b];return!1}function ea(c,g,b){var $=g||new ge(0,0);c.style[zn]=(Ae.ie3d?"translate("+$.x+"px,"+$.y+"px)":"translate3d("+$.x+"px,"+$.y+"px,0)")+(b?" scale("+b+")":"")}function Ei(c,g){c._leaflet_pos=g,Ae.any3d?ea(c,g):(c.style.left=g.x+"px",c.style.top=g.y+"px")}function Na(c){return c._leaflet_pos||new ge(0,0)}var Vu,yo,fy;if("onselectstart"in document)Vu=function(){yt(window,"selectstart",or)},yo=function(){li(window,"selectstart",or)};else{var Hu=zh(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vu=function(){if(Hu){var c=document.documentElement.style;fy=c[Hu],c[Hu]="none"}},yo=function(){Hu&&(document.documentElement.style[Hu]=fy,fy=void 0)}}function Jf(){yt(window,"dragstart",or)}function Uh(){li(window,"dragstart",or)}var Xf,py;function Wu(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(cs(),Xf=c,py=c.style.outlineStyle,c.style.outlineStyle="none",yt(window,"keydown",cs))}function cs(){Xf&&(Xf.style.outlineStyle=py,Xf=void 0,py=void 0,li(window,"keydown",cs))}function Kf(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function Fh(c){var g=c.getBoundingClientRect();return{x:g.width/c.offsetWidth||1,y:g.height/c.offsetHeight||1,boundingClientRect:g}}var Zu={__proto__:null,TRANSFORM:zn,TRANSITION:Rt,TRANSITION_END:sr,get:go,getStyle:Un,create:ct,remove:Yt,empty:un,toFront:gr,toBack:Ll,hasClass:hy,addClass:Et,removeClass:Bi,setClass:Gu,getClass:Yf,setOpacity:ki,testProp:zh,setTransform:ea,setPosition:Ei,getPosition:Na,get disableTextSelection(){return Vu},get enableTextSelection(){return yo},disableImageDrag:Jf,enableImageDrag:Uh,preventOutline:Wu,restoreOutline:cs,getSizedParentNode:Kf,getScale:Fh};function yt(c,g,b,$){if(g&&typeof g=="object")for(var R in g)zs(c,R,g[R],b);else{g=P(g);for(var W=0,K=g.length;W<K;W++)zs(c,g[W],b,$)}return this}var js="_leaflet_events";function li(c,g,b,$){if(arguments.length===1)my(c),delete c[js];else if(g&&typeof g=="object")for(var R in g)Bh(c,R,g[R],b);else if(g=P(g),arguments.length===2)my(c,function(fe){return C(g,fe)!==-1});else for(var W=0,K=g.length;W<K;W++)Bh(c,g[W],b,$);return this}function my(c,g){for(var b in c[js]){var $=b.split(/\d/)[0];(!g||g($))&&Bh(c,$,null,null,b)}}var kl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zs(c,g,b,$){var R=g+h(b)+($?"_"+h($):"");if(c[js]&&c[js][R])return this;var W=function(fe){return b.call($||c,fe||window.event)},K=W;!Ae.touchNative&&Ae.pointer&&g.indexOf("touch")===0?W=nr(c,g,W):Ae.touch&&g==="dblclick"?W=mo(c,W):"addEventListener"in c?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?c.addEventListener(kl[g]||g,W,Ae.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(W=function(fe){fe=fe||window.event,ta(c,fe)&&K(fe)},c.addEventListener(kl[g],W,!1)):c.addEventListener(g,K,!1):c.attachEvent("on"+g,W),c[js]=c[js]||{},c[js][R]=W}function Bh(c,g,b,$,R){R=R||g+h(b)+($?"_"+h($):"");var W=c[js]&&c[js][R];if(!W)return this;!Ae.touchNative&&Ae.pointer&&g.indexOf("touch")===0?Mr(c,g,W):Ae.touch&&g==="dblclick"?us(c,W):"removeEventListener"in c?c.removeEventListener(kl[g]||g,W,!1):c.detachEvent("on"+g,W),c[js][R]=null}function Us(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function vo(c){return zs(c,"wheel",Us),this}function Il(c){return yt(c,"mousedown touchstart dblclick contextmenu",Us),c._leaflet_disable_click=!0,this}function or(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function Da(c){return or(c),Us(c),this}function qh(c){if(c.composedPath)return c.composedPath();for(var g=[],b=c.target;b;)g.push(b),b=b.parentNode;return g}function Gh(c,g){if(!g)return new ge(c.clientX,c.clientY);var b=Fh(g),$=b.boundingClientRect;return new ge((c.clientX-$.left)/b.x-g.clientLeft,(c.clientY-$.top)/b.y-g.clientTop)}var g1=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cn(c){return Ae.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/g1:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function ta(c,g){var b=g.relatedTarget;if(!b)return!0;try{for(;b&&b!==c;)b=b.parentNode}catch{return!1}return b!==c}var Qf={__proto__:null,on:yt,off:li,stopPropagation:Us,disableScrollPropagation:vo,disableClickPropagation:Il,preventDefault:or,stop:Da,getPropagationPath:qh,getMousePosition:Gh,getWheelDelta:cn,isExternalTarget:ta,addListener:yt,removeListener:li},Yu=N.extend({run:function(c,g,b,$){this.stop(),this._el=c,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max($||.5,.2),this._startPos=Na(c),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(c){var g=+new Date-this._startTime,b=this._duration*1e3;g<b?this._runFrame(this._easeOut(g/b),c):(this._runFrame(1),this._complete())},_runFrame:function(c,g){var b=this._startPos.add(this._offset.multiplyBy(c));g&&b._round(),Ei(this._el,b),this.fire("step")},_complete:function(){ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Vt=N.extend({options:{crs:Pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,g){g=O(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(ye(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Rt&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,sr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,g,b){if(g=g===void 0?this._zoom:this._limitZoom(g),c=this._limitCenter(ye(c),g,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=n({animate:b.animate},b.zoom),b.pan=n({animate:b.animate,duration:b.duration},b.pan));var $=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,g,b.zoom):this._tryAnimatedPan(c,b.pan);if($)return clearTimeout(this._sizeTimer),this}return this._resetView(c,g,b.pan&&b.pan.noMoveStart),this},setZoom:function(c,g){return this._loaded?this.setView(this.getCenter(),c,{zoom:g}):(this._zoom=c,this)},zoomIn:function(c,g){return c=c||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,g)},zoomOut:function(c,g){return c=c||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,g)},setZoomAround:function(c,g,b){var $=this.getZoomScale(g),R=this.getSize().divideBy(2),W=c instanceof ge?c:this.latLngToContainerPoint(c),K=W.subtract(R).multiplyBy(1-1/$),fe=this.containerPointToLatLng(R.add(K));return this.setView(fe,g,{zoom:b})},_getBoundsCenterZoom:function(c,g){g=g||{},c=c.getBounds?c.getBounds():ce(c);var b=j(g.paddingTopLeft||g.padding||[0,0]),$=j(g.paddingBottomRight||g.padding||[0,0]),R=this.getBoundsZoom(c,!1,b.add($));if(R=typeof g.maxZoom=="number"?Math.min(g.maxZoom,R):R,R===1/0)return{center:c.getCenter(),zoom:R};var W=$.subtract(b).divideBy(2),K=this.project(c.getSouthWest(),R),fe=this.project(c.getNorthEast(),R),Se=this.unproject(K.add(fe).divideBy(2).add(W),R);return{center:Se,zoom:R}},fitBounds:function(c,g){if(c=ce(c),!c.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(c,g);return this.setView(b.center,b.zoom,g)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,g){return this.setView(c,this._zoom,{pan:g})},panBy:function(c,g){if(c=j(c).round(),g=g||{},!c.x&&!c.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Et(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,b,g.duration||.25,g.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,g,b){if(b=b||{},b.animate===!1||!Ae.any3d)return this.setView(c,g,b);this._stop();var $=this.project(this.getCenter()),R=this.project(c),W=this.getSize(),K=this._zoom;c=ye(c),g=g===void 0?K:g;var fe=Math.max(W.x,W.y),Se=fe*this.getZoomScale(K,g),Re=R.distanceTo($)||1,Ue=1.42,at=Ue*Ue;function Lt(Xi){var sa=Xi?-1:1,zl=Xi?Se:fe,Py=Se*Se-fe*fe+sa*at*at*Re*Re,od=2*zl*at*Re,ad=Py/od,Ha=Math.sqrt(ad*ad+1)-ad,oa=Ha<1e-9?-18:Math.log(Ha);return oa}function zr(Xi){return(Math.exp(Xi)-Math.exp(-Xi))/2}function ar(Xi){return(Math.exp(Xi)+Math.exp(-Xi))/2}function Bn(Xi){return zr(Xi)/ar(Xi)}var Kt=Lt(0);function Qt(Xi){return fe*(ar(Kt)/ar(Kt+Ue*Xi))}function Ut(Xi){return fe*(ar(Kt)*Bn(Kt+Ue*Xi)-zr(Kt))/at}function Ga(Xi){return 1-Math.pow(1-Xi,1.5)}var ps=Date.now(),fp=(Lt(1)-Kt)/Ue,Va=b.duration?1e3*b.duration:1e3*fp*.8;function Oy(){var Xi=(Date.now()-ps)/Va,sa=Ga(Xi)*fp;Xi<=1?(this._flyToFrame=X(Oy,this),this._move(this.unproject($.add(R.subtract($).multiplyBy(Ut(sa)/Re)),K),this.getScaleZoom(fe/Qt(sa),K),{flyTo:!0})):this._move(c,g)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Oy.call(this),this},flyToBounds:function(c,g){var b=this._getBoundsCenterZoom(c,g);return this.flyTo(b.center,b.zoom,g)},setMaxBounds:function(c){return c=ce(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var g=this.options.minZoom;return this.options.minZoom=c,this._loaded&&g!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var g=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&g!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,g){this._enforcingBounds=!0;var b=this.getCenter(),$=this._limitCenter(b,this._zoom,ce(c));return b.equals($)||this.panTo($,g),this._enforcingBounds=!1,this},panInside:function(c,g){g=g||{};var b=j(g.paddingTopLeft||g.padding||[0,0]),$=j(g.paddingBottomRight||g.padding||[0,0]),R=this.project(this.getCenter()),W=this.project(c),K=this.getPixelBounds(),fe=J([K.min.add(b),K.max.subtract($)]),Se=fe.getSize();if(!fe.contains(W)){this._enforcingBounds=!0;var Re=W.subtract(fe.getCenter()),Ue=fe.extend(W).getSize().subtract(Se);R.x+=Re.x<0?-Ue.x:Ue.x,R.y+=Re.y<0?-Ue.y:Ue.y,this.panTo(this.unproject(R),g),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=n({animate:!1,pan:!0},c===!0?{animate:!0}:c);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),$=g.divideBy(2).round(),R=b.divideBy(2).round(),W=$.subtract(R);return!W.x&&!W.y?this:(c.animate&&c.pan?this.panBy(W):(c.pan&&this._rawPanBy(W),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=n({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=a(this._handleGeolocationResponse,this),b=a(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,b,c):navigator.geolocation.getCurrentPosition(g,b,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var g=c.code,b=c.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var g=c.coords.latitude,b=c.coords.longitude,$=new be(g,b),R=$.toBounds(c.coords.accuracy*2),W=this._locateOptions;if(W.setView){var K=this.getBoundsZoom(R);this.setView($,W.maxZoom?Math.min(K,W.maxZoom):K)}var fe={latlng:$,bounds:R,timestamp:c.timestamp};for(var Se in c.coords)typeof c.coords[Se]=="number"&&(fe[Se]=c.coords[Se]);this.fire("locationfound",fe)}},addHandler:function(c,g){if(!g)return this;var b=this[c]=new g(this);return this._handlers.push(b),this.options[c]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)Yt(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,g){var b="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),$=ct("div",b,g||this._mapPane);return c&&(this._panes[c]=$),$},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),g=this.unproject(c.getBottomLeft()),b=this.unproject(c.getTopRight());return new he(g,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,g,b){c=ce(c),b=j(b||[0,0]);var $=this.getZoom()||0,R=this.getMinZoom(),W=this.getMaxZoom(),K=c.getNorthWest(),fe=c.getSouthEast(),Se=this.getSize().subtract(b),Re=J(this.project(fe,$),this.project(K,$)).getSize(),Ue=Ae.any3d?this.options.zoomSnap:1,at=Se.x/Re.x,Lt=Se.y/Re.y,zr=g?Math.max(at,Lt):Math.min(at,Lt);return $=this.getScaleZoom(zr,$),Ue&&($=Math.round($/(Ue/100))*(Ue/100),$=g?Math.ceil($/Ue)*Ue:Math.floor($/Ue)*Ue),Math.max(R,Math.min(W,$))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ge(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,g){var b=this._getTopLeftPoint(c,g);return new z(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,g){var b=this.options.crs;return g=g===void 0?this._zoom:g,b.scale(c)/b.scale(g)},getScaleZoom:function(c,g){var b=this.options.crs;g=g===void 0?this._zoom:g;var $=b.zoom(c*b.scale(g));return isNaN($)?1/0:$},project:function(c,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(ye(c),g)},unproject:function(c,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(j(c),g)},layerPointToLatLng:function(c){var g=j(c).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(c){var g=this.project(ye(c))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(ye(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(ce(c))},distance:function(c,g){return this.options.crs.distance(ye(c),ye(g))},containerPointToLayerPoint:function(c){return j(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return j(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var g=this.containerPointToLayerPoint(j(c));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(c)))},mouseEventToContainerPoint:function(c){return Gh(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var g=this._container=go(c);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(g,"scroll",this._onScroll,this),this._containerId=h(g)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Et(c,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Un(c,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ei(this._mapPane,new ge(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Et(c.markerPane,"leaflet-zoom-hide"),Et(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,g,b){Ei(this._mapPane,new ge(0,0));var $=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var R=this._zoom!==g;this._moveStart(R,b)._move(c,g)._moveEnd(R),this.fire("viewreset"),$&&this.fire("load")},_moveStart:function(c,g){return c&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(c,g,b,$){g===void 0&&(g=this._zoom);var R=this._zoom!==g;return this._zoom=g,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),$?b&&b.pinch&&this.fire("zoom",b):((R||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Ei(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[h(this._container)]=this;var g=c?li:yt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ue(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,g){for(var b=[],$,R=g==="mouseout"||g==="mouseover",W=c.target||c.srcElement,K=!1;W;){if($=this._targets[h(W)],$&&(g==="click"||g==="preclick")&&this._draggableMoved($)){K=!0;break}if($&&$.listens(g,!0)&&(R&&!ta(W,c)||(b.push($),R))||W===this._container)break;W=W.parentNode}return!b.length&&!K&&!R&&this.listens(g,!0)&&(b=[this]),b},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var g=c.target||c.srcElement;if(!(!this._loaded||g._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(g))){var b=c.type;b==="mousedown"&&Wu(g),this._fireDOMEvent(c,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,g,b){if(c.type==="click"){var $=n({},c);$.type="preclick",this._fireDOMEvent($,$.type,b)}var R=this._findEventTargets(c,g);if(b){for(var W=[],K=0;K<b.length;K++)b[K].listens(g,!0)&&W.push(b[K]);R=W.concat(R)}if(R.length){g==="contextmenu"&&or(c);var fe=R[0],Se={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var Re=fe.getLatLng&&(!fe._radius||fe._radius<=10);Se.containerPoint=Re?this.latLngToContainerPoint(fe.getLatLng()):this.mouseEventToContainerPoint(c),Se.layerPoint=this.containerPointToLayerPoint(Se.containerPoint),Se.latlng=Re?fe.getLatLng():this.layerPointToLatLng(Se.layerPoint)}for(K=0;K<R.length;K++)if(R[K].fire(g,Se,!0),Se.originalEvent._stopped||R[K].options.bubblingMouseEvents===!1&&C(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,g=this._handlers.length;c<g;c++)this._handlers[c].disable()},whenReady:function(c,g){return this._loaded?c.call(g||this,{target:this}):this.on("load",c,g),this},_getMapPanePos:function(){return Na(this._mapPane)||new ge(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,g){var b=c&&g!==void 0?this._getNewPixelOrigin(c,g):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,g){var b=this.getSize()._divideBy(2);return this.project(c,g)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,g,b){var $=this._getNewPixelOrigin(b,g);return this.project(c,g)._subtract($)},_latLngBoundsToNewLayerBounds:function(c,g,b){var $=this._getNewPixelOrigin(b,g);return J([this.project(c.getSouthWest(),g)._subtract($),this.project(c.getNorthWest(),g)._subtract($),this.project(c.getSouthEast(),g)._subtract($),this.project(c.getNorthEast(),g)._subtract($)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,g,b){if(!b)return c;var $=this.project(c,g),R=this.getSize().divideBy(2),W=new z($.subtract(R),$.add(R)),K=this._getBoundsOffset(W,b,g);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?c:this.unproject($.add(K),g)},_limitOffset:function(c,g){if(!g)return c;var b=this.getPixelBounds(),$=new z(b.min.add(c),b.max.add(c));return c.add(this._getBoundsOffset($,g))},_getBoundsOffset:function(c,g,b){var $=J(this.project(g.getNorthEast(),b),this.project(g.getSouthWest(),b)),R=$.min.subtract(c.min),W=$.max.subtract(c.max),K=this._rebound(R.x,-W.x),fe=this._rebound(R.y,-W.y);return new ge(K,fe)},_rebound:function(c,g){return c+g>0?Math.round(c-g)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(g))},_limitZoom:function(c){var g=this.getMinZoom(),b=this.getMaxZoom(),$=Ae.any3d?this.options.zoomSnap:1;return $&&(c=Math.round(c/$)*$),Math.max(g,Math.min(b,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Bi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,g){var b=this._getCenterOffset(c)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,g),!0)},_createAnimProxy:function(){var c=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(g){var b=zn,$=this._proxy.style[b];ea(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),$===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),g=this.getZoom();ea(this._proxy,this.project(c,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,g,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var $=this.getZoomScale(g),R=this._getCenterOffset(c)._divideBy(1-1/$);return b.animate!==!0&&!this.getSize().contains(R)?!1:(X(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(c,g,!0)},this),!0)},_animateZoom:function(c,g,b,$){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=g,Et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:g,noUpdate:$}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Bi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gy(c,g){return new Vt(c,g)}var Fn=se.extend({options:{position:"topright"},initialize:function(c){O(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var g=this._map;return g&&g.removeControl(this),this.options.position=c,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var g=this._container=this.onAdd(c),b=this.getPosition(),$=c._controlCorners[b];return Et(g,"leaflet-control"),b.indexOf("bottom")!==-1?$.insertBefore(g,$.firstChild):$.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),ia=function(c){return new Fn(c)};Vt.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},g="leaflet-",b=this._controlContainer=ct("div",g+"control-container",this._container);function $(R,W){var K=g+R+" "+g+W;c[R+W]=ct("div",K,b)}$("top","left"),$("top","right"),$("bottom","left"),$("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Yt(this._controlCorners[c]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vh=Fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,g,b,$){return b<$?-1:$<b?1:0}},initialize:function(c,g,b){O(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var $ in c)this._addLayer(c[$],$);for($ in g)this._addLayer(g[$],$,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return Fn.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,g){return this._addLayer(c,g),this._map?this._update():this},addOverlay:function(c,g){return this._addLayer(c,g,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var g=this._getLayer(h(c));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Bi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Bi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",g=this._container=ct("div",c),b=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Il(g),vo(g);var $=this._section=ct("section",c+"-list");b&&(this._map.on("click",this.collapse,this),yt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",c+"-toggle",g);R.href="#",R.title="Layers",R.setAttribute("role","button"),yt(R,{keydown:function(W){W.keyCode===13&&this._expandSafely()},click:function(W){or(W),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=ct("div",c+"-base",$),this._separator=ct("div",c+"-separator",$),this._overlaysList=ct("div",c+"-overlays",$),g.appendChild($)},_getLayer:function(c){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&h(this._layers[g].layer)===c)return this._layers[g]},_addLayer:function(c,g,b){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:g,overlay:b}),this.options.sortLayers&&this._layers.sort(a(function($,R){return this.options.sortFunction($.layer,R.layer,$.name,R.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;un(this._baseLayersList),un(this._overlaysList),this._layerControlInputs=[];var c,g,b,$,R=0;for(b=0;b<this._layers.length;b++)$=this._layers[b],this._addItem($),g=g||$.overlay,c=c||!$.overlay,R+=$.overlay?0:1;return this.options.hideSingleBase&&(c=c&&R>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=g&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var g=this._getLayer(h(c.target)),b=g.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;b&&this._map.fire(b,g)},_createRadioElement:function(c,g){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(g?' checked="checked"':"")+"/>",$=document.createElement("div");return $.innerHTML=b,$.firstChild},_addItem:function(c){var g=document.createElement("label"),b=this._map.hasLayer(c.layer),$;c.overlay?($=document.createElement("input"),$.type="checkbox",$.className="leaflet-control-layers-selector",$.defaultChecked=b):$=this._createRadioElement("leaflet-base-layers_"+h(this),b),this._layerControlInputs.push($),$.layerId=h(c.layer),yt($,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+c.name;var W=document.createElement("span");g.appendChild(W),W.appendChild($),W.appendChild(R);var K=c.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,g,b,$=[],R=[];this._handlingClick=!0;for(var W=c.length-1;W>=0;W--)g=c[W],b=this._getLayer(g.layerId).layer,g.checked?$.push(b):g.checked||R.push(b);for(W=0;W<R.length;W++)this._map.hasLayer(R[W])&&this._map.removeLayer(R[W]);for(W=0;W<$.length;W++)this._map.hasLayer($[W])||this._map.addLayer($[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,g,b,$=this._map.getZoom(),R=c.length-1;R>=0;R--)g=c[R],b=this._getLayer(g.layerId).layer,g.disabled=b.options.minZoom!==void 0&&$<b.options.minZoom||b.options.maxZoom!==void 0&&$>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,yt(c,"click",or),this.expand();var g=this;setTimeout(function(){li(c,"click",or),g._preventClick=!1})}}),y1=function(c,g,b){return new Vh(c,g,b)},yy=Fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var g="leaflet-control-zoom",b=ct("div",g+" leaflet-bar"),$=this.options;return this._zoomInButton=this._createButton($.zoomInText,$.zoomInTitle,g+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton($.zoomOutText,$.zoomOutTitle,g+"-out",b,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,g,b,$,R){var W=ct("a",b,$);return W.innerHTML=c,W.href="#",W.title=g,W.setAttribute("role","button"),W.setAttribute("aria-label",g),Il(W),yt(W,"click",Da),yt(W,"click",R,this),yt(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var c=this._map,g="leaflet-disabled";Bi(this._zoomInButton,g),Bi(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Et(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Et(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yy,this.addControl(this.zoomControl))});var sT=function(c){return new yy(c)},v1=Fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var g="leaflet-control-scale",b=ct("div",g),$=this.options;return this._addScales($,g+"-line",b),c.on($.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),b},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,g,b){c.metric&&(this._mScale=ct("div",g,b)),c.imperial&&(this._iScale=ct("div",g,b))},_update:function(){var c=this._map,g=c.getSize().y/2,b=c.distance(c.containerPointToLatLng([0,g]),c.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(b)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var g=this._getRoundNum(c),b=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,b,g/c)},_updateImperial:function(c){var g=c*3.2808399,b,$,R;g>5280?(b=g/5280,$=this._getRoundNum(b),this._updateScale(this._iScale,$+" mi",$/b)):(R=this._getRoundNum(g),this._updateScale(this._iScale,R+" ft",R/g))},_updateScale:function(c,g,b){c.style.width=Math.round(this.options.maxWidth*b)+"px",c.innerHTML=g},_getRoundNum:function(c){var g=Math.pow(10,(Math.floor(c)+"").length-1),b=c/g;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,g*b}}),vy=function(c){return new v1(c)},oT='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_y=Fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?oT+" ":"")+"Leaflet</a>"},initialize:function(c){O(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Il(this._container);for(var g in c._layers)c._layers[g].getAttribution&&this.addAttribution(c._layers[g].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var g in this._attributions)this._attributions[g]&&c.push(g);var b=[];this.options.prefix&&b.push(this.options.prefix),c.length&&b.push(c.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&new _y().addTo(this)});var aT=function(c){return new _y(c)};Fn.Layers=Vh,Fn.Zoom=yy,Fn.Scale=v1,Fn.Attribution=_y,ia.layers=y1,ia.zoom=sT,ia.scale=vy,ia.attribution=aT;var _o=se.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_o.addTo=function(c,g){return c.addHandler(g,this),this};var lT={Events:Q},wy=Ae.touch?"touchstart mousedown":"mousedown",ja=N.extend({options:{clickTolerance:3},initialize:function(c,g,b,$){O(this,$),this._element=c,this._dragStartTarget=g||c,this._preventOutline=b},enable:function(){this._enabled||(yt(this._dragStartTarget,wy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ja._dragging===this&&this.finishDrag(!0),li(this._dragStartTarget,wy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!hy(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){ja._dragging===this&&this.finishDrag();return}if(!(ja._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(ja._dragging=this,this._preventOutline&&Wu(this._element),Jf(),Vu(),!this._moving)){this.fire("down");var g=c.touches?c.touches[0]:c,b=Kf(this._element);this._startPoint=new ge(g.clientX,g.clientY),this._startPos=Na(this._element),this._parentScale=Fh(b);var $=c.type==="mousedown";yt(document,$?"mousemove":"touchmove",this._onMove,this),yt(document,$?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var g=c.touches&&c.touches.length===1?c.touches[0]:c,b=new ge(g.clientX,g.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,or(c),this._moved||(this.fire("dragstart"),this._moved=!0,Et(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Ei(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Bi(document.body,"leaflet-dragging"),this._lastTarget&&(Bi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),li(document,"mousemove touchmove",this._onMove,this),li(document,"mouseup touchend touchcancel",this._onUp,this),Uh(),yo();var g=this._moved&&this._moving;this._moving=!1,ja._dragging=!1,g&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function _1(c,g,b){var $,R=[1,4,2,8],W,K,fe,Se,Re,Ue,at,Lt;for(W=0,Ue=c.length;W<Ue;W++)c[W]._code=Nl(c[W],g);for(fe=0;fe<4;fe++){for(at=R[fe],$=[],W=0,Ue=c.length,K=Ue-1;W<Ue;K=W++)Se=c[W],Re=c[K],Se._code&at?Re._code&at||(Lt=ep(Re,Se,at,g,b),Lt._code=Nl(Lt,g),$.push(Lt)):(Re._code&at&&(Lt=ep(Re,Se,at,g,b),Lt._code=Nl(Lt,g),$.push(Lt)),$.push(Se));c=$}return c}function w1(c,g){var b,$,R,W,K,fe,Se,Re,Ue;if(!c||c.length===0)throw new Error("latlngs not passed");hs(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var at=ye([0,0]),Lt=ce(c),zr=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());zr<1700&&(at=by(c));var ar=c.length,Bn=[];for(b=0;b<ar;b++){var Kt=ye(c[b]);Bn.push(g.project(ye([Kt.lat-at.lat,Kt.lng-at.lng])))}for(fe=Se=Re=0,b=0,$=ar-1;b<ar;$=b++)R=Bn[b],W=Bn[$],K=R.y*W.x-W.y*R.x,Se+=(R.x+W.x)*K,Re+=(R.y+W.y)*K,fe+=K*3;fe===0?Ue=Bn[0]:Ue=[Se/fe,Re/fe];var Qt=g.unproject(j(Ue));return ye([Qt.lat+at.lat,Qt.lng+at.lng])}function by(c){for(var g=0,b=0,$=0,R=0;R<c.length;R++){var W=ye(c[R]);g+=W.lat,b+=W.lng,$++}return ye([g/$,b/$])}var Sy={__proto__:null,clipPolygon:_1,polygonCenter:w1,centroid:by};function b1(c,g){if(!g||!c.length)return c.slice();var b=g*g;return c=cT(c,b),c=x1(c,b),c}function S1(c,g,b){return Math.sqrt(Hh(c,g,b,!0))}function uT(c,g,b){return Hh(c,g,b)}function x1(c,g){var b=c.length,$=typeof Uint8Array<"u"?Uint8Array:Array,R=new $(b);R[0]=R[b-1]=1,xy(c,R,g,0,b-1);var W,K=[];for(W=0;W<b;W++)R[W]&&K.push(c[W]);return K}function xy(c,g,b,$,R){var W=0,K,fe,Se;for(fe=$+1;fe<=R-1;fe++)Se=Hh(c[fe],c[$],c[R],!0),Se>W&&(K=fe,W=Se);W>b&&(g[K]=1,xy(c,g,b,$,K),xy(c,g,b,K,R))}function cT(c,g){for(var b=[c[0]],$=1,R=0,W=c.length;$<W;$++)hT(c[$],c[R])>g&&(b.push(c[$]),R=$);return R<W-1&&b.push(c[W-1]),b}var T1;function M1(c,g,b,$,R){var W=$?T1:Nl(c,b),K=Nl(g,b),fe,Se,Re;for(T1=K;;){if(!(W|K))return[c,g];if(W&K)return!1;fe=W||K,Se=ep(c,g,fe,b,R),Re=Nl(Se,b),fe===W?(c=Se,W=Re):(g=Se,K=Re)}}function ep(c,g,b,$,R){var W=g.x-c.x,K=g.y-c.y,fe=$.min,Se=$.max,Re,Ue;return b&8?(Re=c.x+W*(Se.y-c.y)/K,Ue=Se.y):b&4?(Re=c.x+W*(fe.y-c.y)/K,Ue=fe.y):b&2?(Re=Se.x,Ue=c.y+K*(Se.x-c.x)/W):b&1&&(Re=fe.x,Ue=c.y+K*(fe.x-c.x)/W),new ge(Re,Ue,R)}function Nl(c,g){var b=0;return c.x<g.min.x?b|=1:c.x>g.max.x&&(b|=2),c.y<g.min.y?b|=4:c.y>g.max.y&&(b|=8),b}function hT(c,g){var b=g.x-c.x,$=g.y-c.y;return b*b+$*$}function Hh(c,g,b,$){var R=g.x,W=g.y,K=b.x-R,fe=b.y-W,Se=K*K+fe*fe,Re;return Se>0&&(Re=((c.x-R)*K+(c.y-W)*fe)/Se,Re>1?(R=b.x,W=b.y):Re>0&&(R+=K*Re,W+=fe*Re)),K=c.x-R,fe=c.y-W,$?K*K+fe*fe:new ge(R,W)}function hs(c){return!U(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function tp(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hs(c)}function Ju(c,g){var b,$,R,W,K,fe,Se,Re;if(!c||c.length===0)throw new Error("latlngs not passed");hs(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ue=ye([0,0]),at=ce(c),Lt=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());Lt<1700&&(Ue=by(c));var zr=c.length,ar=[];for(b=0;b<zr;b++){var Bn=ye(c[b]);ar.push(g.project(ye([Bn.lat-Ue.lat,Bn.lng-Ue.lng])))}for(b=0,$=0;b<zr-1;b++)$+=ar[b].distanceTo(ar[b+1])/2;if($===0)Re=ar[0];else for(b=0,W=0;b<zr-1;b++)if(K=ar[b],fe=ar[b+1],R=K.distanceTo(fe),W+=R,W>$){Se=(W-$)/R,Re=[fe.x-Se*(fe.x-K.x),fe.y-Se*(fe.y-K.y)];break}var Kt=g.unproject(j(Re));return ye([Kt.lat+Ue.lat,Kt.lng+Ue.lng])}var dT={__proto__:null,simplify:b1,pointToSegmentDistance:S1,closestPointOnSegment:uT,clipSegment:M1,_getEdgeIntersection:ep,_getBitCode:Nl,_sqClosestPointOnSegment:Hh,isFlat:hs,_flat:tp,polylineCenter:Ju},ip={project:function(c){return new ge(c.lng,c.lat)},unproject:function(c){return new be(c.y,c.x)},bounds:new z([-180,-90],[180,90])},rp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var g=Math.PI/180,b=this.R,$=c.lat*g,R=this.R_MINOR/b,W=Math.sqrt(1-R*R),K=W*Math.sin($),fe=Math.tan(Math.PI/4-$/2)/Math.pow((1-K)/(1+K),W/2);return $=-b*Math.log(Math.max(fe,1e-10)),new ge(c.lng*g*b,$)},unproject:function(c){for(var g=180/Math.PI,b=this.R,$=this.R_MINOR/b,R=Math.sqrt(1-$*$),W=Math.exp(-c.y/b),K=Math.PI/2-2*Math.atan(W),fe=0,Se=.1,Re;fe<15&&Math.abs(Se)>1e-7;fe++)Re=R*Math.sin(K),Re=Math.pow((1-Re)/(1+Re),R/2),Se=Math.PI/2-2*Math.atan(W*Re)-K,K+=Se;return new be(K*g,c.x*g/b)}},E1={__proto__:null,LonLat:ip,Mercator:rp,SphericalMercator:bt},$1=n({},rt,{code:"EPSG:3395",projection:rp,transformation:(function(){var c=.5/(Math.PI*rp.R);return St(c,.5,-c,.5)})()}),Ty=n({},rt,{code:"EPSG:4326",projection:ip,transformation:St(1/180,1,-1/180,.5)}),Xu=n({},Oe,{projection:ip,transformation:St(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,g){var b=g.lng-c.lng,$=g.lat-c.lat;return Math.sqrt(b*b+$*$)},infinite:!0});Oe.Earth=rt,Oe.EPSG3395=$1,Oe.EPSG3857=Pt,Oe.EPSG900913=vt,Oe.EPSG4326=Ty,Oe.Simple=Xu;var Fs=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[h(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[h(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var g=c.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var b=this.getEvents();g.on(b,this),this.once("remove",function(){g.off(b,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var g=h(c);return this._layers[g]?this:(this._layers[g]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var g=h(c);return this._layers[g]?(this._loaded&&c.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return h(c)in this._layers},eachLayer:function(c,g){for(var b in this._layers)c.call(g,this._layers[b]);return this},_addLayers:function(c){c=c?U(c)?c:[c]:[];for(var g=0,b=c.length;g<b;g++)this.addLayer(c[g])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[h(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var g=h(c);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,g=-1/0,b=this._getZoomSpan();for(var $ in this._zoomBoundLayers){var R=this._zoomBoundLayers[$].options;c=R.minZoom===void 0?c:Math.min(c,R.minZoom),g=R.maxZoom===void 0?g:Math.max(g,R.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=c===1/0?void 0:c,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ku=Fs.extend({initialize:function(c,g){O(this,g),this._layers={};var b,$;if(c)for(b=0,$=c.length;b<$;b++)this.addLayer(c[b])},addLayer:function(c){var g=this.getLayerId(c);return this._layers[g]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var g=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(c){var g=typeof c=="number"?c:this.getLayerId(c);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var g=Array.prototype.slice.call(arguments,1),b,$;for(b in this._layers)$=this._layers[b],$[c]&&$[c].apply($,g);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,g){for(var b in this._layers)c.call(g,this._layers[b]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return h(c)}}),fT=function(c,g){return new Ku(c,g)},wo=Ku.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),Ku.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),Ku.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new he;for(var g in this._layers){var b=this._layers[g];c.extend(b.getBounds?b.getBounds():b.getLatLng())}return c}}),C1=function(c,g){return new wo(c,g)},bo=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){O(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,g){var b=this._getIconUrl(c);if(!b){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var $=this._createImg(b,g&&g.tagName==="IMG"?g:null);return this._setIconStyles($,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&($.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),$},_setIconStyles:function(c,g){var b=this.options,$=b[g+"Size"];typeof $=="number"&&($=[$,$]);var R=j($),W=j(g==="shadow"&&b.shadowAnchor||b.iconAnchor||R&&R.divideBy(2,!0));c.className="leaflet-marker-"+g+" "+(b.className||""),W&&(c.style.marginLeft=-W.x+"px",c.style.marginTop=-W.y+"px"),R&&(c.style.width=R.x+"px",c.style.height=R.y+"px")},_createImg:function(c,g){return g=g||document.createElement("img"),g.src=c,g},_getIconUrl:function(c){return Ae.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function Wh(c){return new bo(c)}var Zh=bo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof Zh.imagePath!="string"&&(Zh.imagePath=this._detectIconPath()),(this.options.imagePath||Zh.imagePath)+bo.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var g=function(b,$,R){var W=$.exec(b);return W&&W[R]};return c=g(c,/^url\((['"])?(.+)\1\)$/,2),c&&g(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=ct("div","leaflet-default-icon-path",document.body),g=Un(c,"background-image")||Un(c,"backgroundImage");if(document.body.removeChild(c),g=this._stripUrl(g),g)return g;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Yh=_o.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new ja(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Et(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Bi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var g=this._marker,b=g._map,$=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,W=Na(g._icon),K=b.getPixelBounds(),fe=b.getPixelOrigin(),Se=J(K.min._subtract(fe).add(R),K.max._subtract(fe).subtract(R));if(!Se.contains(W)){var Re=j((Math.max(Se.max.x,W.x)-Se.max.x)/(K.max.x-Se.max.x)-(Math.min(Se.min.x,W.x)-Se.min.x)/(K.min.x-Se.min.x),(Math.max(Se.max.y,W.y)-Se.max.y)/(K.max.y-Se.max.y)-(Math.min(Se.min.y,W.y)-Se.min.y)/(K.min.y-Se.min.y)).multiplyBy($);b.panBy(Re,{animate:!1}),this._draggable._newPos._add(Re),this._draggable._startPos._add(Re),Ei(g._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=X(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(ue(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,c)))},_onDrag:function(c){var g=this._marker,b=g._shadow,$=Na(g._icon),R=g._map.layerPointToLatLng($);b&&Ei(b,$),g._latlng=R,c.latlng=R,c.oldLatLng=this._oldLatLng,g.fire("move",c).fire("drag",c)},_onDragEnd:function(c){ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),Jh=Fs.extend({options:{icon:new Zh,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,g){O(this,g),this._latlng=ye(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var g=this._latlng;return this._latlng=ye(c),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=c.icon.createIcon(this._icon),$=!1;b!==this._icon&&(this._icon&&this._removeIcon(),$=!0,c.title&&(b.title=c.title),b.tagName==="IMG"&&(b.alt=c.alt||"")),Et(b,g),c.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(b,"focus",this._panOnFocus,this);var R=c.icon.createShadow(this._shadow),W=!1;R!==this._shadow&&(this._removeShadow(),W=!0),R&&(Et(R,g),R.alt=""),this._shadow=R,c.opacity<1&&this._updateOpacity(),$&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&W&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&li(this._icon,"focus",this._panOnFocus,this),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Ei(this._icon,c),this._shadow&&Ei(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var g=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yh)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yh(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&ki(this._icon,c),this._shadow&&ki(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var g=this.options.icon.options,b=g.iconSize?j(g.iconSize):j(0,0),$=g.iconAnchor?j(g.iconAnchor):j(0,0);c.panInside(this._latlng,{paddingTopLeft:$,paddingBottomRight:b.subtract($)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function O1(c,g){return new Jh(c,g)}var So=Fs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return O(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qu=So.extend({options:{fill:!0,radius:10},initialize:function(c,g){O(this,g),this._latlng=ye(c),this._radius=this.options.radius},setLatLng:function(c){var g=this._latlng;return this._latlng=ye(c),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var g=c&&c.radius||this._radius;return So.prototype.setStyle.call(this,c),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,g=this._radiusY||c,b=this._clickTolerance(),$=[c+b,g+b];this._pxBounds=new z(this._point.subtract($),this._point.add($))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function P1(c,g){return new Qu(c,g)}var np=Qu.extend({initialize:function(c,g,b){if(typeof g=="number"&&(g=n({},b,{radius:g})),O(this,g),this._latlng=ye(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:So.prototype.setStyle,_project:function(){var c=this._latlng.lng,g=this._latlng.lat,b=this._map,$=b.options.crs;if($.distance===rt.distance){var R=Math.PI/180,W=this._mRadius/rt.R/R,K=b.project([g+W,c]),fe=b.project([g-W,c]),Se=K.add(fe).divideBy(2),Re=b.unproject(Se).lat,Ue=Math.acos((Math.cos(W*R)-Math.sin(g*R)*Math.sin(Re*R))/(Math.cos(g*R)*Math.cos(Re*R)))/R;(isNaN(Ue)||Ue===0)&&(Ue=W/Math.cos(Math.PI/180*g)),this._point=Se.subtract(b.getPixelOrigin()),this._radius=isNaN(Ue)?0:Se.x-b.project([Re,c-Ue]).x,this._radiusY=Se.y-K.y}else{var at=$.unproject($.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(at).x}this._updateBounds()}});function A1(c,g,b){return new np(c,g,b)}var ra=So.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,g){O(this,g),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var g=1/0,b=null,$=Hh,R,W,K=0,fe=this._parts.length;K<fe;K++)for(var Se=this._parts[K],Re=1,Ue=Se.length;Re<Ue;Re++){R=Se[Re-1],W=Se[Re];var at=$(c,R,W,!0);at<g&&(g=at,b=$(c,R,W))}return b&&(b.distance=Math.sqrt(g)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ju(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,g){return g=g||this._defaultShape(),c=ye(c),g.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new he,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return hs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var g=[],b=hs(c),$=0,R=c.length;$<R;$++)b?(g[$]=ye(c[$]),this._bounds.extend(g[$])):g[$]=this._convertLatLngs(c[$]);return g},_project:function(){var c=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),g=new ge(c,c);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(c,g,b){var $=c[0]instanceof be,R=c.length,W,K;if($){for(K=[],W=0;W<R;W++)K[W]=this._map.latLngToLayerPoint(c[W]),b.extend(K[W]);g.push(K)}else for(W=0;W<R;W++)this._projectLatlngs(c[W],g,b)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,b,$,R,W,K,fe,Se;for(b=0,R=0,W=this._rings.length;b<W;b++)for(Se=this._rings[b],$=0,K=Se.length;$<K-1;$++)fe=M1(Se[$],Se[$+1],c,$,!0),fe&&(g[R]=g[R]||[],g[R].push(fe[0]),(fe[1]!==Se[$+1]||$===K-2)&&(g[R].push(fe[1]),R++))}},_simplifyPoints:function(){for(var c=this._parts,g=this.options.smoothFactor,b=0,$=c.length;b<$;b++)c[b]=b1(c[b],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,g){var b,$,R,W,K,fe,Se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(b=0,W=this._parts.length;b<W;b++)for(fe=this._parts[b],$=0,K=fe.length,R=K-1;$<K;R=$++)if(!(!g&&$===0)&&S1(c,fe[R],fe[$])<=Se)return!0;return!1}});function pT(c,g){return new ra(c,g)}ra._flat=tp;var ec=ra.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return w1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var g=ra.prototype._convertLatLngs.call(this,c),b=g.length;return b>=2&&g[0]instanceof be&&g[0].equals(g[b-1])&&g.pop(),g},_setLatLngs:function(c){ra.prototype._setLatLngs.call(this,c),hs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,g=this.options.weight,b=new ge(g,g);if(c=new z(c.min.subtract(b),c.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var $=0,R=this._rings.length,W;$<R;$++)W=_1(this._rings[$],c,!0),W.length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var g=!1,b,$,R,W,K,fe,Se,Re;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(W=0,Se=this._parts.length;W<Se;W++)for(b=this._parts[W],K=0,Re=b.length,fe=Re-1;K<Re;fe=K++)$=b[K],R=b[fe],$.y>c.y!=R.y>c.y&&c.x<(R.x-$.x)*(c.y-$.y)/(R.y-$.y)+$.x&&(g=!g);return g||ra.prototype._containsPoint.call(this,c,!0)}});function mT(c,g){return new ec(c,g)}var na=wo.extend({initialize:function(c,g){O(this,g),this._layers={},c&&this.addData(c)},addData:function(c){var g=U(c)?c:c.features,b,$,R;if(g){for(b=0,$=g.length;b<$;b++)R=g[b],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var W=this.options;if(W.filter&&!W.filter(c))return this;var K=Zr(c,W);return K?(K.feature=ap(c),K.defaultOptions=K.options,this.resetStyle(K),W.onEachFeature&&W.onEachFeature(c,K),this.addLayer(K)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=n({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(g){this._setLayerStyle(g,c)},this)},_setLayerStyle:function(c,g){c.setStyle&&(typeof g=="function"&&(g=g(c.feature)),c.setStyle(g))}});function Zr(c,g){var b=c.type==="Feature"?c.geometry:c,$=b?b.coordinates:null,R=[],W=g&&g.pointToLayer,K=g&&g.coordsToLatLng||sp,fe,Se,Re,Ue;if(!$&&!b)return null;switch(b.type){case"Point":return fe=K($),tc(W,c,fe,g);case"MultiPoint":for(Re=0,Ue=$.length;Re<Ue;Re++)fe=K($[Re]),R.push(tc(W,c,fe,g));return new wo(R);case"LineString":case"MultiLineString":return Se=Xh($,b.type==="LineString"?0:1,K),new ra(Se,g);case"Polygon":case"MultiPolygon":return Se=Xh($,b.type==="Polygon"?1:2,K),new ec(Se,g);case"GeometryCollection":for(Re=0,Ue=b.geometries.length;Re<Ue;Re++){var at=Zr({geometry:b.geometries[Re],type:"Feature",properties:c.properties},g);at&&R.push(at)}return new wo(R);case"FeatureCollection":for(Re=0,Ue=b.features.length;Re<Ue;Re++){var Lt=Zr(b.features[Re],g);Lt&&R.push(Lt)}return new wo(R);default:throw new Error("Invalid GeoJSON object.")}}function tc(c,g,b,$){return c?c(g,b):new Jh(b,$&&$.markersInheritOptions&&$)}function sp(c){return new be(c[1],c[0],c[2])}function Xh(c,g,b){for(var $=[],R=0,W=c.length,K;R<W;R++)K=g?Xh(c[R],g-1,b):(b||sp)(c[R]),$.push(K);return $}function op(c,g){return c=ye(c),c.alt!==void 0?[x(c.lng,g),x(c.lat,g),x(c.alt,g)]:[x(c.lng,g),x(c.lat,g)]}function Kh(c,g,b,$){for(var R=[],W=0,K=c.length;W<K;W++)R.push(g?Kh(c[W],hs(c[W])?0:g-1,b,$):op(c[W],$));return!g&&b&&R.length>0&&R.push(R[0].slice()),R}function za(c,g){return c.feature?n({},c.feature,{geometry:g}):ap(g)}function ap(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var Ua={toGeoJSON:function(c){return za(this,{type:"Point",coordinates:op(this.getLatLng(),c)})}};Jh.include(Ua),np.include(Ua),Qu.include(Ua),ra.include({toGeoJSON:function(c){var g=!hs(this._latlngs),b=Kh(this._latlngs,g?1:0,!1,c);return za(this,{type:(g?"Multi":"")+"LineString",coordinates:b})}}),ec.include({toGeoJSON:function(c){var g=!hs(this._latlngs),b=g&&!hs(this._latlngs[0]),$=Kh(this._latlngs,b?2:g?1:0,!0,c);return g||($=[$]),za(this,{type:(b?"Multi":"")+"Polygon",coordinates:$})}}),Ku.include({toMultiPoint:function(c){var g=[];return this.eachLayer(function(b){g.push(b.toGeoJSON(c).geometry.coordinates)}),za(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(c){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(c);var b=g==="GeometryCollection",$=[];return this.eachLayer(function(R){if(R.toGeoJSON){var W=R.toGeoJSON(c);if(b)$.push(W.geometry);else{var K=ap(W);K.type==="FeatureCollection"?$.push.apply($,K.features):$.push(K)}}}),b?za(this,{geometries:$,type:"GeometryCollection"}):{type:"FeatureCollection",features:$}}});function lp(c,g){return new na(c,g)}var Qh=lp,ic=Fs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,g,b){this._url=c,this._bounds=ce(g),O(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&gr(this._image),this},bringToBack:function(){return this._map&&Ll(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=ce(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",g=this._image=c?this._url:ct("img");if(Et(g,"leaflet-image-layer"),this._zoomAnimated&&Et(g,"leaflet-zoom-animated"),this.options.className&&Et(g,this.options.className),g.onselectstart=w,g.onmousemove=w,g.onload=a(this.fire,this,"load"),g.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(c){var g=this._map.getZoomScale(c.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;ea(this._image,b,g)},_reset:function(){var c=this._image,g=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=g.getSize();Ei(c,g.min),c.style.width=b.x+"px",c.style.height=b.y+"px"},_updateOpacity:function(){ki(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),R1=function(c,g,b){return new ic(c,g,b)},Fa=ic.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",g=this._image=c?this._url:ct("video");if(Et(g,"leaflet-image-layer"),this._zoomAnimated&&Et(g,"leaflet-zoom-animated"),this.options.className&&Et(g,this.options.className),g.onselectstart=w,g.onmousemove=w,g.onloadeddata=a(this.fire,this,"load"),c){for(var b=g.getElementsByTagName("source"),$=[],R=0;R<b.length;R++)$.push(b[R].src);this._url=b.length>0?$:[g.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var K=ct("source");K.src=this._url[W],g.appendChild(K)}}});function rc(c,g,b){return new Fa(c,g,b)}var up=ic.extend({_initImage:function(){var c=this._image=this._url;Et(c,"leaflet-image-layer"),this._zoomAnimated&&Et(c,"leaflet-zoom-animated"),this.options.className&&Et(c,this.options.className),c.onselectstart=w,c.onmousemove=w}});function L1(c,g,b){return new up(c,g,b)}var Yr=Fs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,g){c&&(c instanceof be||U(c))?(this._latlng=ye(c),O(this,g)):(O(this,c),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&ki(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&ki(this._container,1),this.bringToFront(),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(ki(this._container,0),this._removeTimeout=setTimeout(a(Yt,void 0,this._container),200)):Yt(this._container),this.options.interactive&&(Bi(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=ye(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gr(this._container),this},bringToBack:function(){return this._map&&Ll(this._container),this},_prepareOpen:function(c){var g=this._source;if(!g._map)return!1;if(g instanceof wo){g=null;var b=this._source._layers;for(var $ in b)if(b[$]._map){g=b[$];break}if(!g)return!1;this._source=g}if(!c)if(g.getCenter)c=g.getCenter();else if(g.getLatLng)c=g.getLatLng();else if(g.getBounds)c=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")c.innerHTML=g;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),g=j(this.options.offset),b=this._getAnchor();this._zoomAnimated?Ei(this._container,c.add(b)):g=g.add(c).add(b);var $=this._containerBottom=-g.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=$+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(c,g,b,$){var R=g;return R instanceof c||(R=new c($).setContent(g)),b&&R.setLatLng(b),R}}),Fs.include({_initOverlay:function(c,g,b,$){var R=b;return R instanceof c?(O(R,$),R._source=this):(R=g&&!$?g:new c($,this),R.setContent(b)),R}});var ed=Yr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,Yr.prototype.openOn.call(this,c)},onAdd:function(c){Yr.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof So||this._source.on("preclick",Us))},onRemove:function(c){Yr.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof So||this._source.off("preclick",Us))},getEvents:function(){var c=Yr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",g=this._container=ct("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=ct("div",c+"-content-wrapper",g);if(this._contentNode=ct("div",c+"-content",b),Il(g),vo(this._contentNode),yt(g,"contextmenu",Us),this._tipContainer=ct("div",c+"-tip-container",g),this._tip=ct("div",c+"-tip",this._tipContainer),this.options.closeButton){var $=this._closeButton=ct("a",c+"-close-button",g);$.setAttribute("role","button"),$.setAttribute("aria-label","Close popup"),$.href="#close",$.innerHTML='<span aria-hidden="true">&#215;</span>',yt($,"click",function(R){or(R),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,g=c.style;g.width="",g.whiteSpace="nowrap";var b=c.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),g.width=b+1+"px",g.whiteSpace="",g.height="";var $=c.offsetHeight,R=this.options.maxHeight,W="leaflet-popup-scrolled";R&&$>R?(g.height=R+"px",Et(c,W)):Bi(c,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var g=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),b=this._getAnchor();Ei(this._container,g.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,g=parseInt(Un(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+g,$=this._containerWidth,R=new ge(this._containerLeft,-b-this._containerBottom);R._add(Na(this._container));var W=c.layerPointToContainerPoint(R),K=j(this.options.autoPanPadding),fe=j(this.options.autoPanPaddingTopLeft||K),Se=j(this.options.autoPanPaddingBottomRight||K),Re=c.getSize(),Ue=0,at=0;W.x+$+Se.x>Re.x&&(Ue=W.x+$-Re.x+Se.x),W.x-Ue-fe.x<0&&(Ue=W.x-fe.x),W.y+b+Se.y>Re.y&&(at=W.y+b-Re.y+Se.y),W.y-at-fe.y<0&&(at=W.y-fe.y),(Ue||at)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([Ue,at]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),k1=function(c,g){return new ed(c,g)};Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(c,g,b){return this._initOverlay(ed,c,g,b).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),Fs.include({bindPopup:function(c,g){return this._popup=this._initOverlay(ed,this._popup,c,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof wo||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){Da(c);var g=c.layer||c.target;if(this._popup._source===g&&!(g instanceof So)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=g,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var td=Yr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){Yr.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){Yr.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=Yr.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",g=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var g,b,$=this._map,R=this._container,W=$.latLngToContainerPoint($.getCenter()),K=$.layerPointToContainerPoint(c),fe=this.options.direction,Se=R.offsetWidth,Re=R.offsetHeight,Ue=j(this.options.offset),at=this._getAnchor();fe==="top"?(g=Se/2,b=Re):fe==="bottom"?(g=Se/2,b=0):fe==="center"?(g=Se/2,b=Re/2):fe==="right"?(g=0,b=Re/2):fe==="left"?(g=Se,b=Re/2):K.x<W.x?(fe="right",g=0,b=Re/2):(fe="left",g=Se+(Ue.x+at.x)*2,b=Re/2),c=c.subtract(j(g,b,!0)).add(Ue).add(at),Bi(R,"leaflet-tooltip-right"),Bi(R,"leaflet-tooltip-left"),Bi(R,"leaflet-tooltip-top"),Bi(R,"leaflet-tooltip-bottom"),Et(R,"leaflet-tooltip-"+fe),Ei(R,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&ki(this._container,c)},_animateZoom:function(c){var g=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(g)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gT=function(c,g){return new td(c,g)};Vt.include({openTooltip:function(c,g,b){return this._initOverlay(td,c,g,b).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Fs.include({bindTooltip:function(c,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(td,this._tooltip,c,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var g=c?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[g](b),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof wo||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var g=typeof c.getElement=="function"&&c.getElement();g&&(yt(g,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),yt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var g=typeof c.getElement=="function"&&c.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var g=c.latlng,b,$;this._tooltip.options.sticky&&c.originalEvent&&(b=this._map.mouseEventToContainerPoint(c.originalEvent),$=this._map.containerPointToLayerPoint(b),g=this._map.layerPointToLatLng($)),this._tooltip.setLatLng(g)}});var I1=bo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var g=c&&c.tagName==="DIV"?c:document.createElement("div"),b=this.options;if(b.html instanceof Element?(un(g),g.appendChild(b.html)):g.innerHTML=b.html!==!1?b.html:"",b.bgPos){var $=j(b.bgPos);g.style.backgroundPosition=-$.x+"px "+-$.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function yT(c){return new I1(c)}bo.Default=Zh;var nc=Fs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){O(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),Yt(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ll(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof ge?c:new ge(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var g=this.getPane().children,b=-c(-1/0,1/0),$=0,R=g.length,W;$<R;$++)W=g[$].style.zIndex,g[$]!==this._container&&W&&(b=c(b,+W));isFinite(b)&&(this.options.zIndex=b+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){ki(this._container,this.options.opacity);var c=+new Date,g=!1,b=!1;for(var $ in this._tiles){var R=this._tiles[$];if(!(!R.current||!R.loaded)){var W=Math.min(1,(c-R.loaded)/200);ki(R.el,W),W<1?g=!0:(R.active?b=!0:this._onOpaqueTile(R),R.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),g&&(ue(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,g=this.options.maxZoom;if(c!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===c?(this._levels[b].el.style.zIndex=g-Math.abs(c-b),this._onUpdateLevel(b)):(Yt(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var $=this._levels[c],R=this._map;return $||($=this._levels[c]={},$.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),$.el.style.zIndex=g,$.origin=R.project(R.unproject(R.getPixelOrigin()),c).round(),$.zoom=c,this._setZoomTransform($,R.getCenter(),R.getZoom()),w($.el.offsetWidth),this._onCreateLevel($)),this._level=$,$}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var c,g,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)g=this._tiles[c],g.retain=g.current;for(c in this._tiles)if(g=this._tiles[c],g.current&&!g.active){var $=g.coords;this._retainParent($.x,$.y,$.z,$.z-5)||this._retainChildren($.x,$.y,$.z,$.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var g in this._tiles)this._tiles[g].coords.z===c&&this._removeTile(g)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Yt(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,g,b,$){var R=Math.floor(c/2),W=Math.floor(g/2),K=b-1,fe=new ge(+R,+W);fe.z=+K;var Se=this._tileCoordsToKey(fe),Re=this._tiles[Se];return Re&&Re.active?(Re.retain=!0,!0):(Re&&Re.loaded&&(Re.retain=!0),K>$?this._retainParent(R,W,K,$):!1)},_retainChildren:function(c,g,b,$){for(var R=2*c;R<2*c+2;R++)for(var W=2*g;W<2*g+2;W++){var K=new ge(R,W);K.z=b+1;var fe=this._tileCoordsToKey(K),Se=this._tiles[fe];if(Se&&Se.active){Se.retain=!0;continue}else Se&&Se.loaded&&(Se.retain=!0);b+1<$&&this._retainChildren(R,W,b+1,$)}},_resetView:function(c){var g=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var g=this.options;return g.minNativeZoom!==void 0&&c<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<c?g.maxNativeZoom:c},_setView:function(c,g,b,$){var R=Math.round(g);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var W=this.options.updateWhenZooming&&R!==this._tileZoom;(!$||W)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(c),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(c,g)},_setZoomTransforms:function(c,g){for(var b in this._levels)this._setZoomTransform(this._levels[b],c,g)},_setZoomTransform:function(c,g,b){var $=this._map.getZoomScale(b,c.zoom),R=c.origin.multiplyBy($).subtract(this._map._getNewPixelOrigin(g,b)).round();Ae.any3d?ea(c.el,R,$):Ei(c.el,R)},_resetGrid:function(){var c=this._map,g=c.options.crs,b=this._tileSize=this.getTileSize(),$=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,g.wrapLng[0]],$).x/b.x),Math.ceil(c.project([0,g.wrapLng[1]],$).x/b.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([g.wrapLat[0],0],$).y/b.x),Math.ceil(c.project([g.wrapLat[1],0],$).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var g=this._map,b=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),$=g.getZoomScale(b,this._tileZoom),R=g.project(c,this._tileZoom).floor(),W=g.getSize().divideBy($*2);return new z(R.subtract(W),R.add(W))},_update:function(c){var g=this._map;if(g){var b=this._clampZoom(g.getZoom());if(c===void 0&&(c=g.getCenter()),this._tileZoom!==void 0){var $=this._getTiledPixelBounds(c),R=this._pxBoundsToTileRange($),W=R.getCenter(),K=[],fe=this.options.keepBuffer,Se=new z(R.getBottomLeft().subtract([fe,-fe]),R.getTopRight().add([fe,-fe]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Re in this._tiles){var Ue=this._tiles[Re].coords;(Ue.z!==this._tileZoom||!Se.contains(new ge(Ue.x,Ue.y)))&&(this._tiles[Re].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(c,b);return}for(var at=R.min.y;at<=R.max.y;at++)for(var Lt=R.min.x;Lt<=R.max.x;Lt++){var zr=new ge(Lt,at);if(zr.z=this._tileZoom,!!this._isValidTile(zr)){var ar=this._tiles[this._tileCoordsToKey(zr)];ar?ar.current=!0:K.push(zr)}}if(K.sort(function(Kt,Qt){return Kt.distanceTo(W)-Qt.distanceTo(W)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bn=document.createDocumentFragment();for(Lt=0;Lt<K.length;Lt++)this._addTile(K[Lt],Bn);this._level.el.appendChild(Bn)}}}},_isValidTile:function(c){var g=this._map.options.crs;if(!g.infinite){var b=this._globalTileRange;if(!g.wrapLng&&(c.x<b.min.x||c.x>b.max.x)||!g.wrapLat&&(c.y<b.min.y||c.y>b.max.y))return!1}if(!this.options.bounds)return!0;var $=this._tileCoordsToBounds(c);return ce(this.options.bounds).overlaps($)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var g=this._map,b=this.getTileSize(),$=c.scaleBy(b),R=$.add(b),W=g.unproject($,c.z),K=g.unproject(R,c.z);return[W,K]},_tileCoordsToBounds:function(c){var g=this._tileCoordsToNwSe(c),b=new he(g[0],g[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var g=c.split(":"),b=new ge(+g[0],+g[1]);return b.z=+g[2],b},_removeTile:function(c){var g=this._tiles[c];g&&(Yt(g.el),delete this._tiles[c],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Et(c,"leaflet-tile");var g=this.getTileSize();c.style.width=g.x+"px",c.style.height=g.y+"px",c.onselectstart=w,c.onmousemove=w,Ae.ielt9&&this.options.opacity<1&&ki(c,this.options.opacity)},_addTile:function(c,g){var b=this._getTilePos(c),$=this._tileCoordsToKey(c),R=this.createTile(this._wrapCoords(c),a(this._tileReady,this,c));this._initTile(R),this.createTile.length<2&&X(a(this._tileReady,this,c,null,R)),Ei(R,b),this._tiles[$]={el:R,coords:c,current:!0},g.appendChild(R),this.fire("tileloadstart",{tile:R,coords:c})},_tileReady:function(c,g,b){g&&this.fire("tileerror",{error:g,tile:b,coords:c});var $=this._tileCoordsToKey(c);b=this._tiles[$],b&&(b.loaded=+new Date,this._map._fadeAnimated?(ki(b.el,0),ue(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),g||(Et(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var g=new ge(this._wrapX?v(c.x,this._wrapX):c.x,this._wrapY?v(c.y,this._wrapY):c.y);return g.z=c.z,g},_pxBoundsToTileRange:function(c){var g=this.getTileSize();return new z(c.min.unscaleBy(g).floor(),c.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function N1(c){return new nc(c)}var Ba=nc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,g){this._url=c,g=O(this,g),g.detectRetina&&Ae.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,g){return this._url===c&&g===void 0&&(g=!0),this._url=c,g||this.redraw(),this},createTile:function(c,g){var b=document.createElement("img");return yt(b,"load",a(this._tileOnLoad,this,g,b)),yt(b,"error",a(this._tileOnError,this,g,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(c),b},getTileUrl:function(c){var g={r:Ae.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-c.y;this.options.tms&&(g.y=b),g["-y"]=b}return Y(this._url,n(g,this.options))},_tileOnLoad:function(c,g){Ae.ielt9?setTimeout(a(c,this,null,g),0):c(null,g)},_tileOnError:function(c,g,b){var $=this.options.errorTileUrl;$&&g.getAttribute("src")!==$&&(g.src=$),c(b,g)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,g=this.options.maxZoom,b=this.options.zoomReverse,$=this.options.zoomOffset;return b&&(c=g-c),c+$},_getSubdomain:function(c){var g=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var c,g;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(g=this._tiles[c].el,g.onload=w,g.onerror=w,!g.complete)){g.src=E;var b=this._tiles[c].coords;Yt(g),delete this._tiles[c],this.fire("tileabort",{tile:g,coords:b})}},_removeTile:function(c){var g=this._tiles[c];if(g)return g.el.setAttribute("src",E),nc.prototype._removeTile.call(this,c)},_tileReady:function(c,g,b){if(!(!this._map||b&&b.getAttribute("src")===E))return nc.prototype._tileReady.call(this,c,g,b)}});function ds(c,g){return new Ba(c,g)}var id=Ba.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,g){this._url=c;var b=n({},this.defaultWmsParams);for(var $ in g)$ in this.options||(b[$]=g[$]);g=O(this,g);var R=g.detectRetina&&Ae.retina?2:1,W=this.getTileSize();b.width=W.x*R,b.height=W.y*R,this.wmsParams=b},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Ba.prototype.onAdd.call(this,c)},getTileUrl:function(c){var g=this._tileCoordsToNwSe(c),b=this._crs,$=J(b.project(g[0]),b.project(g[1])),R=$.min,W=$.max,K=(this._wmsVersion>=1.3&&this._crs===Ty?[R.y,R.x,W.y,W.x]:[R.x,R.y,W.x,W.y]).join(","),fe=Ba.prototype.getTileUrl.call(this,c);return fe+F(this.wmsParams,fe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(c,g){return n(this.wmsParams,c),g||this.redraw(),this}});function fs(c,g){return new id(c,g)}Ba.WMS=id,ds.wms=fs;var vn=Fs.extend({options:{padding:.1},initialize:function(c){O(this,c),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,g){var b=this._map.getZoomScale(g,this._zoom),$=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,g),W=$.multiplyBy(-b).add(R).subtract(this._map._getNewPixelOrigin(c,g));Ae.any3d?ea(this._container,W,b):Ei(this._container,W)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,g=this._map.getSize(),b=this._map.containerPointToLayerPoint(g.multiplyBy(-c)).round();this._bounds=new z(b,b.add(g.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cp=vn.extend({options:{tolerance:0},getEvents:function(){var c=vn.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");yt(c,"mousemove",this._onMouseMove,this),yt(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){ue(this._redrawRequest),delete this._ctx,Yt(this._container),li(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var g in this._layers)c=this._layers[g],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vn.prototype._update.call(this);var c=this._bounds,g=this._container,b=c.getSize(),$=Ae.retina?2:1;Ei(g,c.min),g.width=$*b.x,g.height=$*b.y,g.style.width=b.x+"px",g.style.height=b.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[h(c)]=c;var g=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var g=c._order,b=g.next,$=g.prev;b?b.prev=$:this._drawLast=$,$?$.next=b:this._drawFirst=b,delete c._order,delete this._layers[h(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var g=c.options.dashArray.split(/[, ]+/),b=[],$,R;for(R=0;R<g.length;R++){if($=Number(g[R]),isNaN($))return;b.push($)}c.options._dashArray=b}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var g=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(c._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(c._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var g=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,g=this._redrawBounds;if(this._ctx.save(),g){var b=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var $=this._drawFirst;$;$=$.next)c=$.layer,(!g||c._pxBounds&&c._pxBounds.intersects(g))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,g){if(this._drawing){var b,$,R,W,K=c._parts,fe=K.length,Se=this._ctx;if(fe){for(Se.beginPath(),b=0;b<fe;b++){for($=0,R=K[b].length;$<R;$++)W=K[b][$],Se[$?"lineTo":"moveTo"](W.x,W.y);g&&Se.closePath()}this._fillStroke(Se,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var g=c._point,b=this._ctx,$=Math.max(Math.round(c._radius),1),R=(Math.max(Math.round(c._radiusY),1)||$)/$;R!==1&&(b.save(),b.scale(1,R)),b.beginPath(),b.arc(g.x,g.y/R,$,0,Math.PI*2,!1),R!==1&&b.restore(),this._fillStroke(b,c)}},_fillStroke:function(c,g){var b=g.options;b.fill&&(c.globalAlpha=b.fillOpacity,c.fillStyle=b.fillColor||b.color,c.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(c.setLineDash&&c.setLineDash(g.options&&g.options._dashArray||[]),c.globalAlpha=b.opacity,c.lineWidth=b.weight,c.strokeStyle=b.color,c.lineCap=b.lineCap,c.lineJoin=b.lineJoin,c.stroke())},_onClick:function(c){for(var g=this._map.mouseEventToLayerPoint(c),b,$,R=this._drawFirst;R;R=R.next)b=R.layer,b.options.interactive&&b._containsPoint(g)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(b))&&($=b);this._fireEvent($?[$]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,g)}},_handleMouseOut:function(c){var g=this._hoveredLayer;g&&(Bi(this._container,"leaflet-interactive"),this._fireEvent([g],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,g){if(!this._mouseHoverThrottled){for(var b,$,R=this._drawFirst;R;R=R.next)b=R.layer,b.options.interactive&&b._containsPoint(g)&&($=b);$!==this._hoveredLayer&&(this._handleMouseOut(c),$&&(Et(this._container,"leaflet-interactive"),this._fireEvent([$],c,"mouseover"),this._hoveredLayer=$)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,g,b){this._map._fireDOMEvent(g,b||g.type,c)},_bringToFront:function(c){var g=c._order;if(g){var b=g.next,$=g.prev;if(b)b.prev=$;else return;$?$.next=b:b&&(this._drawFirst=b),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(c)}},_bringToBack:function(c){var g=c._order;if(g){var b=g.next,$=g.prev;if($)$.next=b;else return;b?b.prev=$:$&&(this._drawLast=$),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(c)}}});function rd(c){return Ae.canvas?new cp(c):null}var qa=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),My={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vn.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var g=c._container=qa("shape");Et(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",c._path=qa("path"),g.appendChild(c._path),this._updateStyle(c),this._layers[h(c)]=c},_addPath:function(c){var g=c._container;this._container.appendChild(g),c.options.interactive&&c.addInteractiveTarget(g)},_removePath:function(c){var g=c._container;Yt(g),c.removeInteractiveTarget(g),delete this._layers[h(c)]},_updateStyle:function(c){var g=c._stroke,b=c._fill,$=c.options,R=c._container;R.stroked=!!$.stroke,R.filled=!!$.fill,$.stroke?(g||(g=c._stroke=qa("stroke")),R.appendChild(g),g.weight=$.weight+"px",g.color=$.color,g.opacity=$.opacity,$.dashArray?g.dashStyle=U($.dashArray)?$.dashArray.join(" "):$.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=$.lineCap.replace("butt","flat"),g.joinstyle=$.lineJoin):g&&(R.removeChild(g),c._stroke=null),$.fill?(b||(b=c._fill=qa("fill")),R.appendChild(b),b.color=$.fillColor||$.color,b.opacity=$.fillOpacity):b&&(R.removeChild(b),c._fill=null)},_updateCircle:function(c){var g=c._point.round(),b=Math.round(c._radius),$=Math.round(c._radiusY||b);this._setPath(c,c._empty()?"M0 0":"AL "+g.x+","+g.y+" "+b+","+$+" 0,"+65535*360)},_setPath:function(c,g){c._path.v=g},_bringToFront:function(c){gr(c._container)},_bringToBack:function(c){Ll(c._container)}},xo=Ae.vml?qa:xt,sc=vn.extend({_initContainer:function(){this._container=xo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),li(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vn.prototype._update.call(this);var c=this._bounds,g=c.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,b.setAttribute("width",g.x),b.setAttribute("height",g.y)),Ei(b,c.min),b.setAttribute("viewBox",[c.min.x,c.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(c){var g=c._path=xo("path");c.options.className&&Et(g,c.options.className),c.options.interactive&&Et(g,"leaflet-interactive"),this._updateStyle(c),this._layers[h(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){Yt(c._path),c.removeInteractiveTarget(c._path),delete this._layers[h(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var g=c._path,b=c.options;g&&(b.stroke?(g.setAttribute("stroke",b.color),g.setAttribute("stroke-opacity",b.opacity),g.setAttribute("stroke-width",b.weight),g.setAttribute("stroke-linecap",b.lineCap),g.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?g.setAttribute("stroke-dasharray",b.dashArray):g.removeAttribute("stroke-dasharray"),b.dashOffset?g.setAttribute("stroke-dashoffset",b.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),b.fill?(g.setAttribute("fill",b.fillColor||b.color),g.setAttribute("fill-opacity",b.fillOpacity),g.setAttribute("fill-rule",b.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(c,g){this._setPath(c,_i(c._parts,g))},_updateCircle:function(c){var g=c._point,b=Math.max(Math.round(c._radius),1),$=Math.max(Math.round(c._radiusY),1)||b,R="a"+b+","+$+" 0 1,0 ",W=c._empty()?"M0 0":"M"+(g.x-b)+","+g.y+R+b*2+",0 "+R+-b*2+",0 ";this._setPath(c,W)},_setPath:function(c,g){c._path.setAttribute("d",g)},_bringToFront:function(c){gr(c._path)},_bringToBack:function(c){Ll(c._path)}});Ae.vml&&sc.include(My);function nd(c){return Ae.svg||Ae.vml?new sc(c):null}Vt.include({getRenderer:function(c){var g=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var g=this._paneRenderers[c];return g===void 0&&(g=this._createRenderer({pane:c}),this._paneRenderers[c]=g),g},_createRenderer:function(c){return this.options.preferCanvas&&rd(c)||nd(c)}});var Dl=ec.extend({initialize:function(c,g){ec.prototype.initialize.call(this,this._boundsToLatLngs(c),g)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=ce(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function vT(c,g){return new Dl(c,g)}sc.create=xo,sc.pointsToPath=_i,na.geometryToLayer=Zr,na.coordsToLatLng=sp,na.coordsToLatLngs=Xh,na.latLngToCoords=op,na.latLngsToCoords=Kh,na.getFeature=za,na.asFeature=ap,Vt.mergeOptions({boxZoom:!0});var _n=_o.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){li(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vu(),Jf(),this._startPoint=this._map.mouseEventToContainerPoint(c),yt(document,{contextmenu:Da,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),Et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var g=new z(this._point,this._startPoint),b=g.getSize();Ei(this._box,g.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Yt(this._box),Bi(this._container,"leaflet-crosshair")),yo(),Uh(),li(document,{contextmenu:Da,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var g=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",_n),Vt.mergeOptions({doubleClickZoom:!0});var hp=_o.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var g=this._map,b=g.getZoom(),$=g.options.zoomDelta,R=c.originalEvent.shiftKey?b-$:b+$;g.options.doubleClickZoom==="center"?g.setZoom(R):g.setZoomAround(c.containerPoint,R)}});Vt.addInitHook("addHandler","doubleClickZoom",hp),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var To=_o.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new ja(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Bi(this._map._container,"leaflet-grab"),Bi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ce(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var g=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(g),this._prunePositions(g)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,g){return c-(c-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;c.x<g.min.x&&(c.x=this._viscousLimit(c.x,g.min.x)),c.y<g.min.y&&(c.y=this._viscousLimit(c.y,g.min.y)),c.x>g.max.x&&(c.x=this._viscousLimit(c.x,g.max.x)),c.y>g.max.y&&(c.y=this._viscousLimit(c.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,g=Math.round(c/2),b=this._initialWorldOffset,$=this._draggable._newPos.x,R=($-g+b)%c+g-b,W=($+g+b)%c-g-b,K=Math.abs(R+b)<Math.abs(W+b)?R:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(c){var g=this._map,b=g.options,$=!b.inertia||c.noInertia||this._times.length<2;if(g.fire("dragend",c),$)g.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),W=(this._lastTime-this._times[0])/1e3,K=b.easeLinearity,fe=R.multiplyBy(K/W),Se=fe.distanceTo([0,0]),Re=Math.min(b.inertiaMaxSpeed,Se),Ue=fe.multiplyBy(Re/Se),at=Re/(b.inertiaDeceleration*K),Lt=Ue.multiplyBy(-at/2).round();!Lt.x&&!Lt.y?g.fire("moveend"):(Lt=g._limitOffset(Lt,g.options.maxBounds),X(function(){g.panBy(Lt,{duration:at,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Vt.addInitHook("addHandler","dragging",To),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ey=_o.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),yt(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),li(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,g=document.documentElement,b=c.scrollTop||g.scrollTop,$=c.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo($,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var g=this._panKeys={},b=this.keyCodes,$,R;for($=0,R=b.left.length;$<R;$++)g[b.left[$]]=[-1*c,0];for($=0,R=b.right.length;$<R;$++)g[b.right[$]]=[c,0];for($=0,R=b.down.length;$<R;$++)g[b.down[$]]=[0,c];for($=0,R=b.up.length;$<R;$++)g[b.up[$]]=[0,-1*c]},_setZoomDelta:function(c){var g=this._zoomKeys={},b=this.keyCodes,$,R;for($=0,R=b.zoomIn.length;$<R;$++)g[b.zoomIn[$]]=c;for($=0,R=b.zoomOut.length;$<R;$++)g[b.zoomOut[$]]=-c},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){li(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var g=c.keyCode,b=this._map,$;if(g in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if($=this._panKeys[g],c.shiftKey&&($=j($).multiplyBy(3)),b.options.maxBounds&&($=b._limitOffset(j($),b.options.maxBounds)),b.options.worldCopyJump){var R=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add($)));b.panTo(R)}else b.panBy($)}else if(g in this._zoomKeys)b.setZoom(b.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;Da(c)}}});Vt.addInitHook("addHandler","keyboard",Ey),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sd=_o.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){li(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var g=cn(c),b=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var $=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),$),Da(c)},_performZoom:function(){var c=this._map,g=c.getZoom(),b=this._map.options.zoomSnap||0;c._stop();var $=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs($))))/Math.LN2,W=b?Math.ceil(R/b)*b:R,K=c._limitZoom(g+(this._delta>0?W:-W))-g;this._delta=0,this._startTime=null,K&&(c.options.scrollWheelZoom==="center"?c.setZoom(g+K):c.setZoomAround(this._lastMousePos,g+K))}});Vt.addInitHook("addHandler","scrollWheelZoom",sd);var jl=600;Vt.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var dp=_o.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){li(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var g=c.touches[0];this._startPos=this._newPos=new ge(g.clientX,g.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",or),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),jl),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){li(document,"touchend",or),li(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),li(document,"touchend touchcancel contextmenu",this._cancel,this),li(document,"touchmove",this._onMove,this)},_onMove:function(c){var g=c.touches[0];this._newPos=new ge(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,g){var b=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});b._simulated=!0,g.target.dispatchEvent(b)}});Vt.addInitHook("addHandler","tapHold",dp),Vt.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var $y=_o.extend({addHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Bi(this._map._container,"leaflet-touch-zoom"),li(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var g=this._map;if(!(!c.touches||c.touches.length!==2||g._animatingZoom||this._zooming)){var b=g.mouseEventToContainerPoint(c.touches[0]),$=g.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(b.add($)._divideBy(2))),this._startDist=b.distanceTo($),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),or(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var g=this._map,b=g.mouseEventToContainerPoint(c.touches[0]),$=g.mouseEventToContainerPoint(c.touches[1]),R=b.distanceTo($)/this._startDist;if(this._zoom=g.getScaleZoom(R,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&R<1||this._zoom>g.getMaxZoom()&&R>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var W=b._add($)._divideBy(2)._subtract(this._centerPoint);if(R===1&&W.x===0&&W.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),ue(this._animRequest);var K=a(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(K,this,!0),or(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ue(this._animRequest),li(document,"touchmove",this._onTouchMove,this),li(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vt.addInitHook("addHandler","touchZoom",$y),Vt.BoxZoom=_n,Vt.DoubleClickZoom=hp,Vt.Drag=To,Vt.Keyboard=Ey,Vt.ScrollWheelZoom=sd,Vt.TapHold=dp,Vt.TouchZoom=$y,i.Bounds=z,i.Browser=Ae,i.CRS=Oe,i.Canvas=cp,i.Circle=np,i.CircleMarker=Qu,i.Class=se,i.Control=Fn,i.DivIcon=I1,i.DivOverlay=Yr,i.DomEvent=Qf,i.DomUtil=Zu,i.Draggable=ja,i.Evented=N,i.FeatureGroup=wo,i.GeoJSON=na,i.GridLayer=nc,i.Handler=_o,i.Icon=bo,i.ImageOverlay=ic,i.LatLng=be,i.LatLngBounds=he,i.Layer=Fs,i.LayerGroup=Ku,i.LineUtil=dT,i.Map=Vt,i.Marker=Jh,i.Mixin=lT,i.Path=So,i.Point=ge,i.PolyUtil=Sy,i.Polygon=ec,i.Polyline=ra,i.Popup=ed,i.PosAnimation=Yu,i.Projection=E1,i.Rectangle=Dl,i.Renderer=vn,i.SVG=sc,i.SVGOverlay=up,i.TileLayer=Ba,i.Tooltip=td,i.Transformation=ft,i.Util=ne,i.VideoOverlay=Fa,i.bind=a,i.bounds=J,i.canvas=rd,i.circle=A1,i.circleMarker=P1,i.control=ia,i.divIcon=yT,i.extend=n,i.featureGroup=C1,i.geoJSON=lp,i.geoJson=Qh,i.gridLayer=N1,i.icon=Wh,i.imageOverlay=R1,i.latLng=ye,i.latLngBounds=ce,i.layerGroup=fT,i.map=gy,i.marker=O1,i.point=j,i.polygon=mT,i.polyline=pT,i.popup=k1,i.rectangle=vT,i.setOptions=O,i.stamp=h,i.svg=nd,i.svgOverlay=L1,i.tileLayer=ds,i.tooltip=gT,i.transformation=St,i.version=r,i.videoOverlay=rc;var Cy=window.L;i.noConflict=function(){return window.L=Cy,this},window.L=i}))})(Bv,Bv.exports)),Bv.exports}var Ee=sK();const Pz=H2(Ee);function K2(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Q2(e,t){return t==null?function(r,n){const s=oe.useRef(void 0);return s.current||(s.current=e(r,n)),s}:function(r,n){const s=oe.useRef(void 0);s.current||(s.current=e(r,n));const a=oe.useRef(r),{instance:u}=s.current;return oe.useEffect(function(){a.current!==r&&(t(u,r,a.current),a.current=r)},[u,r,t]),s}}function oK(e,t){oe.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Az(e){return function(i){const r=X2(),n=e(xP(i,r),r);return $z(r.map,i.attribution),Oz(n.current,i.eventHandlers),oK(n.current,r),n}}function aK(e){function t(n,s){return K2(e(n),s)}const i=Q2(t),r=iK(i);return Cz(r)}function lK(e,t){const i=Q2(e,t),r=Az(i);return eK(r)}function uK(e,t){const i=Q2(e),r=rK(i,t);return tK(r)}function cK(e,t){const i=Q2(e,t),r=Az(i);return Cz(r)}function hK(e,t,i){const{opacity:r,zIndex:n}=t;r!=null&&r!==i.opacity&&e.setOpacity(r),n!=null&&n!==i.zIndex&&e.setZIndex(n)}function dK(){return X2().map}function fK({bounds:e,boundsOptions:t,center:i,children:r,className:n,id:s,placeholder:a,style:u,whenReady:h,zoom:f,...v},w){const[x]=oe.useState({className:n,id:s,style:u}),[M,P]=oe.useState(null),O=oe.useRef(void 0);oe.useImperativeHandle(w,()=>M?.map??null,[M]);const F=oe.useCallback(Y=>{if(Y!==null&&!O.current){const U=new Ee.Map(Y,v);O.current=U,i!=null&&f!=null?U.setView(i,f):e!=null&&U.fitBounds(e,t),h!=null&&U.whenReady(h),P(KX(U))}},[]);oe.useEffect(()=>()=>{M?.map.remove()},[M]);const G=M?Au.createElement(SP,{value:M},r):a??null;return Au.createElement("div",{...x,ref:F},G)}const pK=oe.forwardRef(fK),Rz=lK(function({position:t,...i},r){const n=new Ee.Marker(t,i);return K2(n,QX(r,{overlayContainer:n}))},function(t,i,r){i.position!==r.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==r.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==r.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==r.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),Lz=uK(function(t,i){const r=new Ee.Popup(t,i.overlayContainer);return K2(r,i)},function(t,i,{position:r},n){oe.useEffect(function(){const{instance:a}=t;function u(f){f.popup===a&&(a.update(),n(!0))}function h(f){f.popup===a&&n(!1)}return i.map.on({popupopen:u,popupclose:h}),i.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(i.map)):i.overlayContainer.bindPopup(a),function(){i.map.off({popupopen:u,popupclose:h}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(a)}},[t,i,n,r])}),mK=cK(function({url:t,...i},r){const n=new Ee.TileLayer(t,xP(i,r));return K2(n,r)},function(t,i,r){hK(t,i,r);const{url:n}=i;n!=null&&n!==r.url&&t.setUrl(n)}),gK=aK(function(t){return new Ee.Control.Zoom(t)}),ex=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,vd=document.documentElement.style.pointerEvents==="",Zd={cors:ex},yK={attributionWidthOffset:55};let D5=0;function tx(e){let t="";e.f=e.f||"json";for(const r in e)if(Object.hasOwn(e,r)){const n=e[r],s=Object.prototype.toString.call(n);let a;t.length&&(t+="&"),s==="[object Array]"?a=Object.prototype.toString.call(n[0])==="[object Object]"?JSON.stringify(n):n.join(","):s==="[object Object]"?a=JSON.stringify(n):s==="[object Date]"?a=n.valueOf():a=n,t+=`${encodeURIComponent(r)}=${encodeURIComponent(a)}`}return t.replaceAll("'","%27")}function TP(e,t){const i=new window.XMLHttpRequest;return i.onerror=function(){i.onreadystatechange=Ee.Util.falseFn,e.call(t,{error:{code:500,message:"XMLHttpRequest error"}},null)},i.onreadystatechange=function(){let r,n;if(i.readyState===4){try{r=JSON.parse(i.responseText)}catch{r=null,n={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!n&&r.error&&(n=r.error,r=null),i.onerror=Ee.Util.falseFn,e.call(t,n,r)}},i.ontimeout=function(){this.onerror()},i}function vK(e,t,i,r){const n=TP(i,r);return n.open("POST",e),typeof r<"u"&&r!==null&&typeof r.options<"u"&&(n.timeout=r.options.timeout),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(tx(t)),n}function kz(e,t,i,r){const n=TP(i,r);return n.open("GET",`${e}?${tx(t)}`,!0),typeof r<"u"&&r!==null&&typeof r.options<"u"&&(n.timeout=r.options.timeout,r.options.withCredentials&&(n.withCredentials=!0)),n.send(null),n}function Iz(e,t,i,r){const n=tx(t),s=TP(i,r),a=`${e}?${n}`.length;if(a<=2e3&&Zd.cors?s.open("GET",`${e}?${n}`):a>2e3&&Zd.cors&&(s.open("POST",e),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),typeof r<"u"&&r!==null&&typeof r.options<"u"&&(s.timeout=r.options.timeout,r.options.withCredentials&&(s.withCredentials=!0)),a<=2e3&&Zd.cors)s.send(null);else if(a>2e3&&Zd.cors)s.send(n);else{if(a<=2e3&&!Zd.cors)return MP(e,t,i,r);xf(`a request to ${e} was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/`);return}return s}function MP(e,t,i,r){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};const n=`c${D5}`;t.callback=`window._EsriLeafletCallbacks.${n}`,window._EsriLeafletCallbacks[n]=function(a){if(window._EsriLeafletCallbacks[n]!==!0){let u;const h=Object.prototype.toString.call(a);h==="[object Object]"||h==="[object Array]"||(u={error:{code:500,message:"Expected array or object as JSONP response"}},a=null),!u&&a.error&&(u=a,a=null),i.call(r,u,a),window._EsriLeafletCallbacks[n]=!0}};const s=Ee.DomUtil.create("script",null,document.body);return s.type="text/javascript",s.src=`${e}?${tx(t)}`,s.id=n,s.onerror=function(a){if(a&&window._EsriLeafletCallbacks[n]!==!0){const u={error:{code:500,message:"An unknown error occurred"}};i.call(r,u),window._EsriLeafletCallbacks[n]=!0}},Ee.DomUtil.addClass(s,"esri-leaflet-jsonp"),D5++,{id:n,url:s.src,abort(){window._EsriLeafletCallbacks._callback[n]({code:0,message:"Request aborted."})}}}const EP=Zd.cors?kz:MP;EP.CORS=kz;EP.JSONP=MP;function xf(...e){console&&console.warn&&console.warn.apply(console,e)}const US={request:Iz,get:EP,post:vK};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var _K=function(t,i,r,n){var s=(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0]),a=(i[0]-t[0])*(t[1]-r[1])-(i[1]-t[1])*(t[0]-r[0]),u=(n[1]-r[1])*(i[0]-t[0])-(n[0]-r[0])*(i[1]-t[1]);if(u!==0){var h=s/u,f=a/u;if(h>=0&&h<=1&&f>=0&&f<=1)return!0}return!1},wK=function(t,i){for(var r=!1,n=-1,s=t.length,a=s-1;++n<s;a=n)(t[n][1]<=i[1]&&i[1]<t[a][1]||t[a][1]<=i[1]&&i[1]<t[n][1])&&i[0]<(t[a][0]-t[n][0])*(i[1]-t[n][1])/(t[a][1]-t[n][1])+t[n][0]&&(r=!r);return r},bK=function(t,i){for(var r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0},Nz=function(t,i){for(var r=0;r<t.length-1;r++)for(var n=0;n<i.length-1;n++)if(_K(t[r],t[r+1],i[n],i[n+1]))return!0;return!1},U3=function(t){return bK(t[0],t[t.length-1])||t.push(t[0]),t},F3=function(t){var i=0,r=0,n=t.length,s=t[r],a;for(r;r<n-1;r++)a=t[r+1],i+=(a[0]-s[0])*(a[1]+s[1]),s=a;return i>=0},Dz=function(t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i},SK=function(t,i){var r=Nz(t,i),n=wK(t,i[0]);return!!(!r&&n)},xK=function(t){for(var i=[],r=[],n,s,a,u=0;u<t.length;u++){var h=U3(t[u].slice(0));if(!(h.length<4))if(F3(h)){var f=[h.slice().reverse()];i.push(f)}else r.push(h.slice().reverse())}for(var v=[];r.length;){a=r.pop();var w=!1;for(n=i.length-1;n>=0;n--)if(s=i[n][0],SK(s,a)){i[n].push(a),w=!0;break}w||v.push(a)}for(;v.length;){a=v.pop();var x=!1;for(n=i.length-1;n>=0;n--)if(s=i[n][0],Nz(s,a)){i[n].push(a),x=!0;break}x||i.push([a.reverse()])}return i.length===1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}},TK=function(t,i){for(var r=i?[i,"OBJECTID","FID"]:["OBJECTID","FID"],n=0;n<r.length;n++){var s=r[n];if(s in t&&(typeof t[s]=="string"||typeof t[s]=="number"))return t[s]}throw Error("No valid id attribute found")},MK=function e(t,i){var r={};if(t.features){r.type="FeatureCollection",r.features=[];for(var n=0;n<t.features.length;n++)r.features.push(e(t.features[n],i))}if(typeof t.x=="number"&&typeof t.y=="number"&&(r.type="Point",r.coordinates=[t.x,t.y],typeof t.z=="number"&&r.coordinates.push(t.z)),t.points&&(r.type="MultiPoint",r.coordinates=t.points.slice(0)),t.paths&&(t.paths.length===1?(r.type="LineString",r.coordinates=t.paths[0].slice(0)):(r.type="MultiLineString",r.coordinates=t.paths.slice(0))),t.rings&&(r=xK(t.rings.slice(0))),typeof t.xmin=="number"&&typeof t.ymin=="number"&&typeof t.xmax=="number"&&typeof t.ymax=="number"&&(r.type="Polygon",r.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.geometry||t.attributes)&&(r.type="Feature",r.geometry=t.geometry?e(t.geometry):null,r.properties=t.attributes?Dz(t.attributes):null,t.attributes))try{r.id=TK(t.attributes,i)}catch{}return JSON.stringify(r.geometry)===JSON.stringify({})&&(r.geometry=null),t.spatialReference&&t.spatialReference.wkid&&t.spatialReference.wkid!==4326&&console.warn("Object converted in non-standard crs - "+JSON.stringify(t.spatialReference)),r},jz=function(t){var i=[],r=t.slice(0),n=U3(r.shift().slice(0));if(n.length>=4){F3(n)||n.reverse(),i.push(n);for(var s=0;s<r.length;s++){var a=U3(r[s].slice(0));a.length>=4&&(F3(a)&&a.reverse(),i.push(a))}}return i},EK=function(t){for(var i=[],r=0;r<t.length;r++)for(var n=jz(t[r]),s=n.length-1;s>=0;s--){var a=n[s].slice(0);i.push(a)}return i},$K=function e(t,i){i=i||"OBJECTID";var r={wkid:4326},n={},s;switch(t.type){case"Point":n.x=t.coordinates[0],n.y=t.coordinates[1],t.coordinates[2]!=null&&(n.z=t.coordinates[2]),n.spatialReference=r;break;case"MultiPoint":n.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"LineString":n.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"MultiLineString":n.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"Polygon":n.rings=jz(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"MultiPolygon":n.rings=EK(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(n.hasZ=!0),n.spatialReference=r;break;case"Feature":t.geometry&&(n.geometry=e(t.geometry,i)),n.attributes=t.properties?Dz(t.properties):{},t.id&&(n.attributes[i]=t.id);break;case"FeatureCollection":for(n=[],s=0;s<t.features.length;s++)n.push(e(t.features[s],i));break;case"GeometryCollection":for(n=[],s=0;s<t.geometries.length;s++)n.push(e(t.geometries[s],i));break}return n};const CK='Powered by <a href="https://www.esri.com">Esri</a>';function FS(e,t){return $K(e,t)}function OK(e,t){return MK(e,t)}function j5(e){if(e.xmin!=="NaN"&&e.ymin!=="NaN"&&e.xmax!=="NaN"&&e.ymax!=="NaN"){const t=Ee.latLng(e.ymin,e.xmin),i=Ee.latLng(e.ymax,e.xmax);return Ee.latLngBounds(t,i)}return null}function zz(e){return e=Ee.latLngBounds(e),{xmin:e.getSouthWest().lng,ymin:e.getSouthWest().lat,xmax:e.getNorthEast().lng,ymax:e.getNorthEast().lat,spatialReference:{wkid:4326}}}const Uz=/^(OBJECTID|FID|OID|ID)$/i;function PK(e){let t;if(e.objectIdFieldName)t=e.objectIdFieldName;else if(e.fields){for(let i=0;i<=e.fields.length-1;i++)if(e.fields[i].type==="esriFieldTypeOID"){t=e.fields[i].name;break}if(!t){for(let i=0;i<=e.fields.length-1;i++)if(e.fields[i].name.match(Uz)){t=e.fields[i].name;break}}}return t}function AK(e){for(const t in e.attributes)if(t.match(Uz))return t}function ix(e,t){let i;const r=e.features||e.results,n=r&&r.length;t?i=t:i=PK(e);const s={type:"FeatureCollection",features:[]};if(n)for(let a=r.length-1;a>=0;a--){const u=OK(r[a],i||AK(r[a]));s.features.push(u)}return s}function $P(e){return e=Ee.Util.trim(e),e[e.length-1]!=="/"&&(e+="/"),e}function rx(e){if(e.url.indexOf("?")!==-1){e.requestParams=e.requestParams||{};const t=e.url.substring(e.url.indexOf("?")+1);e.url=e.url.split("?")[0],e.requestParams=JSON.parse(`{"${decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')}"}`)}return e.url=$P(e.url.split("?")[0]),e}function RK(e){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(e)}function z5(e){let t;switch(e){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":t="esriGeometryPolyline";break;case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":t="esriGeometryPolygon";break;case"MultiPolygon":t="esriGeometryPolygon";break}return t}function B3(e){return`${e.getSize().x-yK.attributionWidthOffset}px`}function nx(e){if(e.attributionControl){if(e.attributionControl._esriAttributionLayerCount||(e.attributionControl._esriAttributionLayerCount=0),e.attributionControl._esriAttributionLayerCount===0){if(!e.attributionControl._esriAttributionAddedOnce){const t=document.createElement("style");t.type="text/css",t.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(t);const i=document.createElement("style");i.type="text/css",i.innerHTML=`.esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: ${B3(e)};}`,document.getElementsByTagName("head")[0].appendChild(i),e.on("resize",r=>{e.attributionControl&&(e.attributionControl._container.style.maxWidth=B3(r.target))}),e.attributionControl._esriAttributionAddedOnce=!0}Ee.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover"),Ee.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution")}e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount+1}}function LK(){return CK}function sx(e){e.attributionControl&&(e.attributionControl._esriAttributionLayerCount&&e.attributionControl._esriAttributionLayerCount===1&&(Ee.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution:hover"),Ee.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution")),e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount-1)}function Fz(e){const t={geometry:null,geometryType:null};if(e instanceof Ee.LatLngBounds)return t.geometry=zz(e),t.geometryType="esriGeometryEnvelope",t;if(e.getLatLng&&(e=e.getLatLng()),e instanceof Ee.LatLng&&(e={type:"Point",coordinates:[e.lng,e.lat]}),e instanceof Ee.GeoJSON&&(e=e.getLayers()[0].feature.geometry,t.geometry=FS(e),t.geometryType=z5(e.type)),e.toGeoJSON&&(e=e.toGeoJSON()),e.type==="Feature"&&(e=e.geometry),e.type==="Point"||e.type==="LineString"||e.type==="Polygon"||e.type==="MultiPolygon")return t.geometry=FS(e),t.geometryType=z5(e.type),t;xf("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object")}function kK(e,t){Zd.cors&&Iz(e,{},Ee.Util.bind((i,r)=>{if(i)return;t._esriAttributions=[];for(let s=0;s<r.contributors.length;s++){const a=r.contributors[s];for(let u=0;u<a.coverageAreas.length;u++){const h=a.coverageAreas[u],f=Ee.latLng(h.bbox[0],h.bbox[1]),v=Ee.latLng(h.bbox[2],h.bbox[3]);t._esriAttributions.push({attribution:a.attribution,score:h.score,bounds:Ee.latLngBounds(f,v),minZoom:h.zoomMin,maxZoom:h.zoomMax})}}t._esriAttributions.sort((s,a)=>a.score-s.score),q3({target:t})},this))}function q3(e){const t=e.target,i=t._esriAttributions;if(!t||!t.attributionControl)return;const r=t.attributionControl._container.querySelector(".esri-dynamic-attribution");if(r&&i){let n="";const s=t.getBounds(),a=Ee.latLngBounds(s.getSouthWest().wrap(),s.getNorthEast().wrap()),u=t.getZoom();for(let h=0;h<i.length;h++){const f=i[h],v=f.attribution;!n.match(v)&&f.bounds.intersects(a)&&u>=f.minZoom&&u<=f.maxZoom&&(n+=`, ${v}`)}n=`${LK()} | ${n.substr(2)}`,r.innerHTML=n,r.style.maxWidth=B3(t),t.fire("attributionupdated",{attribution:n})}}const CP=Ee.Class.extend({options:{proxy:!1,useCors:ex},generateSetter(e,t){return Ee.Util.bind(function(i){return this.params[e]=i,this},t)},initialize(e){if(e.request&&e.options?(this._service=e,Ee.Util.setOptions(this,e.options)):(Ee.Util.setOptions(this,e),this.options.url=$P(e.url)),this.params=Ee.Util.extend({},this.params||{}),this.setters)for(const t in this.setters){const i=this.setters[t];this[t]=this.generateSetter(i,this)}},token(e){return this._service?this._service.authenticate(e):this.params.token=e,this},apikey(e){return this.token(e)},format(e){return this.params.returnUnformattedValues=!e,this},request(e,t){return this.options.requestParams&&Ee.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,e,t):this._request("request",this.path,this.params,e,t)},_request(e,t,i,r,n){const s=this.options.proxy?`${this.options.proxy}?${this.options.url}${t}`:this.options.url+t;return(e==="get"||e==="request")&&!this.options.useCors?US.get.JSONP(s,i,r,n):US[e](s,i,r,n)}}),IK=CP.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelContains",this},intersects(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIntersects",this},contains(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelWithin",this},crosses(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelCrosses",this},touches(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelTouches",this},overlaps(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby(e,t){return e=Ee.latLng(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=t,this.params.inSR=4326,this},where(e){return this.params.where=e,this},between(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this},simplify(e,t){const i=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=i/e.getSize().y*t,this},orderBy(e,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?`${this.params.orderByFields},`:"",this.params.orderByFields+=[e,t].join(" "),this},run(e,t){return this._cleanParams(),this.options.isModern||RK(this.options.url)&&this.options.isModern===void 0?(this.params.f="geojson",this.request(function(i,r){this._trapSQLerrors(i),e.call(t,i,r,r)},this)):this.request(function(i,r){this._trapSQLerrors(i),e.call(t,i,r&&ix(r),r)},this)},count(e,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(i,r){e.call(this,i,r&&r.count,r)},t)},ids(e,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(i,r){e.call(this,i,r&&r.objectIds,r)},t)},bounds(e,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request((i,r)=>{r&&r.extent&&j5(r.extent)?e.call(t,i,j5(r.extent),r):(i={message:"Invalid Bounds"},e.call(t,i,null,r))},t)},distinct(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize(e){const t=Ee.point(e);return this.params.pixelSize=[t.x,t.y],this},layer(e){return this.path=`${e}/query`,this},_trapSQLerrors(e){e&&e.code==="400"&&xf("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams(e){this.params.inSR=4326;const t=Fz(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function OP(e){return new IK(e)}const NK=CP.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs(e,t){return this.params.layerDefs=this.params.layerDefs?`${this.params.layerDefs};`:"",this.params.layerDefs+=[e,t].join(":"),this},simplify(e,t){const i=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=i/e.getSize().y*t,this},run(e,t){return this.request((i,r)=>{e.call(t,i,r&&ix(r),r)},t)}});function DK(e){return new NK(e)}const Bz=CP.extend({path:"identify",between(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this}}),jK=Bz.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on(e){const t=zz(e.getBounds()),i=e.getSize();return this.params.imageDisplay=[i.x,i.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at(e){return e.length===2&&(e=Ee.latLng(e)),this._setGeometryParams(e),this},layerDef(e,t){return this.params.layerDefs=this.params.layerDefs?`${this.params.layerDefs};`:"",this.params.layerDefs+=[e,t].join(":"),this},simplify(e,t){const i=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=i/e.getSize().y*t,this},run(e,t){return this.request((i,r)=>{if(i)e.call(t,i,void 0,r);else{const n=ix(r);r.results=r.results.reverse();for(let s=0;s<n.features.length;s++){const a=n.features[s];a.layerId=r.results[s].layerId}e.call(t,void 0,n,r)}})},_setGeometryParams(e){const t=Fz(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function zK(e){return new jK(e)}const UK=Bz.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at(e){return e=Ee.latLng(e),this.params.geometry=JSON.stringify({x:e.lng,y:e.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule(){return this.params.mosaicRule},getRenderingRule(){return this.params.renderingRule},getPixelSize(){return this.params.pixelSize},run(e,t){return this.request(function(i,r){e.call(t,i,r&&this._responseToGeoJSON(r),r)},this)},_responseToGeoJSON(e){const t=e.location,i=e.catalogItems,r=e.catalogItemVisibilities,n={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},crs:{type:"EPSG",properties:{code:t.spatialReference.wkid}},properties:{OBJECTID:e.objectId,name:e.name,value:e.value},id:e.objectId}};if(e.properties&&e.properties.Values&&(n.pixel.properties.values=e.properties.Values),i&&i.features&&(n.catalogItems=ix(i),r&&r.length===n.catalogItems.features.length))for(let s=r.length-1;s>=0;s--)n.catalogItems.features[s].properties.catalogItemVisibility=r[s];return n}});function FK(e){return new UK(e)}const PP=Ee.Evented.extend({options:{proxy:!1,useCors:ex,timeout:0},initialize(e){e=e||{},this._requestQueue=[],this._authenticating=!1,Ee.Util.setOptions(this,e),this.options.url=$P(this.options.url)},get(e,t,i,r){return this._request("get",e,t,i,r)},post(e,t,i,r){return this._request("post",e,t,i,r)},request(e,t,i,r){return this._request("request",e,t,i,r)},metadata(e,t){return this._request("get","",{},e,t)},authenticate(e){return this._authenticating=!1,this.options.token=e,this._runQueue(),this},getTimeout(){return this.options.timeout},setTimeout(e){this.options.timeout=e},_request(e,t,i,r,n){this.fire("requeststart",{url:this.options.url+t,params:i,method:e},!0);const s=this._createServiceCallback(e,t,i,r,n);if(this.options.token&&(i.token=this.options.token),this.options.requestParams&&Ee.Util.extend(i,this.options.requestParams),this._authenticating)this._requestQueue.push([e,t,i,r,n]);else{const a=this.options.proxy?`${this.options.proxy}?${this.options.url}${t}`:this.options.url+t;return(e==="get"||e==="request")&&!this.options.useCors?US.get.JSONP(a,i,s,n):US[e](a,i,s,n)}},_createServiceCallback(e,t,i,r,n){return Ee.Util.bind(function(s,a){s&&(s.code===499||s.code===498)&&(this._authenticating=!0,this._requestQueue.push([e,t,i,r,n]),this.fire("authenticationrequired",{authenticate:Ee.Util.bind(this.authenticate,this)},!0),s.authenticate=Ee.Util.bind(this.authenticate,this)),r.call(n,s,a),s?this.fire("requesterror",{url:this.options.url+t,params:i,message:s.message,code:s.code,method:e},!0):this.fire("requestsuccess",{url:this.options.url+t,params:i,response:a,method:e},!0),this.fire("requestend",{url:this.options.url+t,params:i,method:e},!0)},this)},_runQueue(){for(let e=this._requestQueue.length-1;e>=0;e--){const t=this._requestQueue[e],i=t.shift();this[i].apply(this,t)}this._requestQueue=[]}}),BK=PP.extend({identify(){return zK(this)},find(){return DK(this)},query(){return OP(this)}});function qz(e){return new BK(e)}const qK=PP.extend({query(){return OP(this)},identify(){return FK(this)}});function GK(e){return new qK(e)}const VK=PP.extend({options:{idAttribute:"OBJECTID"},query(){return OP(this)},addFeature(e,t,i){this.addFeatures(e,t,i)},addFeatures(e,t,i){const r=e.features?e.features:[e];for(let n=r.length-1;n>=0;n--)delete r[n].id;return e=FS(e),e=r.length>1?e:[e],this.post("addFeatures",{features:e},(n,s)=>{const a=s&&s.addResults?s.addResults.length>1?s.addResults:s.addResults[0]:void 0;t&&t.call(i,n||s.addResults[0].error,a)},i)},updateFeature(e,t,i){this.updateFeatures(e,t,i)},updateFeatures(e,t,i){const r=e.features?e.features:[e];return e=FS(e,this.options.idAttribute),e=r.length>1?e:[e],this.post("updateFeatures",{features:e},(n,s)=>{const a=s&&s.updateResults?s.updateResults.length>1?s.updateResults:s.updateResults[0]:void 0;t&&t.call(i,n||s.updateResults[0].error,a)},i)},deleteFeature(e,t,i){this.deleteFeatures(e,t,i)},deleteFeatures(e,t,i){return this.post("deleteFeatures",{objectIds:e},(r,n)=>{const s=n&&n.deleteResults?n.deleteResults.length>1?n.deleteResults:n.deleteResults[0]:void 0;t&&t.call(i,r||n.deleteResults[0].error,s)},i)}});function HK(e){return new VK(e)}const Pr=window.location.protocol!=="https:"?"http:":"https:",U5=Ee.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:`${Pr}//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:`${Pr}//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:vd?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:`${Pr}//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:`${Pr}//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:`${Pr}//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:`${Pr}//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize(e,t){let i;if(typeof e=="object"&&e.urlTemplate&&e.options)i=e;else if(typeof e=="string"&&U5.TILES[e])i=U5.TILES[e];else throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');const r=Ee.Util.extend(i.options,t);Ee.Util.setOptions(this,r),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&i.urlTemplate.indexOf("token=")===-1&&(i.urlTemplate+=`?token=${this.options.token}`),this.options.proxy&&(i.urlTemplate=`${this.options.proxy}?${i.urlTemplate}`),Ee.TileLayer.prototype.initialize.call(this,i.urlTemplate,r)},onAdd(e){nx(e),this.options.pane==="esri-labels"&&this._initPane(),this.options.attributionUrl&&kK((this.options.proxy?`${this.options.proxy}?`:"")+this.options.attributionUrl,e),e.on("moveend",q3),Ee.TileLayer.prototype.onAdd.call(this,e)},onRemove(e){sx(e),e.off("moveend",q3),Ee.TileLayer.prototype.onRemove.call(this,e)},_initPane(){if(!this._map.getPane(this.options.pane)){const e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex=500}},getAttribution(){let e;return this.options.attribution&&(e=`<span class="esri-dynamic-attribution">${this.options.attribution}</span>`),e}}),Gz=Ee.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize(e){e=Ee.Util.setOptions(this,e),e.apikey&&(e.token=e.apikey),e=rx(e),this.tileUrl=`${(e.proxy?`${e.proxy}?`:"")+e.url}tile/{z}/{y}/{x}${e.requestParams&&Object.keys(e.requestParams).length>0?Ee.Util.getParamString(e.requestParams):""}`,e.url.indexOf("{s}")!==-1&&e.subdomains&&(e.url=e.url.replace("{s}",e.subdomains[0])),this.service=qz(e),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(e.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),e.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+=`?token=${this.options.token}`),Ee.TileLayer.prototype.initialize.call(this,this.tileUrl,e)},getTileUrl(e){const t=this._getZoomForUrl();return Ee.Util.template(this.tileUrl,Ee.Util.extend({s:this._getSubdomain(e),x:e.x,y:e.y,z:this._lodMap&&this._lodMap[t]!==void 0?this._lodMap[t]:t},this.options))},createTile(e,t){const i=document.createElement("img");return Ee.DomEvent.on(i,"load",Ee.Util.bind(this._tileOnLoad,this,t,i)),Ee.DomEvent.on(i,"error",Ee.Util.bind(this._tileOnError,this,t,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",this._lodMap==="crs"||this._lodMap&&this._lodMap[this._getZoomForUrl()]!==void 0?i.src=this.getTileUrl(e):this.once("lodmap",function(){i.src=this.getTileUrl(e)},this),i},onAdd(e){nx(e),this._lodMap||this.metadata(function(t,i){if(!t&&i.spatialReference){const r=i.spatialReference.latestWkid||i.spatialReference.wkid;if(!this.options.attribution&&e.attributionControl&&i.copyrightText&&(this.options.attribution=i.copyrightText,e.attributionControl.addAttribution(this.getAttribution())),e.options.crs===Ee.CRS.EPSG3857&&(r===102100||r===3857)){this._lodMap={};const n=i.tileInfo.lods,s=Gz.MercatorZoomLevels;for(let a=0;a<n.length;a++){const u=n[a];for(const h in s){const f=s[h];if(this._withinPercentage(u.resolution,f,this.options.zoomOffsetAllowance)){this._lodMap[h]=u.level;break}}}this.fire("lodmap")}else e.options.crs&&e.options.crs.code&&e.options.crs.code.indexOf(r)>-1?(this._lodMap="crs",this.fire("lodmap")):xf("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/")}},this),Ee.TileLayer.prototype.onAdd.call(this,e)},onRemove(e){sx(e),Ee.TileLayer.prototype.onRemove.call(this,e)},metadata(e,t){return this.service.metadata(e,t),this},identify(){return this.service.identify()},find(){return this.service.find()},query(){return this.service.query()},authenticate(e){const t=`?token=${e}`;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=e,this.service.authenticate(e),this},_withinPercentage(e,t,i){return Math.abs(e/t-1)<i}});function F5(e,t){return new Gz(e,t)}const WK=Ee.ImageOverlay.extend({onAdd(e){this._topLeft=e.getPixelBounds().min,Ee.ImageOverlay.prototype.onAdd.call(this,e)},_reset(){this._map.options.crs===Ee.CRS.EPSG3857?Ee.ImageOverlay.prototype._reset.call(this):Ee.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),Vz=Ee.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:ex,attribution:null,interactive:!1,alt:""},onAdd(e){nx(e),this.options.zIndex&&(this.options.position=null),this._update=Ee.Util.throttle(this._update,this.options.updateInterval,this),e.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(t,i){!t&&!this.options.attribution&&e.attributionControl&&i.copyrightText&&(this.options.attribution=i.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove(e){sx(e),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup(e,t){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=Ee.popup(t),this._popupFunction=e,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex(e){return this.options.zIndex=e,this._currentImage&&this._currentImage.setZIndex(e),this},_setAutoZIndex(e){if(!this._currentImage)return;const t=this._currentImage.getPane().children;let i=-e(-1/0,1/0);for(let r=0,n=t.length,s;r<n;r++)s=t[r].style.zIndex,t[r]!==this._currentImage._image&&s&&(i=e(i,+s));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this.setZIndex(this.options.zIndex))},getAttribution(){return this.options.attribution},getOpacity(){return this.options.opacity},setOpacity(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getTimeRange(){return[this.options.from,this.options.to]},setTimeRange(e,t){return this.options.from=e,this.options.to=t,this._update(),this},metadata(e,t){return this.service.metadata(e,t),this},authenticate(e){return this.service.authenticate(e),this},redraw(){this._update()},_renderImage(e,t,i){if(this._map){if(i&&(e=`data:${i};base64,${e}`),!e)return;const r=new WK(e,t,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map);let n;const s=function(){this._map.removeLayer(r),this.fire("error"),r.off("load",n,this)};n=function(a){if(r.off("error",s,this),this._map){const u=a.target,h=this._currentImage;u._bounds.equals(t)&&u._bounds.equals(this._map.getBounds())?(this._currentImage=u,this.options.position==="front"?this.bringToFront():this.options.position==="back"&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),h&&this._map&&this._map.removeLayer(h),h&&h._map&&h._map.removeLayer(h)):this._map.removeLayer(u)}this.fire("load",{bounds:t})},r.once("error",s,this),r.once("load",n,this)}},_update(){if(!this._map)return;const e=this._map.getZoom(),t=this._map.getBounds();if(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress)return;if(e>this.options.maxZoom||e<this.options.minZoom){this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);return}const i=this._buildExportParams();Ee.Util.extend(i,this.options.requestParams),i?(this._requestExport(i,t),this.fire("loading",{bounds:t})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)},_renderPopup(e,t,i,r){if(e=Ee.latLng(e),this._shouldRenderPopup&&this._lastClick.equals(e)){const n=this._popupFunction(t,i,r);n&&this._popup.setLatLng(e).setContent(n).openOn(this._map)}},_resetPopupState(e){this._shouldRenderPopup=!1,this._lastClick=e.latlng},_calculateBbox(){const e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),i=this._map.unproject(e.getTopRight()),r=this._map.options.crs.project(i),n=this._map.options.crs.project(t),s=Ee.bounds(r,n);return[s.getBottomLeft().x,s.getBottomLeft().y,s.getTopRight().x,s.getTopRight().y].join(",")},_calculateImageSize(){const e=this._map.getPixelBounds(),t=this._map.getSize(),i=this._map.unproject(e.getBottomLeft()),r=this._map.unproject(e.getTopRight()),n=this._map.latLngToLayerPoint(r).y,s=this._map.latLngToLayerPoint(i).y;return(n>0||s<t.y)&&(t.y=s-n),`${t.x},${t.y}`}}),ZK=Vz.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query(){return this.service.query()},identify(){return this.service.identify()},initialize(e){e=rx(e),this.service=GK(e),this.service.addEventParent(this),Ee.Util.setOptions(this,e)},setPixelType(e){return this.options.pixelType=e,this._update(),this},getPixelType(){return this.options.pixelType},setBandIds(e){return Ee.Util.isArray(e)?this.options.bandIds=e.join(","):this.options.bandIds=e.toString(),this._update(),this},getBandIds(){return this.options.bandIds},setNoData(e,t){return Ee.Util.isArray(e)?this.options.noData=e.join(","):this.options.noData=e.toString(),t&&(this.options.noDataInterpretation=t),this._update(),this},getNoData(){return this.options.noData},getNoDataInterpretation(){return this.options.noDataInterpretation},setRenderingRule(e){this.options.renderingRule=e,this._update()},getRenderingRule(){return this.options.renderingRule},setMosaicRule(e){this.options.mosaicRule=e,this._update()},getMosaicRule(){return this.options.mosaicRule},_getPopupData(e){const t=Ee.Util.bind(function(r,n,s){r||setTimeout(Ee.Util.bind(function(){this._renderPopup(e.latlng,r,n,s)},this),300)},this),i=this.identify().at(e.latlng);this.options.mosaicRule&&i.setMosaicRule(this.options.mosaicRule),i.run(t),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams(){const e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};return this.options.from&&this.options.to&&(t.time=`${this.options.from.valueOf()},${this.options.to.valueOf()}`),this.options.pixelType&&(t.pixelType=this.options.pixelType),this.options.interpolation&&(t.interpolation=this.options.interpolation),this.options.compressionQuality&&(t.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(t.bandIds=this.options.bandIds),(this.options.noData===0||this.options.noData)&&(t.noData=this.options.noData),this.options.noDataInterpretation&&(t.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(t.token=this.service.options.token),this.options.renderingRule&&(t.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(t.mosaicRule=JSON.stringify(this.options.mosaicRule)),t},_requestExport(e,t){if(this.options.f==="json")this.service.request("exportImage",e,function(i,r){i||(this.options.token&&(r.href+=`?token=${this.options.token}`),this.options.proxy&&(r.href=`${this.options.proxy}?${r.href}`),this._renderImage(r.href,t))},this);else{e.f="image";let i=`${this.options.url}exportImage${Ee.Util.getParamString(e)}`;this.options.proxy&&(i=`${this.options.proxy}?${i}`),this._renderImage(i,t)}}});function YK(e,t){return new ZK(e,t)}Vz.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize(e){e=rx(e),this.service=qz(e),this.service.addEventParent(this),Ee.Util.setOptions(this,e)},getDynamicLayers(){return this.options.dynamicLayers},setDynamicLayers(e){return this.options.dynamicLayers=e,this._update(),this},getLayers(){return this.options.layers},setLayers(e){return this.options.layers=e,this._update(),this},getLayerDefs(){return this.options.layerDefs},setLayerDefs(e){return this.options.layerDefs=e,this._update(),this},getTimeOptions(){return this.options.timeOptions},setTimeOptions(e){return this.options.timeOptions=e,this._update(),this},query(){return this.service.query()},identify(){return this.service.identify()},find(){return this.service.find()},_getPopupData(e){const t=Ee.Util.bind(function(r,n,s){r||setTimeout(Ee.Util.bind(function(){this._renderPopup(e.latlng,r,n,s)},this),300)},this);let i;if(this.options.popup?i=this.options.popup.on(this._map).at(e.latlng):i=this.identify().on(this._map).at(e.latlng),i.params.maxAllowableOffset||i.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?i.layers(`visible:${this.options.layers.join(",")}`):i.layers("visible")),this.options.layerDefs&&typeof this.options.layerDefs!="string"&&!i.params.layerDefs)for(const r in this.options.layerDefs)Object.hasOwn(this.options.layerDefs,r)&&i.layerDef(r,this.options.layerDefs[r]);i.run(t),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams(){const e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};if(this.options.dynamicLayers&&(t.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(this.options.layers.length===0)return;t.layers=`show:${this.options.layers.join(",")}`}return this.options.layerDefs&&(t.layerDefs=typeof this.options.layerDefs=="string"?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(t.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(t.time=`${this.options.from.valueOf()},${this.options.to.valueOf()}`),this.service.options.token&&(t.token=this.service.options.token),this.options.proxy&&(t.proxy=this.options.proxy),this.options.disableCache&&(t._ts=Date.now()),t},_requestExport(e,t){if(this.options.f==="json")this.service.request("export",e,function(i,r){i||(this.options.token&&r.href&&(r.href+=`?token=${this.options.token}`),this.options.proxy&&r.href&&(r.href=`${this.options.proxy}?${r.href}`),r.href?this._renderImage(r.href,t):this._renderImage(r.imageData,t,r.contentType))},this);else{e.f="image";let i=`${this.options.url}export${Ee.Util.getParamString(e)}`;this.options.proxy&&(i=`${this.options.proxy}?${i}`),this._renderImage(i,t)}}});const Dw=Ee.Layer.extend({options:{cellSize:512,updateWhenIdle:Ee.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize(e){Ee.Util.setOptions(this,e)},onAdd(){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove(){this._removeAllCells(),this._cellZoom=void 0},isLoading(){return this._loading},redraw(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents(){const e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ee.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),e},createCell(){return document.createElement("div")},removeCell(){},reuseCell(){},cellLeave(){},cellEnter(){},getCellSize(){const e=this.options.cellSize;return e instanceof Ee.Point?e:new Ee.Point(e,e)},_pruneCells(){if(!this._map)return;let e,t;for(e in this._cells)t=this._cells[e],t.retain=t.current;for(e in this._cells)if(t=this._cells[e],t.current&&!t.active){const i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._cells)this._cells[e].retain||this._removeCell(e)},_removeAllCells(){for(const e in this._cells)this._removeCell(e)},_invalidateAll(){this._removeAllCells(),this._cellZoom=void 0},_retainParent(e,t,i,r){const n=Math.floor(e/2),s=Math.floor(t/2),a=i-1,u=new Ee.Point(+n,+s);u.z=+a;const h=this._cellCoordsToKey(u),f=this._cells[h];return f&&f.active?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),a>r?this._retainParent(n,s,a,r):!1)},_retainChildren(e,t,i,r){for(let n=2*e;n<2*e+2;n++)for(let s=2*t;s<2*t+2;s++){const a=new Ee.Point(n,s);a.z=i+1;const u=this._cellCoordsToKey(a),h=this._cells[u];if(h&&h.active){h.retain=!0;continue}else h&&h.loaded&&(h.retain=!0);i+1<r&&this._retainChildren(n,s,i+1,r)}},_resetView(e){const t=e&&(e.pinch||e.flyTo);t||this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_setView(e,t,i,r){const n=Math.round(t);r||(this._cellZoom=n,this._abortLoading&&this._abortLoading(),this._resetGrid(),n!==void 0&&this._update(e),i||this._pruneCells(),this._noPrune=!!i)},_resetGrid(){const e=this._map,t=e.options.crs,i=this._cellSize=this.getCellSize(),r=this._cellZoom,n=this._map.getPixelWorldBounds(this._cellZoom);n&&(this._globalCellRange=this._pxBoundsToCellRange(n)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/i.y)]},_onMoveEnd(e){e&&(e.pinch||e.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds(e){const t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(i,this._cellZoom),n=t.project(e,this._cellZoom).floor(),s=t.getSize().divideBy(r*2);return new Ee.Bounds(n.subtract(s),n.add(s))},_update(e){const t=this._map;if(!t)return;const i=Math.round(t.getZoom());e===void 0&&(e=t.getCenter());const r=this._getCelldPixelBounds(e),n=this._pxBoundsToCellRange(r),s=n.getCenter(),a=[],u=this.options.keepBuffer,h=new Ee.Bounds(n.getBottomLeft().subtract([u,-u]),n.getTopRight().add([u,-u]));if(!(isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.max.x)&&isFinite(n.max.y)))throw new Error("Attempted to load an infinite number of cells");for(const f in this._cells){const v=this._cells[f].coords;(v.z!==this._cellZoom||!h.contains(new Ee.Point(v.x,v.y)))&&(this._cells[f].current=!1)}if(Math.abs(i-this._cellZoom)>1){this._setView(e,i);return}for(let f=n.min.y;f<=n.max.y;f++)for(let v=n.min.x;v<=n.max.x;v++){const w=new Ee.Point(v,f);if(w.z=this._cellZoom,!this._isValidCell(w))continue;const x=this._cells[this._cellCoordsToKey(w)];x?x.current=!0:a.push(w)}if(a.sort((f,v)=>f.distanceTo(s)-v.distanceTo(s)),a.length!==0){this._loading||(this._loading=!0);for(let f=0;f<a.length;f++){const v=this._cellCoordsToKey(a[f]),w=this._keyToCellCoords(v);this._activeCells[w]?this._reuseCell(a[f]):this._createCell(a[f])}}},_isValidCell(e){const t=this._map.options.crs;if(!t.infinite){const r=this._globalCellRange;if(!t.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!t.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;const i=this._cellCoordsToBounds(e);return Ee.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds(e){return this._cellCoordsToBounds(this._keyToCellCoords(e))},_cellCoordsToNwSe(e){const t=this._map,i=this.getCellSize(),r=e.scaleBy(i),n=r.add(i),s=t.unproject(r,e.z),a=t.unproject(n,e.z);return[s,a]},_cellCoordsToBounds(e){const t=this._cellCoordsToNwSe(e);let i=new Ee.LatLngBounds(t[0],t[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_cellCoordsToKey(e){return`${e.x}:${e.y}:${e.z}`},_keyToCellCoords(e){const t=e.split(":"),i=new Ee.Point(+t[0],+t[1]);return i.z=+t[2],i},_removeCell(e){const t=this._cells[e];if(!t)return;const i=this._keyToCellCoords(e),r=this._wrapCoords(i),n=this._cellCoordsToBounds(this._wrapCoords(i));t.current=!1,delete this._cells[e],this._activeCells[e]=t,this.cellLeave(n,r,e),this.fire("cellleave",{key:e,coords:r,bounds:n})},_reuseCell(e){const t=this._cellCoordsToKey(e);this._cells[t]=this._activeCells[t],this._cells[t].current=!0;const i=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.cellEnter(r,i,t),this.fire("cellenter",{key:t,coords:i,bounds:r})},_createCell(e){const t=this._cellCoordsToKey(e),i=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.createCell(r,i,t),this.fire("cellcreate",{key:t,coords:i,bounds:r}),this._cells[t]={coords:e,current:!0},Ee.Util.requestAnimFrame(this._pruneCells,this)},_cellReady(e,t,i){const r=this._cellCoordsToKey(e);i=this._cells[r],i&&(i.loaded=+new Date,i.active=!0)},_getCellPos(e){return e.scaleBy(this.getCellSize())},_wrapCoords(e){const t=new Ee.Point(this._wrapX?Ee.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?Ee.Util.wrapNum(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToCellRange(e){const t=this.getCellSize();return new Ee.Bounds(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))}});function Ru(e){this.values=[].concat(e||[])}Ru.prototype.query=function(e){var t=this.getIndex(e);return this.values[t]};Ru.prototype.getIndex=function(t){this.dirty&&this.sort();for(var i=0,r=this.values.length-1,n,s;i<=r;)if(n=(i+r)/2|0,s=this.values[Math.round(n)],+s.value<+t)i=n+1;else if(+s.value>+t)r=n-1;else return n;return Math.abs(~r)};Ru.prototype.between=function(t,i){var r=this.getIndex(t),n=this.getIndex(i);if(r===0&&n===0)return[];for(;this.values[r-1]&&this.values[r-1].value===t;)r--;for(;this.values[n+1]&&this.values[n+1].value===i;)n++;return this.values[n]&&this.values[n].value===i&&this.values[n+1]&&n++,this.values.slice(r,n)};Ru.prototype.insert=function(t){return this.values.splice(this.getIndex(t.value),0,t),this};Ru.prototype.bulkAdd=function(t,i){return this.values=this.values.concat([].concat(t||[])),i?this.sort():this.dirty=!0,this};Ru.prototype.sort=function(){return this.values.sort(function(t,i){return+i.value-+t.value}).reverse(),this.dirty=!1,this};const gE=Dw.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize(e){if(Dw.prototype.initialize.call(this,e),e=rx(e),e=Ee.Util.setOptions(this,e),this.service=HK(e),this.service.addEventParent(this),this.options.fields[0]!=="*"){let t=!1;for(let i=0;i<this.options.fields.length;i++)this.options.fields[i].match(/^(OBJECTID|FID|OID|ID)$/i)&&(t=!0);t===!1&&xf("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Ru,this._endTimeIndex=new Ru):this.options.timeField&&(this._timeIndex=new Ru),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd(e){return nx(e),this.service.metadata(function(t,i){if(!t){const r=i.supportedQueryFormats;let n=!1;(this.service.options.isModern===!1||this.options.fetchAllFeatures)&&(n=!0),!n&&r&&r.indexOf("geoJSON")!==-1&&(this.service.options.isModern=!0),i.objectIdField&&(this.service.options.idAttribute=i.objectIdField),!this.options.attribution&&e.attributionControl&&i.copyrightText&&(this.options.attribution=i.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}},this),e.on("zoomend",this._handleZoomChange,this),Dw.prototype.onAdd.call(this,e)},onRemove(e){return sx(e),e.off("zoomend",this._handleZoomChange,this),Dw.prototype.onRemove.call(this,e)},getAttribution(){return this.options.attribution},createCell(e,t){this._visibleZoom()&&this._requestFeatures(e,t)},_requestFeatures(e,t,i,r){this._activeRequests++,r=r||0;const n=this.options.where;return this._activeRequests===1&&this.fire("loading",{bounds:e},!0),this._buildQuery(e,r).run(function(s,a,u){u&&u.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===n&&(!s&&a&&a.features.length&&Ee.Util.requestAnimFrame(Ee.Util.bind(function(){this._addFeatures(a.features,t),this._postProcessFeatures(e)},this)),!s&&a&&!a.features.length&&this._postProcessFeatures(e),s&&this._postProcessFeatures(e),i&&i.call(this,s,a),u&&(u.exceededTransferLimit||u.properties&&u.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(e,t,i,r+a.features.length))},this)},_postProcessFeatures(e){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:e})},_cacheKey(e){return`${e.z}:${e.x}:${e.y}`},_addFeatures(e,t){let i;t&&(i=this._cacheKey(t),this._cache[i]=this._cache[i]||[]);for(let r=e.length-1;r>=0;r--){const n=e[r].id;this._currentSnapshot.indexOf(n)===-1&&this._currentSnapshot.push(n),typeof i<"u"&&this._cache[i].indexOf(n)===-1&&this._cache[i].push(n)}this.options.timeField&&this._buildTimeIndexes(e),this.createLayers(e)},_buildQuery(e,t){let i=this.service.query().intersects(e).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(t))&&(i=i.offset(t)),i.params.resultType="tile",this.options.requestParams&&Ee.Util.extend(i.params,this.options.requestParams),this.options.simplifyFactor&&i.simplify(this._map,this.options.simplifyFactor),this.options.timeFilterMode==="server"&&this.options.from&&this.options.to&&i.between(this.options.from,this.options.to),i},setWhere(e,t,i){this.options.where=e&&e.length?e:"1=1";const r=[],n=[];let s=0,a=null;const u=Ee.Util.bind(function(h,f){if(h&&(a=h),f)for(let v=f.features.length-1;v>=0;v--)n.push(f.features[v].id);s--,s<=0&&this._visibleZoom()&&e===this.options.where&&(this._currentSnapshot=n,Ee.Util.requestAnimFrame(Ee.Util.bind(function(){this.removeLayers(r),this.addLayers(n),t&&t.call(i,a)},this)))},this);for(let h=this._currentSnapshot.length-1;h>=0;h--)r.push(this._currentSnapshot[h]);this._cache={};for(const h in this._cells){s++;const f=this._keyToCellCoords(h),v=this._cellCoordsToBounds(f);this._requestFeatures(v,f,u)}return this},getWhere(){return this.options.where},getTimeRange(){return[this.options.from,this.options.to]},setTimeRange(e,t,i,r){const n=this.options.from,s=this.options.to;let a=0,u=null;const h=Ee.Util.bind(function(f){f&&(u=f),this._filterExistingFeatures(n,s,e,t),a--,i&&a<=0&&i.call(r,u)},this);if(this.options.from=e,this.options.to=t,this._filterExistingFeatures(n,s,e,t),this.options.timeFilterMode==="server")for(const f in this._cells){a++;const v=this._keyToCellCoords(f),w=this._cellCoordsToBounds(v);this._requestFeatures(w,v,h)}return this},refresh(){this.setWhere(this.options.where)},_filterExistingFeatures(e,t,i,r){const n=e&&t?this._getFeaturesInTimeRange(e,t):this._currentSnapshot,s=this._getFeaturesInTimeRange(i,r);if(s.indexOf)for(let a=0;a<s.length;a++){const u=n.indexOf(s[a]);u>=0&&n.splice(u,1)}Ee.Util.requestAnimFrame(Ee.Util.bind(function(){this.removeLayers(n),this.addLayers(s)},this))},_getFeaturesInTimeRange(e,t){const i=[];let r;if(this.options.timeField.start&&this.options.timeField.end){const n=this._startTimeIndex.between(e,t),s=this._endTimeIndex.between(e,t);r=n.concat(s)}else if(this._timeIndex)r=this._timeIndex.between(e,t);else return xf("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];for(let n=r.length-1;n>=0;n--)i.push(r[n].id);return i},_buildTimeIndexes(e){let t,i;if(this.options.timeField.start&&this.options.timeField.end){const r=[],n=[];for(t=e.length-1;t>=0;t--)i=e[t],r.push({id:i.id,value:new Date(i.properties[this.options.timeField.start])}),n.push({id:i.id,value:new Date(i.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r),this._endTimeIndex.bulkAdd(n)}else{const r=[];for(t=e.length-1;t>=0;t--)i=e[t],r.push({id:i.id,value:new Date(i.properties[this.options.timeField])});this._timeIndex.bulkAdd(r)}},_featureWithinTimeRange(e){if(!this.options.from||!this.options.to)return!0;const t=+this.options.from.valueOf(),i=+this.options.to.valueOf();if(typeof this.options.timeField=="string"){const r=+e.properties[this.options.timeField];return r>=t&&r<=i}if(this.options.timeField.start&&this.options.timeField.end){const r=+e.properties[this.options.timeField.start],n=+e.properties[this.options.timeField.end];return r>=t&&r<=i||n>=t&&n<=i||r<=t&&n>=i}},_visibleZoom(){if(!this._map)return!1;const e=this._map.getZoom();return!(e>this.options.maxZoom||e<this.options.minZoom)},_handleZoomChange(){if(!this._visibleZoom())this.removeLayers(this._currentSnapshot),this._currentSnapshot=[];else for(const e in this._cells){const t=this._cells[e].coords,i=this._cacheKey(t);this._cache[i]&&this.addLayers(this._cache[i])}},authenticate(e){return this.service.authenticate(e),this},metadata(e,t){return this.service.metadata(e,t),this},query(){return this.service.query()},_getMetadata(e){this._metadata?e(void 0,this._metadata):this.metadata(Ee.Util.bind(function(t,i){this._metadata=i,e(t,this._metadata)},this))},addFeature(e,t,i){this.addFeatures(e,t,i)},addFeatures(e,t,i){this._getMetadata(Ee.Util.bind(function(r,n){if(r){t&&t.call(this,r,null);return}const s=e.features?e.features:[e];this.service.addFeatures(e,Ee.Util.bind(function(a,u){if(!a){for(let h=s.length-1;h>=0;h--)s[h].properties[n.objectIdField]=s.length>1?u[h].objectId:u.objectId,s[h].id=s.length>1?u[h].objectId:u.objectId;this._addFeatures(s)}t&&t.call(i,a,u)},this))},this))},updateFeature(e,t,i){this.updateFeatures(e,t,i)},updateFeatures(e,t,i){const r=e.features?e.features:[e];this.service.updateFeatures(e,function(n,s){if(!n){for(let a=r.length-1;a>=0;a--)this.removeLayers([r[a].id],!0);this._addFeatures(r)}t&&t.call(i,n,s)},this)},deleteFeature(e,t,i){this.deleteFeatures(e,t,i)},deleteFeatures(e,t,i){return this.service.deleteFeatures(e,function(r,n){const s=n.length?n:[n];if(!r&&s.length>0)for(let a=s.length-1;a>=0;a--)this.removeLayers([s[a].objectId],!0);t&&t.call(i,r,n)},this)}}),JK=gE.extend({options:{cacheLayers:!0},initialize(e){e.apikey&&(e.token=e.apikey),gE.prototype.initialize.call(this,e),this._originalStyle=this.options.style,this._layers={}},onRemove(e){for(const t in this._layers)e.removeLayer(this._layers[t]),this.fire("removefeature",{feature:this._layers[t].feature,permanent:!1},!0);return gE.prototype.onRemove.call(this,e)},createNewLayer(e){const t=Ee.GeoJSON.geometryToLayer(e,this.options);return t&&(t.defaultOptions=t.options),t},_updateLayer(e,t){let i=[];const r=this.options.coordsToLatLng||Ee.GeoJSON.coordsToLatLng;switch(t.properties&&(e.feature.properties=t.properties),t.geometry.type){case"Point":i=Ee.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(i);break;case"LineString":i=Ee.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0,r),e.setLatLngs(i);break;case"MultiLineString":i=Ee.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1,r),e.setLatLngs(i);break;case"Polygon":i=Ee.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1,r),e.setLatLngs(i);break;case"MultiPolygon":i=Ee.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2,r),e.setLatLngs(i);break}this.redraw(e.feature.id)},createLayers(e){for(let t=e.length-1;t>=0;t--){const i=e[t],r=this._layers[i.id];let n;this._visibleZoom()&&r&&!this._map.hasLayer(r)&&(!this.options.timeField||this._featureWithinTimeRange(i))&&(this._map.addLayer(r),this.fire("addfeature",{feature:r.feature},!0)),r&&(r.setLatLngs||r.setLatLng)&&this._updateLayer(r,i),r||(n=this.createNewLayer(i),n?(n.feature=i,n.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(n.feature,n),this._layers[n.feature.id]=n,this.setFeatureStyle(n.feature.id,this.options.style),this.fire("createfeature",{feature:n.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(i))&&this._map.addLayer(n)):xf("invalid GeoJSON encountered"))}},addLayers(e){for(let t=e.length-1;t>=0;t--){const i=this._layers[e[t]];i&&(!this.options.timeField||this._featureWithinTimeRange(i.feature))&&(this._map.addLayer(i),this.fire("addfeature",{feature:i.feature},!0))}},removeLayers(e,t){for(let i=e.length-1;i>=0;i--){const r=e[i],n=this._layers[r];n&&(this.fire("removefeature",{feature:n.feature,permanent:t},!0),this._map.removeLayer(n)),n&&t&&delete this._layers[r]}},cellEnter(e,t){this._visibleZoom()&&!this._zooming&&this._map&&Ee.Util.requestAnimFrame(Ee.Util.bind(function(){const i=this._cacheKey(t),r=this._cellCoordsToKey(t),n=this._cache[i];this._activeCells[r]&&n&&this.addLayers(n)},this))},cellLeave(e,t){this._zooming||Ee.Util.requestAnimFrame(Ee.Util.bind(function(){if(this._map){const i=this._cacheKey(t),r=this._cellCoordsToKey(t),n=this._cache[i],s=this._map.getBounds();if(!this._activeCells[r]&&n){let a=!0;for(let u=0;u<n.length;u++){const h=this._layers[n[u]];h&&h.getBounds&&s.intersects(h.getBounds())&&(a=!1)}a&&this.removeLayers(n,!this.options.cacheLayers),!this.options.cacheLayers&&a&&(delete this._cache[i],delete this._cells[r],delete this._activeCells[r])}}},this))},resetStyle(){return this.options.style=this._originalStyle,this.eachFeature(function(e){this.resetFeatureStyle(e.feature.id)},this),this},setStyle(e){return this.options.style=e,this.eachFeature(function(t){this.setFeatureStyle(t.feature.id,e)},this),this},resetFeatureStyle(e){const t=this._layers[e],i=this._originalStyle||Ee.Path.prototype.options;return t&&(Ee.Util.extend(t.options,t.defaultOptions),this.setFeatureStyle(e,i)),this},setFeatureStyle(e,t){const i=this._layers[e];return typeof t=="function"&&(t=t(i.feature)),i.setStyle&&i.setStyle(t),this},eachActiveFeature(e,t){if(this._map){const i=this._map.getBounds();for(const r in this._layers)this._currentSnapshot.indexOf(this._layers[r].feature.id)!==-1&&(typeof this._layers[r].getLatLng=="function"&&i.contains(this._layers[r].getLatLng())?e.call(t,this._layers[r]):typeof this._layers[r].getBounds=="function"&&i.intersects(this._layers[r].getBounds())&&e.call(t,this._layers[r]))}return this},eachFeature(e,t){for(const i in this._layers)e.call(t,this._layers[i]);return this},getFeature(e){return this._layers[e]},bringToBack(){this.eachFeature(e=>{e.bringToBack&&e.bringToBack()})},bringToFront(){this.eachFeature(e=>{e.bringToFront&&e.bringToFront()})},redraw(e){return e&&this._redraw(e),this},_redraw(e){const t=this._layers[e],i=t.feature;if(t&&t.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){const n=this.options.pointToLayer(i,Ee.latLng(i.geometry.coordinates[1],i.geometry.coordinates[0])).options.icon;t.setIcon(n)}if(t&&t.setStyle&&this.options.pointToLayer){const n=this.options.pointToLayer(i,Ee.latLng(i.geometry.coordinates[1],i.geometry.coordinates[0])).options;this.setFeatureStyle(i.id,n)}t&&t.setStyle&&this.options.style&&this.resetFeatureStyle(i.id)},openPopup(e){return this._popup&&this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map),this},openTooltip(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this}});function XK(e){return new JK(e)}const KK=({station:e})=>{if(!e)return null;const t=e.soil_saturation,i=e.last_updated,r=e.city,n=e.precipitation;return D.jsx(Lz,{children:D.jsx("div",{className:"custom-popup-content",children:D.jsxs("div",{className:"info roboto-condensed",children:[D.jsx("h2",{className:"bebas-neue",style:{marginBottom:"8px"},children:r}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Last Updated:"})," ",i," AST"]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Soil Saturation:"})," ",t,"%"]}),D.jsxs("li",{children:[D.jsx("strong",{children:"12 HRS Precipitation:"})," ",n," inches"]})]})]})})})},QK=({landslide:e})=>{if(!e)return null;const t=e.landslide_id,i=e.landslide_date,r=e.latitude,n=e.longitude;return D.jsx(Lz,{children:D.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:D.jsx("div",{className:"custom-popup-content",children:D.jsxs("div",{className:"info roboto-condensed text-gray-800",children:[D.jsx("h2",{className:"bebas-neue text-lg font-bold text-red-700",style:{marginBottom:"8px"},children:"Reported Landslide Event"}),D.jsxs("ul",{className:"list-none p-0 m-0 space-y-1 text-sm",children:[D.jsxs("li",{children:[D.jsx("strong",{className:"font-semibold",children:"ID:"})," ",t]}),D.jsxs("li",{children:[D.jsx("strong",{className:"font-semibold",children:"Reported Date:"})," ",i]}),D.jsxs("li",{children:[D.jsx("strong",{className:"font-semibold",children:"Latitude:"})," ",r]}),D.jsxs("li",{children:[D.jsx("strong",{className:"font-semibold",children:"Longitude:"})," ",n]})]})]})})})})},eQ=""+new URL("green-location-pin-DXVxXdDv.png",import.meta.url).href,tQ=""+new URL("layers-icon-DKvk4b4Z.png",import.meta.url).href,iQ=""+new URL("history-icon-CuVu8kI_.png",import.meta.url).href;function rQ({showStations:e,onToggleStations:t,showPrecip:i,onTogglePrecip:r,showSusceptibility:n,onToggleSusceptibility:s,availableYears:a,selectedYear:u,onYearChange:h}){const[f,v]=oe.useState(null),w=()=>{v(M=>M==="layers"?null:"layers")},x=()=>{v(M=>M==="history"?null:"history")};return D.jsxs("div",{className:`map-menu ${f?"expanded":""}`,children:[D.jsxs("div",{className:"menu-row",children:[D.jsx("button",{className:`icon-btn ${f==="layers"?"active":""}`,onClick:w,title:"Layers",children:D.jsx("img",{src:tQ,alt:"Layers",className:"menu-icon"})}),D.jsx("button",{className:`icon-btn ${f==="history"?"active":""}`,onClick:x,title:"History",children:D.jsx("img",{src:iQ,alt:"History",className:"menu-icon"})})]}),f==="layers"&&D.jsxs("div",{className:"filters",children:[D.jsxs("label",{children:[D.jsx("input",{type:"checkbox",checked:e,onChange:t}),"Stations"]}),D.jsxs("label",{children:[D.jsx("input",{type:"checkbox",checked:i,onChange:r}),"Precipitation Layer"]}),D.jsxs("label",{children:[D.jsx("input",{type:"checkbox",checked:n,onChange:s}),"Susceptibility Layer"]})]}),f==="history"&&D.jsxs("div",{className:"filters",children:[D.jsx("div",{className:"filter-title",children:"Filter Landslides by Year"}),D.jsxs("label",{children:[D.jsx("input",{type:"checkbox",checked:u==="all",onChange:()=>h(u==="all"?"":"all")}),"All Years"]}),a.map(M=>D.jsxs("label",{children:[D.jsx("input",{type:"checkbox",checked:u===String(M),onChange:()=>h(u===String(M)?"all":String(M))}),M]},M))]})]})}const nQ="https://derrumbe-test.derrumbe.net/api/stations",sQ="https://derrumbe-test.derrumbe.net/api/landslides",oQ=({onAgree:e})=>D.jsx("div",{className:"disclaimer-overlay",children:D.jsxs("div",{className:"disclaimer-box",children:[D.jsx("h2",{children:"Aviso | Disclaimer"}),D.jsxs("p",{children:[D.jsx("strong",{children:"EN:"})," The data presented on this platform is experimental. The Puerto Rico Landslide Hazard Mitigation Office is not responsible for the decisions taken after utilizing our data. By proceeding, you acknowledge and accept this disclaimer."]}),D.jsxs("p",{children:[D.jsx("strong",{children:"ES:"})," Los datos presentados en esta plataforma son experimentales. La Oficina de Mitigacin ante Deslizamientos de Puerto Rico no se hace responsable de las decisiones tomadas utilizando nuestra informacin. Al continuar, usted reconoce y acepta este aviso."]}),D.jsx("button",{onClick:e,children:"Acepto | Agree"})]})}),aQ=({showPrecip:e,showSusceptibility:t})=>{const i=dK();return oe.useEffect(()=>{const r=F5({url:"https://tiles.arcgis.com/tiles/TQ9qkk0dURXSP7LQ/arcgis/rest/services/Hillshade_Puerto_Rico/MapServer",opacity:.5}).addTo(i),n=XK({url:"https://services5.arcgis.com/TQ9qkk0dURXSP7LQ/arcgis/rest/services/LIMITES_LEGALES_MUNICIPIOS/FeatureServer/0",style:()=>({color:"black",weight:1,fillOpacity:0})}).addTo(i);return()=>{i.removeLayer(r),i.removeLayer(n)}},[i]),oe.useEffect(()=>{let r;return e&&(r=YK({url:"https://mapservices.weather.noaa.gov/raster/rest/services/obs/mrms_qpe/ImageServer",opacity:.5,renderingRule:{rasterFunction:"rft_12hr"}}).addTo(i)),()=>{r&&i.removeLayer(r)}},[i,e]),oe.useEffect(()=>{let r;return t&&(r=F5({url:"https://tiles.arcgis.com/tiles/TQ9qkk0dURXSP7LQ/arcgis/rest/services/Susceptibilidad_Derrumbe_PR/MapServer",opacity:.5}).addTo(i)),()=>{r&&i.removeLayer(r)}},[i,t]),null},lQ=()=>{const[e,t]=oe.useState([]);oe.useEffect(()=>{fetch(nQ).then(r=>{if(!r.ok)throw new Error(`Error: ${r.status} ${r.statusText}`);return r.json()}).then(r=>{t(r)}).catch(r=>{console.error("API Fetch Error:",r)})},[]);const i=r=>{let n="saturation-marker";r>=90?n+=" high":r>=80?n+=" medium":n+=" low";const s=Math.round(r);return Pz.divIcon({html:`<div class="${n}">${s}%</div>`,className:"",iconSize:[55,30],iconAnchor:[27,15]})};return D.jsx(D.Fragment,{children:e.map(r=>{if(r.is_available===1&&r.soil_saturation!=null){const n=i(r.soil_saturation);return D.jsx(Rz,{position:[r.latitude,r.longitude],icon:n,children:D.jsx(KK,{station:r})},r.id)}return null})})},uQ=()=>Pz.icon({iconUrl:eQ,iconSize:[30,40],iconAnchor:[15,30],popupAnchor:[0,-10]}),cQ=({selectedYear:e,setAvailableYears:t})=>{const[i,r]=oe.useState([]),n=uQ();oe.useEffect(()=>{fetch(sQ).then(a=>{if(!a.ok)throw new Error(`Error: ${a.status} ${a.statusText}`);return a.json()}).then(a=>{r(a);const u=a.map(f=>f.landslide_date?new Date(f.landslide_date).getFullYear():null),h=[...new Set(u)].filter(f=>!isNaN(f)&&f!==null).sort((f,v)=>v-f);t(h)}).catch(a=>{console.error("API Fetch Error:",a)})},[t]);const s=i.filter(a=>e==="all"?!0:a.landslide_date?new Date(a.landslide_date).getFullYear()===parseInt(e):!1);return D.jsx(D.Fragment,{children:s.map(a=>D.jsx(Rz,{position:[a.latitude,a.longitude],icon:n,children:D.jsx(QK,{landslide:a})},a.landslide_id))})},hQ=()=>D.jsxs("div",{className:"legend-container",children:[D.jsxs("div",{className:"legend-item",children:[D.jsx("span",{className:"saturation-marker low"}),D.jsx("p",{children:" 0-80% "})]}),D.jsxs("div",{className:"legend-item",children:[D.jsx("span",{className:"saturation-marker medium"}),D.jsx("p",{children:"80-90%"})]}),D.jsxs("div",{className:"legend-item",children:[D.jsx("span",{className:"saturation-marker high"}),D.jsx("p",{children:"90-100%"})]})]});function dQ(){const e=[18.220833,-66.420149],[t,i]=oe.useState(!0),[r,n]=oe.useState("2025"),[s,a]=oe.useState([]),[u,h]=oe.useState(!0),[f,v]=oe.useState(!1),[w,x]=oe.useState(localStorage.getItem("disclaimerAccepted")!=="true"),M=()=>{localStorage.setItem("disclaimerAccepted","true"),x(!1)},P=()=>i(G=>!G),O=()=>h(G=>!G),F=()=>v(G=>!G);return D.jsxs("main",{children:[w&&D.jsx(oQ,{onAgree:M}),D.jsx("div",{className:"map-label",children:"SOIL SATURATION PERCENTAGE"}),D.jsxs(pK,{id:"map",center:e,zoom:10,minZoom:7,maxZoom:18,scrollWheelZoom:!1,zoomControl:!1,style:{height:"100vh",width:"100%"},children:[D.jsx(mK,{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),D.jsx(rQ,{showStations:t,onToggleStations:P,showPrecip:u,onTogglePrecip:O,showSusceptibility:f,onToggleSusceptibility:F,availableYears:s,selectedYear:r,onYearChange:n,setAvailableYears:a}),D.jsx(aQ,{showPrecip:u,showSusceptibility:f}),D.jsx(gK,{position:"topright"}),t&&D.jsx(lQ,{}),D.jsx(cQ,{selectedYear:r,setAvailableYears:a}),D.jsx(hQ,{}),D.jsx("div",{className:"logo-container",children:D.jsx("img",{src:Gg,alt:"Landslide Hazard Mitigation Logo",className:"landslide-logo"})})]})]})}const fQ=""+new URL("ECOEXPLORATORIO_LOGO-B4lNKpre.svg",import.meta.url).href,pQ=""+new URL("landslideready_module-Dh-UlIBk.webp",import.meta.url).href;function mQ(){return D.jsxs("div",{className:"landslideReadyIndividuos",children:[D.jsx("h2",{className:"landslideReadyIndividuos__header",children:"LandslideReady para Individuos"}),D.jsxs("div",{className:"landslideReadyIndividuos__content",children:[D.jsxs("div",{className:"landslideReadyIndividuos__text",children:[D.jsx("p",{children:"El Ecoexploratorio Instituto de Resiliencia cuenta con unos mdulos gratuitos con los cuales podrn aprender sobre deslizamientos de tierra. Estos mdulos incluyen enseanzas tales como qu son deslizamientos de tierra y cmo se pueden mitigar."}),D.jsx("p",{children:"Este mdulo est bajo el nombre de LANDS101: LandslideReady/Deslizamientos de tierra en P.R. Estos mdulos cuentan como 4 horas de contacto verde y el curso tiene una duracin promedio de 5 horas en total."})]}),D.jsx("div",{className:"landslideReadyIndividuos__logo",children:D.jsx("a",{href:"https://ecoexploratorio.org/eri/cursos/",target:"_blank",rel:"noopener noreferrer",children:D.jsx("img",{src:fQ,alt:"Ecoexploratorio Logo"})})})]}),D.jsx("a",{className:"landslideReadyIndividuos__button",href:"https://ecoexploratorio.org/eri/cursos/#1742922273665-a07cced4-5bd4",target:"_blank",rel:"noopener noreferrer",children:"Accede los Cursos"}),D.jsx("h3",{className:"landslideReadyIndividuos__label",children:"Una vez que accedas a los mdulos, la pgina se ver de esta manera:"}),D.jsx("img",{src:pQ,alt:"Vista previa del curso LandslideReady",className:"landslideReadyIndividuos__image"})]})}const gQ=""+new URL("municipality_map-Bvvk--4S.webp",import.meta.url).href,yQ=""+new URL("landslideready_cycle-DWTqd-mk.webp",import.meta.url).href,vQ=""+new URL("landslideready_pictures-BrqsN7-v.webp",import.meta.url).href;function _Q(){return D.jsx("section",{className:"landslideReady",children:D.jsxs("div",{className:"landslideReady__municipios-section",children:[D.jsxs("div",{className:"landslideReady__municipios-left",children:[D.jsx("h2",{children:"LandslideReady para Municipios"}),D.jsx("p",{children:"LandslideReady es un programa de reconocimiento municipal organizado por la Oficina de Mitigacin de Riesgos de Deslizamientos de Tierra de Puerto Rico."}),D.jsx("p",{children:"Trabajando con colaboradores de oficinas de emergencias municipales, nuestro objetivo es aumentar las actividades de preparacin, mitigacin y recuperacin relacionadas con los peligros de deslizamientos de tierra."}),D.jsxs("h3",{className:"landslideReady__subheader",children:["Mapa de Municipios LandslideReady",D.jsx("br",{}),D.jsx("strong",{children:"(Actualizado en Marzo 4, 2025)"})]}),D.jsx("img",{src:gQ,alt:"Mapa de municipios LandslideReady",className:"landslideReady__map"}),D.jsx("p",{className:"landslideReady__map-note",children:"Si eres manejador de emergencia del municipio, ests interesado en el proyecto y quieres saber ms, comuncate con nosotros."}),D.jsx("h3",{className:"landslideReady__subheader",children:"Ciclo de LandslideReady"}),D.jsx("img",{src:yQ,alt:"Ciclo LandslideReady",className:"landslideReady__cycle"})]}),D.jsx("div",{className:"landslideReady__municipios-right",children:D.jsx("img",{src:vQ,alt:"Talleres comunitarios",className:"landslideReady__group-pics"})})]})})}const Hz=""+new URL("search-icon-png-9-CwwMxdxn.png",import.meta.url).href,wQ=""+new URL("proyecto actual 1-DoJLfLjQ.webp",import.meta.url).href,bQ=""+new URL("proyecto actual 2-Cn09j1bS.webp",import.meta.url).href,SQ=""+new URL("proyecto actual 3-7fvrptES.webp",import.meta.url).href,xQ=""+new URL("proyecto actual 4-WfFd_KKK.webp",import.meta.url).href,TQ=""+new URL("proyecto actual 5-BRG7udKn.webp",import.meta.url).href,MQ=""+new URL("proyecto pasado 1-C-Guh05A.webp",import.meta.url).href,EQ=""+new URL("proyecto pasado 2-DBtTrK0-.webp",import.meta.url).href,$Q=""+new URL("proyecto pasado 3-fN0a1wo4.webp",import.meta.url).href,CQ=""+new URL("proyecto pasado 4-C0xPrv0a.webp",import.meta.url).href,OQ={1:MQ,2:EQ,3:$Q,4:CQ,6:wQ,7:bQ,8:SQ,10:xQ,12:TQ};function PQ(){const[e,t]=oe.useState([]),[i,r]=oe.useState(""),[n,s]=oe.useState("all");oe.useEffect(()=>{(async()=>{try{const h=await fetch("https://derrumbe-test.derrumbe.net/api/projects");if(!h.ok)throw new Error(`Error: ${h.status} ${h.statusText}`);const v=(await h.json()).map(w=>({id:w.project_id,title:w.title,start_year:w.start_year,end_year:w.end_year,status:w.project_status==="active"?"present":"past",description:w.description,image:OQ[w.project_id]||"/placeholder.webp"}));t(v)}catch(h){console.error("Error fetching projects:",h)}})()},[]);const a=e.filter(u=>{const h=u.title.toLowerCase().includes(i.toLowerCase());return(n==="all"?!0:u.status===n)&&h});return D.jsxs("div",{className:"projects-page",children:[D.jsx("h1",{className:"projects-title",children:"Proyectos"}),D.jsx("p",{className:"projects-intro",children:"Explore los proyectos de investigacin y cooperacin desarrollados por la Oficina de Mitigacin ante Deslizamientos de Tierra de Puerto Rico. Estas iniciativas, en colaboracin con agencias federales, universidades y comunidades, abarcan desde el anlisis de riesgos y procesos geolgicos hasta programas de participacin ciudadana y adaptacin climtica."}),D.jsx("p",{className:"projects-subintro",children:"Su propsito es generar conocimiento cientfico, fortalecer la mitigacin de deslizamientos y apoyar la resiliencia de Puerto Rico ante eventos extremos."}),D.jsxs("div",{className:"projects-controls",children:[D.jsxs("div",{className:"search-container",children:[D.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:u=>r(u.target.value)}),D.jsx("img",{src:Hz,alt:"Search",className:"search-icon"})]}),D.jsx("div",{className:"filter-container",children:D.jsxs("select",{className:"filter-dropdown",value:n,onChange:u=>s(u.target.value),children:[D.jsx("option",{value:"all",children:"Todos los Proyectos"}),D.jsx("option",{value:"present",children:"Proyectos Actuales"}),D.jsx("option",{value:"past",children:"Proyectos Pasados"})]})})]}),D.jsx("div",{className:"projects-container",children:a.map(u=>D.jsxs("div",{className:"project-card",children:[D.jsx("img",{src:u.image,alt:u.title,className:"project-image"}),D.jsx("h2",{className:"project-title",children:u.title}),D.jsxs("h3",{className:"project-years",children:[u.start_year,"",u.end_year]}),D.jsx("p",{className:"project-description",children:u.description})]},u.id))})]})}const B5=""+new URL("publication1-Dm2mzqlI.webp",import.meta.url).href,AQ=""+new URL("pub1-BHfqXCyj.webp",import.meta.url).href,RQ=""+new URL("pub2-D2eqBsyJ.webp",import.meta.url).href,LQ=""+new URL("pub3-BpQnQ7KG.webp",import.meta.url).href,kQ=""+new URL("pub4-CtNeMnQi.webp",import.meta.url).href,IQ=""+new URL("pub5-O_SobFLx.webp",import.meta.url).href,NQ=""+new URL("pub6-B7B_PmVj.webp",import.meta.url).href,DQ=""+new URL("pub7-D3wX36da.webp",import.meta.url).href,jQ=""+new URL("pub8-LWmzQgMl.webp",import.meta.url).href,zQ=""+new URL("pub9--ndzctSF.webp",import.meta.url).href,UQ=""+new URL("pub10-BJjePGZL.webp",import.meta.url).href,FQ=""+new URL("pub11-CjvEFb7T.webp",import.meta.url).href,BQ=""+new URL("pub12-4coehiuG.webp",import.meta.url).href,qQ=""+new URL("pub13-BLKa8oNU.webp",import.meta.url).href,GQ=""+new URL("pub14-CMFhD3fa.webp",import.meta.url).href,VQ=""+new URL("pub15-Citk4ctW.webp",import.meta.url).href,HQ=""+new URL("pub16-VXfR8K-o.webp",import.meta.url).href,WQ=""+new URL("pub17-B0_W8Qhr.webp",import.meta.url).href,ZQ=""+new URL("pub18-rkacwRIW.webp",import.meta.url).href,YQ=""+new URL("pub19-CmMMp9HA.webp",import.meta.url).href,JQ={3:AQ,4:RQ,5:LQ,6:kQ,7:IQ,8:NQ,9:DQ,10:jQ,11:zQ,12:UQ,13:FQ,14:BQ,15:qQ,16:GQ,17:VQ,18:HQ,19:WQ,20:ZQ,21:YQ};function XQ(){const[e,t]=oe.useState([]),[i,r]=oe.useState("");oe.useEffect(()=>{(async()=>{try{const a=await fetch("https://derrumbe-test.derrumbe.net/api/publications");if(!a.ok)throw new Error(`Error: ${a.status} ${a.statusText}`);const h=(await a.json()).map(f=>({id:f.publication_id,title:f.title||"Publicacin sin ttulo",description:f.description||"",url:f.publication_id===3?B5:f.publication_url||"#",image:JQ[f.publication_id]||B5}));t(h)}catch(a){console.error("Error fetching publications:",a)}})()},[]);const n=e.filter(s=>s.title.toLowerCase().includes(i.toLowerCase()));return D.jsxs("div",{className:"projects-page",children:[D.jsx("h1",{className:"projects-title",children:"Publicaciones"}),D.jsx("p",{className:"projects-intro",children:"Explore nuestra coleccin de publicaciones, resultado del trabajo acadmico y tcnico de la oficina, enfocadas en la investigacin y el entendimiento de los deslizamientos en Puerto Rico."}),D.jsx("div",{className:"projects-controls",children:D.jsxs("div",{className:"search-container",children:[D.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:s=>r(s.target.value)}),D.jsx("img",{src:Hz,alt:"Search",className:"search-icon"})]})}),D.jsx("div",{className:"publications-container",children:n.map(s=>D.jsxs("div",{className:"publication-card",children:[D.jsx("img",{src:s.image,alt:s.title,className:"publication-image"}),D.jsx("h3",{className:"publication-title",children:s.title}),D.jsx("p",{className:"publication-description",children:s.description}),D.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"publication-button",children:"Leer ms "})]},s.id))})]})}function KQ(){return D.jsx("section",{className:"rain-forecast",children:D.jsxs("div",{className:"rain-forecast__content",children:[D.jsxs("div",{className:"rain-forecast__text",children:[D.jsx("h1",{children:"Pronstico de Lluvia"}),D.jsx("p",{className:"rain-forecast__note",children:D.jsx("em",{children:"Si las imgenes no se han actualizado, actualice la pgina o haga clic en ellas para ver las ltimas versiones."})}),D.jsxs("p",{children:["El pronstico de lluvia provee informacin atravs del mapa interactivo de ",D.jsx("strong",{children:"National Weather Service"}),", al igual que provee la precipitacin esperada para hoy y maana."]}),D.jsx("p",{children:"La lluvia es uno de los factores principales que desencadenan deslizamientos en Puerto Rico, por lo que conocer su distribucin y acumulacin permite anticipar condiciones de riesgo y fortalecer la preparacin."})]}),D.jsx("div",{className:"rain-forecast__map",children:D.jsx("a",{href:"https://radar.weather.gov/?settings=v1_eyJhZ2VuZGEiOnsiaWQiOiJsb2NhbCIsImNlbnRlciI6Wy02Ni41NzIsMTguMDU1XSwibG9jYXRpb24iOm51bGwsInpvb20iOjguMzMzMzMzMzMzMzMzMzM0LCJmaWx0ZXIiOiJXU1ItODhEIiwibGF5ZXIiOiJzcl9icmVmIiwic3RhdGlvbiI6IlRKVUEifSwiYW5pbWF0aW5nIjp0cnVlLCJiYXNlIjoic3RhbmRhcmQiLCJhcnRjYyI6ZmFsc2UsImNvdW50eSI6ZmFsc2UsImN3YSI6ZmFsc2UsInJmYyI6ZmFsc2UsInN0YXRlIjpmYWxzZSwibWVudSI6dHJ1ZSwic2hvcnRGdXNlZE9ubHkiOnRydWUsIm9wYWNpdHkiOnsiYWxlcnRzIjowLjgsImxvY2FsIjowLjYsImxvY2FsU3RhdGlvbnMiOjAuOCwibmF0aW9uYWwiOjAuNn19",target:"_blank",rel:"noopener noreferrer",children:D.jsx("img",{src:"https://radar.weather.gov/ridge/standard/TJUA_loop.gif",alt:"Radar en vivo del Servicio Nacional de Meteorologa de Puerto Rico",className:"rain-forecast__map-image"})})}),D.jsxs("div",{className:"rain-forecast__comparison",children:[D.jsxs("div",{className:"rain-forecast__card",children:[D.jsx("h2",{children:"Pronstico del Da"}),D.jsx("a",{href:"https://www.weather.gov/images/sju/marine/wrf/nbm24hr_prec.png",target:"_blank",rel:"noopener noreferrer",children:D.jsx("img",{src:"https://www.weather.gov/images/sju/marine/wrf/nbm24hr_prec.png",alt:"Pronstico del da"})})]}),D.jsxs("div",{className:"rain-forecast__card",children:[D.jsx("h2",{children:"Pronstico de Maana"}),D.jsx("a",{href:"https://www.weather.gov/images/sju/marine/wrf/nbm48hr_prec.png",target:"_blank",rel:"noopener noreferrer",children:D.jsx("img",{src:"https://www.weather.gov/images/sju/marine/wrf/nbm48hr_prec.png",alt:"Pronstico de maana"})})]})]})]})})}function p(e,t,i,r){var n=arguments.length,s=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,i,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(s=(n<3?a(s):n>3?a(t,i,s):a(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s}function rxe(e,t){return function(i,r){t(i,r,e)}}function nxe(e,t,i,r){function n(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function u(v){try{f(r.next(v))}catch(w){a(w)}}function h(v){try{f(r.throw(v))}catch(w){a(w)}}function f(v){v.done?s(v.value):n(v.value).then(u,h)}f((r=r.apply(e,t||[])).next())})}function sxe(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,n;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],i&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:i})}else i&&e.stack.push({async:!0});return t}var QQ=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function oxe(e){function t(s){e.error=e.hasError?new QQ(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var i,r=0;function n(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(n);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(s).then(n,function(a){return t(a),n()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}const eee="modulepreload",tee=function(e,t){return new URL(e,t).href},q5={},Ne=function(t,i,r){let n=Promise.resolve();if(i&&i.length>0){let f=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const a=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");n=f(i.map(v=>{if(v=tee(v,r),v in q5)return;q5[v]=!0;const w=v.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(r)for(let P=a.length-1;P>=0;P--){const O=a[P];if(O.href===v&&(!w||O.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${x}`))return;const M=document.createElement("link");if(M.rel=w?"stylesheet":eee,w||(M.as="script"),M.crossOrigin="",M.href=v,h&&M.setAttribute("nonce",h),document.head.appendChild(M),w)return new Promise((P,O)=>{M.addEventListener("load",P),M.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${v}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return n.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};let oh;const pn=globalThis;function pe(e){return typeof oh[e]=="function"?oh[e]=oh[e](pn):oh[e]}oh=pn.dojoConfig?.has||pn.esriConfig?.has?{...pn.dojoConfig?.has,...pn.esriConfig?.has}:{},pe.add=(e,t,i,r)=>{(r||oh[e]===void 0)&&(oh[e]=t),i&&pe(e)},pe.cache=oh,pe.add("big-integer-warning-enabled",!0),pe.add("esri-deprecation-warnings",!0),pe.add("esri-tests-disable-screenshots",!1),pe.add("esri-tests-use-full-window",!1),pe.add("esri-tests-post-to-influx",!0),pe.add("esri-cim-animations-enable-status","enabled"),pe.add("esri-cim-animations-spotlight",!1),pe.add("esri-cim-animations-freeze-time",!1),(()=>{pe.add("host-webworker",pn.WorkerGlobalScope!==void 0&&self instanceof pn.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(pe.add("host-browser",e),pe.add("host-node",!(typeof pn.process!="object"||!pn.process.versions?.node||!pn.process.versions.v8)),pe.add("dom",e),pe("host-browser")){const t=navigator,i=t.userAgent,r=t.appVersion,n=parseFloat(r);if(pe.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),pe.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),pe.add("khtml",r.includes("Konqueror")?n:void 0),pe.add("edge",parseFloat(i.split("Edge/")[1])||void 0),pe.add("opr",parseFloat(i.split("OPR/")[1])||void 0),pe.add("webkit",!pe("wp")&&!pe("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),pe.add("chrome",!pe("edge")&&!pe("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),pe.add("android",!pe("wp")&&parseFloat(i.split("Android ")[1])||void 0),pe.add("safari",!r.includes("Safari")||pe("wp")||pe("chrome")||pe("android")||pe("edge")||pe("opr")?void 0:parseFloat(r.split("Version/")[1])),pe.add("mac",r.includes("Macintosh")),!pe("wp")&&/(iPhone|iPod|iPad)/.test(i)){const s=RegExp.$1.replace(/P/,"p"),a=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",u=parseFloat(a.replace(/_/,".").replaceAll("_",""));pe.add(s,u),pe.add("ios",u)}pe("webkit")||(!i.includes("Gecko")||pe("wp")||pe("khtml")||pe("edge")||pe.add("mozilla",n),pe("mozilla")&&pe.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(pn.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&pe.add("esri-mobile",t),i&&pe.add("esri-iPhone",i),pe.add("esri-geolocation",!!navigator.geolocation)}pe.add("esri-wasm","WebAssembly"in pn),pe.add("esri-performance-mode-frames-between-render",20),pe.add("esri-force-performance-mode",!1),pe.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in pn,t=pn.crossOriginIsolated===!1;return e&&!t}),pe.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),pe.add("esri-atomics","Atomics"in pn),pe.add("esri-workers","Worker"in pn),pe.add("web-feat:cache","caches"in pn),pe.add("esri-workers-arraybuffer-transfer",!pe("safari")||Number(pe("safari"))>=12),pe.add("workers-pool-size",8),pe.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),pe.add("featurelayer-simplify-payload-size-factors",[1,1,4]),pe.add("featurelayer-fast-triangulation-enabled",!0),pe.add("featurelayer-animation-enabled",!0),pe.add("featurelayer-snapshot-enabled",!0),pe.add("featurelayer-snapshot-initial-tolerance",0),pe.add("featurelayer-snapshot-point-min-threshold",8e4),pe.add("featurelayer-snapshot-point-max-threshold",4e5),pe.add("featurelayer-snapshot-multipoint-min-threshold",2e4),pe.add("featurelayer-snapshot-multipoint-max-threshold",1e5),pe.add("featurelayer-snapshot-polygon-min-threshold",2e3),pe.add("featurelayer-snapshot-polygon-max-threshold",2e3),pe.add("featurelayer-snapshot-polyline-min-threshold",2e3),pe.add("featurelayer-snapshot-polyline-max-threshold",2e3),pe.add("featurelayer-snapshot-max-vertex-count",25e4),pe.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),pe.add("featurelayer-snapshot-concurrency",4),pe.add("featurelayer-snapshot-coverage",.1),pe.add("featurelayer-query-max-depth",4),pe.add("featurelayer-query-pausing-enabled",!1),pe.add("featurelayer-query-tile-concurrency",4),pe.add("featurelayer-query-tile-max-features",6e5),pe.add("featurelayer-advanced-symbols",!1),pe.add("featurelayer-pbf",!0),pe.add("featurelayer-pbf-statistics",!1),pe.add("feature-layers-workers",!0),pe.add("feature-polyline-generalization-factor",1),pe.add("parquetlayer-full-query-feature-count",2e4),pe.add("parquetlayer-hittest-max-feature-count",1),pe.add("mapview-transitions-duration",200),pe.add("mapview-essential-goto-duration",200),pe.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),pe.add("mapserver-pbf-version-support",10.81),pe.add("mapservice-popup-identify-max-tolerance",20),pe.add("request-queue-concurrency-hosted",16),pe.add("request-queue-concurrency-non-hosted",4),pe.add("curve-densification-coarse-segments",128),pe.add("curve-densification-max-segments",2e3),pe.add("curve-densification-min-segments",3),pe.add("curve-densification-pixel-deviation",.5),pe.add("view-readyState-waiting-delay",1e3),pe.add("gradient-depth-bias",.01),pe.add("gradient-depth-epsilon",1e-8),pe.add("enable-feature:esri-compress-textures",!0),pe("host-webworker")||pe("host-browser")&&(pe.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),pe.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function axe(e){}function iee(e){return()=>e}function lxe(e){return e}var As;let ree=(As=class{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*As._m}getInt(){return this._seed=(As._a*this._seed+As._c)%As._m,this._seed}getFloat(){return this.getInt()/(As._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/As._m*r}},As._m=2147483647,As._a=48271,As._c=0,As);const nee=1.5,uxe=1/nee,cxe=.5;function Wz(e){return e}function see(e,t=Wz){if(!e||e.length===0)return;let i=e[0],r=t(i);for(let n=1;n<e.length;++n){const s=e[n],a=Number(t(s));a>r&&(r=a,i=s)}return i}function hxe(e,t=Wz){return see(e,i=>-t(i))}function dxe(e,t){return t?e.filter((i,r,n)=>n.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function oee(e,t,i,r,n,s,a){if(e==null&&r==null)return!0;t=Math.max(0,t),n=Math.max(0,n),i=Math.max(0,i<0?(e?.length??0)+i:i),s=Math.max(0,s<0?(r?.length??0)+s:s);const u=i-t;if(e==null||r==null||u!==s-n)return!1;if(a){for(let h=0;h<u;h++)if(!a(e[t+h],r[n+h]))return!1}else for(let h=0;h<u;h++)if(e[t+h]!==r[n+h])return!1;return!0}function ox(e,t,i){return oee(e,0,e?.length??0,t,0,t?.length??0,i)}function fxe(){return(e,t)=>{if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}}function G5(e,t,i){let r,n;return i?(r=t.filter(s=>!e.some(a=>i(a,s))),n=e.filter(s=>!t.some(a=>i(a,s)))):(r=t.filter(s=>!e.includes(s)),n=e.filter(s=>!t.includes(s))),{added:r,removed:n}}function pxe(e){return e&&typeof e.length=="number"}function mxe(e,t){const i=e.length;if(i===0)return[];const r=[];for(let n=0;n<i;n+=t)r.push(e.slice(n,n+t));return r}let Zz=class{constructor(){this.last=0}};const Yz=new Zz;function G3(e,t,i,r){r=r||Yz;const n=Math.max(0,r.last-10);for(let a=n;a<i;++a)if(e[a]===t)return r.last=a,a;const s=Math.min(n,i);for(let a=0;a<s;++a)if(e[a]===t)return r.last=a,a;return-1}function V3(e,t,i,r){const n=e.length,s=G3(e,t,n,r);if(s!==-1)return e[s]=e[n-1],e.pop(),t}const ha=new Set;function aee(e,t,i=e.length,r=t.length,n,s){if(r===0||i===0)return i;ha.clear();for(let u=0;u<r;++u)ha.add(t[u]);n=n||Yz;const a=Math.max(0,n.last-10);for(let u=a;u<i;++u)if(ha.has(e[u])&&(s?.push(e[u]),ha.delete(e[u]),e[u]=e[i-1],--i,--u,ha.size===0||i===0))return ha.clear(),i;for(let u=0;u<a;++u)if(ha.has(e[u])&&(s?.push(e[u]),ha.delete(e[u]),e[u]=e[i-1],--i,--u,ha.size===0||i===0))return ha.clear(),i;return ha.clear(),i}function lee(e,t){let i=0;for(let r=0;r<e.length;++r){const n=e[r];t(n,r)&&(e[i]=n,i++)}return e.length=i,e}function yxe(e,t,i){const r=e.length;if(t>=r)return e.slice();const n=Jz(i),s=new Set,a=[];for(;a.length<t;){const u=Math.floor(n()*r);s.has(u)||(s.add(u),a.push(e[u]))}return a}function Jz(e){return e?(V5.seed=e,()=>V5.getFloat()):Math.random}const V5=new ree;function vxe(e,t){if(!e)return e;const i=Jz(t);for(let r=e.length-1;r>0;r--){const n=Math.floor(i()*(r+1)),s=e[r];e[r]=e[n],e[n]=s}return e}function Xz(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function bg(e,t){return e!=null}const _xe=[];function wxe(e){return e instanceof ArrayBuffer}function AP(e){return e?.constructor?.name==="Int8Array"}function Kz(e){return e?.constructor?.name==="Uint8Array"}function Qz(e){return e?.constructor?.name==="Uint8ClampedArray"}function RP(e){return e?.constructor?.name==="Int16Array"}function e8(e){return e?.constructor?.name==="Uint16Array"}function LP(e){return e?.constructor?.name==="Int32Array"}function t8(e){return e?.constructor?.name==="Uint32Array"}function uee(e){return e?.constructor?.name==="Float16Array"}function ax(e){return e?.constructor?.name==="Float32Array"}function lx(e){return e?.constructor?.name==="Float64Array"}function cee(e){return"buffer"in e}const i8=1024;function bxe(e){return lx(e)||ax(e)||LP(e)||RP(e)||AP(e)}function Sxe(e){return lx(e)||ax(e)}function xxe(e){return lx(e)?179769e303:uee(e)?65504:ax(e)?3402823e32:t8(e)?4294967295:e8(e)?65535:Kz(e)||Qz(e)?255:LP(e)?2147483647:RP(e)?32767:AP(e)?127:256}const Txe=-32768,Mxe=-2147483648;function Exe(e){return e}function hee(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ke(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=s8(e);if(t!=null)return t;if(x0(e))return e.clone();if(r8(e))return e.map(ke);if(n8(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ke(e[r]);return i}function H3(e,t){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const i=s8(e);if(i!=null)return i;if(r8(e)){let n=!0;const s=e.map(a=>{const u=H3(a,t);return a!=null&&u==null&&(n=!1),u});return n?s:null}if(x0(e))return e.clone(t);if(e instanceof File||e instanceof Blob)return e;if(n8(e))return null;const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const s=e[n],a=H3(s);if(s!=null&&a==null)return null;r[n]=a}return r}function x0(e){return typeof e.clone=="function"}function r8(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function n8(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function H5(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function s8(e){if(AP(e)||Kz(e)||Qz(e)||RP(e)||e8(e)||LP(e)||t8(e)||ax(e)||lx(e))return e.slice();if(e instanceof Date)return new Date(e);if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ke(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ke(i));return t}return null}function kP(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function o8(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&ox(e,t):e instanceof Set?t instanceof Set&&fee(e,t):e instanceof Map?t instanceof Map&&pee(e,t):!!H5(e)&&H5(t)&&dee(e,t))}function dee(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function fee(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function pee(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const n=t.get(i);if(n!==r||n===void 0&&!t.has(i))return!1}return!0}function mee(e,t,i=!1){return l8(e,t,i)}function ux(e,t){if(t!=null)return t[e]||a8(e.split("."),!1,t)}function Vg(e,t,i){const r=e.split("."),n=r.pop(),s=a8(r,!0,i);s&&n&&(s[n]=t)}function W5(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(W5(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(W5(e[i],t[i]))return!0;return!1}return e!==t}function a8(e,t,i){let r=i;for(const n of e){if(r==null)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function l8(e,t,i){return t?Object.keys(t).reduce((r,n)=>{if(n==="__proto__")return r;let s=r[n],a=t[n];return s===a?r:s===void 0?(r[n]=ke(a),r):(Array.isArray(a)||Array.isArray(r)?(s=s?Array.isArray(s)?r[n]=s.slice():r[n]=[s]:r[n]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach(u=>{s.includes(u)||s.push(u)}):r[n]=a.slice())):a&&typeof a=="object"?r[n]=l8(s,a,i):r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[n]=a),r)},e||{}):e}function $xe(e,t){for(const i of Object.entries(e))if(t===i[1])return i[0]}function cx(e,t){return Object.values(e).includes(t)}const qt={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(mee(qt,globalThis.esriConfig,!0),delete qt.has),!qt.assetsPath){{const e="4.34";qt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}qt.defaultAssetsPath=qt.assetsPath}const gee=/\{([^}]+)\}/g;function Z5(e){return e??""}function u8(e,t){return t?e.replaceAll(gee,typeof t=="object"?(i,r)=>Z5(ux(r,t)):(i,r)=>Z5(t(r))):e}function c8(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t?.includes(i)?i:`\\${i}`)}function h8(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let Y5;function Cxe(e){return Y5??=new DOMParser,Y5.parseFromString(e||"","text/html").body.innerText||""}function Oxe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function Pxe(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const J5={info:0,warn:1,error:2,none:3};var _r;let ze=(_r=class{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,_r._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=_r.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,_r._loggers.get(t)||new _r({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!_r._throttlingDisabled){const n=vee(r),s=this._loggedMessages[t].get(n);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=_r._tickCounter)return;this._loggedMessages[t].set(n,_r._tickCounter),_r._scheduleTickCounterIncrement()}for(const n of qt.log.interceptors)if(n(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const n=r[t];if(n!=null)return n;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",yee)}_matchLevel(t){const i=qt.log.level||"warn";return J5[this._parentWithMember("level",i)]<=J5[t]}static _scheduleTickCounterIncrement(){_r._tickCounterScheduled||(_r._tickCounterScheduled=!0,Promise.resolve().then(()=>{_r._tickCounter++,_r._tickCounterScheduled=!1}))}},_r._loggers=new Map,_r._tickCounter=0,_r._tickCounterScheduled=!1,_r._throttlingDisabled=!1,_r);function yee(e,t,...i){console[e](`[${t}]`,...i)}function vee(...e){return h8(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}function _ee(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(ux(r,t)??"").toString())}let d8=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&_ee(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},$e=class f8 extends d8{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ke(i)}catch{return"[object]"}}))}}catch(t){throw ze.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new f8(t.name,t.message,t.details)}};$e.prototype.type="error";function BS(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}const wee=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,bee={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function X5(e){const t=e?.match(wee);if(!t)return null;const[,i,r,n]=t;if(!i)return null;let s=null,a=null,u=null;const{devext:h,qaext:f,www:v}=bee;if(r)if(s=i,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:u}=h);break;case"qa":({customBaseUrl:a,portalHostname:u}=f);break;default:return null}else({customBaseUrl:a,portalHostname:u}=v);else switch(i.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:u}=h);break;case"qaext":({customBaseUrl:a,portalHostname:u}=f);break;case"www":({customBaseUrl:a,portalHostname:u}=v);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:u,urlKey:s}}function p8(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function m8(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function g8(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function See(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const xee=()=>ze.getLogger("esri.core.urlUtils"),Hg=qt.request,K5="esri/config: esriConfig.request.proxyUrl is not set.",y8=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,v8=/^\s*http:/i,Tee=/^\s*https:/i,Mee=/^\s*file:/i,_8=/:\d+$/,Eee=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,$ee=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Cee=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Dm=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match($ee);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Cee),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const jw={},Oee=new Dm(qt.applicationUrl);let An=Oee;const Pee=Aee();let IP=Pee;const NP=()=>An,Lxe=()=>IP;function Aee(){const e=An.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${An.scheme}://${An.host}${An.port!=null?`:${An.port}`:""}`}${t}`}function ss(e){if(!e)return null;const t={path:null,query:null},i=new Dm(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=DP(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function DP(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const n=r.indexOf("=");let s,a;n<0?(s=decodeURIComponent(r),a=""):(s=decodeURIComponent(r.slice(0,n)),a=decodeURIComponent(r.slice(n+1)));let u=i[s];typeof u=="string"&&(u=i[s]=[u]),Array.isArray(u)?u.push(a):i[s]=a}return i}function t_(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const n=encodeURIComponent(i)+"=",s=t?.[i];return s?n+encodeURIComponent(s(r)):Array.isArray(r)?r.map(a=>BS(a)?n+encodeURIComponent(JSON.stringify(a)):n+encodeURIComponent(a)).join("&"):BS(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function w8(e=!1){let t,i=Hg.proxyUrl;if(typeof e=="string"){t=jee(e);const r=hx(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw xee().warn(K5),new $e("urlUtils:proxy-not-set",K5);return t&&Z3()&&(i=BP(i)),ss(i)}function kxe(e,t=!1){const i=hx(e);let r,n;if(i){const s=jP(i.proxyUrl);r=s.path,n=s.query?DP(s.query):null}else if(t){const s=w8(e);r=s.path,n=s.query}if(r){const s=ss(e);e=r+"?"+s.path;const a=t_({...n,...s.query});a&&(e=`${e}?${a}`)}return e}const gv={path:"",query:""};function jP(e){const t=e.indexOf("?");return t!==-1?(gv.path=e.slice(0,t),gv.query=e.slice(t+1)):(gv.path=e,gv.query=null),gv}function b8(e){return e=(e=GS(e=qee(e=jP(e).path),!0)).toLowerCase()}function Ree(e){const t={proxyUrl:e.proxyUrl,urlPrefix:b8(e.urlPrefix)},i=Hg.proxyRules,r=t.urlPrefix;let n=i.length;for(let s=0;s<i.length;s++){const a=i[s].urlPrefix;if(r.startsWith(a)){if(r.length===a.length)return-1;n=s;break}a.startsWith(r)&&(n=s+1)}return i.splice(n,0,t),n}function hx(e){const t=Hg.proxyRules,i=b8(e);for(let r=0;r<t.length;r++)if(i.startsWith(t[r].urlPrefix))return t[r]}function Ixe(e,t){if(!e||!t)return!1;e=qS(e),t=qS(t);const i=X5(e),r=X5(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Tf(e,t,!0)}function Lee(e,t){return e=qS(e),t=qS(t),GS(e)===GS(t)}function qS(e){const t=(e=ph(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function W3(e,t=Hg.interceptors){const i=r=>r instanceof RegExp?r.test(e):typeof r=="string"?e.startsWith(r):r==null;if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function Tf(e,t,i=!1){if(!e||!t)return!1;const r=J3(e),n=J3(t);return!(!i&&r.scheme!==n.scheme)&&r.host!=null&&n.host!=null&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function zP(e){if(typeof e=="string"){if(!ks(e))return!0;e=J3(e)}if(Tf(e,An))return!0;const t=Hg.trustedServers||[];for(let i=0;i<t.length;i++){const r=kee(t[i]);for(let n=0;n<r.length;n++)if(Tf(e,r[n]))return!0}return!1}function kee(e){return jw[e]||(FP(e)||wl(e)?jw[e]=[new Dm(qo(e))]:jw[e]=[new Dm(`http://${e}`),new Dm(`https://${e}`)]),jw[e]}function qo(e,t=IP,i){return wl(e)?i?.preserveProtocolRelative?e:An.scheme==="http"&&An.authority===ao(e).slice(2)?`http:${e}`:`https:${e}`:FP(e)?e:j_(e.startsWith("/")?Bee(t):t,e)}function UP(e,t=IP,i){if(e==null||!ks(e))return e;const r=ph(e),n=r.toLowerCase(),s=ph(t).toLowerCase().replace(/\/+$/,""),a=i?ph(i).toLowerCase().replace(/\/+$/,""):null;if(a&&!s.startsWith(a))return e;const u=(w,x,M)=>(M=w.indexOf(x,M))===-1?w.length:M;let h=u(n,"/",n.indexOf("//")+2),f=-1;for(;n.slice(0,h+1)===s.slice(0,h)+"/"&&(f=h+1,h!==n.length);)h=u(n,"/",h+1);if(f===-1||a&&f<a.length)return e;e=r.slice(f);const v=s.slice(f-1).replaceAll(/[^/]+/g,"").length;if(v>0)for(let w=0;w<v;w++)e=`../${e}`;else e=`./${e}`;return e}function ph(e){return e=Hee(e=Vee(e=Gee(e=qo(e=e.trim()))))}function j_(...e){const t=e.filter(bg);if(!t?.length)return;const i=[];if(ks(t[0])){const n=t[0],s=n.indexOf("//");s!==-1&&(i.push(n.slice(0,s+1)),Uee(t[0])&&(i[0]+="/"),t[0]=n.slice(s+2))}else t[0].startsWith("/")&&i.push("");const r=t.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<r.length;n++){const s=r[n];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&n===r.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function ao(e,t=!1){if(e==null||z_(e)||Uf(e))return null;let i=e.indexOf("://");if(i===-1&&wl(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=GS(e,!0)),e}function ks(e){return wl(e)||FP(e)}function z_(e){return e!=null&&e.startsWith("blob:")}function Uf(e){return e!=null&&e.startsWith("data:")}function Iee(e){const t=Sg(e);return t?.isBase64?g8(t.data):null}function Nxe(e){return See(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Nee=/^data:(.*?)(;base64)?,(.*)$/;function Sg(e){const t=e.match(Nee);if(!t)return null;const[,i,r,n]=t;return{mediaType:i,isBase64:!!r,data:n}}function S8(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Dee(e){return(await fetch(e)).blob()}function Dxe(e){const t=Iee(e);if(!t)return null;const i=Sg(e);return new Blob([t],{type:i.mediaType})}function wl(e){return e!=null&&e.startsWith("/")&&e[1]==="/"}function FP(e){return e!=null&&y8.test(e)}function jee(e){return e!=null&&Tee.test(e)||An.scheme==="https"&&wl(e)}function zee(e){return e!=null&&v8.test(e)||An.scheme==="http"&&wl(e)}function Uee(e){return e!=null&&Mee.test(e)}function BP(e){return wl(e)?`https:${e}`:e.replace(v8,"https:")}function Fee(){return An.scheme==="http"}function Z3(){return An.scheme==="https"}function GS(e,t=!1){return wl(e)?e.slice(2):(e=e.replace(y8,""),t&&e.length>1&&e.startsWith("/")&&e[1]==="/"&&(e=e.slice(2)),e)}function Bee(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function jxe(e){let t=0;if(ks(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function zxe(e,t){if(!e)return"";const i=ss(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(n,"")}function qee(e){return e.endsWith("/")?e:`${e}/`}function x8(e){return e.replace(/\/+$/,"")}function Gee(e){if(/^https?:\/\//i.test(e)){const t=jP(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Vee(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Hee(e){const t=Hg.httpsDomains;if(!zee(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),_8.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return Fee()&&r===An.authority&&!Eee.test(e)||(Z3()&&r===An.authority||t&&t.some(n=>r===n||r.endsWith(`.${n}`))||Z3()&&!hx(e))&&(e=BP(e)),e}function Y3(e,t,i){if(!(t&&i&&e&&ks(e)))return e;const r=e.indexOf("//"),n=e.indexOf("/",r+2),s=e.indexOf(":",r+2),a=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(r+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(a)}`}function Wee(e,t){const i=new URL(e);return i.host=t,i.port&&!_8.test(t)&&(i.port=""),i.toString()}function Uxe(e){return new URL(e).host}function J3(e){return typeof e=="string"?new Dm(qo(e)):(e.scheme||(e.scheme=An.scheme),e)}function Fxe(e){return Yee.test(e)}function T8(e,t){const i=ss(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Zee(e,t,i){const r=ss(e),n=r.query||{};return n[t]=String(i),`${r.path}?${t_(n)}`}function yE(e,t){if(!t)return e;const i=ss(e),r=i.query||{};for(const[s,a]of Object.entries(t))a!=null&&(r[s]=a);const n=t_(r);return n?`${i.path}?${n}`:i.path}function M8(e){if(e==null)return null;const t=e.match(E8);return t?t[2]:null}function Q5(e){if(e==null)return null;const t=e.match(E8);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Bxe(e){return typeof e=="string"?Sg(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Sg(r.result)),r.onerror=n=>i(n)})}const E8=/([^.]*)\.([^/]*)$/,Yee=/(^data:image\/svg|\.svg$)/i,$8="20251104",C8="f2c42760a996a580f8999c5703b35b2e3deaac4c";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Jee="4.34";let Mi,qP=Jee;function qxe(e){Mi=e}function Gxe(e){const t=Mi?.findCredential(e);return t?.token?Zee(e,"token",t.token):e}qP="4.34.7",pe("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),pe("host-webworker");function Xee(e,t){for(const i of e.values())if(t(i))return!0;return!1}function Vxe(e,t){for(const i of e.values())if(!t(i))return!1;return!0}function Hxe(e,t){for(const i of e.values())if(t(i))return i;return null}function U_(e,t,i){const r=e.get(t);if(r!==void 0)return r;const n=i();return e.set(t,n),n}function Wxe(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const Kee={remove:()=>{}};function jt(e){return e?{remove(){e&&(e(),e=void 0)}}:Kee}function O8(e){e.forEach(t=>t?.remove())}function Zxe(e){O8(e),e.length=0}function Ff(e){return jt(()=>O8(e))}function Yxe(e){return jt(()=>e()?.remove())}function Qee(e){return jt(()=>e?.abort())}function Jxe(e){return jt(e!=null?()=>e.destroy():void 0)}function ete(e){return typeof e=="object"&&!!e&&"remove"in e&&typeof e.remove=="function"}function Xxe(e){ete(e)&&e.remove()}function Kxe(e){return{[Symbol.dispose](){e.remove()}}}function tte(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return jt(()=>e.clearTimeout(r))}}}const Wg=tte(globalThis);function dx(e){return ite(e)||P8(e)}function ite(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function P8(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Zg(e,t,i){if(!dx(e))throw new TypeError("target is not a Evented or EventTarget object");return P8(e)?rte(e,t,i):e.on(t,i)}function rte(e,t,i,r){if(Array.isArray(t)){const n=t.slice();for(const s of n)e.addEventListener(s,i,r);return jt(()=>{for(const s of n)e.removeEventListener(s,i,r)})}return e.addEventListener(t,i,r),jt(()=>e.removeEventListener(t,i,r))}function A8(e,t,i){if(!dx(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=Zg(e,t,n=>{r.remove(),i.call(e,n)});return r}function R8(e,t){if(e==null)throw new Error(t??"value is None")}function er(e){return e?.destroy(),null}function Qxe(e){return e?.dispose(),null}function Oi(e){return e?.remove(),null}function Mf(e){return e?.abort(),null}function eTe(e){return e?.release(),null}function tTe(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function nte(e,t){return e?.[t]}function ste(e,t){let i;return e.some((r,n)=>(i=t(r,n),i!=null)),i??void 0}function ai(e="Aborted"){return new $e("AbortError",e)}function Li(e,t="Aborted"){if(In(e))throw ai(t)}function F_(e){return e instanceof AbortSignal?e:e?.signal??void 0}function In(e){const t=F_(e);return t!=null&&t.aborted}function L8(e){if(sn(e))throw e}function e4(e){if(!sn(e))throw e}function Yo(e,t){const i=F_(e);if(i!=null){if(!i.aborted)return A8(i,"abort",()=>t());t()}}function GP(e,t){const i=F_(e);if(i!=null)return Li(i),A8(i,"abort",()=>t(ai()))}function ote(e,t){return F_(t)==null?e:new Promise((i,r)=>{let n=Yo(t,()=>r(ai()));const s=()=>{n=Oi(n)};e.then(s,s),e.then(i,r)})}function sn(e){return e?.name==="AbortError"}async function VS(e){try{return await e}catch(t){if(!sn(t))throw t;return}}async function VP(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(a=>e[a]),n=await VP(r),s={};return i.map((a,u)=>s[a]=n[u]),s}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,n)=>{const s=i[n];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function ate(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function iTe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function k8(e,t=void 0,i){const r=new AbortController;return Yo(i,()=>r.abort()),new Promise((n,s)=>{let a=setTimeout(()=>{a=0,n(t)},e);Yo(r,()=>{a&&(clearTimeout(a),s(ai()))})})}function rTe(e,t,i,r){const n=i&&"abort"in i?i:null;r!=null||n||(r=i);let s=setTimeout(()=>{s=0,n?.abort()},t);const a=()=>r||new $e("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(u=>{if(s===0)throw a();return clearTimeout(s),u},u=>{throw clearTimeout(s),s===0?a():u})}function lte(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Yo(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function Nn(e){return e&&typeof e.then=="function"}function X3(e){return Nn(e)?e:Promise.resolve(e)}function ute(e,t=-1){let i,r,n,s,a=null;const u=(...h)=>{if(i){r=h,s&&s.reject(ai()),s=uo();const x=s.promise;if(a){const M=a;a=null,M.abort()}return x}if(n=s||uo(),s=null,t>0){const x=new AbortController;i=X3(e(...h,x.signal));const M=i;k8(t).then(()=>{i===M&&(s?x.abort():a=x)})}else i=1,i=X3(e(...h));const f=()=>{const x=r;r=n=i=a=null,x!=null&&u(...x)},v=i,w=n;return v.then(f,f),v.then(w.resolve,w.reject),w.promise};return u}function uo(){let e,t;const i=new Promise((n,s)=>{e=n,t=s}),r=n=>{e(n)};return r.resolve=n=>e(n),r.reject=n=>t(n),r.timeout=(n,s)=>Wg.setTimeout(()=>r.reject(s),n),r.promise=i,r}function nTe(e,t){t.then(e.resolve,e.reject)}async function t4(e){await Promise.resolve(),Li(e)}function Yg(e,t){const i=t?.url?.path;if(e&&i&&(e=qo(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=UP(e,t.portalItem.itemUrl);r!=null&&r.startsWith(cte)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=K3(e,t?.portal))&&px.test(e)?HP(e):e}function xg(e,t,i=0){if((e=e&&px.test(e)?j8(e):e)==null)return e;!ks(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=qo(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const s=K3(n,t.portal),a=K3(r,t.portal);r=UP(a,s,s),r!=null&&r!==a&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=D8(r,t?.portal),ks(r)&&(r=ph(r)),t?.resources&&t?.portalItem&&!ks(r)&&!Uf(r)&&i===0&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function fx(e,t,i){return Yg(e,i)}function Tg(e,t,i,r){const n=xg(e,r);n!==void 0&&(t[i]=n)}const px=/\/items\/([^/]+)\/resources\/(.*)/,cte="./resources/";function I8(e){return(e?.match(px)??null)?.[1]??null}function N8(e){const t=e?.match(px)??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:a,extension:u}=Q5(i);return{prefix:null,filename:a,extension:u}}const{path:n,extension:s}=Q5(i.slice(r+1));return{prefix:i.slice(0,r),filename:n,extension:s}}function D8(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Y3(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function K3(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=NP();return Tf(r,`${r.scheme}://${i}`)?Y3(e,t.portalHostname,i):Y3(e,i,t.portalHostname)}function HP(e){if(!e)return e||null;let t=e;return t&&Mi&&!Mi.findCredential(t)&&(t=m8(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function j8(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Mi&&!Mi.findCredential(t)&&(t=m8(t)),t}const hte=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:D8,fromCDNUrl:j8,fromJSON:Yg,itemIdFromResourceUrl:I8,prefixAndFilenameFromResourceUrl:N8,read:fx,toCDNUrl:HP,toJSON:xg,write:Tg},Symbol.toStringTag,{value:"Module"})),z8={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},U8=Object.values(z8),F8=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${U8.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),dte=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${U8.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),fte=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function sTe(e){return F8.test(e)}function B_(e){if(e==null)return null;const t=ss(e),i=t?.path.match(F8)||t?.path.match(dte);if(!i)return null;const[,r,n,s,a]=i,u=n.indexOf("/");return{title:B8(u!==-1?n.slice(u+1):n),serverType:z8[s.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:r}}}function pte(e){const t=ss(e).path.match(fte);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function B8(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function oTe(e,t){const i=[];if(e){const r=B_(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=B8(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function i4(e){let t=ao(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function aTe(e,t){return e&&x8(T8(e,t))}function lTe(e){let{url:t}=e;if(!t)return{url:t};t=T8(t,e.logger);const i=ss(t),r=B_(i.path);let n;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(n=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const s=pte(i.path);s!=null&&(t=s.serviceUrl,n=s.sublayerId)}return{url:x8(t),layerId:n}}function uTe(e,t,i,r,n){Tg(t,r,"url",n),r.url&&e.layerId!=null&&(r.url=j_(r.url,i,e.layerId.toString()))}function cTe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return i&&(r||n||s)}const mte=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function WP(e){if(!ZP(e))return null;const t=r=>r instanceof RegExp?r.test(e):typeof r=="string"&&e.startsWith(r),i=qt.apiKeys;if(Array.isArray(i.scopes)){for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(t))return r.token}else if(t(r.urls))return r.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?i.basemapStyles:qt.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?qt.apiKey:null}function Q3(){return qt.apiKey!=null||qt.apiKeys.basemapStyles!=null}function gte(e,t){return t?ZP(e):WP(e)!=null}function ZP(e){const t=ao(e,!0);return!!t&&!mte.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function yte(e,t,i=!1,r){return new Promise((n,s)=>{if(In(r))return void s(r4());let a=()=>{f(),s(new Error(`Unable to load ${t}`))},u=async()=>{const v=e;try{await v.decode()}catch{}f(),n(v)},h=()=>{if(!e)return;const v=e;f(),v.src="",s(r4())};const f=()=>{e&&(e.removeEventListener("error",a),e.removeEventListener("load",u),a=null,u=null,e=null,r?.removeEventListener("abort",h),h=null,i&&URL.revokeObjectURL(t))};r?.addEventListener("abort",h),e.addEventListener("error",a),e.addEventListener("load",u)})}function r4(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const q8="Timeout exceeded";function vte(){return new Error(q8)}function hTe(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===q8}function _te(e){qt.request.crossOriginNoCorsDomains||(qt.request.crossOriginNoCorsDomains={});const t=qt.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[ao(i)??""]=0:(t[ao("http://"+i)??""]=0,t[ao("https://"+i)??""]=0)}function wte(e){const t=qt.request.crossOriginNoCorsDomains;if(t){let i=ao(e);if(i)return i=i.toLowerCase(),!Tf(i,NP())&&t[i]<Date.now()-36e5}return!1}async function bte(e){const t=ss(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=qt.request.crossOriginNoCorsDomains,r=ao(e);i&&r&&(i[r.toLowerCase()]=Date.now())}const e$=new Map;function Ste(e,t){const i=t?.preferredHost;if(!i||Tf(e,`https://${i}`,!0))return;const r=B_(e);if(!r||r.serverType!=="FeatureServer"||p8(e))return;const n=r.url.path.toLowerCase();e$.has(n)||e$.set(n,i)}function n4(e){const t=B_(e)?.url.path.toLowerCase();if(!t)return e;const i=e$.get(t);return i?Wee(e,i):e}async function tr(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=DP(t.query.toString().replaceAll("+"," ")));const i=Uf(e),r=z_(e);r||i||(e=ph(e));const n={url:e,requestOptions:{...t}},s=M=>({data:M,getAllHeaders:Mg,getHeader:Mg,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),a=W3(e,Uo.internalInterceptors);if(a){const M=await o4(a,n);if(M!=null)return s(M)}let u=W3(e);if(u){const M=await o4(u,n);if(M!=null)return s(M);u.after||u.error||(u=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(pe("host-webworker")||pe("host-node")))throw Ca("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw Ca("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(i||r)throw Ca("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await $te(),HS)return HS.execute(e,t);const h=new AbortController,f=Yo(t,()=>h.abort()),v={controller:h,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:u,params:n,redoRequest:!1,useIdentity:Uo.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},w=t.useRequestQueue?Rte(v):i$(v),x=await w.finally(()=>f?.remove());return u?.after?.(x),x}let HS,G8=!1;const Uo=qt.request,V8="FormData"in globalThis,xte=new Set([499,498,403,401]),Tte=new Set(["COM_0056","COM_0057","SB_0008"]),Mte=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Mg=()=>null,WS=Symbol();function Ete(e){const t=ao(e);t&&!tr._corsServers.includes(t)&&tr._corsServers.push(t)}function s4(e){const t=ao(e);return!t||t.endsWith(".arcgis.com")||tr._corsServers.includes(t)||zP(t)}function Ca(e,t,i,r){let n;const s={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Mg,getHeader:Mg,ssl:!1};if(t instanceof $e)return t.details?(t.details=ke(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=s,t;if(t){const a=r&&(()=>Array.from(r.headers)),u=r&&(v=>r.headers.get(v)),h=r?.status,f=t.message;f&&(n=f),a&&u&&(s.getAllHeaders=a,s.getHeader=u),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||h||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?(s.messages=[t.details],n??=t.details):(s.messages=t.details,n??=s.messages?.[0]),s.raw=WS in t?t[WS]:t}return n??="Error",sn(t)?ai():new $e(e,n,s)}async function $te(){pe("host-webworker")&&(!HS&&globalThis.invokeStaticMessage?HS=await Ne(()=>import("./request-CAmbeTx1.js"),[],import.meta.url):G8=!0)}async function t$(){Mi||await Ne(()=>import("./IdentityManager-COXcBnHS.js"),__vite__mapDeps([0,1]),import.meta.url)}async function Cte(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,n=i.body;let s=null,a=null;if(V8&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(a=n),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},keepalive:i.keepAlive??!1,method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Uo.priority,redirect:"follow",signal:r},(s||a)&&(e.fetchOptions.body=s||a),(G8||i.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||s?.get("token")),!e.hasToken){const u=WP(t);u&&(i.query??={},i.query.token=u,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!H8(t)&&!In(r)){let u;i.authMode==="immediate"?(await t$(),u=await Mi.getCredential(t,{signal:r})):i.authMode==="no-prompt"?(await t$(),u=await Mi.getCredential(t,{prompt:!1,signal:r}).catch(()=>{})):Mi&&(u=Mi.findCredential(t)),u&&(e.credential=u,e.credentialToken=u.token,e.useSSL=!!u.ssl)}}function H8(e){return Mte.some(t=>t.test(e))}async function Ote(e){let t=e.params.url,i=n4(t);const r=e.params.requestOptions,n=e.fetchOptions??{},s=z_(t)||Uf(t),a=r.responseType||"json",u=s?0:r.timeout!=null?r.timeout:Uo.timeout;let h=!1;if(!s){e.useSSL&&(t=BP(t));let M={...r.query};e.credentialToken&&(M.token=e.credentialToken);let P=t_(M);pe("esri-url-encodes-apostrophe")&&(P=P.replaceAll("'","%27"));const O=i.length+1+P.length;let F;h=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||O>Uo.maxUrlLength;const G=r.useProxy||!!hx(t);if(G){const Y=w8(t);F=Y.path,!h&&F.length+1+O>Uo.maxUrlLength&&(h=!0),Y.query&&(M={...Y.query,...M})}if(n.method==="HEAD"&&(h||G)){if(h)throw O>Uo.maxUrlLength?Ca("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ca("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(G)throw Ca("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}h?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=yE(t,M):(n.body=t_(M),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=yE(t,M),G&&(e.useProxy=!0,t=`${F}?${t}`),M.token&&V8&&n.body instanceof FormData&&!p8(t)&&n.body.set("token",M.token),r.hasOwnProperty("withCredentials")?e.withCredentials=r.withCredentials:Tf(t,NP())||(zP(t)||Mi&&Mi.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(n.credentials="include",wte(t)&&await bte(h?yE(t,M):t)),i=n4(t)}let f,v,w=0,x=!1;u>0&&(w=setTimeout(()=>{x=!0,e.controller.abort()},u));try{if(r.responseType==="native-request-init")v=n,v.url=i,r.signal?v.signal=r.signal:delete v.signal;else if(r.responseType!=="image"||n.cache!=="default"||n.keepalive||n.method!=="GET"||h||Pte(r.headers)||!s&&!e.useProxy&&Uo.proxyUrl&&!s4(t)){if(tr._beforeFetch&&await tr._beforeFetch(t,n),f=await fetch(i,n),tr._afterFetch&&await tr._afterFetch(f),e.useProxy||Ete(t),r.responseType==="native")v=f;else if(n.method!=="HEAD")if(f.ok){switch(a){case"array-buffer":v=await f.arrayBuffer();break;case"blob":case"image":v=await f.blob();break;default:v=await f.text()}if(w&&(clearTimeout(w),w=0),a==="json"||a==="xml"||a==="document")if(v)switch(a){case"json":v=JSON.parse(v);break;case"xml":v=a4(v,"application/xml");break;case"document":v=a4(v,"text/html")}else v=null;if(v){if(a==="array-buffer"||a==="blob"){const M=f.headers.get("Content-Type");if(M&&/application\/json|text\/plain/i.test(M)&&v[a==="blob"?"size":"byteLength"]<=750)try{const P=await new Response(v).json();P.error&&(v=P)}catch{}}a==="image"&&v instanceof Blob&&(v=await l4(URL.createObjectURL(v),e,!0))}}else{v=await f.text();try{v=JSON.parse(v)}catch{}}}else v=await l4(i,e)}catch(M){if(M.name==="AbortError")throw x?vte():ai("Request canceled");if(!(!f&&M instanceof TypeError&&Uo.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||s4(t))throw M;e.redoRequest=!0,Ree({proxyUrl:Uo.proxyUrl,urlPrefix:ao(t)??""})}finally{w&&clearTimeout(w)}return[f,v]}async function o4(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(n){i=Ca("request:interceptor",n,t)}if((r instanceof Error||r instanceof $e)&&(i=Ca("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function Pte(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function a4(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}tr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],tr._beforeFetch=void 0,tr._afterFetch=void 0;const Ate=new Map;async function Rte(e){const t=kte(e.params.url);if(!t)return i$(e);const{QueueProcessor:i}=await Ne(()=>import("./QueueProcessor-B1ehVXih.js"),[],import.meta.url);return U_(Ate,t.origin,()=>{const n=t.isHosted?pe("request-queue-concurrency-hosted"):pe("request-queue-concurrency-non-hosted");return new i({concurrency:n,process:s=>{if(In(s.params.requestOptions))throw Ca("",ai("Request canceled"),s.params);return i$(s)}})}).push(e)}async function i$(e){let t,i;await Cte(e);try{do[t,i]=await Ote(e);while(!await Lte(e,t,i))}catch(s){const a=Ca("request:server",s,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(a),a}const r=e.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!zP(r)){const s=ao(r,!0);s&&Uo.trustedServers.push(s)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&_te(i.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&Ste(r,i);const n=e.credential;if(n&&Mi){let a=Mi.findServerInfo(n.server)?.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const u=Mi.findCredential(a,n.userId);u&&Mi._getIdenticalSvcIdx(a,u)===-1&&u.resources.unshift(a)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Mg,getHeader:t?s=>t.headers.get(s):Mg,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Lte(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let n,s;if(i&&(i.error&&typeof i.error=="object"?n=i.error:i.status==="error"&&Array.isArray(i.messages)&&(n={...i},n[WS]=i,n.details=i.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[WS]=i,n;let a,u=null;n&&(s=Number(n.code),u=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a?.toUpperCase());const h=r.authMode;if(s===403&&(u===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(h!=="no-prompt"||s===498)&&s!==void 0&&xte.has(s)&&!H8(e.params.url)&&(s!==403||(!a||!Tte.has(a))&&(u==null||u===2&&e.credentialToken))){await t$();try{const f=await Mi.getCredential(e.params.url,{error:Ca("request:server",n,e.params),credential:e.credential,prompt:h!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=f,e.credentialToken=f.token,e.useSSL=e.useSSL||f.ssl,!1}catch(f){if(h==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=f}}if(n)throw n;return!0}function l4(e,t,i=!1){const r=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Uo.priority,n.src=e,yte(n,e,i,r)}function kte(e){let t,i;return typeof e=="string"?(t=ao(e,!0),i=i4(e)):(t=e.origin,i=i4(e.toString())),t==null?null:{origin:t,isHosted:i}}function Ite(e){return e?.release&&typeof e.release=="function"}function Nte(e){return e?.acquire&&typeof e.acquire=="function"}var _h;let Jg=(_h=class{constructor(t,i,r,n=1,s=0){this._creator=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let a=0;a<s;a++)this._pool[a]=this._creator();this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let i;if(_h.test.disabled)i=this._creator();else{if(this._pool.length===0){const r=this.allocationSize;for(let n=0;n<r;n++)this._pool[n]=this._creator()}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):Nte(i)&&i.acquire(...t),i}release(t){t&&!_h.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Ite(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}},_h.test={disabled:!!pe("esri-tests-disable-memory-pools")},_h);function Dte(e){e.length=0}let ts=class{constructor(t=50,i=50){this._pool=new Jg(()=>[],void 0,Dte,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return vE.acquire()}static release(t){return vE.release(t)}static prune(){vE.prune()}};const vE=new ts(100),u4=new WeakMap;function jte(e,t,i=!1){const r=` DEPRECATED - ${t}`;if(!i)return void e.warn(r);let n=u4.get(e);n||(n=new Set,u4.set(e,n)),n.has(t)||(n.add(t),e.warn(r))}const ZS="https://www.esriurl.com/";function YP(e,t,i,r={}){pe("esri-deprecation-warnings")&&Sh(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${ZS}${i}/`,`Esri's move to web components: ${ZS}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function W8(e,t,i,r={}){pe("esri-deprecation-warnings")&&Sh(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${ZS}${i}/`,`Esri's move to web components: ${ZS}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function fTe(e,t,i={}){pe("esri-deprecation-warnings")&&Sh(e,`Module: ${t}`,i)}function Z8(e,t,i={}){if(pe("esri-deprecation-warnings")){const{moduleName:r}=i;Sh(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function r$(e,t,i={}){if(pe("esri-deprecation-warnings")){const{moduleName:r}=i;Sh(e,`Property: ${(r?r+"::":"")+t}`,i)}}function zte(e,t,i={}){pe("esri-deprecation-warnings")&&Sh(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function Sh(e,t,i={}){if(pe("esri-deprecation-warnings")){const{replacement:r,version:n,see:s,warnOnce:a}=i;let u=t;if(r&&(u+=`
	 Replacement: ${r}`),n&&(u+=`
	 Version: ${n}`),s)if(Array.isArray(s)){u+=`
	 See for more details:`;for(const h of s)u+=`
		${h}`}else u+=`
	 See ${s} for more details.`;jte(e,u,a)}}function pTe(e){const t=[];return function*(){yield*t;let i,r=t.length;for(;!(i=e.next()).done;)for(t.push(i.value),yield i.value;++r<t.length;)yield t[r]}}function Ute(e,t){for(const i of e)if(i!=null&&t(i))return i}function YS(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Xg=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(YS(t)){const r=this._getOrCreateGroup(i);for(const n of t)h4(n)&&r.push(n)}else h4(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(zw(t))}remove(t){if(typeof t!="string"&&YS(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(c4(this._getGroup(t)),this._groups.delete(zw(t)),this):this}removeAll(){return this._groups.forEach(c4),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(zw(t),i),i}_getGroup(t){return this._groups.get(zw(t))}};function zw(e){return e||"_default_"}function c4(e){for(const t of e)t instanceof Xg?t.removeAll():t.remove()}function h4(e){return e!=null&&(!!e.remove||e instanceof Xg)}const Y8=Symbol("Accessor-beforeDestroy");function xh(e){return e.__accessor__??null}function Fte(e,t){return e?.metadata?.[t]!=null}function Pb(e,t,i){return i?JS(e,t,{policy:i,path:""}):JS(e,t,null)}function JS(e,t,i){return t?Object.keys(t).reduce((r,n)=>{const s=n;if(s==="__proto__")return r;let a=null,u="merge";if(i&&(a=i.path?`${i.path}.${n}`:n,u=i.policy(a)),u==="replace"||u==="replace-arrays"&&Array.isArray(r[s]))return r[s]=t[s],r;if(r[s]===void 0)return r[s]=ke(t[s]),r;let h=r[s],f=t[s];if(h===f)return r;if(Array.isArray(f)||Array.isArray(r))h=h?Array.isArray(h)?r[s]=h.slice():r[s]=[h]:r[s]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(v=>{h.includes(v)||h.push(v)}));else if(f&&typeof f=="object")if(i){const v=i.path;i.path=a,r[s]=JS(h,f,i),i.path=v}else r[s]=JS(h,f,null);else r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[s]=f);return r},e||{}):e}function J8(e){return Array.isArray(e)?e:e.split(".")}function d4(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Bte(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...d4(i));return t}return d4(e)}function X8(e,t,i,r){const n=Bte(t);if(n.length!==1){const s=n.map(a=>r(e,a,i));return Ff(s)}return r(e,n[0],i)}function K8(e,t){const i=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const r=xh(t);return Fte(r,i)?r.get(i):t[i]}function Q8(e,t,i){if(e==null)return e;const r=K8(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:Q8(r,t,i+1)}function q_(e,t,i=0){return typeof t!="string"||t.includes(".")?Q8(e,J8(t),i):K8(t,e)}function fl(e,t){return q_(e,t)}function f4(e,t){return q_(t,e)!==void 0}const ro={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function Kg(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ke(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function G_(e,t){const i=Kg(e);let r=i[t];return r||(r=i[t]={}),r}function qte(e,t){return Pb(e,t,Vte)}const Gte=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Vte(e){return Gte.test(e)?"replace":"merge"}let Hte=class{constructor(t,i){this._observers=t,this._observer=i}remove(){Xz(this._observers,this._observer)}},e9=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Wte;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,n=!1;const s=i.length;for(let a=0;a<s;++a){const u=i[a];if(u.destroyed)n=!0;else if(u===t){r=!0;break}}return r||(i.push(t),n&&this._removeDestroyedObservers()),new Hte(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let n=0;n<i;++n){for(;n+r<i&&t[n+r].destroyed;)++r;if(r>0){if(!(n+r<i))break;t[n]=t[n+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const Wte=jt(),ji={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let mx=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const XS=new mx,qv=[];let T0=XS;function ut(e){T0.onAccessed(e)}let Ab=!1,Rb=!1;function Nu(e,t,i){if(Ab)return JP(e,t,i);let r=null;return t9(e),r=t.call(i),i9(),r}function Zte(e,t){return Nu(XS,e,t)}function JP(e,t,i){const r=Ab;Ab=!0,t9(e);let n=null;try{n=t.call(i)}catch(s){Rb&&ze.getLogger("esri.core.accessorSupport.tracking").error(s)}return i9(),Ab=r,n}function t9(e){T0=e,qv.push(e)}function i9(){const e=qv.length;if(e>1){const t=qv.pop();T0=qv[e-2],t.onTrackingEnd()}else if(e===1){const t=qv.pop();T0=XS,t.onTrackingEnd()}else T0=XS}function r9(e,t){if(t.flags&ji.DepTrackingInitialized)return;t.flags|=ji.DepTrackingInitialized;const i=Rb;Rb=!1,t.flags&ji.AutoTracked?JP(t.trackingTarget,t.metadata.get,e):n9(e,t),Rb=i}const Yte=[];function n9(e,t){t.flags&ji.ExplicitlyTracking||(t.flags|=ji.ExplicitlyTracking,JP(t.trackingTarget,()=>{const i=t.metadata.dependsOn||Yte;for(const r of i)if(typeof r!="string"||r.includes(".")){const n=J8(r);for(let s=0,a=e;s<n.length&&a!=null&&typeof a=="object";++s)a=p4(a,n[s],s!==n.length-1)}else p4(e,r,!1)}),t.flags&=-129)}function p4(e,t,i){const r=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const n=xh(e);if(n){const s=n.propertiesByName.get(r);s&&(ut(s),r9(e,s))}return i?e[r]:void 0}let m4=class extends e9{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new mx(this),this.flags=0,this.flags=ji.Dirty|(i.nonNullable?ji.NonNullable:0)|(i.hasOwnProperty("value")?ji.HasDefaultValue:0)|(i.get===void 0?ji.DepTrackingInitialized:0)|(i.dependsOn===void 0?ji.AutoTracked:0)}destroy(){this.flags&ji.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&ut(this);const i=t.store,r=this.propertyName,n=this.flags,s=i.get(r);if(n&ji.Computing||~n&ji.Dirty&&i.has(r))return s;this.flags|=ji.Computing;const a=t.host;let u;n&ji.AutoTracked?u=Nu(this.trackingTarget,this.metadata.get,a):(n9(a,this),u=this.metadata.get.call(a)),this.flags|=ji.DepTrackingInitialized,i.set(r,u,1);const h=i.get(r);return h===s?this.flags&=-2:Zte(this.commit,this),this.flags&=-5,h}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&ji.Overridden&&(this.flags|=ji.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}};const wTe=8;function XP(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function n$(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function Jte(e){return n$(e)}let Xte=class s9{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new s9;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,ke(r))}),i}get(t){return this._values.get(t)}originOf(){return 7}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,i){return this.has(t)}isBelowOrigin(t,i){return!this.has(t)}forEach(t){this._values.forEach(t)}};function Ip(e,t,i){return e!==void 0}function g4(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&ji.NonNullable)||(r.lifecycle,!1))}let Kte=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=ro.INITIALIZING,this.store=new Xte,this.mutable=!0,this._origin=7;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const n=new m4(r,i[r]);this.propertiesByName.set(r,n)}this.metadata=i}initialize(){this.lifecycle=ro.CONSTRUCTING}constructed(){this.lifecycle=ro.CONSTRUCTED}destroy(){this.lifecycle=ro.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==ro.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(!Ip(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&ut(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&ji.HasDefaultValue)return"defaults"}return n$(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(Ip(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);Ip(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const n=this.propertiesByName.get(i);if(!Ip(n))return"";const s=new mx,a=Nu(s,()=>n.metadata.get?.call(t));let u=`${r}${t.declaredClass.split(".").pop()}.${i}: ${a}
`;const h=s.accessed??new Set;if(h.size===0)return u;r+="  ";for(const f of h)f instanceof m4&&(u+=`${r}${f.propertyName}: undefined
`);return u}setAtOrigin(t,i,r){const n=this.propertiesByName.get(t);if(Ip(n))return this._setAtOrigin(n,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&ji.Overridden)}clearOrigin(t,i){const r=this.store,n=this.propertiesByName.get(t);if(!Ip(n))return;const s=r.isAtOrigin(t,i)&&!(n.flags&ji.Overridden);r.delete(t,i),s&&n.notifyChange()}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&ji.Overridden&&(i.flags&=-3,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!g4(r,t,i,this))return;const n=r.metadata.cast;if(n){const s=this._cast(n,i),{valid:a,value:u}=s;if(_E.release(s),!a)return;i=u}r.flags|=ji.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!g4(r,t,i,this))return;const n=r.metadata.cast;if(n){const a=this._cast(n,i),{valid:u,value:h}=a;if(_E.release(a),!u)return;i=h}const s=r.metadata.set;s?s.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=XP(t)}getDefaultOrigin(){return n$(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==ro.INITIALIZING?this._origin:0;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const n=this.store,s=t.propertyName;if(n.isAtOrigin(s,r)&&kP(i,n.get(s))&&~t.flags&ji.Overridden)return;const a=n.isBelowOrigin(s,r)||n.isAtOrigin(s,r);a&&t.invalidate(),n.set(s,i,r),a&&t.commit(),r9(this.host,t)}_cast(t,i){const r=_E.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},Qte=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const _E=new Jg(()=>new Qte);function KS(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))KS(e,r,t[r]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(-1,1)[0];return void KS(fl(e,n),s,i)}const r=e.__accessor__;r!=null&&eie(t,r),e[t]=i}}function eie(e,t){if(pe("esri-unknown-property-errors")&&!tie(e,t))throw new $e("set:unknown-property",iie(e,t))}function tie(e,t){return t.metadata[e]!=null}function iie(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let rie;function nie(){return rie}let o9=class extends Jg{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Uw=[];function QS(e){Uw.push(e),Uw.length===1&&queueMicrotask(()=>{const t=Uw.slice();Uw.length=0;for(const i of t)i()})}let M0=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const e2=(e,t,i,r)=>{let n=t,s=t;const a=i>>>1,u=e[n-1];for(;s<=a;){s=n<<1,s<i&&r(e[s-1],e[s])<0&&++s;const h=e[s-1];if(r(h,u)<=0)break;e[n-1]=h,n=s}e[n-1]=u},a9=(e,t)=>e<t?-1:e>t?1:0;function sie(e,t,i,r){i===void 0&&(i=e.length),r===void 0&&(r=a9);for(let s=i>>>1;s>t;s--)e2(e,s,i,r);const n=t+1;for(let s=i-1;s>t;s--){const a=e[t];e[t]=e[s],e[s]=a,e2(e,n,s,r)}}function*oie(e,t,i,r){i===void 0&&(i=e.length),r===void 0&&(r=a9);for(let s=i>>>1;s>t;s--)e2(e,s,i,r),yield;const n=t+1;for(let s=i-1;s>t;s--){const a=e[t];e[t]=e[s],e[s]=a,e2(e,n,s,r),yield}}const aie=1.5,lie=1.1;let l9=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Zz,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>y4(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];t(n)&&i.push(n)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,y4(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=G3(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(G3(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=aee(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){sie(this.data,0,this.length,t)}iterableSort(t){return oie(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)if(t.call(i,r[s]))return r[s]}filterInPlace(t,i){let r=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(i,s,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=s,r++)}if(this._deallocator)for(let n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)t.call(i,r[s],s,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=t.call(i,this.data[n],n,this.data);return r}reduce(t,i){let r=i;for(let n=0;n<this.length;++n)r=t(r,this.data[n],n,this.data);return r}has(t){const i=this.length,r=this.data;for(let n=0;n<i;++n)if(r[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function y4(e){e.data.length>aie*e.length&&(e.data.length=Math.floor(e.length*lie))}function ETe(e){return e}function uie(e){return 1e3*e}function $Te(e){return e}function CTe(e){return .001*e}let cie=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},hie=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},s$=0;const yv={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},o$=["prepare","preRender","render","postRender","update","finish"],a$=[],Ef=new l9;let die=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,u9()}};function fie(){cf!=null&&(cancelAnimationFrame(cf),cf=requestAnimationFrame(KP))}function u9(){cf==null&&(s$=performance.now(),cf=requestAnimationFrame(KP))}const t2={frameTasks:Ef,willDispatch:!1,clearFrameTasks:pie,dispatch:h9,executeFrameTasks:mie,reschedule:fie};function Qg(e){const t=new hie(e);return a$.push(t),t2.willDispatch||(t2.willDispatch=!0,QS(h9)),t}function Eg(e){const t=new cie(e);return Ef.push(t),u9(),new die(t)}let cf=null;function pie(e=!1){Ef.forAll(t=>{t.removed=!0}),e&&c9()}function KP(){const e=performance.now();cf=null,cf=Ef.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(KP):null,t2.executeFrameTasks(e)}function mie(e){const t=e-s$;s$=e;const i=1e3/60,r=Math.max(0,t-i);yv.time=e,yv.frameDuration=i-r;for(let n=0;n<o$.length;n++){const s=performance.now(),a=o$[n];Ef.forAll(u=>{u.paused||u.removed||(n===0&&u.ticks++,u.phases[a]&&(yv.elapsedFrameTime=performance.now()-e,yv.deltaTime=u.ticks===0?0:t,u.phases[a]?.call(u,yv)))}),_ie[n].push(performance.now()-s)}c9(),wie.push(performance.now()-e)}const Fw=new l9;function c9(){Ef.forAll(e=>{e.removed&&Fw.push(e)}),Ef.removeUnorderedMany(Fw.data,Fw.length),Fw.clear()}function h9(){for(;a$.length;){const e=a$.shift();e.isActive&&e.callback()}t2.willDispatch=!1}function gie(e=1,t){const i=uo(),r=()=>{In(t)?i.reject(ai()):e===0?i():(--e,QS(()=>r()))};return r(),i.promise}function yie(e){return gie(1,e)}async function vie(e){await yie(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const _ie=o$.map(e=>new M0(e)),wie=new M0("total");function d9(e,t){for(const i of e.values())if(t(i))return!0;return!1}function v4(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function RTe(e,t){return t!=null&&e.add(t),e}function QP(e,t){const i=new Set;return v4(i,e),v4(i,t),i}function bie(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function LTe(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function kTe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function Sie(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function xie(e,t){return Sie(QP(e,t),bie(e,t))}let Tie=0;function Lb(){return++Tie}let gx=class extends mx{constructor(t){super(new Mie(t)),this._observer&&_4.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&_4.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Mie=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Eie}};const _4=new FinalizationRegistry(e=>{e.deref()?.destroy()});function Eie(){}let jm=!1;const i2=[];function f9(e,t){let i=new gx(s),r=null,n=!1;function s(){if(!i||n)return;if(jm)return void m9(s);const u=r;i.clear(),jm=!0,n=!0,r=Nu(i,e),n=!1,jm=!1,t(r,u),g9()}function a(){i&&(i.destroy(),i=null,r=null)}return n=!0,r=Nu(i,e),n=!1,jt(a)}function p9(e,t){let i=new gx(n),r=null;function n(){t(r,a)}function s(){i&&(i.destroy(),i=null),r=null}function a(){return i?(i.clear(),r=Nu(i,e),r):null}return a(),jt(s)}function $ie(e,t){let i=!1,r=!1;const n=!!t?.sync;let s=new gx(()=>{i||r||(r=!0,n?a():queueMicrotask(a))});function a(){r=!1,s&&!i&&(jm?m9(a):(s.clear(),jm=!0,i=!0,Nu(s,e),i=!1,jm=!1,g9()))}function u(){s&&(s.destroy(),s=null)}return i=!0,Nu(s,e),i=!1,jt(u)}function m9(e){i2.includes(e)||i2.unshift(e)}function g9(){for(;i2.length;)i2.pop()()}var yf;let eA=(yf=class{constructor(){this.uid=Lb(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,n,s){return this.pool.acquire(0,t,i,r,n,s,kP)}static acquireTracked(t,i,r,n){return this.pool.acquire(1,t,i,r,null,null,n)}notify(t,i){this.type===0?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,n,s,a,u){this.uid=Lb(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=n,this.target=s,this.path=a,this.equals=u}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Lb(),this.removed=!0}},yf.pool=new o9(()=>new yf),yf);const kb=new ts,Lu=new Set;let r2;function n2(e){Lu.delete(e),Lu.add(e),y9()}function y9(){r2||(r2=Qg(Pie))}function Cie(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function Oie(e){for(const t of Lu.values())t.target===e&&(t.removed=!0)}function Pie(){let e=10;for(;r2&&e--;){r2=null;const t=Aie(),i=kb.acquire();for(const r of t){const n=r.uid;Cie(r),n===r.uid&&r.removed&&i.push(r)}for(const r of Lu)r.removed&&(i.push(r),Lu.delete(r));for(const r of i)eA.pool.release(r);kb.release(i),kb.release(t),l$.forEach(r=>r())}}function Aie(){const e=kb.acquire();e.length=Lu.size;let t=0;for(const i of Lu)e[t]=i,++t;return Lu.clear(),e}const l$=new Set;function Rie(e){return l$.add(e),jt(()=>l$.delete(e))}function Lie(e,t,i){let r=X8(e,t,i,(n,s,a)=>{let u,h,f=p9(()=>q_(n,s),(v,w)=>{n.__accessor__?.lifecycle===ro.DESTROYED||u&&u.uid!==h?r.remove():(u||(u=eA.acquireUntracked(v,a,w,n,s),h=u.uid),n2(u))});return jt(()=>{f.remove(),u&&(u.uid!==h||u.removed||(u.removed=!0,n2(u)),u=null),r=f=null})});return r}function kie(e,t,i){const r=X8(e,t,i,(n,s,a)=>{let u=!1;return f9(()=>q_(n,s),(h,f)=>{n.__accessor__.lifecycle!==ro.DESTROYED?u||(u=!0,kP(f,h)||a.call(n,h,f,s,n),u=!1):r.remove()})});return r}function Iie(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==ro.DESTROYED?r?kie(e,t,i):Lie(e,t,i):jt()}function Nie(e,t,i){let r,n,s=p9(e,(a,u)=>{r&&r.uid!==n?s.remove():(r||(r=eA.acquireTracked(a,t,u,i),n=r.uid),n2(r))});return jt(()=>{s.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,n2(r)),r=null),s=null})}function Die(e,t,i){let r=!1;return f9(e,(n,s)=>{r||(r=!0,i(s,n)||t(n,s),r=!1)})}function jie(e,t,i=!1,r=o8){return i?Die(e,t,r):Nie(e,t,r)}function w4(e){return d9(Lu,t=>t.oldValue===e)}const hf=()=>ze.getLogger("esri.core.accessorSupport.ensureTypes");function zie(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(hf().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function Uie(e){return e==null?e:!!e}function Fie(e){return e==null?e:e.toString()}function no(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function tA(e){return e==null?e:Math.round(parseFloat(e))}function Bie(e){return null}function qie(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function v9(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function s2(e,t){return t!=null&&e&&!(t instanceof e)}function _9(e){return e&&"isCollection"in e}function b4(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Gie(e,t){if(!t?.constructor||!_9(t.constructor))return u$(e,t)?t:new e(t);const i=b4(e.prototype.itemType),r=b4(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(u$(e,t),t):new e(t):t}function u$(e,t){return!!v9(t)&&(hf().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+vx(e)+"'"),!0)}function yx(e,t){return t==null?t:_9(e)?Gie(e,t):s2(e,t)?u$(e,t)?t:new e(t):t}function vx(e){return e?.prototype?.declaredClass||"unknown"}const Vie=new WeakMap;function Hie(e){switch(e){case Number:return t=>no(t);case fi:return tA;case Boolean:return Uie;case String:return Fie;case Date:return zie;case iA:return Bie;default:return U_(Vie,e,()=>yx.bind(null,e))}}function jn(e,t){const i=Hie(e);return arguments.length===1?i:i(t)}function i_(e,t,i){return arguments.length===1?i_.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function Wie(e,t){return arguments.length===1?i_(i=>jn(e,i)):i_(i=>jn(e,i),t)}function w9(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>w9(e,t-1,r)):e(i)}function o2(e,t,i){if(arguments.length===2)return s=>o2(e,t,s);if(!i)return i;i=w9(e,t,i);let r=t,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(n!==void 0)for(let s=0;s<r;s++)i=[i];return i}function Zie(e,t,i){return arguments.length===2?o2(r=>jn(e,r),t):o2(r=>jn(e,r),t,i)}function b9(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function c$(e,t){if(arguments.length===2)return c$(e).call(null,t);const i=new Set,r=e.filter(u=>typeof u!="function"),n=e.filter(u=>typeof u=="function");for(const u of e)typeof u!="string"&&typeof u!="number"||i.add(u);let s=null,a=null;return(u,h)=>{if(u==null)return u;const f=typeof u,v=f==="string"||f==="number";return v&&(i.has(u)||n.some(w=>f==="string"&&w===String||f==="number"&&w===Number))||f==="object"&&n.some(w=>!s2(w,u))?u:(v&&r.length?(s||(s=r.map(w=>typeof w=="string"?`'${w}'`:`${w}`).join(", ")),hf().error("Accessor#set",`'${u}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof u=="object"&&n.length?(a||(a=n.map(w=>vx(w)).join(", ")),hf().error("Accessor#set",`'${u}' is not a valid value for this property, value must be one of ${a}`)):hf().error("Accessor#set",`'${u}' is not a valid value for this property`),h&&(h.valid=!1),null)}}function Th(e,t){if(arguments.length===2)return Th(e).call(null,t);const i={},r=[],n=[];for(const h in e.typeMap){const f=e.typeMap[h];i[h]=jn(f),r.push(vx(f)),n.push(h)}const s=()=>`'${r.join("', '")}'`,a=()=>`'${n.join("', '")}'`,u=typeof e.key=="string"?h=>h[e.key]:e.key;return h=>{if(e.base&&!s2(e.base,h)||h==null)return h;const f=u(h)||e.defaultKeyValue,v=i[f];if(!v)return hf().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!s2(e.typeMap[f],h))return h;if(typeof e.key=="string"&&!v9(h)){const w={};for(const x in h)x!==e.key&&(w[x]=h[x]);return v(w)}return v(h)}}let fi=class{},iA=class{};const zTe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Yie(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function S9(e){switch(e.type){case"native":return jn(e.value);case"array":return i_(S9(e.value));case"one-of":return Jie(e);default:return null}}function Jie(e){let t=null;return(i,r)=>d$(i,e)?i:(t==null&&(t=h$(e)),hf().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function h$(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case fi:return"integer";case Date:return"date";case iA:return"null";default:return vx(e.value)}case"array":return`array of ${h$(e.value)}`;case"one-of":{const t=e.values.map(i=>h$(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function d$(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case fi:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case iA:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!d$(i,t.value));case"one-of":return t.values.some(i=>d$(e,i))}}function _(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),n=G_(t,i);r&&(r.get||r.set?(n.get=r.get||n.get,n.set=r.set||n.set):"value"in r&&("value"in e&&ze.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=r.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const h=typeof s=="string"?s:s.source,f=typeof s=="string"?null:s.overridable===!0;let v;n.dependsOn=[h],n.get=function(){let w=fl(this,h);if(typeof w=="function"){v||(v=h.split(".").slice(0,-1).join("."));const x=fl(this,v);x&&(w=w.bind(x))}return w},n.readOnly||(n.set=f?function(w){this._override(i,w)}:function(w){KS(this,h,w)})}const a=e.type,u=e.types;if(!n.cast){let h;a?h=Xie(a):u&&(h=Array.isArray(u)?i_(Th(u[0])):Th(u)),e.cast=Kie(e.cast,h)}qte(n,e),e.range&&(n.cast=qie(n.cast,e.range))}}function rA(e,t,i){const r=G_(e,i);r.json||(r.json={});let n=r.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function Xie(e){let t=0,i=e;if(Yie(e))return S9(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(b9(r))return t===0?c$(r):o2(c$(r),t);if(t===1)return Wie(r);if(t>1)return Zie(r,t);const n=e;return n.from?n.from:jn(n)}function Kie(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}function Qie(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const n=t[r];i[r].forEach(s=>{t[s]=n}),delete t[r]}}}let bl=class extends d8{constructor(t,i,r){super(t,i,r)}};bl.prototype.type="warning";function x9(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}function ere(e,t){return nA(e,"any",t?.origin)}function a2(e,t){return nA(e,"read",t?.origin)}function T9(e,t){return nA(e,"write",t?.origin)}function nA(e,t,i){let r=e?.json;if(r?.origins&&i){let n;n=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],n&&(t==="any"||t in n)&&(r=n)}return r}const f$=()=>ze.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function S4(e,t,i){e&&(!i&&!t.read||t.read?.reader||t.read?.enabled===!1||rre(e)&&Vg("read.reader",sA(e),t))}function sA(e){const t=e.ndimArray??0;if(t>1)return ire(e);if(t===1)return x4(e);if("type"in e&&E9(e.type)){const i=e.type.prototype?.itemType?.Type,r=x4(typeof i=="function"?{type:i}:{types:i});return(n,s,a)=>{const u=r(n,s,a);return u&&new e.type(u)}}return oA(e)}function oA(e){return"type"in e?tre(e.type):nre(e.types)}function tre(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void f$().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,r),s}:e.fromJSON}function M9(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(n=>M9(e,n,i,r-1)):e(t,void 0,i)}function ire(e){const t=oA(e),i=M9.bind(null,t),r=e.ndimArray??0;return(n,s,a)=>{if(n==null)return n;n=i(n,a,r);let u=r,h=n;for(;u>0&&Array.isArray(h);)u--,h=h[0];if(h!==void 0)for(let f=0;f<u;f++)n=[n];return n}}function x4(e){const t=oA(e);return(i,r,n)=>{if(i==null)return i;if(Array.isArray(i)){const a=[];for(const u of i){const h=t(u,void 0,n);h!==void 0&&a.push(h)}return a}const s=t(i,void 0,n);return s!==void 0?[s]:void 0}}function E9(e){if(!x9(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?aA(t.Type):$9(t.Type))}function rre(e){return"types"in e?$9(e.types):aA(e.type)}function aA(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||E9(e))}function $9(e){for(const t in e.typeMap)if(!aA(e.typeMap[t]))return!1;return!0}function nre(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(n,s,a)=>{if(n==null)return n;const u=typeof n;if(u!=="object")return void f$().error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);t||(t=ore(e));const h=e.key;if(typeof h!="string")return;const f=n[sre(h,t,a)],v=f?t[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!v){const x=`Type '${f||"unknown"}' is not supported`;return a?.messages&&n&&a.messages.push(new bl(`${i}:unsupported`,x,{definition:n,context:a})),void f$().error(x)}const w=new v;return w.read(n,a),r?r(w):w}}function sre(e,t,i){const r=Object.values(t)[0],n=Kg(r.prototype)[e],s=a2(n,i),a=s?.read?.source;return a&&typeof a=="string"?a:e}function ore(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],n=Kg(r.prototype);if(typeof e.key=="function")continue;const s=n[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=r;continue}const a=s.json?.write;if(!a?.writer){t[i]=r;continue}const u=a.target,h=typeof u=="string"?u:e.key,f={};a.writer(i,f,h),f[h]&&(t[f[h]]=r)}return t}function are(e){if(e.json||(e.json={}),M4(e.json),E4(e.json),T4(e.json),e.json.origins)for(const t in e.json.origins)M4(e.json.origins[t]),E4(e.json.origins[t]),T4(e.json.origins[t]);return!0}function T4(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function M4(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function E4(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function $4(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(i===1||"type"in e&&x9(e.type))?t.write.writer=cre:i>1?t.write.writer=hre(i):t.types?Array.isArray(t.types)?t.write.writer=ure(t.types[0]):t.write.writer=lre(t.types):t.write.writer=r_}function lre(e){return(t,i,r,n)=>t?C9(t,e,n)?r_(t,i,r,n):void 0:r_(t,i,r,n)}function C9(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const r=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new $e(`${r}:unsupported`,n,{definition:e,context:i})),ze.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function ure(e){return(t,i,r,n)=>!t||!Array.isArray(t)?r_(t,i,r,n):r_(t.filter(s=>C9(s,e,n)),i,r,n)}function r_(e,t,i,r){Vg(i,l2(e,r),t)}function l2(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?u2(e):e}function u2(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function cre(e,t,i,r){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(s=>l2(s,r)),typeof n.toArray=="function"&&(n=n.toArray())):n=[l2(e,r)],Vg(i,n,t)}function O9(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>O9(r,t,i-1)):l2(e,t)}function hre(e){return(t,i,r,n)=>{let s;if(t===null)s=null;else{s=O9(t,n,e);let a=e,u=s;for(;a>0&&Array.isArray(u);)a--,u=u[0];if(u!==void 0)for(let h=0;h<a;h++)s=[s]}Vg(r,s,i)}}function dre(e){const t=fre(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],n=r.types?pre(r):t;S4(n,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),$4(n,r)}S4(t,e.json,!0),$4(t,e.json)}function fre(e){return e.json.types?p$(e.json):e.type?P9(e):p$(e)}function pre(e){return e.type?P9(e):p$(e)}function P9(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!b9(i);)i=i[0],t++;return{type:i,ndimArray:t}}function p$(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function mre(e){are(e)&&(Qie(e),dre(e))}const wE=new Set,bE=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,yre(t);const i=[],r=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!wE.has(n.initialize)&&(wE.add(n.initialize),i.push(n.initialize)),n.hasOwnProperty("destroy")&&!bE.has(n.destroy)&&(bE.add(n.destroy),r.push(n.destroy)),n=Object.getPrototypeOf(n);wE.clear(),bE.clear();const s=class extends t{constructor(...u){if(super(...u),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let h=i.length-1;h>=0;h--)i[h].call(this)}}),r.length){let h=!1;const f=this[Y8];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!h){this.__accessor__.lifecycle=ro.DESTROYING,h=!0,f.call(this);for(let v=0;v<r.length;v++)r[v].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Kg(t.prototype),s.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:a,configurable:!0}),s}}function gre(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&ut(r);const n=i.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function yre(e){const t=e.prototype,i=Kg(t),r={};for(const n of Object.getOwnPropertyNames(i)){const s=i[n];mre(s),r[n]={enumerable:!0,configurable:!0,get:gre(n,s),set(a){const u=this.__accessor__;if(u!==void 0){if(u.mutable)return u.initialized&&s.readOnly?C4("read-only",n):u.lifecycle===ro.CONSTRUCTED&&s.constructOnly?C4("construct-only",n):void u.set(n,a)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,r)}const C4=(e,t)=>{ze.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var O4,P4;function vre(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Mc=Symbol("Accessor-Handles"),SE=Symbol("Accessor-Initialized");var wh;let et=(wh=class{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class a extends s{constructor(...h){super(...h),this.inherited=null,n&&n.apply(this,h)}}Kg(a.prototype);for(const u in t){const h=t[u];a.prototype[u]=typeof h=="function"?function(...f){const v=this.inherited;let w;this.inherited=function(...x){if(s.prototype[u])return s.prototype[u].apply(this,x)};try{w=h.apply(this,f)}catch(x){throw this.inherited=v,x}return this.inherited=v,w}:t[u]}for(const u in i){const h=vre(i[u]);_(h)(a.prototype,u)}return ie(r)(a)}static freeze(t){return t instanceof wh?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof wh?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[O4]=null,this[P4]=!1,this.constructor===wh)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Kte(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[SE]=!0}initialize(){}[Y8](){this[Mc]=er(this[Mc])}destroy(){this.destroyed||(Oie(this),this.__accessor__.destroy(),nie()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[SE]}get destroyed(){return this.__accessor__?.lifecycle===ro.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===ro.DESTROYING||!1}commitProperty(t){fl(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return KS(this,t,i),this}watch(t,i,r){return Z8(ze.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Iie(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const n of r)n.remove();return}(this[Mc]??=new Xg).add(t,i)}removeHandles(t){this[Mc]?.remove(t)}removeAllHandles(){this[Mc]?.removeAll()}removeHandlesReference(t){this[Mc]?.removeReference(t)}hasHandles(t){return this[Mc]?.has(t)===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}},O4=Mc,P4=SE,wh);const _x=e=>{const t=e;class i extends t{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(n,s){let a=this._listenersMap?.get(n);if(!a)return!1;let u=!1;for(const h of a.slice()){const f="deref"in h?h.deref():h;f?f?.call(this,s):u=!0}return u&&(a=a.filter(h=>!("deref"in h)||h.deref()!=null),this._listenersMap.set(n,a)),a.length>0}on(n,s){if(Array.isArray(n)){const u=n.map(h=>this.on(h,s));return Ff(u)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const a=this._listenersMap.get(n)||[];return a.push(s),this._listenersMap.set(n,a),jt(()=>{const u=this._listenersMap?.get(n),h=u?.indexOf(s)??-1;h>=0&&u.splice(h,1)})}once(n,s){const a=this.on(n,u=>{a.remove(),("deref"in s?s.deref():s)?.call(null,u)});return a}hasEventListener(n){const s=this._listenersMap?.get(n);return s!=null&&s.length>0}}return i},A9=_x(class{}),_re=A9,Bf=_x(et);function R9(e){return(t,i)=>{t[i]=e}}let V_=class extends e9{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var su;let wre=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},bre=class{constructor(t,i,r,n,s){this.target=t,this.added=i,this.removed=r,this.start=n,this.deleteCount=s}};const Co=new Jg(()=>new wre,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function A4(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function xE(e){return e?e instanceof Wc?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function TE(e){if(e?.length)return e[0]}function Sre(e,t,i,r){const n=Math.min(e.length-i,t.length-r);let s=0;for(;s<n&&e[i+s]===t[r+s];)s++;return s}function L9(e,t,i,r){t&&t.forEach((n,s,a)=>{e.push(n),L9(e,i.call(r,n,s,a),i,r)})}const Ec=new Set,$c=new Set,Cc=new Set,ME=new Map;let xre=0,Wc=su=class extends Bf{static ofType(e){if(!e)return su;if(ME.has(e))return ME.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let i=class extends su{};return p([R9({Type:e,ensureType:typeof e=="function"?jn(e):Th(e)})],i.prototype,"itemType",void 0),i=p([ie(`esri.core.Collection<${t}>`)],i),ME.set(e,i),i}static isCollection(e){return e!=null&&e instanceof su}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new V_,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:xre++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof su?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return ut(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,xE(e)),this._emitAfterChanges(1))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:super.hasEventListener(e))}on(e,t){if(this.destroyed)return jt();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),jt(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return super.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,n=>{i()?.call(null,n),r.remove()});return r}add(e,t){if(ut(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(ut(this._observable),!e?.length)return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(t);return this._splice(i,0,xE(e)),this._emitAfterChanges(1),this}at(e){if(ut(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(ut(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._removeAllRaw();return this._emitAfterChanges(2),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return ut(this._observable),this._createNewInstance({items:this._items.map(ke)})}concat(...e){ut(this._observable);const t=e.map(xE);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(ut(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)e.call(t,i[n],n,i);this._emitAfterChanges(2)}destroyAll(){this.drain(A4)}destroyMany(e){const t=this.removeMany(e);return t.forEach(A4),t}every(e,t){return ut(this._observable),this._items.every(e,t)}filter(e,t){ut(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return ut(this._observable),this._items.find(e,t)}findIndex(e,t){return ut(this._observable),this._items.findIndex(e,t)}flatten(e,t){ut(this._observable);const i=[];return L9(i,this,e,t),new su(i)}forEach(e,t){return ut(this._observable),this._items.forEach(e,t)}getItemAt(e){return ut(this._observable),this._items[e]}getNextIndex(e){ut(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return ut(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return ut(this._observable),this._items.indexOf(e,t)}join(e=","){return ut(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return ut(this._observable),this._items.lastIndexOf(e,t)}map(e,t){ut(this._observable);const i=this._items.map(e,t);return new su({items:i})}reorder(e,t=this.length-1){ut(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(4))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(4)}return e}}pop(){if(ut(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=TE(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return ut(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,e),this._emitAfterChanges(1)),this.length}reduce(e,t){ut(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){ut(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return ut(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(ut(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=TE(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(ut(this._observable),!e?.length||this._emitBeforeChanges(2))return[];const t=e instanceof su?e.toArray():e,i=this._items,r=[],n=t.length;for(let s=0;s<n;s++){const a=t[s],u=i.indexOf(a);if(u>-1){const h=1+Sre(t,i,s+1,u+1),f=this._splice(u,h);f&&f.length>0&&r.push.apply(r,f),s+=h-1}}return this._emitAfterChanges(2),r}reverse(){if(ut(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(4),this}shift(){if(ut(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=TE(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return ut(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return ut(this._observable),this._items.some(e,t)}sort(e){if(ut(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(4),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){ut(this._observable),arguments.length===1&&(t=this.length),t??=0;const r=(t?2:0)|(i.length?1:0);if(this._emitBeforeChanges(r))return[];const n=this._splice(e,t,i)||[];return this._emitAfterChanges(r),n}toArray(){return ut(this._observable),this._items.slice()}toJSON(e){return ut(this._observable),this.toArray().map(t=>BS(t)?t.toJSON(e):t)}toLocaleString(){return ut(this._observable),this._items.toLocaleString()}toString(){return ut(this._observable),this._items.toString()}unshift(...e){return ut(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,n=this.itemType;let s,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Qg(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(a=r.splice(e,t),this.hasEventListener("before-remove")){const u=Co.acquire();u.target=this,u.cancellable=!0;for(let h=0,f=a.length;h<f;h++)s=a[h],u.reset(s),this.emit("before-remove",u),u.defaultPrevented&&(a.splice(h,1),r.splice(e,0,s),e+=1,h-=1,f-=1);Co.release(u)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const u=Co.acquire();u.target=this,u.cancellable=!1;const h=a.length;for(let f=0;f<h;f++)u.reset(a[f]),this.emit("after-remove",u);Co.release(u)}}if(i?.length){if(n){const v=[];for(const w of i){const x=n.ensureType(w);x==null&&w!=null||v.push(x)}i=v}const u=this.hasEventListener("before-add"),h=this.hasEventListener("after-add"),f=e===this.length;if(u||h){const v=Co.acquire();v.target=this,v.cancellable=!0;const w=Co.acquire();w.target=this,w.cancellable=!1;for(const x of i)u?(v.reset(x),this.emit("before-add",v),v.defaultPrevented||(f?r.push(x):r.splice(e++,0,x),this._set("length",r.length),h&&(w.reset(x),this.emit("after-add",w)))):(f?r.push(x):r.splice(e++,0,x),this._set("length",r.length),w.reset(x),this.emit("after-add",w));Co.release(w),Co.release(v)}else{if(f)for(const v of i)r.push(v);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||a?.length)&&this._notifyChangeEvent(i,a),this.hasEventListener("after-splice")){const u=new bre(this,i,a,e,t);this.emit("after-splice",u)}return a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Co.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Co.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Co.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Co.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Ec.clear(),$c.clear(),Cc.clear();for(const{added:h,removed:f}of i){if(h)if(Cc.size===0&&$c.size===0)for(const v of h)Ec.add(v);else for(const v of h)$c.has(v)?(Cc.add(v),$c.delete(v)):Cc.has(v)||Ec.add(v);if(f)if(Cc.size===0&&Ec.size===0)for(const v of f)$c.add(v);else for(const v of f)Ec.has(v)?Ec.delete(v):(Cc.delete(v),$c.add(v))}const r=ts.acquire();Ec.forEach(h=>{r.push(h)});const n=ts.acquire();$c.forEach(h=>{n.push(h)});const s=this._items,a=t.items,u=ts.acquire();if(Cc.forEach(h=>{a.indexOf(h)!==s.indexOf(h)&&u.push(h)}),t.listeners&&(r.length||n.length||u.length)){const h={target:this,added:r,removed:n,moved:u},f=t.listeners.length;for(let v=0;v<f;v++){const w=t.listeners[v];w.removed||w.callback.call(this,h)}}ts.release(r),ts.release(n),ts.release(u)}Ec.clear(),$c.clear(),Cc.clear()}};p([_()],Wc.prototype,"_updating",void 0),p([_()],Wc.prototype,"length",void 0),p([_()],Wc.prototype,"items",null),p([_({readOnly:!0})],Wc.prototype,"updating",null),Wc=su=p([ie("esri.core.Collection")],Wc);const Fe=Wc;function ml(e,t,i=Fe){return t||(t=new i),t===e||t.destroyed||(t.removeAll(),Tre(e)?t.addMany(e):e&&t.add(e)),t}function k9(e){return e}function Tre(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let Mre=class I9{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new I9;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,ke(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||r?.origin===i?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??7}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>this._values.get(r)?.origin===t)}set(t,i,r){if((r=this._normalizeOrigin(r))===0){const n=this._values.get(t);if(n?.origin!=null&&n.origin>r)return}this._values.set(t,new Ere(i,r))}delete(t,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(t)?.origin!==i||this._values.delete(t)}has(t,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(t)?.origin===i:this._values.has(t)}isAtOrigin(t,i){return i=this._normalizeOrigin(i),this.has(t,i)&&this.originOf(t)===i}isBelowOrigin(t,i){return i=this._normalizeOrigin(i),!this.has(t)||this.originOf(t)<i}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===0?t:7}},Ere=class{constructor(t,i){this.value=t,this.origin=i}};function $re(e,t,i){t.keys().forEach(n=>{i.set(n,t.get(n),0)});const r=e.metadata;Object.keys(r).forEach(n=>{e.internalGet(n)&&i.set(n,e.internalGet(n),0)})}function Cre(e,t,i){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.startsWith(t)&&f4(r,i))return!0}else for(const n of r)if(n===t||n.includes(".")&&n.startsWith(t)&&f4(n,i))return!0;return!1}function Ore(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Pre(e,t,i,r,n){let s=a2(t[i],n);Ore(s)&&(e[i]=!0);for(const a of Object.getOwnPropertyNames(t))s=a2(t[a],n),Cre(s,i,r)&&(e[a]=!0)}function Are(e,t,i,r){const n=i.metadata,s=ere(n[t],r),a=s?.default;if(a===void 0)return;const u=typeof a=="function"?a.call(e,t,r):a;u!==void 0&&i.set(t,u)}const N9={origin:"service"};function Rre(e,t,i=N9){if(!t||typeof t!="object")return;const r=xh(e),n=r.metadata,s={};for(const a of Object.getOwnPropertyNames(t))Pre(s,n,a,t,i);r.setDefaultOrigin(i.origin);for(const a of Object.getOwnPropertyNames(s)){const u=a2(n[a],i).read,h=u?.source;let f;f=h&&typeof h=="string"?q_(t,h):t[a],u?.reader&&(f=u.reader.call(e,f,t,i)),f!==void 0&&r.set(a,f)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(n))s[a]||Are(e,a,r,i)}r.setDefaultOrigin("user")}function VTe(e,t,i,r=N9){const n={...r,messages:[]};i(n),n.messages?.forEach(s=>{s.type!=="warning"||e.loaded?r?.messages&&r.messages.push(s):e.loadWarnings.push(s)})}function Lre(e,t,i,r,n){const s={};return t.write?.writer?.call(e,r,s,i,n),s}function D9(e,t,i,r,n,s){if(!r?.write)return!1;const a=fl(e,i);if(!n&&r.write.overridePolicy){const u=r.write.overridePolicy.call(e,a,i,s??void 0);u!==void 0&&(n=u)}if(n||(n=r.write),!n||n.enabled===!1||n.layerContainerTypes&&s?.layerContainerType&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((a===null&&!n.allowNull&&!n.writerEnsuresNonNull||a===void 0)&&n.isRequired){const u=new $e("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return u&&s?.messages?s.messages.push(u):u&&!s&&ze.getLogger("esri.core.accessorSupport.write").error(u.name,u.message),!1}return!(a===void 0||a===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===0)&&kre(e,i,s,r,a)||!n.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<XP(s.origin))}function kre(e,t,i,r,n){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const a=s.call(e,t,i??void 0);return ox(a,n)}return!1}return s===n}function HTe(e,t,i,r){const n=xh(e),s=n.metadata,a=T9(s[t],r);return!!a&&D9(e,n,t,a,i,r)}function Ire(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Pb(t,e.toJSON(i));const r=xh(e),n=r.metadata;for(const s in n){const a=T9(n[s],i);if(!D9(e,r,s,a,void 0,i))continue;const u=fl(e,s),h=Lre(e,a,a.write&&typeof a.write.target=="string"?a.write.target:s,u,i);Object.keys(h).length>0&&(t=Pb(t,h),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>Pb(t,h,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:s,oldOrigin:Jte(r.store.originOf(s)),newOrigin:i.origin}))}return t}const Rh=e=>{const t=e;let i=class extends t{constructor(...r){super(...r);const n=xh(this),s=n.store,a=new Mre;n.store=a,$re(n,s,a)}read(r,n){Rre(this,r,n)}write(r,n){return Ire(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return Nre.call(this,r,n)}};return i=p([ie("esri.core.JSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function Nre(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}const tt=Rh(et);let Dre=class{constructor(){this._resolver=uo(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(ai())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=uo(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==r||sn(n)||this._resolver.reject(n)}),t.resolve()}};const j9=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this._promiseProps=new Dre,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}addResolvingTask(r){r&&!this._promiseProps.isFulfilled()&&(this.addHandles(Qee(r)),this._promiseProps.addResolvingPromise(r.promise))}};return i=p([ie("esri.core.Promise")],i),i},lA=j9(et),jre="not-loaded",zre="loading",Ure="failed",R4="loaded",Fre=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const s=this.load.bind(this);this.load=a=>{const u=new Promise((h,f)=>{const v=GP(a,f);this.destroyed&&f(new $e("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(h,f).finally(()=>{v&&v.remove()})});if(this.loadStatus===jre){this._set("loadStatus",zre);const h=this._loadController=new AbortController;s({signal:h.signal})}return n(),u}})),this.when(()=>{this._set("loadStatus",R4),this._loadController=null},n=>{this.destroyed||(this._set("loadStatus",Ure),this._set("loadError",n),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=Mf(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===R4}get loadWarnings(){return this._get("loadWarnings")}load(r){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new $e("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return p([_({readOnly:!0})],i.prototype,"loaded",null),p([_({readOnly:!0})],i.prototype,"loadError",void 0),p([_({clonable:!1})],i.prototype,"loadStatus",void 0),p([_({type:[bl],readOnly:!0})],i.prototype,"loadWarnings",null),i=p([ie("esri.core.Loadable")],i),i},H_=Fre(lA);function m$(e){return!(!e||!e.load)}function ZTe(e,t,i){return VP(e.map((r,n)=>t.apply(i,[r,n])))}async function Bre(e,t,i){return(await VP(e.map((r,n)=>t.apply(i,[r,n])))).map(r=>r.value)}function uA(e){return{ok:!0,value:e}}function cA(e){return{ok:!1,error:e}}function qre(e){return e!=null&&e.ok===!0?e.value:null}function Gre(e){return e!=null&&e.ok===!1?e.error:null}async function z9(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return uA(await e)}catch(t){return cA(t)}}async function YTe(e){try{return uA(await e)}catch(t){return L8(t),cA(t)}}function wx(e,t){return new Ic(e,t)}let Ic=class extends et{get value(){return qre(this._result)}get error(){return Gre(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Mf(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(n=>{this._result=uA(n),this._cleanup()},n=>{this._result=cA(n),this._cleanup()}),this._abortHandle=Yo(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Oi(this._abortHandle),this._abortController=null}};p([_()],Ic.prototype,"value",null),p([_()],Ic.prototype,"error",null),p([_()],Ic.prototype,"finished",null),p([_()],Ic.prototype,"promise",void 0),p([_()],Ic.prototype,"_result",void 0),Ic=p([ie("esri.core.asyncUtils.ReactiveTask")],Ic);async function U9(e,t){return await e.load(),Vre(e,t)}async function Vre(e,t){const i=[],r=(...s)=>{for(const a of s)a!=null&&(Array.isArray(a)?r(...a):Fe.isCollection(a)?a.forEach(u=>r(u)):m$(a)&&i.push(a))};t(r);let n=null;if(await Bre(i,async s=>{const a=await z9(Hre(s)?s.loadAll():s.load());a.ok!==!1||n||(n=a)}),n)throw n.error;return e}function Hre(e){return"loadAll"in e&&typeof e.loadAll=="function"}function Gt(e,t,i){let r,n;return t===void 0?(n=e,r=[void 0]):typeof t!="string"?(n=e,r=[void 0],i=t):(n=t,r=Array.isArray(e)?e:[e]),(s,a)=>{const u=s.constructor.prototype;for(const h of r){const f=rA(s,h,n);f.write&&typeof f.write=="object"||(f.write={}),i&&(f.write.target=i),f.write.writer=u[a]}}}let qr=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Wre(t),this.apiValues=L4(this._apiToJSON),this.jsonValues=L4(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,n,s)=>{const a=this.toJSON(r);a!==void 0&&Vg(s,a,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function Wre(e){const t={};for(const i in e)t[e[i]]=i;return t}function L4(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Ds(){return function(e,t){return new qr(e,{ignoreUnknown:!0,...t})}}let hA=class{constructor(t,i,r,n,s,a){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=s;const u=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*u,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const mr=new hA(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),gl=new hA(3396190,1/169.8944472236118,23e4,6e4,.111),Mh=new hA(1737400,0,0,0,0);function Ki(e){if(!qt.assetsPath)throw ze.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new $e("assets:path-not-set","config.assetsPath is not set");return j_(qt.assetsPath,e)}let EE,ae=null;function dA(){return!!ae}function Zre(){return!!pe("esri-wasm")}function F9(){return EE||(EE=Ne(async()=>{const{default:e}=await import("./pe-wasm-B87Q3u4k.js");return{default:e}},[],import.meta.url).then(({default:e})=>e({locateFile:t=>Ki(`esri/geometry/support/${t}`)})).then(e=>{V9(e)}),EE)}const Ib={geogToProj(e,t,i){ae.ensureCache.prepare();const r=Cf(i),n=i===r,s=ae.ensureFloat64(r),a=ae._pe_geog_to_proj(ae.getPointer(e),t,s);return a&&Eh(i,t,s,n),a},projGeog(e,t,i,r){switch(r){case Wi.PE_TRANSFORM_P_TO_G:return Ib.projToGeog(e,t,i);case Wi.PE_TRANSFORM_G_TO_P:return Ib.geogToProj(e,t,i)}return 0},projToGeog:(e,t,i)=>Ib.projToGeogCenter(e,t,i,0),projToGeogCenter(e,t,i,r){ae.ensureCache.prepare();const n=Cf(i),s=i===n,a=ae.ensureFloat64(n),u=ae._pe_proj_to_geog_center(ae.getPointer(e),t,a,r);return u&&Eh(i,t,a,s),u}};let Wi=class Jt{static init(){Jt.PE_BUFFER_MAX=ae.PeDefs.prototype.PE_BUFFER_MAX,Jt.PE_NAME_MAX=ae.PeDefs.prototype.PE_NAME_MAX,Jt.PE_MGRS_MAX=ae.PeDefs.prototype.PE_MGRS_MAX,Jt.PE_USNG_MAX=ae.PeDefs.prototype.PE_USNG_MAX,Jt.PE_DD_MAX=ae.PeDefs.prototype.PE_DD_MAX,Jt.PE_DDM_MAX=ae.PeDefs.prototype.PE_DDM_MAX,Jt.PE_DMS_MAX=ae.PeDefs.prototype.PE_DMS_MAX,Jt.PE_UTM_MAX=ae.PeDefs.prototype.PE_UTM_MAX,Jt.PE_PARM_MAX=ae.PeDefs.prototype.PE_PARM_MAX,Jt.PE_TYPE_NONE=ae.PeDefs.prototype.PE_TYPE_NONE,Jt.PE_TYPE_GEOGCS=ae.PeDefs.prototype.PE_TYPE_GEOGCS,Jt.PE_TYPE_PROJCS=ae.PeDefs.prototype.PE_TYPE_PROJCS,Jt.PE_TYPE_GEOGTRAN=ae.PeDefs.prototype.PE_TYPE_GEOGTRAN,Jt.PE_TYPE_COORDSYS=ae.PeDefs.prototype.PE_TYPE_COORDSYS,Jt.PE_TYPE_UNIT=ae.PeDefs.prototype.PE_TYPE_UNIT,Jt.PE_TYPE_LINUNIT=ae.PeDefs.prototype.PE_TYPE_LINUNIT,Jt.PE_STR_OPTS_NONE=ae.PeDefs.prototype.PE_STR_OPTS_NONE,Jt.PE_STR_AUTH_NONE=ae.PeDefs.prototype.PE_STR_AUTH_NONE,Jt.PE_STR_AUTH_TOP=ae.PeDefs.prototype.PE_STR_AUTH_TOP,Jt.PE_STR_NAME_CANON=ae.PeDefs.prototype.PE_STR_NAME_CANON,Jt.PE_STR_FMT_WKT=ae.PeDefs.prototype.PE_STR_FMT_WKT,Jt.PE_STR_FMT_WKT2=ae.PeDefs.prototype.PE_STR_FMT_WKT2,Jt.PE_PARM_X0=ae.PeDefs.prototype.PE_PARM_X0,Jt.PE_PARM_ND=ae.PeDefs.prototype.PE_PARM_ND,Jt.PE_TRANSFORM_1_TO_2=ae.PeDefs.prototype.PE_TRANSFORM_1_TO_2,Jt.PE_TRANSFORM_2_TO_1=ae.PeDefs.prototype.PE_TRANSFORM_2_TO_1,Jt.PE_TRANSFORM_P_TO_G=ae.PeDefs.prototype.PE_TRANSFORM_P_TO_G,Jt.PE_TRANSFORM_G_TO_P=ae.PeDefs.prototype.PE_TRANSFORM_G_TO_P,Jt.PE_HORIZON_RECT=ae.PeDefs.prototype.PE_HORIZON_RECT,Jt.PE_HORIZON_POLY=ae.PeDefs.prototype.PE_HORIZON_POLY,Jt.PE_HORIZON_LINE=ae.PeDefs.prototype.PE_HORIZON_LINE,Jt.PE_HORIZON_DELTA=ae.PeDefs.prototype.PE_HORIZON_DELTA}},B9=null;const k4={},I4={},N4=e=>{const t=e.getType();switch(t){case Wi.PE_TYPE_GEOGCS:e=ae.castObject(e,ae.PeGeogcs);break;case Wi.PE_TYPE_PROJCS:e=ae.castObject(e,ae.PeProjcs);break;case Wi.PE_TYPE_GEOGTRAN:e=ae.castObject(e,ae.PeGeogtran);break;default:t&Wi.PE_TYPE_UNIT&&(e=ae.castObject(e,ae.PeUnit))}return e},th={initialize(){ae.PeFactory.prototype.initialize(null)},coordsys:e=>th.factoryByType(Wi.PE_TYPE_COORDSYS,e),factoryByType(e,t){let i=null,r=k4[e];if(r||(r={},k4[e]=r),r.hasOwnProperty(String(t))&&(i=r[t],ae.compare(i,ae.NULL)&&(i=null)),!i){const n=ae.PeFactory.prototype.factoryByType(e,t);ae.compare(n,ae.NULL)||(i=N4(n),r[t]=i)}return i},fromString(e,t){let i=null,r=I4[e];if(r||(r={},I4[e]=r),r.hasOwnProperty(t)&&(i=r[t],ae.compare(i,ae.NULL)&&(i=null)),!i){const n=ae.PeFactory.prototype.fromString(e,t);ae.compare(n,ae.NULL)||(i=N4(n),r[t]=i)}return i},geogcs:e=>th.factoryByType(Wi.PE_TYPE_GEOGCS,e),geogtran:e=>th.factoryByType(Wi.PE_TYPE_GEOGTRAN,e),getCode:e=>ae.PeFactory.prototype.getCode(e),projcs:e=>th.factoryByType(Wi.PE_TYPE_PROJCS,e),unit:e=>th.factoryByType(Wi.PE_TYPE_UNIT,e)};let D4,q9=null;const fA={PE_GTLIST_OPTS_COMMON:0,init(){fA.PE_GTLIST_OPTS_COMMON=ae.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,D4=ae._pe_getPeGTlistExtendedEntrySize()},getGTlist(e,t,i,r,n,s){let a=null;const u=new ae.PeInteger(s);try{const h=ae.PeGTlistExtended.prototype.getGTlist(e,t,i,r,n,u);if((s=u.val)&&(a=[h],s>1)){const f=ae.getPointer(h);for(let v=1;v<s;v++)a.push(ae.wrapPointer(f+D4*v,ae.PeGTlistExtendedEntry))}}finally{ae.destroy(u)}return a}},Yre={destroy(e){if(e?.length){for(const t of e)Sa(t),t.getEntries().forEach(i=>{Sa(i);const r=i.getGeogtran();Sa(r),r.getParameters().forEach(Sa),[r.getGeogcs1(),r.getGeogcs2()].forEach(n=>{Sa(n);const s=n.getDatum();Sa(s),Sa(s.getSpheroid()),Sa(n.getPrimem()),Sa(n.getUnit())})});ae.PeGTlistExtendedEntry.prototype.Delete(e[0])}}},Jre={geogToGeog(e,t,i,r,n){ae.ensureCache.prepare();const s=Cf(i),a=i===s,u=ae.ensureFloat64(s);let h=0;r&&(h=ae.ensureFloat64(r));const f=ae._pe_geog_to_geog(ae.getPointer(e),t,u,h,n);return f&&Eh(i,t,u,a),f}},Xre={geodesicCoordinate(e,t,i,r,n,s,a,u){ae.PeLineType.prototype.geodesic_coordinate(e,t,i,r,n,s,a,u)},geodeticCoordinate(e,t,i,r,n,s,a,u,h){ae.PeLineType.prototype.geodetic_coordinate(e,t,i,r,n,s,a,u,h)},geodeticDistance(e,t,i,r,n,s,a,u,h,f){ae.PeLineType.prototype.geodetic_distance(e,t,i,r,n,s,a,u,h,f)},greatEllipticDistance(e,t,i,r,n,s,a,u,h){ae.PeLineType.prototype.great_elliptic_distance(e,t,i,r,n,s,a,u,h)}},Kre={phiToEta:(e,t)=>ae.PeMath.prototype.phi_to_eta(e,t),etaToPhi:(e,t)=>ae.PeMath.prototype.eta_to_phi(e,t),phiToPhig:(e,t)=>ae.PeMath.prototype.phi_to_phig(e,t),q:(e,t,i)=>ae.PeMath.prototype.q(e,t,i),q90:(e,t)=>ae.PeMath.prototype.q90(e,t)},$E=(e,t,i,r,n,s)=>{let a,u;switch(ae.ensureCache.prepare(),e){case"dd":a=ae._pe_geog_to_dd,u=Wi.PE_DD_MAX;break;case"ddm":a=ae._pe_geog_to_ddm,u=Wi.PE_DDM_MAX;break;case"dms":a=ae._pe_geog_to_dms,u=Wi.PE_DMS_MAX}let h=0;t&&(h=ae.getPointer(t));const f=Cf(r),v=ae.ensureFloat64(f),w=bx(i,u),x=a(h,i,v,n,ae.ensureInt32(w));if(x)for(let M=0;M<i;M++)s[M]=ae.UTF8ToString(w[M]);return x},CE=(e,t,i,r,n)=>{let s;switch(ae.ensureCache.prepare(),e){case"dd":s=ae._pe_dd_to_geog;break;case"ddm":s=ae._pe_ddm_to_geog;break;case"dms":s=ae._pe_dms_to_geog}let a=0;t&&(a=ae.getPointer(t));const u=r.map(w=>ae.ensureString(w)),h=ae.ensureInt32(u),f=ae.ensureFloat64(new Array(2*i)),v=s(a,i,h,f);return v&&Eh(n,i,f),v},E0={geogToDms:(e,t,i,r,n)=>$E("dms",e,t,i,r,n),dmsToGeog:(e,t,i,r)=>CE("dms",e,t,i,r),geogToDdm:(e,t,i,r,n)=>$E("ddm",e,t,i,r,n),ddmToGeog:(e,t,i,r)=>CE("ddm",e,t,i,r),geogToDd:(e,t,i,r,n)=>$E("dd",e,t,i,r,n),ddToGeog:(e,t,i,r)=>CE("dd",e,t,i,r)};let Fo=class Kp{static init(){Kp.PE_MGRS_STYLE_NEW=ae.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,Kp.PE_MGRS_STYLE_OLD=ae.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,Kp.PE_MGRS_STYLE_AUTO=ae.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,Kp.PE_MGRS_180_ZONE_1_PLUS=ae.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,Kp.PE_MGRS_ADD_SPACES=ae.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(t,i,r,n,s,a,u){ae.ensureCache.prepare();let h=0;t&&(h=ae.getPointer(t));const f=Cf(r),v=ae.ensureFloat64(f),w=bx(i,Wi.PE_MGRS_MAX),x=ae.ensureInt32(w),M=ae._pe_geog_to_mgrs_extended(h,i,v,n,s,a,x);if(M)for(let P=0;P<i;P++)u[P]=ae.UTF8ToString(w[P]);return M}static mgrsToGeogExtended(t,i,r,n,s){ae.ensureCache.prepare();let a=0;t&&(a=ae.getPointer(t));const u=r.map(w=>ae.ensureString(w)),h=ae.ensureInt32(u),f=ae.ensureFloat64(new Array(2*i)),v=ae._pe_mgrs_to_geog_extended(a,i,h,n,f);return v&&Eh(s,i,f),v}};const pA={geogToUsng(e,t,i,r,n,s,a){ae.ensureCache.prepare();let u=0;e&&(u=ae.getPointer(e));const h=Cf(i),f=ae.ensureFloat64(h),v=bx(t,Wi.PE_MGRS_MAX),w=ae.ensureInt32(v),x=ae._pe_geog_to_usng(u,t,f,r,n,s,w);if(x)for(let M=0;M<t;M++)a[M]=ae.UTF8ToString(v[M]);return x},usngToGeog(e,t,i,r){ae.ensureCache.prepare();let n=0;e&&(n=ae.getPointer(e));const s=i.map(f=>ae.ensureString(f)),a=ae.ensureInt32(s),u=ae.ensureFloat64(new Array(2*t)),h=ae._pe_usng_to_geog(n,t,a,u);return h&&Eh(r,t,u),h}};let $f=class Nb{static init(){Nb.PE_UTM_OPTS_NONE=ae.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,Nb.PE_UTM_OPTS_ADD_SPACES=ae.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,Nb.PE_UTM_OPTS_NS=ae.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(t,i,r,n,s){ae.ensureCache.prepare();let a=0;t&&(a=ae.getPointer(t));const u=Cf(r),h=ae.ensureFloat64(u),f=bx(i,Wi.PE_UTM_MAX),v=ae.ensureInt32(f),w=ae._pe_geog_to_utm(a,i,h,n,v);if(w)for(let x=0;x<i;x++)s[x]=ae.UTF8ToString(f[x]);return w}static utmToGeog(t,i,r,n,s){ae.ensureCache.prepare();let a=0;t&&(a=ae.getPointer(t));const u=r.map(w=>ae.ensureString(w)),h=ae.ensureInt32(u),f=ae.ensureFloat64(new Array(2*i)),v=ae._pe_utm_to_geog(a,i,h,n,f);return v&&Eh(s,i,f),v}};var Rs;let G9=(Rs=class{static init(){Rs.PE_PCSINFO_OPTION_NONE=ae.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Rs.PE_PCSINFO_OPTION_DOMAIN=ae.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Rs.PE_POLE_OUTSIDE_BOUNDARY=ae.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Rs.PE_POLE_POINT=ae.PePCSInfo.prototype.PE_POLE_POINT}static generate(t,i=Rs.PE_PCSINFO_OPTION_DOMAIN){let r=null,n=null;return Rs.cache.has(t)&&(n=Rs.cache.get(t),n[i]&&(r=n[i])),r||(r=ae.PePCSInfo.prototype.generate(t,i),n||(n=[],Rs.cache.set(t,n)),n[i]=r),r}},Rs.cache=new Map,Rs);const Qre={versionString:()=>ae.PeVersion.prototype.version_string()};function V9(e){function t(s,a,u){s[a]=u(s[a])}ae=e,Wi.init(),fA.init(),Fo.init(),$f.init(),G9.init(),B9=class extends ae.PeDouble{constructor(s=NaN){super(s)}destroy(){ae.destroy(this)}[Symbol.dispose](){this.destroy()}},q9=class extends ae.PeGCSExtent{destroy(){ae.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[ae.PeAngunit,ae.PeDatum,ae.PeGeogcs,ae.PeGeogtran,ae.PeObject,ae.PeParameter,ae.PePrimem,ae.PeProjcs,ae.PeSpheroid,ae.PeUnit];for(const s of i)t(s.prototype,"getName",a=>function(){return a.call(this,new Array(Wi.PE_NAME_MAX))});for(const s of[ae.PeGeogtran,ae.PeProjcs])t(s.prototype,"getParameters",a=>function(){const u=new Array(Wi.PE_PARM_MAX);let h=a.call(this);for(let f=0;f<u.length;f++){const v=ae.getValue(h,"*");u[f]=v?ae.wrapPointer(v,ae.PeParameter):null,h+=Int32Array.BYTES_PER_ELEMENT}return u});t(ae.PeHorizon.prototype,"getCoord",s=>function(a=!1){const u=this.getSize();if(!u)return null;const h=[];return Eh(h,u,s.call(this),a),h}),t(ae.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const a=ae._pe_getPeGTlistExtendedGTsSize();return function(){let u=null;const h=s.call(this);if(!ae.compare(h,ae.NULL)){u=[h];const f=this.getSteps();if(f>1){const v=ae.getPointer(h);for(let w=1;w<f;w++)u.push(ae.wrapPointer(v+a*w,ae.PeGTlistExtendedGTs))}}return u}});const r=ae._pe_getPeHorizonSize(),n=s=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(s))return a.get(s);let u=null;const h=s.call(this);if(!ae.compare(h,ae.NULL)){u=[h];const f=h.getNump();if(f>1){const v=ae.getPointer(h);for(let w=1;w<f;w++)u.push(ae.wrapPointer(v+r*w,ae.PeHorizon))}}return a.set(s,u),u};t(ae.PeProjcs.prototype,"horizonGcsGenerate",n),t(ae.PeProjcs.prototype,"horizonPcsGenerate",n),ae.PeObject.prototype.toString=function(s=Wi.PE_STR_OPTS_NONE){ae.ensureCache.prepare();const a=ae.getPointer(this),u=ae.ensureInt8(new Array(Wi.PE_BUFFER_MAX));return ae.UTF8ToString(ae._pe_object_to_string_ext(a,s,u))},ae.PeGeogcs.prototype.destroy=function(){this.Delete(),Sa(this),this.ptr=0},ae.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},ae.PeProjcs.prototype.destroy=function(){this.Delete(),Sa(this),this.ptr=0},ae.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Sa(e){if(!e)return;const t=ae.getClass(e);if(!t)return;const i=ae.getCache(t);if(!i)return;const r=ae.getPointer(e);r&&delete i[r]}function bx(e,t){const i=[],r=new Array(t);for(let n=0;n<e;n++)i.push(ae.ensureInt8(r));return i}function Cf(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Eh(e,t,i,r=!1){if(r)for(let n=0;n<2*t;n++)e[n]=ae.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let s=0;s<t;s++)n&&(e[s]=new Array(2)),e[s][0]=ae.getValue(i,"double"),e[s][1]=ae.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}const QTe=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:Ib,PeDefs:Wi,get PeDouble(){return B9},PeFactory:th,get PeGCSExtent(){return q9},PeGTTransformations:Jre,PeGTlistExtended:fA,PeGTlistExtendedEntry:Yre,PeLineType:Xre,PeMath:Kre,PeNotationDms:E0,PeNotationMgrs:Fo,PeNotationUsng:pA,PeNotationUtm:$f,PePCSInfo:G9,PeVersion:Qre,_init:V9,get _pe(){return ae},isLoaded:dA,isSupported:Zre,load:F9},Symbol.toStringTag,{value:"Module"}));let m;const B={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(m=2e3;m<=2045;m++)B[m]=0;for(m=2056;m<=2065;m++)B[m]=0;for(m=2067;m<=2135;m++)B[m]=0;for(m=2137;m<=2154;m++)B[m]=0;for(m=2161;m<=2170;m++)B[m]=0;for(m=2172;m<=2193;m++)B[m]=0;for(m=2195;m<=2198;m++)B[m]=0;for(m=2200;m<=2203;m++)B[m]=0;for(m=2205;m<=2217;m++)B[m]=0;for(m=2222;m<=2224;m++)B[m]=1;for(m=2225;m<=2250;m++)B[m]=2;for(m=2251;m<=2253;m++)B[m]=1;for(m=2257;m<=2264;m++)B[m]=2;for(m=2274;m<=2279;m++)B[m]=2;for(m=2280;m<=2282;m++)B[m]=1;for(m=2283;m<=2289;m++)B[m]=2;for(m=2290;m<=2292;m++)B[m]=0;for(m=2308;m<=2313;m++)B[m]=0;for(m=2315;m<=2491;m++)B[m]=0;for(m=2494;m<=2866;m++)B[m]=0;for(m=2867;m<=2869;m++)B[m]=1;for(m=2870;m<=2888;m++)B[m]=2;for(m=2891;m<=2895;m++)B[m]=2;for(m=2896;m<=2898;m++)B[m]=1;for(m=2902;m<=2908;m++)B[m]=2;for(m=2915;m<=2920;m++)B[m]=2;for(m=2921;m<=2923;m++)B[m]=1;for(m=2924;m<=2930;m++)B[m]=2;for(m=2931;m<=2962;m++)B[m]=0;for(m=2964;m<=2968;m++)B[m]=2;for(m=2969;m<=2973;m++)B[m]=0;for(m=2975;m<=2991;m++)B[m]=0;for(m=2995;m<=3051;m++)B[m]=0;for(m=3054;m<=3079;m++)B[m]=0;for(m=3081;m<=3088;m++)B[m]=0;for(m=3092;m<=3101;m++)B[m]=0;for(m=3106;m<=3138;m++)B[m]=0;for(m=3146;m<=3151;m++)B[m]=0;for(m=3153;m<=3166;m++)B[m]=0;for(m=3168;m<=3172;m++)B[m]=0;for(m=3174;m<=3203;m++)B[m]=0;for(m=3294;m<=3358;m++)B[m]=0;for(m=3367;m<=3403;m++)B[m]=0;for(m=3408;m<=3416;m++)B[m]=0;for(m=3417;m<=3438;m++)B[m]=2;for(m=3441;m<=3446;m++)B[m]=2;for(m=3447;m<=3450;m++)B[m]=0;for(m=3451;m<=3459;m++)B[m]=2;for(m=3460;m<=3478;m++)B[m]=0;for(m=3554;m<=3559;m++)B[m]=0;for(m=3560;m<=3570;m++)B[m]=2;for(m=3571;m<=3581;m++)B[m]=0;for(m=3594;m<=3597;m++)B[m]=0;for(m=3601;m<=3604;m++)B[m]=0;for(m=3637;m<=3639;m++)B[m]=0;for(m=3665;m<=3667;m++)B[m]=0;for(m=3693;m<=3695;m++)B[m]=0;for(m=3701;m<=3727;m++)B[m]=0;for(m=3728;m<=3739;m++)B[m]=2;for(m=3740;m<=3751;m++)B[m]=0;for(m=3753;m<=3760;m++)B[m]=2;for(m=3761;m<=3773;m++)B[m]=0;for(m=3775;m<=3777;m++)B[m]=0;for(m=3779;m<=3781;m++)B[m]=0;for(m=3783;m<=3785;m++)B[m]=0;for(m=3788;m<=3791;m++)B[m]=0;for(m=3797;m<=3802;m++)B[m]=0;for(m=3814;m<=3816;m++)B[m]=0;for(m=3825;m<=3829;m++)B[m]=0;for(m=3832;m<=3841;m++)B[m]=0;for(m=3844;m<=3852;m++)B[m]=0;for(m=3873;m<=3885;m++)B[m]=0;for(m=3890;m<=3893;m++)B[m]=0;for(m=3907;m<=3912;m++)B[m]=0;for(m=3942;m<=3950;m++)B[m]=0;for(m=3968;m<=3970;m++)B[m]=0;for(m=3973;m<=3976;m++)B[m]=0;for(m=3986;m<=3989;m++)B[m]=0;for(m=3994;m<=3997;m++)B[m]=0;for(m=4048;m<=4051;m++)B[m]=0;for(m=4056;m<=4063;m++)B[m]=0;for(m=4093;m<=4096;m++)B[m]=0;for(m=4390;m<=4398;m++)B[m]=0;for(m=4399;m<=4413;m++)B[m]=2;for(m=4418;m<=4433;m++)B[m]=2;for(m=4455;m<=4457;m++)B[m]=2;for(m=4484;m<=4489;m++)B[m]=0;for(m=4491;m<=4554;m++)B[m]=0;for(m=4568;m<=4589;m++)B[m]=0;for(m=4652;m<=4656;m++)B[m]=0;for(m=4766;m<=4800;m++)B[m]=0;for(m=5014;m<=5016;m++)B[m]=0;for(m=5069;m<=5072;m++)B[m]=0;for(m=5105;m<=5130;m++)B[m]=0;for(m=5167;m<=5188;m++)B[m]=0;for(m=5253;m<=5259;m++)B[m]=0;for(m=5269;m<=5275;m++)B[m]=0;for(m=5292;m<=5311;m++)B[m]=0;for(m=5329;m<=5331;m++)B[m]=0;for(m=5343;m<=5349;m++)B[m]=0;for(m=5355;m<=5357;m++)B[m]=0;for(m=5387;m<=5389;m++)B[m]=0;for(m=5459;m<=5463;m++)B[m]=0;for(m=5479;m<=5482;m++)B[m]=0;for(m=5518;m<=5520;m++)B[m]=0;for(m=5530;m<=5539;m++)B[m]=0;for(m=5550;m<=5552;m++)B[m]=0;for(m=5562;m<=5583;m++)B[m]=0;for(m=5623;m<=5625;m++)B[m]=2;for(m=5631;m<=5639;m++)B[m]=0;for(m=5649;m<=5653;m++)B[m]=0;for(m=5663;m<=5680;m++)B[m]=0;for(m=5682;m<=5685;m++)B[m]=0;for(m=5875;m<=5877;m++)B[m]=0;for(m=5896;m<=5899;m++)B[m]=0;for(m=5921;m<=5940;m++)B[m]=0;for(m=6050;m<=6125;m++)B[m]=0;for(m=6244;m<=6275;m++)B[m]=0;for(m=6328;m<=6348;m++)B[m]=0;for(m=6350;m<=6356;m++)B[m]=0;for(m=6366;m<=6372;m++)B[m]=0;for(m=6381;m<=6387;m++)B[m]=0;for(m=6393;m<=6404;m++)B[m]=0;for(m=6480;m<=6483;m++)B[m]=0;for(m=6511;m<=6514;m++)B[m]=0;for(m=6579;m<=6581;m++)B[m]=0;for(m=6619;m<=6624;m++)B[m]=0;for(m=6625;m<=6627;m++)B[m]=2;for(m=6628;m<=6632;m++)B[m]=0;for(m=6634;m<=6637;m++)B[m]=0;for(m=6669;m<=6692;m++)B[m]=0;for(m=6707;m<=6709;m++)B[m]=0;for(m=6720;m<=6723;m++)B[m]=0;for(m=6732;m<=6738;m++)B[m]=0;for(m=6931;m<=6933;m++)B[m]=0;for(m=6956;m<=6959;m++)B[m]=0;for(m=7005;m<=7007;m++)B[m]=0;for(m=7057;m<=7070;m++)B[m]=2;for(m=7074;m<=7082;m++)B[m]=0;for(m=7109;m<=7118;m++)B[m]=0;for(m=7119;m<=7127;m++)B[m]=1;for(m=7374;m<=7376;m++)B[m]=0;for(m=7528;m<=7586;m++)B[m]=0;for(m=7587;m<=7645;m++)B[m]=2;for(m=7692;m<=7696;m++)B[m]=0;for(m=7755;m<=7787;m++)B[m]=0;for(m=7791;m<=7795;m++)B[m]=0;for(m=7799;m<=7801;m++)B[m]=0;for(m=7803;m<=7805;m++)B[m]=0;for(m=7825;m<=7831;m++)B[m]=0;for(m=7845;m<=7859;m++)B[m]=0;for(m=8013;m<=8032;m++)B[m]=0;for(m=8065;m<=8068;m++)B[m]=1;for(m=8518;m<=8529;m++)B[m]=2;for(m=8533;m<=8536;m++)B[m]=2;for(m=8538;m<=8540;m++)B[m]=2;for(m=8677;m<=8679;m++)B[m]=0;for(m=8836;m<=8840;m++)B[m]=0;for(m=8857;m<=8859;m++)B[m]=0;for(m=8908;m<=8910;m++)B[m]=0;for(m=9154;m<=9159;m++)B[m]=0;for(m=9205;m<=9218;m++)B[m]=0;for(m=9271;m<=9273;m++)B[m]=0;for(m=9295;m<=9297;m++)B[m]=0;for(m=9356;m<=9360;m++)B[m]=0;for(m=9404;m<=9407;m++)B[m]=0;for(m=9476;m<=9482;m++)B[m]=0;for(m=9487;m<=9494;m++)B[m]=0;for(m=9697;m<=9699;m++)B[m]=0;for(m=9821;m<=9865;m++)B[m]=0;for(m=10285;m<=10291;m++)B[m]=0;for(m=10314;m<=10317;m++)B[m]=0;for(m=10448;m<=10465;m++)B[m]=0;for(m=10726;m<=10729;m++)B[m]=0;for(m=10731;m<=10733;m++)B[m]=0;for(m=11114;m<=11118;m++)B[m]=0;for(m=20004;m<=20032;m++)B[m]=0;for(m=20047;m<=20049;m++)B[m]=0;for(m=20062;m<=20092;m++)B[m]=0;for(m=20135;m<=20138;m++)B[m]=0;for(m=20248;m<=20258;m++)B[m]=0;for(m=20348;m<=20358;m++)B[m]=0;for(m=20436;m<=20440;m++)B[m]=0;for(m=20822;m<=20824;m++)B[m]=0;for(m=20904;m<=20932;m++)B[m]=0;for(m=20934;m<=20936;m++)B[m]=0;for(m=21004;m<=21032;m++)B[m]=0;for(m=21035;m<=21037;m++)B[m]=0;for(m=21095;m<=21097;m++)B[m]=0;for(m=21148;m<=21150;m++)B[m]=0;for(m=21207;m<=21264;m++)B[m]=0;for(m=21307;m<=21364;m++)B[m]=0;for(m=21413;m<=21423;m++)B[m]=0;for(m=21453;m<=21463;m++)B[m]=0;for(m=21473;m<=21483;m++)B[m]=0;for(m=21780;m<=21782;m++)B[m]=0;for(m=21891;m<=21894;m++)B[m]=0;for(m=21896;m<=21899;m++)B[m]=0;for(m=22171;m<=22177;m++)B[m]=0;for(m=22181;m<=22187;m++)B[m]=0;for(m=22191;m<=22197;m++)B[m]=0;for(m=22207;m<=22222;m++)B[m]=0;for(m=22229;m<=22232;m++)B[m]=0;for(m=22234;m<=22236;m++)B[m]=0;for(m=22243;m<=22250;m++)B[m]=0;for(m=22262;m<=22265;m++)B[m]=0;for(m=22307;m<=22322;m++)B[m]=0;for(m=22348;m<=22357;m++)B[m]=0;for(m=22407;m<=22422;m++)B[m]=0;for(m=22462;m<=22465;m++)B[m]=0;for(m=22521;m<=22525;m++)B[m]=0;for(m=22607;m<=22622;m++)B[m]=0;for(m=22641;m<=22646;m++)B[m]=0;for(m=22648;m<=22657;m++)B[m]=0;for(m=22707;m<=22722;m++)B[m]=0;for(m=22762;m<=22765;m++)B[m]=0;for(m=22807;m<=22822;m++)B[m]=0;for(m=22991;m<=22994;m++)B[m]=0;for(m=23028;m<=23038;m++)B[m]=0;for(m=23301;m<=23333;m++)B[m]=2;for(m=23830;m<=23853;m++)B[m]=0;for(m=23866;m<=23872;m++)B[m]=0;for(m=23877;m<=23884;m++)B[m]=0;for(m=23886;m<=23894;m++)B[m]=0;for(m=23946;m<=23948;m++)B[m]=0;for(m=24311;m<=24313;m++)B[m]=0;for(m=24342;m<=24347;m++)B[m]=0;for(m=24370;m<=24374;m++)B[m]=10;for(m=24375;m<=24381;m++)B[m]=0;for(m=24718;m<=24721;m++)B[m]=0;for(m=24817;m<=24821;m++)B[m]=0;for(m=24877;m<=24882;m++)B[m]=0;for(m=24891;m<=24893;m++)B[m]=0;for(m=25391;m<=25395;m++)B[m]=0;for(m=25828;m<=25838;m++)B[m]=0;for(m=26191;m<=26195;m++)B[m]=0;for(m=26391;m<=26393;m++)B[m]=0;for(m=26701;m<=26722;m++)B[m]=0;for(m=26729;m<=26799;m++)B[m]=2;for(m=26801;m<=26803;m++)B[m]=2;for(m=26811;m<=26813;m++)B[m]=2;for(m=26847;m<=26870;m++)B[m]=2;for(m=26891;m<=26899;m++)B[m]=0;for(m=26901;m<=26923;m++)B[m]=0;for(m=26929;m<=26946;m++)B[m]=0;for(m=26948;m<=26998;m++)B[m]=0;for(m=27037;m<=27040;m++)B[m]=0;for(m=27205;m<=27232;m++)B[m]=0;for(m=27258;m<=27260;m++)B[m]=0;for(m=27391;m<=27398;m++)B[m]=0;for(m=27561;m<=27564;m++)B[m]=0;for(m=27571;m<=27574;m++)B[m]=0;for(m=27581;m<=27584;m++)B[m]=0;for(m=27591;m<=27594;m++)B[m]=0;for(m=27700;m<=27707;m++)B[m]=0;for(m=28191;m<=28193;m++)B[m]=0;for(m=28348;m<=28358;m++)B[m]=0;for(m=28402;m<=28432;m++)B[m]=0;for(m=28462;m<=28492;m++)B[m]=0;for(m=29118;m<=29122;m++)B[m]=0;for(m=29168;m<=29172;m++)B[m]=0;for(m=29177;m<=29185;m++)B[m]=0;for(m=29187;m<=29195;m++)B[m]=0;for(m=29900;m<=29903;m++)B[m]=0;for(m=30161;m<=30179;m++)B[m]=0;for(m=30491;m<=30494;m++)B[m]=0;for(m=30729;m<=30732;m++)B[m]=0;for(m=31251;m<=31259;m++)B[m]=0;for(m=31265;m<=31268;m++)B[m]=0;for(m=31275;m<=31279;m++)B[m]=0;for(m=31281;m<=31297;m++)B[m]=0;for(m=31461;m<=31469;m++)B[m]=0;for(m=31491;m<=31495;m++)B[m]=0;for(m=31917;m<=31922;m++)B[m]=0;for(m=31965;m<=32e3;m++)B[m]=0;for(m=32001;m<=32003;m++)B[m]=2;for(m=32005;m<=32031;m++)B[m]=2;for(m=32033;m<=32060;m++)B[m]=2;for(m=32064;m<=32067;m++)B[m]=2;for(m=32074;m<=32077;m++)B[m]=2;for(m=32081;m<=32086;m++)B[m]=0;for(m=32107;m<=32130;m++)B[m]=0;for(m=32133;m<=32159;m++)B[m]=0;for(m=32164;m<=32167;m++)B[m]=2;for(m=32180;m<=32199;m++)B[m]=0;for(m=32201;m<=32260;m++)B[m]=0;for(m=32301;m<=32360;m++)B[m]=0;for(m=32401;m<=32460;m++)B[m]=0;for(m=32501;m<=32560;m++)B[m]=0;for(m=32601;m<=32662;m++)B[m]=0;for(m=32664;m<=32667;m++)B[m]=2;for(m=32701;m<=32761;m++)B[m]=0;for(m=53001;m<=53004;m++)B[m]=0;for(m=53008;m<=53019;m++)B[m]=0;for(m=53021;m<=53032;m++)B[m]=0;for(m=53034;m<=53037;m++)B[m]=0;for(m=53042;m<=53046;m++)B[m]=0;for(m=53074;m<=53080;m++)B[m]=0;for(m=54001;m<=54004;m++)B[m]=0;for(m=54008;m<=54019;m++)B[m]=0;for(m=54021;m<=54032;m++)B[m]=0;for(m=54034;m<=54037;m++)B[m]=0;for(m=54042;m<=54046;m++)B[m]=0;for(m=54048;m<=54053;m++)B[m]=0;for(m=54074;m<=54080;m++)B[m]=0;for(m=54090;m<=54096;m++)B[m]=0;for(m=54098;m<=54101;m++)B[m]=0;for(m=65161;m<=65163;m++)B[m]=0;for(m=102001;m<=102040;m++)B[m]=0;for(m=102042;m<=102063;m++)B[m]=0;for(m=102065;m<=102067;m++)B[m]=0;for(m=102070;m<=102117;m++)B[m]=0;for(m=102122;m<=102216;m++)B[m]=0;for(m=102221;m<=102377;m++)B[m]=0;for(m=102382;m<=102388;m++)B[m]=0;for(m=102389;m<=102398;m++)B[m]=2;for(m=102399;m<=102444;m++)B[m]=0;for(m=102445;m<=102447;m++)B[m]=2;for(m=102448;m<=102458;m++)B[m]=0;for(m=102459;m<=102468;m++)B[m]=2;for(m=102469;m<=102499;m++)B[m]=0;for(m=102500;m<=102519;m++)B[m]=1;for(m=102520;m<=102524;m++)B[m]=0;for(m=102525;m<=102529;m++)B[m]=2;for(m=102530;m<=102588;m++)B[m]=0;for(m=102590;m<=102598;m++)B[m]=0;for(m=102601;m<=102603;m++)B[m]=0;for(m=102605;m<=102628;m++)B[m]=0;for(m=102629;m<=102646;m++)B[m]=2;for(m=102648;m<=102700;m++)B[m]=2;for(m=102701;m<=102703;m++)B[m]=0;for(m=102707;m<=102730;m++)B[m]=2;for(m=102733;m<=102758;m++)B[m]=2;for(m=102767;m<=102900;m++)B[m]=0;for(m=102901;m<=102933;m++)B[m]=2;for(m=102934;m<=102950;m++)B[m]=13;for(m=102951;m<=102963;m++)B[m]=0;for(m=102965;m<=102969;m++)B[m]=0;for(m=102971;m<=102973;m++)B[m]=0;for(m=102975;m<=102989;m++)B[m]=0;for(m=102990;m<=102992;m++)B[m]=1;for(m=102997;m<=103002;m++)B[m]=0;for(m=103003;m<=103008;m++)B[m]=2;for(m=103009;m<=103011;m++)B[m]=0;for(m=103012;m<=103014;m++)B[m]=2;for(m=103019;m<=103021;m++)B[m]=0;for(m=103022;m<=103024;m++)B[m]=2;for(m=103029;m<=103031;m++)B[m]=0;for(m=103032;m<=103034;m++)B[m]=2;for(m=103065;m<=103068;m++)B[m]=0;for(m=103074;m<=103076;m++)B[m]=0;for(m=103077;m<=103079;m++)B[m]=1;for(m=103080;m<=103082;m++)B[m]=0;for(m=103083;m<=103085;m++)B[m]=2;for(m=103090;m<=103093;m++)B[m]=0;for(m=103097;m<=103099;m++)B[m]=0;for(m=103100;m<=103102;m++)B[m]=2;for(m=103107;m<=103109;m++)B[m]=0;for(m=103110;m<=103112;m++)B[m]=2;for(m=103113;m<=103116;m++)B[m]=0;for(m=103117;m<=103120;m++)B[m]=2;for(m=103153;m<=103157;m++)B[m]=0;for(m=103158;m<=103162;m++)B[m]=2;for(m=103163;m<=103165;m++)B[m]=0;for(m=103166;m<=103168;m++)B[m]=1;for(m=103169;m<=103171;m++)B[m]=2;for(m=103186;m<=103188;m++)B[m]=0;for(m=103189;m<=103191;m++)B[m]=2;for(m=103192;m<=103195;m++)B[m]=0;for(m=103196;m<=103199;m++)B[m]=2;for(m=103200;m<=103224;m++)B[m]=0;for(m=103225;m<=103227;m++)B[m]=1;for(m=103232;m<=103237;m++)B[m]=0;for(m=103238;m<=103243;m++)B[m]=2;for(m=103244;m<=103246;m++)B[m]=0;for(m=103247;m<=103249;m++)B[m]=2;for(m=103254;m<=103256;m++)B[m]=0;for(m=103257;m<=103259;m++)B[m]=2;for(m=103264;m<=103266;m++)B[m]=0;for(m=103267;m<=103269;m++)B[m]=2;for(m=103300;m<=103375;m++)B[m]=0;for(m=103381;m<=103383;m++)B[m]=0;for(m=103384;m<=103386;m++)B[m]=1;for(m=103387;m<=103389;m++)B[m]=0;for(m=103390;m<=103392;m++)B[m]=2;for(m=103397;m<=103399;m++)B[m]=0;for(m=103400;m<=103471;m++)B[m]=2;for(m=103476;m<=103478;m++)B[m]=0;for(m=103479;m<=103481;m++)B[m]=2;for(m=103486;m<=103488;m++)B[m]=0;for(m=103489;m<=103491;m++)B[m]=2;for(m=103492;m<=103495;m++)B[m]=0;for(m=103496;m<=103499;m++)B[m]=2;for(m=103528;m<=103543;m++)B[m]=0;for(m=103544;m<=103548;m++)B[m]=2;for(m=103549;m<=103551;m++)B[m]=0;for(m=103552;m<=103554;m++)B[m]=1;for(m=103555;m<=103557;m++)B[m]=2;for(m=103558;m<=103560;m++)B[m]=0;for(m=103571;m<=103573;m++)B[m]=0;for(m=103574;m<=103576;m++)B[m]=2;for(m=103577;m<=103580;m++)B[m]=0;for(m=103581;m<=103583;m++)B[m]=2;for(m=103595;m<=103694;m++)B[m]=0;for(m=103696;m<=103699;m++)B[m]=0;for(m=103700;m<=103793;m++)B[m]=2;for(m=103794;m<=103890;m++)B[m]=0;for(m=103891;m<=103896;m++)B[m]=2;for(m=103900;m<=103971;m++)B[m]=2;for(m=103972;m<=103977;m++)B[m]=0;for(m=112e3;m<=112101;m++)B[m]=0;const H9=[102100,102113,3857,3785,900913],ene=[104905,104971],tne=[104903],ine=[4326,...H9,...ene,...tne],n_=[-20037508342788905e-9,20037508342788905e-9],g$=[-20037508342787e-6,20037508342787e-6],OE={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:n_,origin:g$,dx:1e-5},W9={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:n_,origin:g$,dx:1e-5},102100:OE,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:n_,origin:g$,dx:1e-5},3857:OE,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:OE,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Gr(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Sl(e)&&Sl(t))return!0;const a=e.latestWkid;if(a!=null&&r===a)return!0;const u=t.latestWkid;return u!=null&&i===u}let n,s;return e.wkt2&&t.wkt2?(n=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,s=t.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function ns(e){const t=e?.wkid;return t!=null&&t>=2e3&&W9[t]||null}function c2(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function ey(e){if(!so(e))return!1;const{wkid:t}=e;if(t)return B[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function rne(e){return!(Z9(e)||Y9(e))}function Of(e){return e?.wkid===4326}function eMe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function j4(e){return e?.wkid===4490}function Sl(e){const t=e?.wkid;return t!=null&&t>=2e3&&H9.includes(t)}function nne(e){return e?.wkid===32662}function Sx(e){return e===104971||e===104905}function Z9(e){return Sx(e?.wkid)}function xx(e){return e===104903}function Y9(e){return xx(e?.wkid)}function sne(e){const t=e?.wkid;return t!=null&&t>=2e3&&ine.includes(t)}function so(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const J9={wkid:4326,wkt:u8(W9[4326].wkTemplate,{Central_Meridian:"0.0"})},X9={wkid:102100,latestWkid:3857},one={wkid:32662};function mA(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const ane=mA(mr),gA=mA(gl),yA=mA(Mh),lne={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${mr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},une=gA.wkt.toUpperCase(),cne=yA.wkt.toUpperCase();function hne(e){if(e!=null&&so(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(Sx(t))return gl;const r=i?.toUpperCase();if(i&&r===une)return gl;if(xx(t)||r&&r===cne)return Mh}return mr}function tMe(e){return Sx(e)?gl:xx(e)?Mh:mr}function h2(e){return Gr(e,ane)}function $h(e){return h2(e)||Gr(e,gA)||Gr(e,yA)}const iMe=39.37,dne=mr.radius*Math.PI/200,K9=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,$g=B,Q9=/UNIT\[([^\]]+)]/i,fne=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),pne=Ds()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),da=e=>e*e,Oc=e=>e*e*e,s_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:da(.001)},"square-centimeters":{inBaseUnits:da(.01)},"square-decimeters":{inBaseUnits:da(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:da(1e3)},"square-inches":{inBaseUnits:da(.0254)},"square-feet":{inBaseUnits:da(.3048)},"square-yards":{inBaseUnits:da(.9144)},"square-miles":{inBaseUnits:da(1609.344)},"square-nautical-miles":{inBaseUnits:da(1852)},"square-us-feet":{inBaseUnits:da(1200/3937)},acres:{inBaseUnits:.0015625*da(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Oc(.001)},"cubic-centimeters":{inBaseUnits:1e3*Oc(.01)},"cubic-decimeters":{inBaseUnits:1e3*Oc(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Oc(1e3)},"cubic-inches":{inBaseUnits:1e3*Oc(.0254)},"cubic-feet":{inBaseUnits:1e3*Oc(.3048)},"cubic-yards":{inBaseUnits:1e3*Oc(.9144)},"cubic-miles":{inBaseUnits:1e3*Oc(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},mne=(()=>{const e={};for(const t in s_)for(const i in s_[t].units)e[i]=t;return e})();function gne(e,t,i){return e*s_[i].units[t].inBaseUnits}function yne(e,t,i){return e/s_[i].units[t].inBaseUnits}const vne=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],_ne=["metric","imperial"],eU=[..._ne,...vne],wne=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function y$(e){const t=mne[e];if(!t)throw new Error("unknown type");return t}function z4(e,t=null){return t=t||y$(e),s_[t].baseUnit===e}function Oa(e,t,i){if(t===i)return e;const r=y$(t);if(r!==y$(i))throw new Error("incompatible units");const n=z4(t,r)?e:gne(e,t,r);return z4(i,r)?n:yne(n,i,r)}function rMe(e,t,i,r=!1){if(!r&&ey(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const n=qf(t);return n!==i&&(e=n?Oa(e,n,i):Oa(e*=Cl(t),"meters",i)),e}function nMe(e,t,i,r=!1){if(!r&&ey(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const n=qf(i);return t!==n&&(e=n?Oa(e,t,n):Oa(e,t,"meters")/Cl(i)),e}function bne(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function sMe(e){return bne(e)}function oMe(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function aMe(e,t,i){switch(i){case"metric":return Sne(e,t);case"imperial":return Tne(e,t);default:return i}}function lMe(e,t,i){switch(i){case"metric":return xne(e,t);case"imperial":return Mne(e,t);default:return i}}function Sne(e,t){const i=Oa(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function xne(e,t){const i=Oa(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function Tne(e,t){const i=Oa(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function Mne(e,t){const i=Oa(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function uMe(e,t){const i=Oa(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function cMe(e,t){const i=Oa(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function hMe(e,t,i){return Oa(e,t,"meters")/(i*Math.PI/180)}function vA(e){return pne.fromJSON(e.toLowerCase())||null}function U4(e){if(e!=null&&!rne(e))return 1;const t=Cl(e);return t>1e5?1:t}function tU(e){return Cl(e)>=hne(e).metersPerDegree?"meters":qf(e)}function Cl(e,t=mr.metersPerDegree){return Ene(e,!0)??t}function Ene(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(i){if(Sx(i))return gl.metersPerDegree;if(xx(i))return Mh.metersPerDegree;n=$g.values[$g[i]],!n&&t&&fne.has(i)&&(n=dne)}else r&&(nU(r)?n=F4(K9.exec(r),n):rU(r)&&(n=F4(Q9.exec(r),n)));return n}function dMe(e){return ey(e)?1:Cl(e)}function F4(e,t){return e?.[1]?iU(e[1]):t}function iU(e){return parseFloat(e.split(",")[1])}function qf(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=$g.units[$g[t]];else if(i){const n=nU(i)?K9:rU(i)?Q9:null;if(n){const s=n.exec(i);s?.[1]&&(r=Cne(s[1]))}}return r!=null?vA(r):null}function fMe(e){const t=qf(e);return t!=null&&eU.includes(t)?t:null}function pMe(e){const t=tU(e);return t!=null&&eU.includes(t)?t:null}function mMe(e){const t=qf(e);return t==null?null:wne.get(t)}function rU(e){return/^GEOCCS/i.test(e)}function nU(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const $ne=1e-7;function Cne(e){let i=/[\\"']([^\\"']+)/.exec(e)?.[1];if(!i||!vA(i)){const r=iU(e);i=null;const n=$g.values;for(let s=0;s<n.length;++s)if(Math.abs(r-n[s])<$ne){i=$g.units[s];break}}return i}function gMe(e){const t=qf(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const One={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Pne={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Ane={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},yMe=Ds()(One),vMe=Ds()(Pne),_Me=Ds()(Ane);var Xa,hl;let Be=(hl=class extends tt{static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return Xa.WebMercator;if(t?.wkid===4326)return Xa.WGS84;const i=new Xa;return i.read(t),i}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Of(this)}get isWebMercator(){return Sl(this)}get isGeographic(){return ey(this)}get isWrappable(){return sne(this)}get metersPerUnit(){return Cl(this)}get unit(){return qf(this)||(this.isGeographic?"degrees":null)}writeWkt(t,i){this.wkid||(i.wkt=t)}clone(){if(this===Xa.WGS84)return new Xa(J9);if(this===Xa.WebMercator)return new Xa(X9);const t=new Xa;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=ke(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:r}=t.imageCoordinateSystem,{geodataXform:n}=t.imageCoordinateSystem,s=this.imageCoordinateSystem;return i==null||n?JSON.stringify(s)===JSON.stringify(t.imageCoordinateSystem):r?s.id===i&&s.referenceServiceName===r:s.id===i}return Gr(this,t)}toJSON(t){return this.write(void 0,t)}},Xa=hl,hl.GCS_NAD_1927=null,hl.WGS84=null,hl.WebMercator=null,hl.PlateCarree=null,hl);p([_({readOnly:!0})],Be.prototype,"isWGS84",null),p([_({readOnly:!0})],Be.prototype,"isWebMercator",null),p([_({readOnly:!0})],Be.prototype,"isGeographic",null),p([_({readOnly:!0})],Be.prototype,"isWrappable",null),p([_({type:fi,json:{write:!0}})],Be.prototype,"latestWkid",void 0),p([_({readOnly:!0})],Be.prototype,"metersPerUnit",null),p([_({readOnly:!0})],Be.prototype,"unit",null),p([_({type:fi,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Be.prototype,"wkid",void 0),p([_({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Be.prototype,"wkt",void 0),p([Gt("wkt"),Gt("web-scene","wkt")],Be.prototype,"writeWkt",null),p([_({type:String,json:{write:!1}})],Be.prototype,"wkt2",void 0),p([_({type:fi,json:{write:!0}})],Be.prototype,"vcsWkid",void 0),p([_({type:fi,json:{write:!0}})],Be.prototype,"latestVcsWkid",void 0),p([_()],Be.prototype,"imageCoordinateSystem",void 0),Be=Xa=p([ie("esri.geometry.SpatialReference")],Be),Be.prototype.toJSON.isDefaultToJSON=!0,Be.GCS_NAD_1927=et.freeze(new Be({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Be.WGS84=et.freeze(new Be(J9)),Be.WebMercator=et.freeze(new Be(X9)),Be.PlateCarree=et.freeze(new Be(one));function Zt(e,t,i){let r,n;return t===void 0||Array.isArray(t)?(n=e,i=t,r=[void 0]):(n=t,r=Array.isArray(e)?e:[e]),(s,a)=>{const u=s.constructor.prototype;r.forEach(h=>{const f=rA(s,h,n);f.read&&typeof f.read=="object"||(f.read={}),f.read.reader=u[a],i&&(f.read.source=(f.read.source||[]).concat(i))})}}let Fr=class extends tt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Be.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof Be)return t;if(t!=null){const r=new Be;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};p([_()],Fr.prototype,"type",void 0),p([_({readOnly:!0})],Fr.prototype,"cache",null),p([_({readOnly:!0})],Fr.prototype,"extent",null),p([_({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Fr.prototype,"hasM",void 0),p([_({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Fr.prototype,"hasZ",void 0),p([_({type:Be,json:{write:!0},value:Be.WGS84})],Fr.prototype,"spatialReference",void 0),p([Zt("spatialReference")],Fr.prototype,"readSpatialReference",null),Fr=p([ie("esri.geometry.Geometry")],Fr);const Rne=Object.prototype.toString;function Lne(e){const t="__accessorMetadata__"in e?jn(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return kne.apply(this,i)}}function kne(e,t,i,r){G_(e,t).cast=r}function Ine(e){return(t,i)=>{G_(t,e).cast=t[i]}}function xr(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Rne.call(e[0])==="[object Function]"?Lne(e[0]):e.length===1&&typeof e[0]=="string"?Ine(e[0]):void 0}function Cg(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new $e("internal:mesh","Mesh geometries are not supported for this operation")}function Nne(e){e.forEach(Cg)}const Dne=57.29577951308232,jne=.017453292519943;function B4(e){return e*Dne}function q4(e){return e*jne}function bMe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/mr.radius))}function v$(e){return e.wkid!=null||e.wkt!=null}const PE=[0,0];function d2(e,t,i,r,n){const s=e,a=n;if(a.spatialReference=i,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,PE,r);else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,PE,r),[a.xmax,a.ymax]=t(s.xmax,s.ymax,PE,r);else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const u="paths"in s?s.paths:s.rings,h=[];let f;for(let v=0;v<u.length;v++){const w=u[v];f=[],h.push(f);for(let x=0;x<w.length;x++)f.push(t(w[x][0],w[x][1],[0,0],r)),w[x].length>2&&f[x].push(w[x][2]),w[x].length>3&&f[x].push(w[x][3])}"paths"in a?a.paths=h:a.rings=h}else if("points"in s&&"points"in a){const u=s.points,h=[];for(let f=0;f<u.length;f++)h[f]=t(u[f][0],u[f][1],[0,0],r),u[f].length>2&&h[f].push(u[f][2]),u[f].length>3&&h[f].push(u[f][3]);a.points=h}return n}function Db(e,t){const i=e&&(v$(e)?e:e.spatialReference),r=t&&(v$(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Gr(r,i)||Sl(r)&&Of(i)||Sl(i)&&Of(r))}function W_(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(v$(t)?t:t.spatialReference);return Db(i,r)?Gr(i,r)?ke(e):Sl(r)?d2(e,Mm,Be.WebMercator,!1,ke(e)):Of(r)?d2(e,Tx,Be.WGS84,!1,ke(e)):null:null}function Mm(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=q4(t);return i[0]=q4(e)*mr.radius,i[1]=mr.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function Tx(e,t,i=[0,0],r=!1){if(e===n_[0])i[0]=-180;else if(e===n_[1])i[0]=180;else{const n=B4(e/mr.radius);i[0]=r?n:n-360*Math.floor((n+180)/360)}return i[1]=B4(Math.PI/2-2*Math.atan(Math.exp(-t/mr.radius))),i}function mh(e,t=!1,i=ke(e)){return Cg(e),Cg(i),d2(e,Mm,Be.WebMercator,t,i)}function Gv(e,t=!1,i=ke(e)){return Cg(e),Cg(i),d2(e,Tx,Be.WGS84,t,i)}function sU(e,t){const i=e.x-t.x,r=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+n*n)}function zne(e){return oU(e,aU)?.[0]??null}function Une(e){return oU(e,aU)?.[1]??null}function oU({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Sl(i))return Tx(e,t,r);if(ey(i))return r[0]=e,r[1]=t,r}return null}const aU=[0,0];var jb;const AE=[0,0];function G4(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let We=jb=class extends Fr{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",et.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],i=s[2],r=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,i=s.z,r=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new Be(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)ze.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)ze.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const u=Mm(s.longitude,s.latitude,AE);e=u[0],t=u[1]}}}else G4(i)?(n=i,i=null):G4(r)&&(n=r,r=null);const a={x:e,y:t};return a.x==null&&a.y!=null?ze.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&ze.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(a.spatialReference=n),i!=null&&(a.z=i),r!=null&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Une(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Mm(i,e,AE)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return zne(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",Mm(e,t,AE)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new jb;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return jb.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:n,spatialReference:s}=this,{z:a,m:u}=e;let{x:h,y:f,spatialReference:v}=e;if(!s.equals(v))if(s.isWebMercator&&v.isWGS84)[h,f]=Mm(h,f),v=s;else{if(!s.isWGS84||!v.isWebMercator)return!1;[h,f]=Tx(h,f),v=s}return t===h&&i===f&&r===a&&n===u&&s.wkid===v.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=ns(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,n=2*r;let s;return t>r?(s=Math.ceil(Math.abs(t-r)/n),t-=s*n):t<i&&(s=Math.ceil(Math.abs(t-i)/n),t+=s*n),this._set("x",t),this}distance(e){return sU(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};p([_({readOnly:!0})],We.prototype,"cache",null),p([_({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],We.prototype,"hasM",null),p([_({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],We.prototype,"hasZ",null),p([_({type:Number})],We.prototype,"latitude",null),p([_({type:Number})],We.prototype,"longitude",null),p([_({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),xr(e=>isNaN(e)?e:no(e))],We.prototype,"x",void 0),p([Gt("x")],We.prototype,"writeX",null),p([Zt("x")],We.prototype,"readX",null),p([_({type:Number,json:{write:!0}})],We.prototype,"y",void 0),p([_({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],We.prototype,"z",void 0),p([_({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],We.prototype,"m",void 0),We=jb=p([ie("esri.geometry.Point")],We),We.prototype.toJSON.isDefaultToJSON=!0;const RE=[0,0];function Z_(e,t){return t!=null&&Yn(e,t.x,t.y,t.z)}function SMe(e,t){if(!t.points?.length)return!1;for(const i of t.points)if(!Og(e,i))return!1;return!0}function Fne(e,t){const{xmin:i,ymin:r,zmin:n,xmax:s,ymax:a,zmax:u}=t;return e.hasZ&&t.hasZ?Yn(e,i,r,n)&&Yn(e,i,a,n)&&Yn(e,s,a,n)&&Yn(e,s,r,n)&&Yn(e,i,r,u)&&Yn(e,i,a,u)&&Yn(e,s,a,u)&&Yn(e,s,r,u):Yn(e,i,r)&&Yn(e,i,a)&&Yn(e,s,a)&&Yn(e,s,r)}function Og(e,t){return Yn(e,t[0],t[1])}function Bne(e,t){return Yn(e,t[0],t[1],t[2])}function Yn(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function _A(e,t){return RE[1]=t.y,RE[0]=t.x,qne(e,RE)}function qne(e,t){return wA(e.rings,t)}function wA(e,t){if(!e||e.length<1)return!1;if(Gne(e))return V4(!1,e,t);let i=!1;for(let r=0,n=e.length;r<n;r++)i=V4(i,e[r],t);return i}function Gne(e){return!Array.isArray(e[0][0])}function V4(e,t,i){const[r,n]=i;let s=e,a=0;for(let u=0,h=t.length;u<h;u++){a++,a===h&&(a=0);const[f,v]=t[u],[w,x]=t[a];(v<n&&x>=n||x<n&&v>=n)&&f+(n-v)/(x-v)*(w-f)<r&&(s=!s)}return s}function Vne(e,t){return Z_(e,t)}function Hne(e,t){const i=e.hasZ&&t.hasZ;let r,n,s;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function Wne(e,t){const{points:i,hasZ:r}=t,n=r?Bne:Og;for(const s of i)if(n(e,s))return!0;return!1}const Pf=[0,0],Af=[0,0],Rf=[0,0],Lf=[0,0],Zne=[Pf,Af,Rf,Lf],lU=[[Rf,Pf],[Pf,Af],[Af,Lf],[Lf,Rf]];function Yne(e,t){return Jne(e,t.rings)}function Jne(e,t){Pf[0]=e.xmin,Pf[1]=e.ymax,Af[0]=e.xmax,Af[1]=e.ymax,Rf[0]=e.xmin,Rf[1]=e.ymin,Lf[0]=e.xmax,Lf[1]=e.ymin;for(const i of Zne)if(wA(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(Og(e,r))return!0;for(let n=1;n<i.length;n++){const s=i[n];if(Og(e,s)||uU(r,s,lU))return!0;r=s}}return!1}function Xne(e,t){Pf[0]=e.xmin,Pf[1]=e.ymax,Af[0]=e.xmax,Af[1]=e.ymax,Rf[0]=e.xmin,Rf[1]=e.ymin,Lf[0]=e.xmax,Lf[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let n=r[0];if(Og(e,n))return!0;for(let s=1;s<r.length;s++){const a=r[s];if(Og(e,a)||uU(n,a,lU))return!0;n=a}}return!1}const Xr=[0,0];function Kne(e){for(let t=0;t<e.length;t++){const i=e[t];for(let n=0;n<i.length-1;n++){const s=i[n],a=i[n+1];for(let u=t+1;u<e.length;u++)for(let h=0;h<e[u].length-1;h++){const f=e[u][h],v=e[u][h+1];if(_$(s,a,f,v,Xr)&&!(Xr[0]===s[0]&&Xr[1]===s[1]||Xr[0]===f[0]&&Xr[1]===f[1]||Xr[0]===a[0]&&Xr[1]===a[1]||Xr[0]===v[0]&&Xr[1]===v[1]))return!0}}const r=i.length;if(!(r<=4))for(let n=0;n<r-3;n++){let s=r-1;n===0&&(s=r-2);const a=i[n],u=i[n+1];for(let h=n+2;h<s;h++){const f=i[h],v=i[h+1];if(_$(a,u,f,v,Xr)&&!(Xr[0]===a[0]&&Xr[1]===a[1]||Xr[0]===f[0]&&Xr[1]===f[1]||Xr[0]===u[0]&&Xr[1]===u[1]||Xr[0]===v[0]&&Xr[1]===v[1]))return!0}}}return!1}function uU(e,t,i){for(let r=0;r<i.length;r++)if(_$(e,t,i[r][0],i[r][1]))return!0;return!1}function _$(e,t,i,r,n){const[s,a]=e,[u,h]=t,[f,v]=i,[w,x]=r,M=w-f,P=s-f,O=u-s,F=x-v,G=a-v,Y=h-a,U=F*O-M*Y;if(U===0)return!1;const C=(M*G-F*P)/U,E=(O*G-Y*P)/U;return C>=0&&C<=1&&E>=0&&E<=1&&(n&&(n[0]=s+C*(u-s),n[1]=a+C*(h-a)),!0)}function Qne(e){switch(e){case"esriGeometryEnvelope":case"extent":return Hne;case"esriGeometryMultipoint":case"multipoint":return Wne;case"esriGeometryPoint":case"point":return Vne;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Yne;case"esriGeometryPolyline":case"polyline":return Xne}}var va;function ese(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Pc(e,t,i){return t==null?i:i==null?t:e(t,i)}let It=va=class extends Fr{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,n){return ese(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Be.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:n??Be.WGS84}}static fromPoint(e){return new va({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new We({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new va;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Db(t,i)&&(e=t.isWebMercator?mh(e):Gv(e,!0)),e.type==="point"?Z_(this,e):e.type==="extent"&&Fne(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Db(t,i)&&(e=t.isWebMercator?mh(e):Gv(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Gr(t,i)&&Db(t,i)&&(e=t.isWebMercator?mh(e):Gv(e,!0)),Qne(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Pc(Math.min,this.zmin,e.zmin),this.zmax=Pc(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Pc(Math.min,this.mmin,e.mmin),this.mmax=Pc(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Pc(Math.max,this.zmin,e.zmin),this.zmax=Pc(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Pc(Math.max,this.mmin,e.mmin),this.mmax=Pc(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=ns(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?Gv(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=LE(r.x,e).x),this.spatialReference=new Be(u8((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,n=this.xmin,s=this.xmax;return n>=i&&n<=r&&s>=i&&s<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const n=i??ns(r);if(n==null)return this;const s=this._getParts(n).map(h=>h.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let a=!0,u=!0;return s.forEach(h=>{h.hasZ||(a=!1),h.hasM||(u=!1)}),{rings:s.map(h=>{const f=[[h.xmin,h.ymin],[h.xmin,h.ymax],[h.xmax,h.ymax],[h.xmax,h.ymin],[h.xmin,h.ymin]];if(a){const v=(h.zmax-h.zmin)/2;for(let w=0;w<f.length;w++)f[w].push(v)}if(u){const v=(h.mmax-h.mmin)/2;for(let w=0;w<f.length;w++)f[w].push(v)}return f}),hasZ:a,hasM:u,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:s,spatialReference:a}=this,u=this.width,h=this.xmin,f=this.xmax;let v;e=e||ns(a);const[w,x]=e.valid;v=LE(this.xmin,e);const M=v.x,P=v.frameId;v=LE(this.xmax,e);const O=v.x,F=v.frameId,G=M===O&&u>0;if(u>2*x){const Y=new va(h<f?M:O,n,x,s,a),U=new va(w,n,h<f?O:M,s,a),C=new va(0,n,x,s,a),E=new va(w,n,0,s,a),A=[],k=[];Y.contains(C)&&A.push(P),Y.contains(E)&&k.push(P),U.contains(C)&&A.push(F),U.contains(E)&&k.push(F);for(let V=P+1;V<F;V++)A.push(V),k.push(V);t.push({extent:Y,frameIds:[P]},{extent:U,frameIds:[F]},{extent:C,frameIds:A},{extent:E,frameIds:k})}else M>O||G?t.push({extent:new va(M,n,x,s,a),frameIds:[P]},{extent:new va(w,n,O,s,a),frameIds:[F]}):t.push({extent:new va(M,n,O,s,a),frameIds:[P]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const n={};i&&(n.zmin=this.zmin,n.zmax=this.zmax),r&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(n)}return t}};function LE(e,t){const[i,r]=t.valid,n=2*r;let s,a=0;return e>r?(s=Math.ceil(Math.abs(e-r)/n),e-=s*n,a=s):e<i&&(s=Math.ceil(Math.abs(e-i)/n),e+=s*n,a=-s),{x:e,frameId:a}}p([_({readOnly:!0})],It.prototype,"cache",null),p([_({readOnly:!0})],It.prototype,"center",null),p([_({readOnly:!0})],It.prototype,"extent",null),p([_({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],It.prototype,"hasM",null),p([_({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],It.prototype,"hasZ",null),p([_({readOnly:!0})],It.prototype,"height",null),p([_({readOnly:!0})],It.prototype,"width",null),p([_({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],It.prototype,"xmin",void 0),p([_({type:Number,json:{write:!0}})],It.prototype,"ymin",void 0),p([_({type:Number,json:{origins:{"web-scene":{write:!1}},read:e=>e??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],It.prototype,"mmin",void 0),p([_({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],It.prototype,"zmin",void 0),p([_({type:Number,json:{write:!0}})],It.prototype,"xmax",void 0),p([_({type:Number,json:{write:!0}})],It.prototype,"ymax",void 0),p([_({type:Number,json:{origins:{"web-scene":{write:!1}},read:e=>e??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],It.prototype,"mmax",void 0),p([_({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],It.prototype,"zmax",void 0),It=va=p([ie("esri.geometry.Extent")],It),It.prototype.toJSON.isDefaultToJSON=!0;let $0;const tse=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,w$=globalThis.document?.documentElement;function cU(){const e=w$?.getAttribute("lang"),t=globalThis.navigator?.language;return tse??e??t??"en"}function Dn(){return $0===void 0&&($0=cU()),$0}const ise=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function bA(e=Dn()){return dU(e)?.language}function hU(e=Dn()){const t=dU(e);return t?.language&&t?.extlang?e.replace(`${t.language}-`,""):e}function dU(e=Dn()){return ise.exec(e)?.groups}const zb=[];function Mx(e){return zb.push(e),jt(()=>{zb.splice(zb.indexOf(e),1)})}const Ub=[];function SA(e){return Ub.push(e),jt(()=>Ub.splice(Ub.indexOf(e),1))}function H4(){const e=cU();$0!==e&&([...Ub].forEach(t=>t(e)),$0=e,[...zb].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",H4),w$&&new MutationObserver(()=>{H4()}).observe(w$,{attributeFilter:["lang"]});let Bw;function rse(e){return Bw&&!Bw.destroyed||(Bw=e()),Bw}var b$;const nse=new qr({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let br=b$=class extends et{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new b$({categories:this.categories?ke(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let r="";if(this.extent){const a=W_(this.extent,Be.WGS84);a!=null&&(r=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(a=>nse.toJSON(a.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};p([_()],br.prototype,"categories",void 0),p([_()],br.prototype,"disableExtraQuery",void 0),p([_({type:It})],br.prototype,"extent",void 0),p([_()],br.prototype,"filter",void 0),p([_()],br.prototype,"num",void 0),p([_()],br.prototype,"query",void 0),p([_()],br.prototype,"sortField",void 0),p([_()],br.prototype,"sortOrder",null),p([_()],br.prototype,"start",void 0),br=b$=p([ie("esri.portal.PortalQueryParams")],br);var S$;let hr=S$=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new $e("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new S$({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=jn(br,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new br,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new br,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const s=new br({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(s,t)}throw new $e("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],s=new br({num:1,query:`typekeywords:"${e}"`});return n.queryItems(s,t)}throw new $e("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(n=>{const s=n?.categorySchema;return s?.length?s:[]}):[])}};p([_()],hr.prototype,"access",void 0),p([_({type:Date})],hr.prototype,"created",void 0),p([_()],hr.prototype,"description",void 0),p([_()],hr.prototype,"id",void 0),p([_()],hr.prototype,"isInvitationOnly",void 0),p([_({type:Date})],hr.prototype,"modified",void 0),p([_()],hr.prototype,"owner",void 0),p([_()],hr.prototype,"portal",void 0),p([_()],hr.prototype,"snippet",void 0),p([_()],hr.prototype,"sortField",void 0),p([_()],hr.prototype,"sortOrder",void 0),p([_()],hr.prototype,"sourceJSON",void 0),p([_()],hr.prototype,"tags",void 0),p([_()],hr.prototype,"thumbnail",void 0),p([_({readOnly:!0})],hr.prototype,"thumbnailUrl",null),p([_()],hr.prototype,"title",void 0),p([_({readOnly:!0})],hr.prototype,"url",null),hr=S$=p([ie("esri.portal.PortalGroup")],hr);let Cd=class extends et{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};p([_()],Cd.prototype,"nextQueryParams",void 0),p([_()],Cd.prototype,"queryParams",void 0),p([_()],Cd.prototype,"results",void 0),p([_()],Cd.prototype,"total",void 0),Cd=p([ie("esri.portal.PortalQueryResult")],Cd);let ou=class extends tt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new $e("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};p([_({type:Date})],ou.prototype,"created",void 0),p([_()],ou.prototype,"id",void 0),p([_()],ou.prototype,"portal",void 0),p([_()],ou.prototype,"title",void 0),p([_({readOnly:!0})],ou.prototype,"url",null),p([_()],ou.prototype,"username",void 0),ou=p([ie("esri.portal.PortalFolder")],ou);var x$;let vi=x$=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),i!=null&&(typeof i=="string"?n.query.text=i:typeof i=="object"&&(n.query.text=JSON.stringify(i))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",n).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],n=e.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:t}},a=await this.portal.request(i,s);for(const u of a.results){const h=e.find(w=>u.itemId===w.id),f=u.success;let v=null;f?(h.id=null,h.portal=null):u.error&&(v=new $e("portal:delete-item-failed",u.error.message,u.error)),r.push({item:h,success:f,error:v})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const n=ou.fromJSON(r);return n.portal=this.portal,n}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=hr.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await Ne(()=>Promise.resolve().then(()=>fU),void 0,import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:r});let s;return n?.items?(s=n.items.map(a=>{const u=i.fromJSON(a);return u.portal=this.portal,u}),await Promise.all(s.map(a=>a.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new hr({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new $e("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new $e("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new x$({sourceJSON:e});return t.read(e),t}};p([_()],vi.prototype,"access",void 0),p([_({type:Date})],vi.prototype,"created",void 0),p([_()],vi.prototype,"culture",void 0),p([_()],vi.prototype,"description",void 0),p([_()],vi.prototype,"email",void 0),p([_()],vi.prototype,"favGroupId",void 0),p([_()],vi.prototype,"fullName",void 0),p([_()],vi.prototype,"id",void 0),p([_({type:Date})],vi.prototype,"modified",void 0),p([_()],vi.prototype,"orgId",void 0),p([_()],vi.prototype,"portal",void 0),p([_()],vi.prototype,"preferredView",void 0),p([_()],vi.prototype,"privileges",void 0),p([_()],vi.prototype,"region",void 0),p([_()],vi.prototype,"role",void 0),p([_()],vi.prototype,"roleId",void 0),p([_()],vi.prototype,"sourceJSON",void 0),p([_()],vi.prototype,"thumbnail",void 0),p([_({readOnly:!0})],vi.prototype,"thumbnailUrl",null),p([_()],vi.prototype,"units",void 0),p([_({readOnly:!0})],vi.prototype,"userContentUrl",null),p([_({readOnly:!0})],vi.prototype,"url",null),p([_()],vi.prototype,"username",void 0),p([_()],vi.prototype,"userLicenseTypeId",void 0),p([_()],vi.prototype,"userType",void 0),vi=x$=p([ie("esri.portal.PortalUser")],vi);var Zs;let vv;const W4={PortalGroup:()=>Promise.resolve({default:hr}),PortalItem:()=>Ne(()=>Promise.resolve().then(()=>fU),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:vi})};var dl;let Ie=(dl=class extends Rh(H_){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=qt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){Z4.unregister(this),this.defaultBasemap=er(this.defaultBasemap),this.defaultDevBasemap=er(this.defaultDevBasemap),this.defaultVectorBasemap=er(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Oi(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const i of t)qt.request.trustedServers.includes(i)||qt.request.trustedServers.push(i);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,i=!t||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return gte(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let t=this.url;if(t){const i=t.indexOf("/sharing");t=i>0?t.slice(0,i):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,i=this.thumbnail;return t&&i?this._normalizeSSL(t+"/portals/self/resources/"+i):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let i=null;return t&&(i=vi.fromJSON(t),i.portal=this),i}load(t){const i=Ne(async()=>{const{default:r}=await Promise.resolve().then(()=>tle);return{default:r}},void 0,import.meta.url).then(({default:r})=>{Li(t),vv=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(r=>{if(!this.hasAPIKey&&Mi){const n=Mi;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Zs.AUTH_MODE_AUTO&&this.authMode!==Zs.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",sse(new WeakRef(this))),Z4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),i=(await Ne(async()=>{const{default:r}=await import("./ElevationLayer-BX5SfD-R.js");return{default:r}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url)).default;return t?t.map(r=>new i({id:r.id,url:r.url})):[]}async fetchBasemaps(t,i){const r=await this._fetchBasemaps(t,i);if(i?.include3d===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(t,i);r.unshift(...n)}return r}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new br;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const r=(await this.queryItems(i,t)).results.find(n=>n.type==="Web Scene");return r?new vv({portalItem:r}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(i=>i.categorySchema):In(t)?Promise.reject(ai()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(i=>i.classificationSchema):null}fetchFeaturedGroups(t){const i=this.featuredGroups,r=new br({num:100,sortField:"title"});if(i?.length){const n=[];for(const s of i)n.push(`(title:"${s.title}" AND owner:${s.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,t).then(s=>s.results)}return In(t)?Promise.reject(ai()):Promise.resolve([])}fetchRegions(t){const i=this.user?.culture||this.culture||Dn();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:i}})}fetchSettings(t){const i=this.user?.culture||this.culture||Dn();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:i}})}static getDefault(){return rse(()=>new Zs)}queryGroups(t,i){return this.queryPortal("/community/groups",t,"PortalGroup",i)}queryItems(t,i){return this.queryPortal("/search",t,"PortalItem",i)}queryUsers(t,i){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",i)}fetchSelf(t=this.authMode,i=!1,r){const n=this.restUrl+"/portals/self",s={authMode:t,query:{culture:Dn().toLowerCase()},withCredentials:!0,...r};return s.authMode==="auto"&&(s.authMode="no-prompt"),i&&(s.query.default=!0),this.request(n,s)}queryPortal(t,i,r,n){const s=jn(br,i),a=u=>this.request(this.restUrl+t,{...s.toRequestOptions(this),...n}).then(h=>{const f=s.clone();return f.start=h.nextStart,new Cd({nextQueryParams:f,queryParams:s,total:h.total,results:Zs._resultsToTypedArray(u,{portal:this},h,n)})}).then(h=>Promise.all(h.results.map(f=>typeof f.when=="function"?f.when():h)).then(()=>h,f=>(L8(f),h)));return r&&W4[r]?W4[r]().then(({default:u})=>(Li(n),a(u))):a()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new $e("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Zs.AUTH_MODE_ANONYMOUS||this.authMode===Zs.AUTH_MODE_NO_PROMPT&&!Mi)return Promise.reject(new $e("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=i=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate"))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Mi?Mi.getCredential(this.restUrl,{prompt:this.authMode!==Zs.AUTH_MODE_NO_PROMPT}).then(i=>t(i)):t(this.credential)}normalizeUrl(t){const i=this.credential?.token;return this._normalizeSSL(i?t+(t.includes("?")?"&":"?")+"token="+i:t)}requestToTypedArray(t,i,r){return this.request(t,i).then(n=>{const s=Zs._resultsToTypedArray(r,{portal:this},n);return Promise.all(s.map(a=>typeof a.when=="function"?a.when():n)).then(()=>s,()=>s)})}request(t,i={}){const r={f:"json",...i.query},{authMode:n=this.authMode===Zs.AUTH_MODE_ANONYMOUS||this.authMode===Zs.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:a=!1,method:u="auto",responseType:h="json",signal:f}=i,v={authMode:n,body:s,cacheBust:a,method:u,query:r,responseType:h,timeout:0,signal:f};return i.withCredentials&&(v.withCredentials=!0),tr(this._normalizeSSL(t),v).then(w=>w.data)}toJSON(){throw new $e("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Zs({sourceJSON:t})}_getHelperService(t){const i=this.helperServices?.[t];if(!i)throw new $e("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return i}async _fetchBasemaps(t,i){const r=new br;r.query=t||(Q3()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,i);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const a=await s.queryItems(r,i);return a.total?a.results.filter(u=>u.type==="Web Map").map(u=>new vv({portalItem:u})):[]}async _fetchBasemaps3D(t,i){const r=t||this.basemapGalleryGroupQuery3D;if(!r)return[];if(Q3())return[];const n=new br({query:r,disableExtraQuery:!0}),s=await this.queryGroups(n,i);if(!s.total)return[];const a=s.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=a.sortField||"name",n.sortOrder=a.sortOrder||"desc";const u=await a.queryItems(n,i);return u.total?u.results.filter(h=>h.type==="Web Scene").map(h=>new vv({portalItem:h})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const i=vv.fromJSON(t);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(t,i,r,n){let s;if(r){const a=n!=null?n.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(t||i)&&(s=s.map(u=>{const h=Object.assign(t?t.fromJSON(u):u,i);return typeof h.load=="function"&&h.load(a),h}))}else s=[];return s}},Zs=dl,dl.AUTH_MODE_ANONYMOUS="anonymous",dl.AUTH_MODE_AUTO="auto",dl.AUTH_MODE_IMMEDIATE="immediate",dl.AUTH_MODE_NO_PROMPT="no-prompt",dl);p([_()],Ie.prototype,"access",void 0),p([_()],Ie.prototype,"allSSL",void 0),p([_()],Ie.prototype,"authMode",void 0),p([_()],Ie.prototype,"authorizedCrossOriginDomains",void 0),p([Zt("authorizedCrossOriginDomains")],Ie.prototype,"readAuthorizedCrossOriginDomains",null),p([_()],Ie.prototype,"basemapGalleryGroupQuery",void 0),p([_({json:{name:"3DBasemapGalleryGroupQuery"}})],Ie.prototype,"basemapGalleryGroupQuery3D",void 0),p([_({json:{name:"g3DTilesGalleryGroupQuery"}})],Ie.prototype,"g3DTilesGalleryGroupQuery",void 0),p([_({json:{name:"g3dTilesEnabled"}})],Ie.prototype,"g3dTilesEnabled",void 0),p([_()],Ie.prototype,"bingKey",void 0),p([_()],Ie.prototype,"canListApps",void 0),p([_()],Ie.prototype,"canListData",void 0),p([_()],Ie.prototype,"canListPreProvisionedItems",void 0),p([_()],Ie.prototype,"canProvisionDirectPurchase",void 0),p([_()],Ie.prototype,"canSearchPublic",void 0),p([_()],Ie.prototype,"canShareBingPublic",void 0),p([_()],Ie.prototype,"canSharePublic",void 0),p([_()],Ie.prototype,"canSignInArcGIS",void 0),p([_()],Ie.prototype,"canSignInIDP",void 0),p([_()],Ie.prototype,"colorSetsGroupQuery",void 0),p([_()],Ie.prototype,"commentsEnabled",void 0),p([_({type:Date})],Ie.prototype,"created",void 0),p([_()],Ie.prototype,"credential",void 0),p([_()],Ie.prototype,"culture",void 0),p([_()],Ie.prototype,"currentVersion",void 0),p([_()],Ie.prototype,"customBaseUrl",void 0),p([_()],Ie.prototype,"default3DBasemapQuery",void 0),p([_()],Ie.prototype,"defaultBasemap",void 0),p([Zt("defaultBasemap")],Ie.prototype,"readDefaultBasemap",null),p([_()],Ie.prototype,"defaultDevBasemap",void 0),p([Zt("defaultDevBasemap")],Ie.prototype,"readDefaultDevBasemap",null),p([_({type:It})],Ie.prototype,"defaultExtent",void 0),p([_()],Ie.prototype,"defaultVectorBasemap",void 0),p([Zt("defaultVectorBasemap")],Ie.prototype,"readDefaultVectorBasemap",null),p([_()],Ie.prototype,"description",void 0),p([_()],Ie.prototype,"devBasemapGalleryGroupQuery",void 0),p([_()],Ie.prototype,"eueiEnabled",void 0),p([_({readOnly:!0})],Ie.prototype,"extraQuery",null),p([_()],Ie.prototype,"featuredGroups",void 0),p([_()],Ie.prototype,"featuredItemsGroupQuery",void 0),p([_()],Ie.prototype,"galleryTemplatesGroupQuery",void 0),p([_()],Ie.prototype,"layoutGroupQuery",void 0),p([_()],Ie.prototype,"livingAtlasGroupQuery",void 0),p([_({readOnly:!0})],Ie.prototype,"hasAPIKey",null),p([_()],Ie.prototype,"hasCategorySchema",void 0),p([_()],Ie.prototype,"hasClassificationSchema",void 0),p([_()],Ie.prototype,"helpBase",void 0),p([_()],Ie.prototype,"helperServices",void 0),p([_()],Ie.prototype,"helpMap",void 0),p([_()],Ie.prototype,"homePageFeaturedContent",void 0),p([_()],Ie.prototype,"homePageFeaturedContentCount",void 0),p([_()],Ie.prototype,"httpPort",void 0),p([_()],Ie.prototype,"httpsPort",void 0),p([_()],Ie.prototype,"id",void 0),p([_()],Ie.prototype,"ipCntryCode",void 0),p([_({readOnly:!0})],Ie.prototype,"isOrganization",null),p([_()],Ie.prototype,"isPortal",void 0),p([_()],Ie.prototype,"isReadOnly",void 0),p([_({readOnly:!0})],Ie.prototype,"itemPageUrl",null),p([_()],Ie.prototype,"layerTemplatesGroupQuery",void 0),p([_()],Ie.prototype,"maxTokenExpirationMinutes",void 0),p([_({type:Date})],Ie.prototype,"modified",void 0),p([_()],Ie.prototype,"name",void 0),p([_()],Ie.prototype,"portalHostname",void 0),p([_()],Ie.prototype,"portalMode",void 0),p([_()],Ie.prototype,"portalProperties",void 0),p([_()],Ie.prototype,"region",void 0),p([_()],Ie.prototype,"recycleBinEnabled",void 0),p([_({readOnly:!0})],Ie.prototype,"restUrl",null),p([_()],Ie.prototype,"rotatorPanels",void 0),p([_()],Ie.prototype,"showHomePageDescription",void 0),p([_()],Ie.prototype,"sourceJSON",void 0),p([_()],Ie.prototype,"staticImagesUrl",void 0),p([_({json:{name:"2DStylesGroupQuery"}})],Ie.prototype,"stylesGroupQuery2d",void 0),p([_({json:{name:"stylesGroupQuery"}})],Ie.prototype,"stylesGroupQuery3d",void 0),p([_()],Ie.prototype,"supportsHostedServices",void 0),p([_()],Ie.prototype,"symbolSetsGroupQuery",void 0),p([_()],Ie.prototype,"templatesGroupQuery",void 0),p([_()],Ie.prototype,"thumbnail",void 0),p([_({readOnly:!0})],Ie.prototype,"thumbnailUrl",null),p([_()],Ie.prototype,"units",void 0),p([_()],Ie.prototype,"url",void 0),p([_()],Ie.prototype,"urlKey",void 0),p([Zt("urlKey")],Ie.prototype,"readUrlKey",null),p([_()],Ie.prototype,"user",void 0),p([Zt("user")],Ie.prototype,"readUser",null),p([_()],Ie.prototype,"use3dBasemaps",void 0),p([_()],Ie.prototype,"useDefault3dBasemap",void 0),p([_()],Ie.prototype,"useStandardizedQuery",void 0),p([_()],Ie.prototype,"useVectorBasemaps",void 0),p([_()],Ie.prototype,"vectorBasemapGalleryGroupQuery",void 0),Ie=Zs=p([ie("esri.portal.Portal")],Ie);const Z4=new FinalizationRegistry(e=>{e.remove()});function sse(e){const t=Mi;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let au=class extends et{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:Y4(t.path,t.portalItem)}:t}set path(t){t!=null&&ks(t)?ze.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return Y4(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const r=this.cdnUrl;if(r==null)throw new $e("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:t,query:{token:this.portalItem.apiKey,_ts:i?.cacheBust?Date.now():null},signal:i?.signal})}async update(t,i){const{addOrUpdateResources:r}=await Ne(()=>import("./resourceUtils-n5UR7Cyx.js"),[],import.meta.url);return await r(this.portalItem,[{resource:this,content:t,compress:i?.compress,access:i?.access}],"update",i),this}hasPath(){return this.path!=null}};function Y4(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&ks(e)&&(e=UP(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}p([_()],au.prototype,"portalItem",void 0),p([_({type:String,value:null})],au.prototype,"path",null),p([xr("path")],au.prototype,"_castPath",null),p([_({type:String,readOnly:!0})],au.prototype,"url",null),p([_({type:String,readOnly:!0})],au.prototype,"cdnUrl",null),p([_({type:String,readOnly:!0})],au.prototype,"itemRelativeUrl",null),au=p([ie("esri.portal.PortalItemResource")],au);let Qd=class extends et{constructor(t){super(t),this.created=null,this.rating=null}};p([_({type:Date})],Qd.prototype,"created",void 0),p([_()],Qd.prototype,"rating",void 0),Qd=p([ie("esri.portal.PortalRating")],Qd);var Od;const ose=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),ase=new Set(["KML","GeoJson","CSV"]);let _t=Od=class extends Rh(H_){static from(e){return yx(Od,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new It(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],i="esri/images/portal/",r="16";let n,s=!1,a=!1,u=!1,h=!1,f=!1,v=!1,w=!1,x=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),u=t.includes("Route Layer"),h=t.includes("Markup"),f=t.includes("Spatiotemporal"),v=t.includes("UtilityNetwork"),n=f&&a?"spatiotemporaltable":a?"table":u?"routelayer":h?"markup":f?"spatiotemporal":v?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(f=t.includes("Spatiotemporal"),w=t.includes("Relational"),n=f||w?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):n=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":t.includes("GaussianSplat")?"gaussiansplatlayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?n="maps":e==="web scene"?n=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?n="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?n="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?n="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?n="datafiles":e==="360 vr experience"?n="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?n="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?n="addindesktop":e==="pdf"?n="pdf":e==="microsoft word"?n="word":e==="microsoft excel"?n="excel":e==="microsoft powerpoint"?n="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?n="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?n="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?n="layersgray":e==="analysis model"?n="analysismodel":e==="scene package"?n="scenepackage":e==="3dtiles package"?n="3dtileslayerpackage":e==="3dtiles service"?n="3dtileslayer":e==="mobile scene package"?n="mobilescenepackage":e==="tile package"||e==="compact tile package"?n="tilepackage":e==="task file"?n="taskfile":e==="report template"?n="report-template":e==="statistical data collection"?n="statisticaldatacollection":e==="insights workbook"?n="workbook":e==="insights model"?n="insightsmodel":e==="insights page"?n="insightspage":e==="insights theme"?n="insightstheme":e==="hub initiative"?n="hubinitiative":e==="hub page"?n="hubpage":e==="hub site application"?n="hubsite":e==="hub event"?n="hubevent":e==="hub project"?n="hubproject":e==="relational database connection"?n="relationaldatabaseconnection":e==="big data file share"?n="datastorecollection":e==="image collection"?n="imagecollection":e==="desktop style"?n="desktopstyle":e==="style"?n=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?n="dashboard":e==="raster function template"?n="rasterprocessingtemplate":e==="vector tile package"?n="vectortilepackage":e==="ortho mapping project"?n="orthomappingproject":e==="ortho mapping template"?n="orthomappingtemplate":e==="solution"?n="solutions":e==="geopackage"?n="geopackage":e==="deep learning package"?n="deeplearningpackage":e==="real time analytic"?n="realtimeanalytics":e==="reality mapping project"?n="realitymappingproject":e==="big data analytic"?n="bigdataanalytics":e==="feed"?n="feed":e==="excalibur imagery project"?n="excaliburimageryproject":e==="notebook"?n="notebook":e==="storymap"?n="storymap":e==="survey123 add in"?n="survey123addin":e==="mission"?n="mission":e==="mission report"?n="missionreport":e==="mission template"?n="missiontemplate":e==="quickcapture project"?n="quickcaptureproject":e==="pro report"?n="proreport":e==="pro report template"?n="proreporttemplate":e==="urban model"?n="urbanmodel":e==="urban project"?n="urbanproject":e==="web experience"?n="experiencebuilder":e==="web experience template"?n="webexperiencetemplate":e==="experience builder widget"?n="experiencebuilderwidget":e==="experience builder widget package"?n="experiencebuilderwidgetpackage":e==="workflow"?n="workflow":e==="kernel gateway connection"?n="kernelgatewayconnection":e==="insights script"?n="insightsscript":e==="hub initiative template"?n="hubinitiativetemplate":e==="storymap theme"?n="storymaptheme":e==="knowledge graph"?n="knowledgegraph":e==="knowledge graph layer"?n="knowledgegraphlayer":e==="knowledge studio project"?n="knowledgestudio":e==="native application"?n="nativeapp":e==="native application installer"?n="nativeappinstaller":e==="web link chart"?n="linkchart":e==="knowledge graph web investigation"?n="investigation":e==="ogcfeatureserver"?n="features":e==="pro presentation"?n="propresentation":e==="pro project"?n="proproject":e==="insights workbook package"?n="insightsworkbookpackage":e==="apache parquet"?n="apacheparquet":e==="notebook code snippet library"?n="notebookcodesnippets":e==="suitability model"?n="suitabilitymodel":e==="esri classifier definition"?n="classifierdefinition":e==="esri classification schema"?n="classificationschema":e==="insights data engineering workbook"?n="dataengineeringworkbook":e==="insights data engineering model"?n="dataengineeringmodel":e==="deep learning studio project"?n="deeplearningproject":e==="discussion"?n="discussion":e==="allsource project"?n="allsourceproject":e==="api key"?n="apikey":e==="data pipeline"?n="datapipelines":e==="group layer"?(x=t.includes("Map"),n=x?"layergroup2d":"layergroup"):n=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":e==="xr experience"?"xrexperience":"maps",n?Ki(i+n+r+".png"):null}get isLayer(){return this.type!=null&&ose.has(this.type)}get itemCdnUrl(){return HP(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get loaded(){return super.loaded}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=Ie.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},i=e instanceof Qd?e.rating:e;return i==null||isNaN(i)||typeof e!="number"||(t.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new Qd({rating:i,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:ke(this.applicationProxies),avgRating:this.avgRating,categories:ke(this.categories),classification:ke(this.classification),created:ke(this.created),culture:this.culture,description:this.description,extent:ke(this.extent),groupCategories:ke(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:ke(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:ke(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ke(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ke(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Od({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const i=e[t];i&&(e[t]=JSON.stringify(i))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new Qd(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Od)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e?.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new $e("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new $e("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:n,tags:s,title:a}=e||{},u={method:"post",query:{copyPrivateResources:r==="all",folder:typeof n=="string"?n:n?.id,includeResources:!!r,tags:s?.join(","),title:a}},{itemId:h}=await t.request(`${i}/copy`,u);return new Od({id:h,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if(typeof t=="string")Uf(t)?r.query={data:t}:r.query={url:qo(t)},i!=null&&(r.query.filename=i);else{const n=new FormData;i!=null?n.append("file",t,i):n.append("file",t),r.body=n}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new $e("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await Ne(()=>import("./resourceUtils-n5UR7Cyx.js"),[],import.meta.url);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:r}=await Ne(()=>import("./resourceUtils-n5UR7Cyx.js"),[],import.meta.url);return e.portalItem=this,await r(this,[{resource:e,content:t,compress:i?.compress,access:i?.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await Ne(()=>import("./resourceUtils-n5UR7Cyx.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new $e("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await Ne(()=>import("./resourceUtils-n5UR7Cyx.js"),[],import.meta.url);return t(this,e)}resourceFromPath(e){return new au({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:ke(this.categories),classification:ke(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ke(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ke(this.typeKeywords),url:this.url};return hee(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Od({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};p([_({type:["private","shared","org","public"]})],_t.prototype,"access",void 0),p([_()],_t.prototype,"accessInformation",void 0),p([_({type:String})],_t.prototype,"apiKey",void 0),p([_({json:{read:{source:"appProxies"}}})],_t.prototype,"applicationProxies",void 0),p([_()],_t.prototype,"avgRating",void 0),p([_()],_t.prototype,"categories",void 0),p([_()],_t.prototype,"classification",void 0),p([_({type:Date})],_t.prototype,"created",void 0),p([_()],_t.prototype,"culture",void 0),p([_()],_t.prototype,"description",void 0),p([_({readOnly:!0})],_t.prototype,"displayName",null),p([_({type:It})],_t.prototype,"extent",void 0),p([Zt("extent")],_t.prototype,"readExtent",null),p([_()],_t.prototype,"groupCategories",void 0),p([_({readOnly:!0})],_t.prototype,"iconUrl",null),p([_()],_t.prototype,"id",void 0),p([_({readOnly:!0})],_t.prototype,"isLayer",null),p([_({type:Boolean,readOnly:!0})],_t.prototype,"isOrgItem",void 0),p([_()],_t.prototype,"itemControl",void 0),p([_({readOnly:!0})],_t.prototype,"itemPageUrl",null),p([_({readOnly:!0})],_t.prototype,"itemUrl",null),p([_()],_t.prototype,"licenseInfo",void 0),p([_({type:Date})],_t.prototype,"modified",void 0),p([_()],_t.prototype,"name",void 0),p([_()],_t.prototype,"numComments",void 0),p([_()],_t.prototype,"numRatings",void 0),p([_()],_t.prototype,"numViews",void 0),p([_()],_t.prototype,"owner",void 0),p([_()],_t.prototype,"ownerFolder",void 0),p([_({type:Ie})],_t.prototype,"portal",void 0),p([_()],_t.prototype,"screenshots",void 0),p([_()],_t.prototype,"size",void 0),p([_()],_t.prototype,"snippet",void 0),p([_()],_t.prototype,"sourceJSON",void 0),p([_({type:String})],_t.prototype,"sourceUrl",void 0),p([_({type:String})],_t.prototype,"spatialReference",void 0),p([_()],_t.prototype,"tags",void 0),p([_()],_t.prototype,"thumbnail",void 0),p([_({readOnly:!0})],_t.prototype,"thumbnailUrl",null),p([_()],_t.prototype,"title",void 0),p([_()],_t.prototype,"type",void 0),p([_()],_t.prototype,"typeKeywords",void 0),p([_({type:String,json:{read(e,t){if(ase.has(t.type)){const i=this.portal?.restUrl;e||=i&&this.id?`${i}/content/items/${this.id}/data`:null}return e}}})],_t.prototype,"url",void 0),p([_({readOnly:!0})],_t.prototype,"userItemUrl",null),_t=Od=p([ie("esri.portal.PortalItem")],_t);const fU=Object.freeze(Object.defineProperty({__proto__:null,get default(){return _t}},Symbol.toStringTag,{value:"Module"})),pU={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function lse(e){return e in pU}function J4(e){if(lse(e)){const t=pU[e];return t===!0?e:t}return null}const Vv=[],zm=new Map;function X4(e){for(const t of zm.keys())gU(e.pattern,t)&&zm.delete(t)}function use(e){return Vv.includes(e)||(X4(e),Vv.unshift(e)),jt(()=>{const t=Vv.indexOf(e);t>-1&&(Vv.splice(t,1),X4(e))})}async function Ex(e){const t=Dn();zm.has(e)||zm.set(e,cse(e,t));const i=zm.get(e);return i&&await hse.add(i),i}function mU(e){const t=bA(e);return t?J4(e)??J4(t):null}async function cse(e,t){const i=[];for(const r of Vv)if(gU(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(n){i.push(n)}throw i.length?new $e("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new $e("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function gU(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}SA(()=>{zm.clear()});const hse=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=uo())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function dse(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await Ex("esri/t9n/basemaps");return i[e]||i[t]}const T$={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-hillshade",url:"https://services.arcgisonline.com/ArcGIS/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1},{id:"terrain-base",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/33064a20de0c48d2bb61efa8faca93a8/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Terrain Base"},{id:"terrain-reference",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/14fbc125ccc9488888b014db09f35f67/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Reference Reference",isReference:!0}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/94329802cbfa44a18f423e6f1a0b875c/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Ki("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Ki("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Ki("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Ki("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Ki("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Buildings_v1/SceneServer",itemId:"cd33b09dde0a419c986ca1a78a5fc06d",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Ki("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]}},xl="system",xA="unknown",o_="UTC",fse=Intl.DateTimeFormat().resolvedOptions().timeZone,K4=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Gf extends Error{}class pse extends Gf{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class mse extends Gf{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class gse extends Gf{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Em extends Gf{}class yU extends Gf{constructor(t){super(`Invalid unit ${t}`)}}class Cn extends Gf{}class Ac extends Gf{constructor(){super("Zone is an abstract class")}}const qe="numeric",Pa="short",lo="long",f2={year:qe,month:qe,day:qe},vU={year:qe,month:Pa,day:qe},yse={year:qe,month:Pa,day:qe,weekday:Pa},_U={year:qe,month:lo,day:qe},wU={year:qe,month:lo,day:qe,weekday:lo},bU={hour:qe,minute:qe},SU={hour:qe,minute:qe,second:qe},xU={hour:qe,minute:qe,second:qe,timeZoneName:Pa},TU={hour:qe,minute:qe,second:qe,timeZoneName:lo},MU={hour:qe,minute:qe,hourCycle:"h23"},EU={hour:qe,minute:qe,second:qe,hourCycle:"h23"},$U={hour:qe,minute:qe,second:qe,hourCycle:"h23",timeZoneName:Pa},CU={hour:qe,minute:qe,second:qe,hourCycle:"h23",timeZoneName:lo},OU={year:qe,month:qe,day:qe,hour:qe,minute:qe},PU={year:qe,month:qe,day:qe,hour:qe,minute:qe,second:qe},AU={year:qe,month:Pa,day:qe,hour:qe,minute:qe},RU={year:qe,month:Pa,day:qe,hour:qe,minute:qe,second:qe},vse={year:qe,month:Pa,day:qe,weekday:Pa,hour:qe,minute:qe},LU={year:qe,month:lo,day:qe,hour:qe,minute:qe,timeZoneName:Pa},kU={year:qe,month:lo,day:qe,hour:qe,minute:qe,second:qe,timeZoneName:Pa},IU={year:qe,month:lo,day:qe,weekday:lo,hour:qe,minute:qe,timeZoneName:lo},NU={year:qe,month:lo,day:qe,weekday:lo,hour:qe,minute:qe,second:qe,timeZoneName:lo};class Y_{get type(){throw new Ac}get name(){throw new Ac}get ianaName(){return this.name}get isUniversal(){throw new Ac}offsetName(t,i){throw new Ac}formatOffset(t,i){throw new Ac}offset(t){throw new Ac}equals(t){throw new Ac}get isValid(){throw new Ac}}let kE=null;class $x extends Y_{static get instance(){return kE===null&&(kE=new $x),kE}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return WU(t,i,r)}formatOffset(t,i){return C0(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const M$=new Map;function _se(e){let t=M$.get(e);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),M$.set(e,t)),t}const wse={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function bse(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,a,u,h,f,v]=r;return[a,n,s,u,h,f,v]}function Sse(e,t){const i=e.formatToParts(t),r=[];for(let n=0;n<i.length;n++){const{type:s,value:a}=i[n],u=wse[s];s==="era"?r[u]=a:wt(u)||(r[u]=parseInt(a,10))}return r}const IE=new Map;class Aa extends Y_{static create(t){let i=IE.get(t);return i===void 0&&IE.set(t,i=new Aa(t)),i}static resetCache(){IE.clear(),M$.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Aa.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return WU(t,i,r,this.name)}formatOffset(t,i){return C0(this.offset(t),i)}offset(t){if(!this.valid)return NaN;const i=new Date(t);if(isNaN(i))return NaN;const r=_se(this.name);let[n,s,a,u,h,f,v]=r.formatToParts?Sse(r,i):bse(r,i);u==="BC"&&(n=-Math.abs(n)+1);const x=Ox({year:n,month:s,day:a,hour:h===24?0:h,minute:f,second:v,millisecond:0});let M=+i;const P=M%1e3;return M-=P>=0?P:1e3+P,(x-M)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Q4={};function xse(e,t={}){const i=JSON.stringify([e,t]);let r=Q4[i];return r||(r=new Intl.ListFormat(e,t),Q4[i]=r),r}const E$=new Map;function $$(e,t={}){const i=JSON.stringify([e,t]);let r=E$.get(i);return r===void 0&&(r=new Intl.DateTimeFormat(e,t),E$.set(i,r)),r}const C$=new Map;function Tse(e,t={}){const i=JSON.stringify([e,t]);let r=C$.get(i);return r===void 0&&(r=new Intl.NumberFormat(e,t),C$.set(i,r)),r}const O$=new Map;function Mse(e,t={}){const{base:i,...r}=t,n=JSON.stringify([e,r]);let s=O$.get(n);return s===void 0&&(s=new Intl.RelativeTimeFormat(e,t),O$.set(n,s)),s}let Hv=null;function Ese(){return Hv||(Hv=new Intl.DateTimeFormat().resolvedOptions().locale,Hv)}const P$=new Map;function DU(e){let t=P$.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),P$.set(e,t)),t}const A$=new Map;function $se(e){let t=A$.get(e);if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in t||(t={...jU,...t}),A$.set(e,t)}return t}function Cse(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,n;try{r=$$(e).resolvedOptions(),n=e}catch{const h=e.substring(0,i);r=$$(h).resolvedOptions(),n=h}const{numberingSystem:s,calendar:a}=r;return[n,s,a]}}function Ose(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Pse(e){const t=[];for(let i=1;i<=12;i++){const r=pt.utc(2009,i,1);t.push(e(r))}return t}function Ase(e){const t=[];for(let i=1;i<=7;i++){const r=pt.utc(2016,11,13+i);t.push(e(r))}return t}function qw(e,t,i,r){const n=e.listingMode();return n==="error"?null:n==="en"?i(t):r(t)}function Rse(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||DU(e.locale).numberingSystem==="latn"}class Lse{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:s,...a}=r;if(!i||Object.keys(a).length>0){const u={useGrouping:!1,...r};r.padTo>0&&(u.minimumIntegerDigits=r.padTo),this.inf=Tse(t,u)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):CA(t,3);return kr(i,this.padTo)}}}class kse{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),u=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&Aa.create(u).valid?(n=u,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=$$(i,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ise{constructor(t,i,r){this.opts={style:"long",...r},!i&&VU()&&(this.rtf=Mse(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):roe(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const jU={firstDay:1,minimalDays:4,weekend:[6,7]};class di{static fromOpts(t){return di.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,n,s=!1){const a=t||fr.defaultLocale,u=a||(s?"en-US":Ese()),h=i||fr.defaultNumberingSystem,f=r||fr.defaultOutputCalendar,v=L$(n)||fr.defaultWeekSettings;return new di(u,h,f,v,a)}static resetCache(){Hv=null,E$.clear(),C$.clear(),O$.clear(),P$.clear(),A$.clear()}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:n}={}){return di.create(t,i,r,n)}constructor(t,i,r,n,s){const[a,u,h]=Cse(t);this.locale=a,this.numberingSystem=i||u||null,this.outputCalendar=r||h||null,this.weekSettings=n,this.intl=Ose(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Rse(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:di.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,L$(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return qw(this,t,JU,()=>{const r=this.intl==="ja"||this.intl.startsWith("ja-");i&=!r;const n=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";if(!this.monthsCache[s][t]){const a=r?u=>this.dtFormatter(u,n).format():u=>this.extract(u,n,"month");this.monthsCache[s][t]=Pse(a)}return this.monthsCache[s][t]})}weekdays(t,i=!1){return qw(this,t,QU,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=i?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=Ase(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return qw(this,void 0,()=>e7,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pt.utc(2016,11,13,9),pt.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return qw(this,t,t7,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[pt.utc(-40,1,1),pt.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const n=this.dtFormatter(t,i),s=n.formatToParts(),a=s.find(u=>u.type.toLowerCase()===r);return a?a.value:null}numberFormatter(t={}){return new Lse(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new kse(t,this.intl,i)}relFormatter(t={}){return new Ise(this.intl,this.isEnglish(),t)}listFormatter(t={}){return xse(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||DU(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:HU()?$se(this.locale):jU}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let NE=null;class Ln extends Y_{static get utcInstance(){return NE===null&&(NE=new Ln(0)),NE}static instance(t){return t===0?Ln.utcInstance:new Ln(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ln(Px(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${C0(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${C0(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return C0(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Nse extends Y_{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ih(e,t){if(wt(e)||e===null)return t;if(e instanceof Y_)return e;if(Bse(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?$x.instance:i==="utc"||i==="gmt"?Ln.utcInstance:Ln.parseSpecifier(i)||Aa.create(e)}else return gh(e)?Ln.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new Nse(e)}const TA={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},eN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Dse=TA.hanidec.replace(/[\[|\]]/g,"").split("");function jse(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(TA.hanidec)!==-1)t+=Dse.indexOf(e[i]);else for(const n in eN){const[s,a]=eN[n];r>=s&&r<=a&&(t+=r-s)}}return parseInt(t,10)}else return t}const R$=new Map;function zse(){R$.clear()}function fa({numberingSystem:e},t=""){const i=e||"latn";let r=R$.get(i);r===void 0&&(r=new Map,R$.set(i,r));let n=r.get(t);return n===void 0&&(n=new RegExp(`${TA[i]}${t}`),r.set(t,n)),n}let tN=()=>Date.now(),iN="system",rN=null,nN=null,sN=null,oN=60,aN,lN=null;class fr{static get now(){return tN}static set now(t){tN=t}static set defaultZone(t){iN=t}static get defaultZone(){return ih(iN,$x.instance)}static get defaultLocale(){return rN}static set defaultLocale(t){rN=t}static get defaultNumberingSystem(){return nN}static set defaultNumberingSystem(t){nN=t}static get defaultOutputCalendar(){return sN}static set defaultOutputCalendar(t){sN=t}static get defaultWeekSettings(){return lN}static set defaultWeekSettings(t){lN=L$(t)}static get twoDigitCutoffYear(){return oN}static set twoDigitCutoffYear(t){oN=t%100}static get throwOnInvalid(){return aN}static set throwOnInvalid(t){aN=t}static resetCaches(){di.resetCache(),Aa.resetCache(),pt.resetCache(),zse()}}class Ea{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const zU=[0,31,59,90,120,151,181,212,243,273,304,334],UU=[0,31,60,91,121,152,182,213,244,274,305,335];function Vo(e,t){return new Ea("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function MA(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function FU(e,t,i){return i+(J_(e)?UU:zU)[t-1]}function BU(e,t){const i=J_(e)?UU:zU,r=i.findIndex(s=>s<t),n=t-i[r];return{month:r+1,day:n}}function EA(e,t){return(e-t+7)%7+1}function p2(e,t=4,i=1){const{year:r,month:n,day:s}=e,a=FU(r,n,s),u=EA(MA(r,n,s),i);let h=Math.floor((a-u+14-t)/7),f;return h<1?(f=r-1,h=a_(f,t,i)):h>a_(r,t,i)?(f=r+1,h=1):f=r,{weekYear:f,weekNumber:h,weekday:u,...Ax(e)}}function uN(e,t=4,i=1){const{weekYear:r,weekNumber:n,weekday:s}=e,a=EA(MA(r,1,t),i),u=Um(r);let h=n*7+s-a-7+t,f;h<1?(f=r-1,h+=Um(f)):h>u?(f=r+1,h-=Um(r)):f=r;const{month:v,day:w}=BU(f,h);return{year:f,month:v,day:w,...Ax(e)}}function DE(e){const{year:t,month:i,day:r}=e,n=FU(t,i,r);return{year:t,ordinal:n,...Ax(e)}}function cN(e){const{year:t,ordinal:i}=e,{month:r,day:n}=BU(t,i);return{year:t,month:r,day:n,...Ax(e)}}function hN(e,t){if(!wt(e.localWeekday)||!wt(e.localWeekNumber)||!wt(e.localWeekYear)){if(!wt(e.weekday)||!wt(e.weekNumber)||!wt(e.weekYear))throw new Em("Cannot mix locale-based week fields with ISO-based week fields");return wt(e.localWeekday)||(e.weekday=e.localWeekday),wt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),wt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Use(e,t=4,i=1){const r=Cx(e.weekYear),n=Ho(e.weekNumber,1,a_(e.weekYear,t,i)),s=Ho(e.weekday,1,7);return r?n?s?!1:Vo("weekday",e.weekday):Vo("week",e.weekNumber):Vo("weekYear",e.weekYear)}function Fse(e){const t=Cx(e.year),i=Ho(e.ordinal,1,Um(e.year));return t?i?!1:Vo("ordinal",e.ordinal):Vo("year",e.year)}function qU(e){const t=Cx(e.year),i=Ho(e.month,1,12),r=Ho(e.day,1,m2(e.year,e.month));return t?i?r?!1:Vo("day",e.day):Vo("month",e.month):Vo("year",e.year)}function GU(e){const{hour:t,minute:i,second:r,millisecond:n}=e,s=Ho(t,0,23)||t===24&&i===0&&r===0&&n===0,a=Ho(i,0,59),u=Ho(r,0,59),h=Ho(n,0,999);return s?a?u?h?!1:Vo("millisecond",n):Vo("second",r):Vo("minute",i):Vo("hour",t)}function wt(e){return typeof e>"u"}function gh(e){return typeof e=="number"}function Cx(e){return typeof e=="number"&&e%1===0}function Bse(e){return typeof e=="string"}function qse(e){return Object.prototype.toString.call(e)==="[object Date]"}function VU(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function HU(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Gse(e){return Array.isArray(e)?e:[e]}function dN(e,t,i){if(e.length!==0)return e.reduce((r,n)=>{const s=[t(n),n];return r&&i(r[0],s[0])===r[0]?r:s},null)[1]}function Vse(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Pg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L$(e){if(e==null)return null;if(typeof e!="object")throw new Cn("Week settings must be an object");if(!Ho(e.firstDay,1,7)||!Ho(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Ho(t,1,7)))throw new Cn("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ho(e,t,i){return Cx(e)&&e>=t&&e<=i}function Hse(e,t){return e-t*Math.floor(e/t)}function kr(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Zc(e){if(!(wt(e)||e===null||e===""))return parseInt(e,10)}function _d(e){if(!(wt(e)||e===null||e===""))return parseFloat(e)}function $A(e){if(!(wt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function CA(e,t,i="round"){const r=10**t;switch(i){case"expand":return e>0?Math.ceil(e*r)/r:Math.floor(e*r)/r;case"trunc":return Math.trunc(e*r)/r;case"round":return Math.round(e*r)/r;case"floor":return Math.floor(e*r)/r;case"ceil":return Math.ceil(e*r)/r;default:throw new RangeError(`Value rounding ${i} is out of range`)}}function J_(e){return e%4===0&&(e%100!==0||e%400===0)}function Um(e){return J_(e)?366:365}function m2(e,t){const i=Hse(t-1,12)+1,r=e+(t-i)/12;return i===2?J_(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function Ox(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function fN(e,t,i){return-EA(MA(e,1,t),i)+t-1}function a_(e,t=4,i=1){const r=fN(e,t,i),n=fN(e+1,t,i);return(Um(e)-r+n)/7}function k$(e){return e>99?e:e>fr.twoDigitCutoffYear?1900+e:2e3+e}function WU(e,t,i,r=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:t,...s},u=new Intl.DateTimeFormat(i,a).formatToParts(n).find(h=>h.type.toLowerCase()==="timezonename");return u?u.value:null}function Px(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,n=i<0||Object.is(i,-0)?-r:r;return i*60+n}function ZU(e){const t=Number(e);if(typeof e=="boolean"||e===""||!Number.isFinite(t))throw new Cn(`Invalid unit value ${e}`);return t}function g2(e,t){const i={};for(const r in e)if(Pg(e,r)){const n=e[r];if(n==null)continue;i[t(r)]=ZU(n)}return i}function C0(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${kr(i,2)}:${kr(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${kr(i,2)}${kr(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Ax(e){return Vse(e,["hour","minute","second","millisecond"])}const Wse=["January","February","March","April","May","June","July","August","September","October","November","December"],YU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Zse=["J","F","M","A","M","J","J","A","S","O","N","D"];function JU(e){switch(e){case"narrow":return[...Zse];case"short":return[...YU];case"long":return[...Wse];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const XU=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],KU=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Yse=["M","T","W","T","F","S","S"];function QU(e){switch(e){case"narrow":return[...Yse];case"short":return[...KU];case"long":return[...XU];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const e7=["AM","PM"],Jse=["Before Christ","Anno Domini"],Xse=["BC","AD"],Kse=["B","A"];function t7(e){switch(e){case"narrow":return[...Kse];case"short":return[...Xse];case"long":return[...Jse];default:return null}}function Qse(e){return e7[e.hour<12?0:1]}function eoe(e,t){return QU(t)[e.weekday-1]}function toe(e,t){return JU(t)[e.month-1]}function ioe(e,t){return t7(t)[e.year<0?0:1]}function roe(e,t,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&s){const w=e==="days";switch(t){case 1:return w?"tomorrow":`next ${n[e][0]}`;case-1:return w?"yesterday":`last ${n[e][0]}`;case 0:return w?"today":`this ${n[e][0]}`}}const a=Object.is(t,-0)||t<0,u=Math.abs(t),h=u===1,f=n[e],v=r?h?f[1]:f[2]||f[1]:h?n[e][0]:e;return a?`${u} ${v} ago`:`in ${u} ${v}`}function pN(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const noe={D:f2,DD:vU,DDD:_U,DDDD:wU,t:bU,tt:SU,ttt:xU,tttt:TU,T:MU,TT:EU,TTT:$U,TTTT:CU,f:OU,ff:AU,fff:LU,ffff:IU,F:PU,FF:RU,FFF:kU,FFFF:NU};class Rn{static create(t,i={}){return new Rn(t,i)}static parseFormat(t){let i=null,r="",n=!1;const s=[];for(let a=0;a<t.length;a++){const u=t.charAt(a);u==="'"?((r.length>0||n)&&s.push({literal:n||/^\s+$/.test(r),val:r===""?"'":r}),i=null,r="",n=!n):n||u===i?r+=u:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=u,i=u)}return r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(t){return noe[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0,r=void 0){if(this.opts.forceSimple)return kr(t,i);const n={...this.opts};return i>0&&(n.padTo=i),r&&(n.signDisplay=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(M,P)=>this.loc.extract(t,M,P),a=M=>t.isOffsetFixed&&t.offset===0&&M.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,M.format):"",u=()=>r?Qse(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),h=(M,P)=>r?toe(t,M):s(P?{month:M}:{month:M,day:"numeric"},"month"),f=(M,P)=>r?eoe(t,M):s(P?{weekday:M}:{weekday:M,month:"long",day:"numeric"},"weekday"),v=M=>{const P=Rn.macroTokenToFormatOpts(M);return P?this.formatWithSystemDefault(t,P):M},w=M=>r?ioe(t,M):s({era:M},"era"),x=M=>{switch(M){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return n?s({day:"numeric"},"day"):this.num(t.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return h("short",!0);case"LLLL":return h("long",!0);case"LLLLL":return h("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(t.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return h("short",!1);case"MMMM":return h("long",!1);case"MMMMM":return h("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(t.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return v(M)}};return pN(Rn.parseFormat(i),x)}formatDurationFromString(t,i){const r=this.opts.signMode==="negativeLargestOnly"?-1:1,n=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},s=(v,w)=>x=>{const M=n(x);if(M){const P=w.isNegativeDuration&&M!==w.largestUnit?r:1;let O;return this.opts.signMode==="negativeLargestOnly"&&M!==w.largestUnit?O="never":this.opts.signMode==="all"?O="always":O="auto",this.num(v.get(M)*P,x.length,O)}else return x},a=Rn.parseFormat(i),u=a.reduce((v,{literal:w,val:x})=>w?v:v.concat(x),[]),h=t.shiftTo(...u.map(n).filter(v=>v)),f={isNegativeDuration:h<0,largestUnit:Object.keys(h.values)[0]};return pN(a,s(h,f))}}const i7=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ty(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function iy(...e){return t=>e.reduce(([i,r,n],s)=>{const[a,u,h]=s(t,n);return[{...i,...a},u||r,h]},[{},null,1]).slice(0,2)}function ry(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const n=i.exec(e);if(n)return r(n)}return[null,null]}function r7(...e){return(t,i)=>{const r={};let n;for(n=0;n<e.length;n++)r[e[n]]=Zc(t[i+n]);return[r,null,i+n]}}const n7=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,soe=`(?:${n7.source}?(?:\\[(${i7.source})\\])?)?`,OA=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,s7=RegExp(`${OA.source}${soe}`),PA=RegExp(`(?:[Tt]${s7.source})?`),ooe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,aoe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,loe=/(\d{4})-?(\d{3})/,uoe=r7("weekYear","weekNumber","weekDay"),coe=r7("year","ordinal"),hoe=/(\d{4})-(\d\d)-(\d\d)/,o7=RegExp(`${OA.source} ?(?:${n7.source}|(${i7.source}))?`),doe=RegExp(`(?: ${o7.source})?`);function Fm(e,t,i){const r=e[t];return wt(r)?i:Zc(r)}function foe(e,t){return[{year:Fm(e,t),month:Fm(e,t+1,1),day:Fm(e,t+2,1)},null,t+3]}function ny(e,t){return[{hours:Fm(e,t,0),minutes:Fm(e,t+1,0),seconds:Fm(e,t+2,0),milliseconds:$A(e[t+3])},null,t+4]}function X_(e,t){const i=!e[t]&&!e[t+1],r=Px(e[t+1],e[t+2]),n=i?null:Ln.instance(r);return[{},n,t+3]}function K_(e,t){const i=e[t]?Aa.create(e[t]):null;return[{},i,t+1]}const poe=RegExp(`^T?${OA.source}$`),moe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function goe(e){const[t,i,r,n,s,a,u,h,f]=e,v=t[0]==="-",w=h&&h[0]==="-",x=(M,P=!1)=>M!==void 0&&(P||M&&v)?-M:M;return[{years:x(_d(i)),months:x(_d(r)),weeks:x(_d(n)),days:x(_d(s)),hours:x(_d(a)),minutes:x(_d(u)),seconds:x(_d(h),h==="-0"),milliseconds:x($A(f),w)}]}const yoe={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function AA(e,t,i,r,n,s,a){const u={year:t.length===2?k$(Zc(t)):Zc(t),month:YU.indexOf(i)+1,day:Zc(r),hour:Zc(n),minute:Zc(s)};return a&&(u.second=Zc(a)),e&&(u.weekday=e.length>3?XU.indexOf(e)+1:KU.indexOf(e)+1),u}const voe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _oe(e){const[,t,i,r,n,s,a,u,h,f,v,w]=e,x=AA(t,n,r,i,s,a,u);let M;return h?M=yoe[h]:f?M=0:M=Px(v,w),[x,new Ln(M)]}function woe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const boe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Soe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,xoe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function mN(e){const[,t,i,r,n,s,a,u]=e;return[AA(t,n,r,i,s,a,u),Ln.utcInstance]}function Toe(e){const[,t,i,r,n,s,a,u]=e;return[AA(t,u,i,r,n,s,a),Ln.utcInstance]}const Moe=ty(ooe,PA),Eoe=ty(aoe,PA),$oe=ty(loe,PA),Coe=ty(s7),a7=iy(foe,ny,X_,K_),Ooe=iy(uoe,ny,X_,K_),Poe=iy(coe,ny,X_,K_),Aoe=iy(ny,X_,K_);function Roe(e){return ry(e,[Moe,a7],[Eoe,Ooe],[$oe,Poe],[Coe,Aoe])}function Loe(e){return ry(woe(e),[voe,_oe])}function koe(e){return ry(e,[boe,mN],[Soe,mN],[xoe,Toe])}function Ioe(e){return ry(e,[moe,goe])}const Noe=iy(ny);function Doe(e){return ry(e,[poe,Noe])}const joe=ty(hoe,doe),zoe=ty(o7),Uoe=iy(ny,X_,K_);function Foe(e){return ry(e,[joe,a7],[zoe,Uoe])}const gN="Invalid Duration",l7={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Boe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...l7},Oo=146097/400,Np=146097/4800,qoe={years:{quarters:4,months:12,weeks:Oo/7,days:Oo,hours:Oo*24,minutes:Oo*24*60,seconds:Oo*24*60*60,milliseconds:Oo*24*60*60*1e3},quarters:{months:3,weeks:Oo/28,days:Oo/4,hours:Oo*24/4,minutes:Oo*24*60/4,seconds:Oo*24*60*60/4,milliseconds:Oo*24*60*60*1e3/4},months:{weeks:Np/7,days:Np,hours:Np*24,minutes:Np*24*60,seconds:Np*24*60*60,milliseconds:Np*24*60*60*1e3},...l7},ef=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Goe=ef.slice(0).reverse();function Kl(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Xt(r)}function u7(e,t){let i=t.milliseconds??0;for(const r of Goe.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function yN(e,t){const i=u7(e,t)<0?-1:1;ef.reduceRight((r,n)=>{if(wt(t[n]))return r;if(r){const s=t[r]*i,a=e[n][r],u=Math.floor(s/a);t[n]+=u*i,t[r]-=u*a*i}return n},null),ef.reduce((r,n)=>{if(wt(t[n]))return r;if(r){const s=t[r]%1;t[r]-=s,t[n]+=s*e[r][n]}return n},null)}function vN(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class Xt{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?qoe:Boe;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||di.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return Xt.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Cn(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Xt({values:g2(t,Xt.normalizeUnit),loc:di.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(gh(t))return Xt.fromMillis(t);if(Xt.isDuration(t))return t;if(typeof t=="object")return Xt.fromObject(t);throw new Cn(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=Ioe(t);return r?Xt.fromObject(r,i):Xt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=Doe(t);return r?Xt.fromObject(r,i):Xt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Cn("need to specify a reason the Duration is invalid");const r=t instanceof Ea?t:new Ea(t,i);if(fr.throwOnInvalid)throw new gse(r);return new Xt({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new yU(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Rn.create(this.loc,r).formatDurationFromString(this,t):gN}toHuman(t={}){if(!this.isValid)return gN;const i=t.showZeros!==!1,r=ef.map(n=>{const s=this.values[n];return wt(s)||s===0&&!i?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=CA(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},pt.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?u7(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=Xt.fromDurationLike(t),r={};for(const n of ef)(Pg(i.values,n)||Pg(this.values,n))&&(r[n]=i.get(n)+this.get(n));return Kl(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=Xt.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=ZU(t(this.values[r],r));return Kl(this,{values:i},!0)}get(t){return this[Xt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...g2(t,Xt.normalizeUnit)};return Kl(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:n}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:n,conversionAccuracy:r};return Kl(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return yN(this.matrix,t),Kl(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=vN(this.normalize().shiftToAll().toObject());return Kl(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>Xt.normalizeUnit(a));const i={},r={},n=this.toObject();let s;for(const a of ef)if(t.indexOf(a)>=0){s=a;let u=0;for(const f in r)u+=this.matrix[f][a]*r[f],r[f]=0;gh(n[a])&&(u+=n[a]);const h=Math.trunc(u);i[a]=h,r[a]=(u*1e3-h*1e3)/1e3}else gh(n[a])&&(r[a]=n[a]);for(const a in r)r[a]!==0&&(i[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return yN(this.matrix,i),Kl(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Kl(this,{values:t},!0)}removeZeros(){if(!this.isValid)return this;const t=vN(this.values);return Kl(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of ef)if(!i(this.values[r],t.values[r]))return!1;return!0}}const Dp="Invalid Interval";function Voe(e,t){return!e||!e.isValid?dr.invalid("missing or invalid start"):!t||!t.isValid?dr.invalid("missing or invalid end"):t<e?dr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class dr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Cn("need to specify a reason the Interval is invalid");const r=t instanceof Ea?t:new Ea(t,i);if(fr.throwOnInvalid)throw new mse(r);return new dr({invalid:r})}static fromDateTimes(t,i){const r=_v(t),n=_v(i),s=Voe(r,n);return s??new dr({start:r,end:n})}static after(t,i){const r=Xt.fromDurationLike(i),n=_v(t);return dr.fromDateTimes(n,n.plus(r))}static before(t,i){const r=Xt.fromDurationLike(i),n=_v(t);return dr.fromDateTimes(n.minus(r),n)}static fromISO(t,i){const[r,n]=(t||"").split("/",2);if(r&&n){let s,a;try{s=pt.fromISO(r,i),a=s.isValid}catch{a=!1}let u,h;try{u=pt.fromISO(n,i),h=u.isValid}catch{h=!1}if(a&&h)return dr.fromDateTimes(s,u);if(a){const f=Xt.fromISO(n,i);if(f.isValid)return dr.after(s,f)}else if(h){const f=Xt.fromISO(r,i);if(f.isValid)return dr.before(u,f)}}return dr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let n;return i?.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(t,i),Math.floor(n.diff(r,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?dr.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(_v).filter(a=>this.contains(a)).sort((a,u)=>a.toMillis()-u.toMillis()),r=[];let{s:n}=this,s=0;for(;n<this.e;){const a=i[s]||this.e,u=+a>+this.e?this.e:a;r.push(dr.fromDateTimes(n,u)),n=u,s+=1}return r}splitBy(t){const i=Xt.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,n=1,s;const a=[];for(;r<this.e;){const u=this.start.plus(i.mapUnits(h=>h*n));s=+u>+this.e?this.e:u,a.push(dr.fromDateTimes(r,s)),r=s,n+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:dr.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return dr.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((n,s)=>n.s-s.s).reduce(([n,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[n,s.union(a)]:[n.concat([s]),a]:[n,a],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const n=[],s=t.map(h=>[{time:h.s,type:"s"},{time:h.e,type:"e"}]),a=Array.prototype.concat(...s),u=a.sort((h,f)=>h.time-f.time);for(const h of u)r+=h.type==="s"?1:-1,r===1?i=h.time:(i&&+i!=+h.time&&n.push(dr.fromDateTimes(i,h.time)),i=null);return dr.merge(n)}difference(...t){return dr.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Dp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=f2,i={}){return this.isValid?Rn.create(this.s.loc.clone(i),t).formatInterval(this):Dp}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Dp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Dp}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Dp}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Dp}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):Xt.invalid(this.invalidReason)}mapEndpoints(t){return dr.fromDateTimes(t(this.s),t(this.e))}}class Gw{static hasDST(t=fr.defaultZone){const i=pt.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Aa.isValidZone(t)}static normalizeZone(t){return ih(t,fr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||di.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||di.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||di.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||di.create(i,r,s)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||di.create(i,r,s)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||di.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||di.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return di.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return di.create(i,null,"gregory").eras(t)}static features(){return{relative:VU(),localeWeek:HU()}}}function _N(e,t){const i=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(Xt.fromMillis(r).as("days"))}function Hoe(e,t,i){const r=[["years",(h,f)=>f.year-h.year],["quarters",(h,f)=>f.quarter-h.quarter+(f.year-h.year)*4],["months",(h,f)=>f.month-h.month+(f.year-h.year)*12],["weeks",(h,f)=>{const v=_N(h,f);return(v-v%7)/7}],["days",_N]],n={},s=e;let a,u;for(const[h,f]of r)i.indexOf(h)>=0&&(a=h,n[h]=f(e,t),u=s.plus(n),u>t?(n[h]--,e=s.plus(n),e>t&&(u=e,n[h]--,e=s.plus(n))):e=u);return[e,n,u,a]}function Woe(e,t,i,r){let[n,s,a,u]=Hoe(e,t,i);const h=t-n,f=i.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);f.length===0&&(a<t&&(a=n.plus({[u]:1})),a!==n&&(s[u]=(s[u]||0)+h/(a-n)));const v=Xt.fromObject(s,r);return f.length>0?Xt.fromMillis(h,r).shiftTo(...f).plus(v):v}const Zoe="missing Intl.DateTimeFormat.formatToParts support";function oi(e,t=i=>i){return{regex:e,deser:([i])=>t(jse(i))}}const Yoe="",c7=`[ ${Yoe}]`,h7=new RegExp(c7,"g");function Joe(e){return e.replace(/\./g,"\\.?").replace(h7,c7)}function wN(e){return e.replace(/\./g,"").replace(h7," ").toLowerCase()}function pa(e,t){return e===null?null:{regex:RegExp(e.map(Joe).join("|")),deser:([i])=>e.findIndex(r=>wN(i)===wN(r))+t}}function bN(e,t){return{regex:e,deser:([,i,r])=>Px(i,r),groups:t}}function Vw(e){return{regex:e,deser:([t])=>t}}function Xoe(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Koe(e,t){const i=fa(t),r=fa(t,"{2}"),n=fa(t,"{3}"),s=fa(t,"{4}"),a=fa(t,"{6}"),u=fa(t,"{1,2}"),h=fa(t,"{1,3}"),f=fa(t,"{1,6}"),v=fa(t,"{1,9}"),w=fa(t,"{2,4}"),x=fa(t,"{4,6}"),M=F=>({regex:RegExp(Xoe(F.val)),deser:([G])=>G,literal:!0}),O=(F=>{if(e.literal)return M(F);switch(F.val){case"G":return pa(t.eras("short"),0);case"GG":return pa(t.eras("long"),0);case"y":return oi(f);case"yy":return oi(w,k$);case"yyyy":return oi(s);case"yyyyy":return oi(x);case"yyyyyy":return oi(a);case"M":return oi(u);case"MM":return oi(r);case"MMM":return pa(t.months("short",!0),1);case"MMMM":return pa(t.months("long",!0),1);case"L":return oi(u);case"LL":return oi(r);case"LLL":return pa(t.months("short",!1),1);case"LLLL":return pa(t.months("long",!1),1);case"d":return oi(u);case"dd":return oi(r);case"o":return oi(h);case"ooo":return oi(n);case"HH":return oi(r);case"H":return oi(u);case"hh":return oi(r);case"h":return oi(u);case"mm":return oi(r);case"m":return oi(u);case"q":return oi(u);case"qq":return oi(r);case"s":return oi(u);case"ss":return oi(r);case"S":return oi(h);case"SSS":return oi(n);case"u":return Vw(v);case"uu":return Vw(u);case"uuu":return oi(i);case"a":return pa(t.meridiems(),0);case"kkkk":return oi(s);case"kk":return oi(w,k$);case"W":return oi(u);case"WW":return oi(r);case"E":case"c":return oi(i);case"EEE":return pa(t.weekdays("short",!1),1);case"EEEE":return pa(t.weekdays("long",!1),1);case"ccc":return pa(t.weekdays("short",!0),1);case"cccc":return pa(t.weekdays("long",!0),1);case"Z":case"ZZ":return bN(new RegExp(`([+-]${u.source})(?::(${r.source}))?`),2);case"ZZZ":return bN(new RegExp(`([+-]${u.source})(${r.source})?`),2);case"z":return Vw(/[a-z_+-/]{1,256}?/i);case" ":return Vw(/[^\S\n\r]/);default:return M(F)}})(e)||{invalidReason:Zoe};return O.token=e,O}const Qoe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function eae(e,t,i){const{type:r,value:n}=e;if(r==="literal"){const h=/^\s+$/.test(n);return{literal:!h,val:h?" ":n}}const s=t[r];let a=r;r==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=i.hour12?"hour12":"hour24");let u=Qoe[a];if(typeof u=="object"&&(u=u[s]),u)return{literal:!1,val:u}}function tae(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function iae(e,t,i){const r=e.match(t);if(r){const n={};let s=1;for(const a in i)if(Pg(i,a)){const u=i[a],h=u.groups?u.groups+1:1;!u.literal&&u.token&&(n[u.token.val[0]]=u.deser(r.slice(s,s+h))),s+=h}return[r,n]}else return[r,{}]}function rae(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return wt(e.z)||(i=Aa.create(e.z)),wt(e.Z)||(i||(i=new Ln(e.Z)),r=e.Z),wt(e.q)||(e.M=(e.q-1)*3+1),wt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),wt(e.u)||(e.S=$A(e.u)),[Object.keys(e).reduce((s,a)=>{const u=t(a);return u&&(s[u]=e[a]),s},{}),i,r]}let jE=null;function nae(){return jE||(jE=pt.fromMillis(1555555555555)),jE}function sae(e,t){if(e.literal)return e;const i=Rn.macroTokenToFormatOpts(e.val),r=m7(i,t);return r==null||r.includes(void 0)?e:r}function d7(e,t){return Array.prototype.concat(...e.map(i=>sae(i,t)))}class f7{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=d7(Rn.parseFormat(i),t),this.units=this.tokens.map(r=>Koe(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,n]=tae(this.units);this.regex=RegExp(r,"i"),this.handlers=n}}explainFromTokens(t){if(this.isValid){const[i,r]=iae(t,this.regex,this.handlers),[n,s,a]=r?rae(r):[null,null,void 0];if(Pg(r,"a")&&Pg(r,"H"))throw new Em("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:n,zone:s,specificOffset:a}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function p7(e,t,i){return new f7(e,i).explainFromTokens(t)}function oae(e,t,i){const{result:r,zone:n,specificOffset:s,invalidReason:a}=p7(e,t,i);return[r,n,s,a]}function m7(e,t){if(!e)return null;const r=Rn.create(t,e).dtFormatter(nae()),n=r.formatToParts(),s=r.resolvedOptions();return n.map(a=>eae(a,e,s))}const zE="Invalid DateTime",SN=864e13;function Wv(e){return new Ea("unsupported zone",`the zone "${e.name}" is not supported`)}function UE(e){return e.weekData===null&&(e.weekData=p2(e.c)),e.weekData}function FE(e){return e.localWeekData===null&&(e.localWeekData=p2(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function wd(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new pt({...i,...t,old:i})}function g7(e,t,i){let r=e-t*60*1e3;const n=i.offset(r);if(t===n)return[r,t];r-=(n-t)*60*1e3;const s=i.offset(r);return n===s?[r,n]:[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function Hw(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Fb(e,t,i){return g7(Ox(e),t,i)}function xN(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:r,month:n,day:Math.min(e.c.day,m2(r,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=Xt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),u=Ox(s);let[h,f]=g7(u,i,e.zone);return a!==0&&(h+=a,f=e.zone.offset(h)),{ts:h,o:f}}function jp(e,t,i,r,n,s){const{setZone:a,zone:u}=i;if(e&&Object.keys(e).length!==0||t){const h=t||u,f=pt.fromObject(e,{...i,zone:h,specificOffset:s});return a?f:f.setZone(u)}else return pt.invalid(new Ea("unparsable",`the input "${n}" can't be parsed as ${r}`))}function Ww(e,t,i=!0){return e.isValid?Rn.create(di.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function BE(e,t,i){const r=e.c.year>9999||e.c.year<0;let n="";if(r&&e.c.year>=0&&(n+="+"),n+=kr(e.c.year,r?6:4),i==="year")return n;if(t){if(n+="-",n+=kr(e.c.month),i==="month")return n;n+="-"}else if(n+=kr(e.c.month),i==="month")return n;return n+=kr(e.c.day),n}function TN(e,t,i,r,n,s,a){let u=!i||e.c.millisecond!==0||e.c.second!==0,h="";switch(a){case"day":case"month":case"year":break;default:if(h+=kr(e.c.hour),a==="hour")break;if(t){if(h+=":",h+=kr(e.c.minute),a==="minute")break;u&&(h+=":",h+=kr(e.c.second))}else{if(h+=kr(e.c.minute),a==="minute")break;u&&(h+=kr(e.c.second))}if(a==="second")break;u&&(!r||e.c.millisecond!==0)&&(h+=".",h+=kr(e.c.millisecond,3))}return n&&(e.isOffsetFixed&&e.offset===0&&!s?h+="Z":e.o<0?(h+="-",h+=kr(Math.trunc(-e.o/60)),h+=":",h+=kr(Math.trunc(-e.o%60))):(h+="+",h+=kr(Math.trunc(e.o/60)),h+=":",h+=kr(Math.trunc(e.o%60)))),s&&(h+="["+e.zone.ianaName+"]"),h}const y7={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},aae={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},lae={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bb=["year","month","day","hour","minute","second","millisecond"],uae=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],cae=["year","ordinal","hour","minute","second","millisecond"];function qb(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new yU(e);return t}function MN(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return qb(e)}}function hae(e){if(Zv===void 0&&(Zv=fr.now()),e.type!=="iana")return e.offset(Zv);const t=e.name;let i=I$.get(t);return i===void 0&&(i=e.offset(Zv),I$.set(t,i)),i}function EN(e,t){const i=ih(t.zone,fr.defaultZone);if(!i.isValid)return pt.invalid(Wv(i));const r=di.fromObject(t);let n,s;if(wt(e.year))n=fr.now();else{for(const h of Bb)wt(e[h])&&(e[h]=y7[h]);const a=qU(e)||GU(e);if(a)return pt.invalid(a);const u=hae(i);[n,s]=Fb(e,u,i)}return new pt({ts:n,zone:i,loc:r,o:s})}function $N(e,t,i){const r=wt(i.round)?!0:i.round,n=wt(i.rounding)?"trunc":i.rounding,s=(u,h)=>(u=CA(u,r||i.calendary?0:2,i.calendary?"round":n),t.loc.clone(i).relFormatter(i).format(u,h)),a=u=>i.calendary?t.hasSame(e,u)?0:t.startOf(u).diff(e.startOf(u),u).get(u):t.diff(e,u).get(u);if(i.unit)return s(a(i.unit),i.unit);for(const u of i.units){const h=a(u);if(Math.abs(h)>=1)return s(h,u)}return s(e>t?-0:0,i.units[i.units.length-1])}function CN(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let Zv;const I$=new Map;class pt{constructor(t){const i=t.zone||fr.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new Ea("invalid input"):null)||(i.isValid?null:Wv(i));this.ts=wt(t.ts)?fr.now():t.ts;let n=null,s=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[n,s]=[t.old.c,t.old.o];else{const u=gh(t.o)&&!t.old?t.o:i.offset(this.ts);n=Hw(this.ts,u),r=Number.isNaN(n.year)?new Ea("invalid input"):null,n=r?null:n,s=r?null:u}this._zone=i,this.loc=t.loc||di.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new pt({})}static local(){const[t,i]=CN(arguments),[r,n,s,a,u,h,f]=i;return EN({year:r,month:n,day:s,hour:a,minute:u,second:h,millisecond:f},t)}static utc(){const[t,i]=CN(arguments),[r,n,s,a,u,h,f]=i;return t.zone=Ln.utcInstance,EN({year:r,month:n,day:s,hour:a,minute:u,second:h,millisecond:f},t)}static fromJSDate(t,i={}){const r=qse(t)?t.valueOf():NaN;if(Number.isNaN(r))return pt.invalid("invalid input");const n=ih(i.zone,fr.defaultZone);return n.isValid?new pt({ts:r,zone:n,loc:di.fromObject(i)}):pt.invalid(Wv(n))}static fromMillis(t,i={}){if(gh(t))return t<-SN||t>SN?pt.invalid("Timestamp out of range"):new pt({ts:t,zone:ih(i.zone,fr.defaultZone),loc:di.fromObject(i)});throw new Cn(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(gh(t))return new pt({ts:t*1e3,zone:ih(i.zone,fr.defaultZone),loc:di.fromObject(i)});throw new Cn("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=ih(i.zone,fr.defaultZone);if(!r.isValid)return pt.invalid(Wv(r));const n=di.fromObject(i),s=g2(t,MN),{minDaysInFirstWeek:a,startOfWeek:u}=hN(s,n),h=fr.now(),f=wt(i.specificOffset)?r.offset(h):i.specificOffset,v=!wt(s.ordinal),w=!wt(s.year),x=!wt(s.month)||!wt(s.day),M=w||x,P=s.weekYear||s.weekNumber;if((M||v)&&P)throw new Em("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(x&&v)throw new Em("Can't mix ordinal dates with month/day");const O=P||s.weekday&&!M;let F,G,Y=Hw(h,f);O?(F=uae,G=aae,Y=p2(Y,a,u)):v?(F=cae,G=lae,Y=DE(Y)):(F=Bb,G=y7);let U=!1;for(const q of F){const X=s[q];wt(X)?U?s[q]=G[q]:s[q]=Y[q]:U=!0}const C=O?Use(s,a,u):v?Fse(s):qU(s),E=C||GU(s);if(E)return pt.invalid(E);const A=O?uN(s,a,u):v?cN(s):s,[k,V]=Fb(A,f,r),H=new pt({ts:k,zone:r,o:V,loc:n});return s.weekday&&M&&t.weekday!==H.weekday?pt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${H.toISO()}`):H.isValid?H:pt.invalid(H.invalid)}static fromISO(t,i={}){const[r,n]=Roe(t);return jp(r,n,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,n]=Loe(t);return jp(r,n,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,n]=koe(t);return jp(r,n,i,"HTTP",i)}static fromFormat(t,i,r={}){if(wt(t)||wt(i))throw new Cn("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=r,a=di.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[u,h,f,v]=oae(a,t,i);return v?pt.invalid(v):jp(u,h,r,`format ${i}`,t,f)}static fromString(t,i,r={}){return pt.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,n]=Foe(t);return jp(r,n,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Cn("need to specify a reason the DateTime is invalid");const r=t instanceof Ea?t:new Ea(t,i);if(fr.throwOnInvalid)throw new pse(r);return new pt({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=m7(t,di.fromObject(i));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(t,i={}){return d7(Rn.parseFormat(t),di.fromObject(i)).map(n=>n.val).join("")}static resetCache(){Zv=void 0,I$.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?UE(this).weekYear:NaN}get weekNumber(){return this.isValid?UE(this).weekNumber:NaN}get weekday(){return this.isValid?UE(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?FE(this).weekday:NaN}get localWeekNumber(){return this.isValid?FE(this).weekNumber:NaN}get localWeekYear(){return this.isValid?FE(this).weekYear:NaN}get ordinal(){return this.isValid?DE(this.c).ordinal:NaN}get monthShort(){return this.isValid?Gw.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Gw.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Gw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Gw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=Ox(this.c),n=this.zone.offset(r-t),s=this.zone.offset(r+t),a=this.zone.offset(r-n*i),u=this.zone.offset(r-s*i);if(a===u)return[this];const h=r-a*i,f=r-u*i,v=Hw(h,a),w=Hw(f,u);return v.hour===w.hour&&v.minute===w.minute&&v.second===w.second&&v.millisecond===w.millisecond?[wd(this,{ts:h}),wd(this,{ts:f})]:[this]}get isInLeapYear(){return J_(this.year)}get daysInMonth(){return m2(this.year,this.month)}get daysInYear(){return this.isValid?Um(this.year):NaN}get weeksInWeekYear(){return this.isValid?a_(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?a_(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:n}=Rn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:n}}toUTC(t=0,i={}){return this.setZone(Ln.instance(t),i)}toLocal(){return this.setZone(fr.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=ih(t,fr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(i||r){const s=t.offset(this.ts),a=this.toObject();[n]=Fb(a,s,t)}return wd(this,{ts:n,zone:t})}else return pt.invalid(Wv(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const n=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return wd(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=g2(t,MN),{minDaysInFirstWeek:r,startOfWeek:n}=hN(i,this.loc),s=!wt(i.weekYear)||!wt(i.weekNumber)||!wt(i.weekday),a=!wt(i.ordinal),u=!wt(i.year),h=!wt(i.month)||!wt(i.day),f=u||h,v=i.weekYear||i.weekNumber;if((f||a)&&v)throw new Em("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&a)throw new Em("Can't mix ordinal dates with month/day");let w;s?w=uN({...p2(this.c,r,n),...i},r,n):wt(i.ordinal)?(w={...this.toObject(),...i},wt(i.day)&&(w.day=Math.min(m2(w.year,w.month),w.day))):w=cN({...DE(this.c),...i});const[x,M]=Fb(w,this.o,this.zone);return wd(this,{ts:x,o:M})}plus(t){if(!this.isValid)return this;const i=Xt.fromDurationLike(t);return wd(this,xN(this,i))}minus(t){if(!this.isValid)return this;const i=Xt.fromDurationLike(t).negate();return wd(this,xN(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},n=Xt.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(i){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Rn.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):zE}toLocaleString(t=f2,i={}){return this.isValid?Rn.create(this.loc.clone(i),t).formatDateTime(this):zE}toLocaleParts(t={}){return this.isValid?Rn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:s=!1,precision:a="milliseconds"}={}){if(!this.isValid)return null;a=qb(a);const u=t==="extended";let h=BE(this,u,a);return Bb.indexOf(a)>=3&&(h+="T"),h+=TN(this,u,i,r,n,s,a),h}toISODate({format:t="extended",precision:i="day"}={}){return this.isValid?BE(this,t==="extended",qb(i)):null}toISOWeekDate(){return Ww(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:s=!1,format:a="extended",precision:u="milliseconds"}={}){return this.isValid?(u=qb(u),(n&&Bb.indexOf(u)>=3?"T":"")+TN(this,a==="extended",i,t,r,s,u)):null}toRFC2822(){return Ww(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ww(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?BE(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(i||t)&&(r&&(n+=" "),i?n+="z":t&&(n+="ZZ")),Ww(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():zE}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return Xt.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=Gse(i).map(Xt.normalizeUnit),a=t.valueOf()>this.valueOf(),u=a?this:t,h=a?t:this,f=Woe(u,h,s,n);return a?f.negate():f}diffNow(t="milliseconds",i={}){return this.diff(pt.now(),t,i)}until(t){return this.isValid?dr.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(i,r)<=n&&n<=s.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||pt.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(n=t.unit,s=void 0),$N(i,this.plus(r),{...t,numeric:"always",units:n,unit:s})}toRelativeCalendar(t={}){return this.isValid?$N(t.base||pt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(pt.isDateTime))throw new Cn("min requires all arguments be DateTimes");return dN(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(pt.isDateTime))throw new Cn("max requires all arguments be DateTimes");return dN(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:n=null,numberingSystem:s=null}=r,a=di.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return p7(a,t,i)}static fromStringExplain(t,i,r={}){return pt.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:n=null}=i,s=di.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new f7(s,t)}static fromFormatParser(t,i,r={}){if(wt(t)||wt(i))throw new Cn("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=r,a=di.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!a.equals(i.locale))throw new Cn(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${i.locale}`);const{result:u,zone:h,specificOffset:f,invalidReason:v}=i.explainFromTokens(t);return v?pt.invalid(v):jp(u,h,r,`format ${i.format}`,t,f)}static get DATE_SHORT(){return f2}static get DATE_MED(){return vU}static get DATE_MED_WITH_WEEKDAY(){return yse}static get DATE_FULL(){return _U}static get DATE_HUGE(){return wU}static get TIME_SIMPLE(){return bU}static get TIME_WITH_SECONDS(){return SU}static get TIME_WITH_SHORT_OFFSET(){return xU}static get TIME_WITH_LONG_OFFSET(){return TU}static get TIME_24_SIMPLE(){return MU}static get TIME_24_WITH_SECONDS(){return EU}static get TIME_24_WITH_SHORT_OFFSET(){return $U}static get TIME_24_WITH_LONG_OFFSET(){return CU}static get DATETIME_SHORT(){return OU}static get DATETIME_SHORT_WITH_SECONDS(){return PU}static get DATETIME_MED(){return AU}static get DATETIME_MED_WITH_SECONDS(){return RU}static get DATETIME_MED_WITH_WEEKDAY(){return vse}static get DATETIME_FULL(){return LU}static get DATETIME_FULL_WITH_SECONDS(){return kU}static get DATETIME_HUGE(){return IU}static get DATETIME_HUGE_WITH_SECONDS(){return NU}}function _v(e){if(pt.isDateTime(e))return e;if(e&&e.valueOf&&gh(e.valueOf()))return pt.fromJSDate(e);if(e&&typeof e=="object")return pt.fromObject(e);throw new Cn(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const dae="shortOffset";function fae(e){return"timeZoneIANA"in e}function pae(e){return e.startsWith("UTC")}function $Me(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?mae(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?gae(i):null}}}}}function mae(e,t=xl){return e?fae(e)?e.timeZoneIANA:yae(e,t):t}function gae(e){return{timeZoneIANA:e}}function yae(e,t=xl){if(!e||!K4.has(e.timeZone))return t;const i=K4.get(e.timeZone);return pae(e.timeZone)||e.respectsDaylightSaving?i:vae(i)}function vae(e){const t=pt.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Ln.instance(-i).formatOffset(0,"narrow")}`}function CMe(e,t,i,r,n){if(t&&n==="date")return{timeZone:o_,timeZoneName:void 0};const s=r.hour,a=i===xA;return{timeZone:a?n==="timestamp-offset"?void 0:e??o_:i,timeZoneName:a&&s?dae:void 0}}function _ae(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return e===xl||e===xA||t.has(e.toLowerCase())||i.has(e.toLowerCase())}const wae={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},bae={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},v7={timeZone:o_},Ya={year:"numeric",month:"numeric",day:"numeric"},wv={year:"numeric",month:"long",day:"numeric"},bv={year:"numeric",month:"short",day:"numeric"},Sv={year:"numeric",month:"long",weekday:"long",day:"numeric"},Yc={hour:"numeric",minute:"numeric"},Pd={...Yc,second:"numeric"},_7={hourCycle:"h23"},xv={...Yc,..._7},Tv={...Pd,..._7},w7={"short-date":Ya,"short-date-short-time":{...Ya,...Yc},"short-date-short-time-24":{...Ya,...xv},"short-date-long-time":{...Ya,...Pd},"short-date-long-time-24":{...Ya,...Tv},"short-date-le":Ya,"short-date-le-short-time":{...Ya,...Yc},"short-date-le-short-time-24":{...Ya,...xv},"short-date-le-long-time":{...Ya,...Pd},"short-date-le-long-time-24":{...Ya,...Tv},"long-month-day-year":wv,"long-month-day-year-short-time":{...wv,...Yc},"long-month-day-year-short-time-24":{...wv,...xv},"long-month-day-year-long-time":{...wv,...Pd},"long-month-day-year-long-time-24":{...wv,...Tv},"day-short-month-year":bv,"day-short-month-year-short-time":{...bv,...Yc},"day-short-month-year-short-time-24":{...bv,...xv},"day-short-month-year-long-time":{...bv,...Pd},"day-short-month-year-long-time-24":{...bv,...Tv},"long-date":Sv,"long-date-short-time":{...Sv,...Yc},"long-date-short-time-24":{...Sv,...xv},"long-date-long-time":{...Sv,...Pd},"long-date-long-time-24":{...Sv,...Tv},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Yc,"long-time":Pd},Sae=Ds()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),b7={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},xae=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),Tae=xae.find(({type:e})=>e==="month")?.value.toLowerCase();function S7(){const e=bA();return(e&&b7[e])??hU()}Tae!=="mart"&&(b7.bs="sr-Latn-CS");let N$=new WeakMap;const Rx=w7["short-date-short-time"];function Mae(e){let t=N$.get(e);if(!t){const i=S7(),r=LA(e.timeZone??xl),n={...e,timeZone:r};t=new Intl.DateTimeFormat(i,n),N$.set(e,t)}return t}function OMe(e){return w7[e]}function PMe(e){const{dateStyle:t,timeStyle:i,hour12:r,year:n,month:s}=e,a={};return t?a.dateStyle=t:n&&(a.year=n,a.month=s||void 0),i&&!a.year&&(a.timeStyle=i,a.hour12=r==="auto"?void 0:r==="always"),a}function RA(e,t=Rx){return Mae(t).format(e)}function AMe(e,t=Rx){return RA(new Date(e),{...t,...v7,...bae})}function RMe(e,t=Rx){return RA(new Date(`1970-01-01T${e}Z`),{...t,...v7,...wae})}function LMe(e,t=Rx){if(t.timeZone)return RA(new Date(e),t);const i=pt.fromISO(e,{setZone:!0}),r=i.offset===0?o_:t.timeZone,n={...t,timeZone:r};return i.toLocaleString(n,{locale:S7()})}function LA(e){switch(e){case xl:return fse;case xA:return o_;default:return e}}SA(()=>{N$=new WeakMap});const Eae={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let Gb=new WeakMap,x7={};function D$(e){const t=e||x7;if(!Gb.has(t)){const i=bA(),r=i&&Eae[i]||hU();Gb.set(t,new Intl.NumberFormat(r,e))}return Gb.get(t)}function kMe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function IMe(e){const{minimumFractionDigits:t,maximumFractionDigits:i,useGrouping:r}=e;return{minimumFractionDigits:t,maximumFractionDigits:i,useGrouping:r==="auto"?"auto":r==="always"}}function NMe(e,t){return Object.is(e,-0)&&(e=0),D$(t).format(e)}function T7(e,t=Dn()){if(!e)return null;let i=ON.get(t);if(!i){const r=D$().formatToParts(12345.6),n=[...D$({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((w,x)=>[w,x])),a=new RegExp(`[${r.find(w=>w.type==="group")?.value}]`,"g"),u=new RegExp(`[${r.find(w=>w.type==="decimal")?.value}]`),h=new RegExp(`[${n.join("")}]`,"g"),f=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,v=/[-\u2212\u2013\u2014\u2015]/g;i=w=>{if((w=w.trim().replaceAll(a,"").replace(u,".").replace(h,M=>String(s.get(M))).replaceAll(f,"").replaceAll(v,"-"))==="")return null;const x=Number(w);return isNaN(x)?null:x},ON.set(t,i)}return i(e)}SA(()=>{Gb=new WeakMap,x7={}});const ON=new Map;async function $ae(e,t,i,r){const n=t.exec(i);if(!n)throw new $e("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",a=n[2],u=mU(r),h=`${s}${a}.json`,f=u?`${s}${a}_${u}.json`:h;let v;try{v=await PN(e(f))}catch(w){if(f===h)throw new $e("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:w});try{v=await PN(e(h))}catch(x){throw new $e("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:x})}}return v}async function PN(e){if(AN.fetchBundleAsset!=null)return AN.fetchBundleAsset(e);const t=await tr(e,{responseType:"text"});return JSON.parse(t.data)}let Cae=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let n;n=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return $ae(this.getAssetUrl,this.matcher,t,i)}};function Oae(e){return new Cae(e)}const AN={};use(Oae({pattern:"esri/",location:Ki}));let lu=class extends et{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let i=t==="local"||t==="global"?t:mU(t??Dn())??"global";return i=i==="no"?"nb":i,i}};p([_()],lu.prototype,"apiKey",void 0),p([_()],lu.prototype,"id",void 0),p([_()],lu.prototype,"language",void 0),p([_()],lu.prototype,"places",void 0),p([_()],lu.prototype,"serviceUrl",void 0),p([_()],lu.prototype,"worldview",void 0),lu=p([ie("esri.support.BasemapStyle")],lu);const Pae=lu,M7=Symbol("BasemapInstance");function zMe(e){return e!=null&&typeof e=="object"&&M7 in e}function ht(e,t,i={}){return kA(e,t,i,E7)}function Ns(e,t,i={}){return kA(e,t,i,$7)}function kA(e,t,i={},r){let n=null;const s=i.once?(a,u)=>{r(a)&&(Oi(n),t(a,u))}:(a,u)=>{r(a)&&t(a,u)};if(n=jie(e,s,i.sync,i.equals),i.initial){const a=e();s(a,a)}return n}function kf(e,t,i,r={}){let n=null,s=null,a=null;function u(){n&&s&&(s.remove(),r.onListenerRemove?.(n),n=null,s=null)}function h(v){r.once&&r.once&&Oi(a),i(v)}const f=ht(e,(v,w)=>{u(),dx(v)&&(n=v,s=Zg(v,t,h),r.onListenerAdd?.(v))},{sync:r.sync,initial:!0});return a=jt(()=>{f.remove(),u()}),a}function IA(e,t){return Aae(e,$7,t)}function Aae(e,t,i){if(In(i))return Promise.reject(ai());const r=e();if(t?.(r))return Promise.resolve(r);let n=null;function s(){n=Oi(n)}return new Promise((a,u)=>{n=Ff([Yo(i,()=>{s(),u(ai())}),kA(e,h=>{s(),a(h)},{sync:!1,once:!0},t??E7)])})}function E7(e){return!0}function $7(e){return!!e}function UMe(e,t,i={}){let r=!1;const n=ht(e,(s,a)=>{r||t(s,a)},i);return{remove(){n.remove()},pause(){r=!0},resume(){r=!1}}}const Ch={sync:!0},nn={initial:!0},On={sync:!0,initial:!0};let C7=0;const NA=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+C7++})}};return i=p([ie("esri.core.Identifiable")],i),i},DA=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:C7++})}};return i=p([ie("esri.core.Identifiable.NumericIdentifiable")],i),i};NA(class{});async function Rae(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await Ne(async()=>{const{fromItem:r}=await import("./portalLayers-Cgq83FPX.js");return{fromItem:r}},__vite__mapDeps([18,19,20,21,22,16]),import.meta.url);try{return await i(t)}catch(r){const n=t?.portalItem,s=n?.id||"unset",a=n?.portal?.url||qt.portalUrl;throw ze.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+s+"')",r),r}}const RN={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function qE(e,t,i,r=xl){const n=new Aa(LA(r)),s=pt.fromJSDate(e,{zone:n}),a=i==="decades"||i==="centuries"?"year":O7(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),s.plus({[a]:t}).toJSDate()}function FMe(e,t,i="milliseconds"){const r=e.getTime(),n=Lae(t,i,"milliseconds");return new Date(r+n)}function LN(e,t,i=xl){const r=new Aa(LA(i)),n=pt.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const a=n.startOf("year"),{year:u}=a,h=u-u%(t==="decades"?10:100);return a.set({year:h}).toJSDate()}const s=O7(t);return n.startOf(s).toJSDate()}function Lae(e,t,i){return e===0?0:e*RN[t]/RN[i]}function BMe(e,t){return e&&t?e.intersection(t):e||t}function O7(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Po,eg;let Jn=(eg=class extends tt{static get allTime(){return kN}static get empty(){return kae}static fromArray(t){return new Po({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,i){return i.end!=null?new Date(i.end):null}writeEnd(t,i){i.end=t?.getTime()??null}get isAllTime(){return this.equals(Po.allTime)}get isEmpty(){return this.equals(Po.empty)}readStart(t,i){return i.start!=null?new Date(i.start):null}writeStart(t,i){i.start=t?.getTime()??null}clone(){return new Po({end:this.end,start:this.start})}equals(t){if(!t)return!1;const i=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=t.start?.getTime()??t.start,s=t.end?.getTime()??t.end;return i===n&&r===s}expandTo(t,i=xl){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=LN(r,t,i));let n=this.end;if(n){const s=LN(n,t,i);n=n.getTime()===s.getTime()?s:qE(s,1,t,i)}return new Po({start:r,end:n})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return Po.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const i=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=t.start?.getTime()??-1/0,s=t.end?.getTime()??1/0;let a,u;return n>=i&&n<=r?a=n:i>=n&&i<=s&&(a=i),r>=n&&r<=s?u=r:s>=i&&s<=r&&(u=s),a==null||u==null||isNaN(a)||isNaN(u)?Po.empty:new Po({start:a===-1/0?null:new Date(a),end:u===1/0?null:new Date(u)})}offset(t,i,r=xl){if(this.isEmpty||this.isAllTime)return this.clone();const n=new Po,{start:s,end:a}=this;return s!=null&&(n.start=qE(s,t,i,r)),a!=null&&(n.end=qE(a,t,i,r)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return kN.clone();const i=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new Po({start:i,end:r})}},Po=eg,eg);p([_({type:Date,json:{write:{allowNull:!0}}})],Jn.prototype,"end",void 0),p([Zt("end")],Jn.prototype,"readEnd",null),p([Gt("end")],Jn.prototype,"writeEnd",null),p([_({readOnly:!0,json:{read:!1}})],Jn.prototype,"isAllTime",null),p([_({readOnly:!0,json:{read:!1}})],Jn.prototype,"isEmpty",null),p([_({type:Date,json:{write:{allowNull:!0}}})],Jn.prototype,"start",void 0),p([Zt("start")],Jn.prototype,"readStart",null),p([Gt("start")],Jn.prototype,"writeStart",null),Jn=Po=p([ie("esri.time.TimeExtent")],Jn);const kN=new Jn,kae=new Jn({start:void 0,end:void 0});let Iae=0,Gi=class extends _x(NA(H_)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new It(-180,-90,180,90,Be.WGS84),this.id=Date.now().toString(16)+"-layer-"+Iae++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Be.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await Ne(async()=>{const{fromUrl:r}=await import("./arcgisLayers-BP5X1OFj.js");return{fromUrl:r}},__vite__mapDeps([23,19,20,22]),import.meta.url)).fromUrl(i)}static fromPortalItem(t){return Rae(t)}initialize(){this.when().catch(t=>{sn(t)||ze.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return ss(this.url)}createLayerView(t,i){return Promise.reject(new $e("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await tr(t,{query:{f:"json"},responseType:"json"})).data;throw new $e("layer:no-attribution-data","Layer does not have attribution data")}};p([_({type:String})],Gi.prototype,"attributionDataUrl",void 0),p([_({readOnly:!0})],Gi.prototype,"effectiveVisible",null),p([_({type:It})],Gi.prototype,"fullExtent",void 0),p([_({readOnly:!0})],Gi.prototype,"hasAttributionData",null),p([_({type:String,clonable:!1})],Gi.prototype,"id",void 0),p([_({type:Boolean,nonNullable:!0})],Gi.prototype,"legendEnabled",void 0),p([_({type:["show","hide","hide-children"]})],Gi.prototype,"listMode",void 0),p([_({type:Number,range:{min:0,max:1},nonNullable:!0})],Gi.prototype,"opacity",void 0),p([_({clonable:!1})],Gi.prototype,"parent",void 0),p([_({readOnly:!0})],Gi.prototype,"parsedUrl",null),p([_({type:Boolean,readOnly:!0})],Gi.prototype,"persistenceEnabled",void 0),p([_({type:Boolean})],Gi.prototype,"popupEnabled",void 0),p([_({type:Boolean})],Gi.prototype,"attributionVisible",void 0),p([_({type:Be})],Gi.prototype,"spatialReference",void 0),p([_({type:String})],Gi.prototype,"title",void 0),p([_({readOnly:!0,json:{read:!1}})],Gi.prototype,"type",void 0),p([_()],Gi.prototype,"url",void 0),p([_({type:Jn})],Gi.prototype,"visibilityTimeExtent",void 0),p([_({type:Boolean,nonNullable:!0})],Gi.prototype,"visible",void 0),Gi=p([ie("esri.layers.Layer")],Gi);const Zw=new WeakMap;function P7(e){return!e.destroyed&&(Zw.has(e)||e.addHandles([ht(()=>{const{parent:t}=e;return!!(t&&t instanceof Gi)&&(t.type==="catalog-dynamic-group"||P7(t))},t=>Zw.set(e,t),On),jt(()=>Zw.delete(e))]),Zw.get(e))}function Nae(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function GMe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function Dae(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-image"}function jae(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function VMe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph-sublayer"}function IN(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Qp(e){return e?.type==="subtype-sublayer"}const HMe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function WMe(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function ZMe(e){return e.type==="integrated-mesh"||e.type==="integrated-mesh-3dtiles"}function Lx(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function YMe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}function zae(e){return e?.type==="feature"&&e.source?.type==="feature-layer"}function JMe(e){return Nae(e)&&zae(e)}async function XMe(e,t){const i=Mi?.findServerInfo(e);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const n=`${e.slice(0,r)}/rest/info`,s=t!=null?t.signal:null,{data:a}=await tr(n,{query:{f:"json"},responseType:"json",signal:s});return a?.owningSystemUrl||null}function Uae(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Fae(e){return Uae(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function Bae(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function qae(e){return!!Bae(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function Gae(e,t){return null}function KMe(e){return null}function Vae(e){return!e||e.type==="Feature Service"&&!e.sourceUrl}function QMe(e,t){!t||!Vae(e)||Gae(e.url)}const Hae=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),Wae=new Set(["integrated-mesh-3dtiles"]),A7=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),Zae=new Set([...A7,"link-chart"]);function Yae(e){switch(e.layerContainerType){case"basemap-base-layers":return Hae;case"basemap-ground-layers":return Wae;case"operational-layers":return e.origin==="link-chart"?Zae:A7;default:return null}}function Jae(e,t){if(t.restrictedWebMapWriting){const i=Yae(t);return i==null||i.has(e.type)&&!Lx(e)}return!0}function Xae(e,t){if(t)if(Lx(e)){const i=ux("featureCollection.layers",t),r=i?.[0]?.layerDefinition;r&&NN(e,r)}else e.type!=="group"&&NN(e,t)}function NN(e,t){"maxScale"in e&&(t.maxScale=u2(e.maxScale)??void 0),"minScale"in e&&(t.minScale=u2(e.minScale)??void 0)}function Kae(e,t){if(Xae(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=u2(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(Lx(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function GE(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i?.messages&&i.messages.push(new $e("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Lx(e)&&!e.isTable)t=e.resourceInfo;else if(Jae(e,i)){const r={};return e.write(r,i)?r:null}return t!=null&&Kae(e,t=ke(t)),t}var DN,em,vf;let bs=(vf=class extends Rh(H_){constructor(t){super(t),this[DN]=!0,this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.type="Basemap",this.id=Date.now().toString(16)+"-basemap-"+em.idCounter++,this.baseLayers=new Fe,this.referenceLayers=new Fe,this.groundLayers=new Fe;const i=u=>{const{parent:h}=u;h&&h!==this&&"remove"in h&&h.remove?.(u),u.parent=this,u.type!=="elevation"&&u.type!=="integrated-mesh-3dtiles"||ze.getLogger(this).error(`Layer '${u.title}, id:${u.id}' of type '${u.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=u=>{const{parent:h}=u;h&&h!==this&&"remove"in h&&h.remove?.(u),u.parent=this},n=u=>{const h=u.item;return h.parent===this?(ze.getLogger(this).error(`Layer '${h.title}, id:${h.id}' of type '${h.type}' already a ground layer, second add will be ignored.`),void u.preventDefault()):h.type!=="integrated-mesh-3dtiles"&&h.type!=="integrated-mesh"?(ze.getLogger(this).error(`Layer '${h.title}, id:${h.id}' of type '${h.type}' is not supported as a ground layer and will therefore be ignored.`),void u.preventDefault()):void 0},s=u=>{u.parent=null},a=u=>{u.parent===this&&(u.parent=null)};this.addHandles([this.baseLayers.on("after-add",u=>i(u.item)),this.baseLayers.on("after-remove",u=>s(u.item)),this.referenceLayers.on("after-add",u=>i(u.item)),this.referenceLayers.on("after-remove",u=>s(u.item)),this.groundLayers.on("before-add",n),this.groundLayers.on("after-add",u=>r(u.item)),this.groundLayers.on("after-remove",u=>a(u.item))])}initialize(){this.when().catch(t=>{ze.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.baseLayers.toArray();for(const n of t)n.destroyed||n.destroy();const i=this.groundLayers.toArray();for(const n of i)n.destroyed||n.destroy();const r=this.referenceLayers.toArray();for(const n of r)n.destroyed||n.destroy();this.baseLayers.destroy(),this.groundLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=er(this.portalItem)}removeChildLayer(t){for(const i of[this.baseLayers,this.referenceLayers,this.groundLayers])i.remove(t)}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",ml(t,this._get("baseLayers")))}_writeBaseLayers(t,i,r){const n=[];t&&(r={...r,layerContainerType:"basemap-base-layers"},this.baseLayers.forEach(s=>{const a=GE(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);a!=null&&n.push(a)}),this.referenceLayers.forEach(s=>{const a=GE(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);a!=null&&(s.type!=="scene"&&(a.isReference=!0),n.push(a))})),i.baseMapLayers=n}set groundLayers(t){this._set("groundLayers",ml(t,this._get("groundLayers")))}_writeGroundLayers(t,i,r){const n=[];t&&(r={...r,layerContainerType:"basemap-ground-layers"},this.groundLayers.forEach(s=>{const a=GE(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);a!=null&&n.push(a)}),n.length>0&&(i.groundLayers=n))}get loaded(){return super.loaded}set referenceLayers(t){this._set("referenceLayers",ml(t,this._get("referenceLayers")))}writeTitle(t,i){i.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return U9(this,t=>{t(this.baseLayers,this.groundLayers,this.referenceLayers)})}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(i=>x0(i)?i.clone():i),groundLayers:this.groundLayers.map(i=>x0(i)?i.clone():i),referenceLayers:this.referenceLayers.map(i=>x0(i)?i.clone():i)};return this.loaded&&(t.loadStatus="loaded"),new em({resourceInfo:this.resourceInfo}).set(t)}read(t,i){this.resourceInfo||this._set("resourceInfo",{data:t,context:i}),super.read(t,i)}write(t,i){return t=t||{},i?.origin||(i={origin:"web-map",...i}),super.write(t,i),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=ke(r);return n.url&&wl(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&wl(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),t}async _loadFromSource(t){const{resourceInfo:i,portalItem:r,style:n}=this;Li(t);const s=[];if(i){const a=i.context?i.context.url:null;if(s.push(this._loadLayersFromJSON(i.data,a,t)),i.data.id&&!i.data.title){const u=i.data.id;s.push(dse(u).then(h=>{h&&this.read({title:h},i.context)}))}}else r?s.push(this._loadFromItem(r,t)):n&&s.push(this._loadFromStylesService(n,t));await Promise.all(s)}async _loadLayersFromJSON(t,i,r){const n=this.resourceInfo?.context,s=this.portalItem?.portal||n?.portal||null,a=ele[n?.origin||""]??"web-map",{populateOperationalLayers:u}=await Ne(async()=>{const{populateOperationalLayers:f}=await import("./layersCreator-BvpLypmo.js");return{populateOperationalLayers:f}},__vite__mapDeps([24,21,20,19,22,18,16,25]),import.meta.url),h=[];if(Li(r),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const f={context:{...n,origin:a,url:i,portal:s,layerContainerType:"basemap-base-layers"},defaultLayerType:"DefaultTileLayer"},v=M=>a==="web-scene"&&M.layerType==="ArcGISSceneServiceLayer"||M.isReference,w=u(this.baseLayers,t.baseMapLayers.filter(M=>!v(M)),f);h.push(w);const x=u(this.referenceLayers,t.baseMapLayers.filter(v),f);h.push(x)}if(t.groundLayers&&Array.isArray(t.groundLayers)){const f={context:{...n,origin:a,url:i,portal:s,layerContainerType:"basemap-ground-layers"},defaultLayerType:"IntegratedMesh3DTilesLayer"},v=u(this.groundLayers,t.groundLayers,f);h.push(v)}await Promise.allSettled(h)}async _loadFromItem(t,i){const r=await t.load(i),n=await r.fetchData("json",i),s=ss(t.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:Qae[t.type||""]??"web-map",portal:t.portal||Ie.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||Ie.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,i)}async _loadFromStylesService(t,i){const r=t.serviceUrl.endsWith("/webmaps")?t.serviceUrl.slice(0,-8):t.serviceUrl,n=`${r}/styles/${t.id}/self`,s=`${r}/webmaps/${t.id}`,a=t.apiKey??qt.apiKeys.basemapStyles,[u,h]=await Promise.all([(await tr(n,{query:{token:a},signal:i?.signal})).data,(await tr(s,{query:{language:t.languageParameter,places:t.places,worldview:t.worldview,token:a},signal:i?.signal})).data]);this.thumbnailUrl??=u.thumbnailUrl;const f=ss(s);if(this._set("resourceInfo",{data:h.baseMap??{},context:{origin:"web-map",url:f}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:h.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,f,i),a)for(const v of[...this.baseLayers,...this.groundLayers,...this.referenceLayers])"apiKey"in v&&(v.apiKey=a)}static fromId(t){const i=T$[t];return i?i.itemId?new em({portalItem:{id:i.itemId,portal:{url:"https://www.arcgis.com"}}}):em.fromJSON(i,i.is3d?{origin:"web-scene",portal:new Ie({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}},DN=M7,em=vf,vf.idCounter=0,vf);p([_({json:{read:!1,write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Fe}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],bs.prototype,"baseLayers",null),p([_({json:{read:!1,write:{ignoreOrigin:!0,target:"groundLayers",writer(e,t,i,r){this._writeGroundLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{groundLayers:{type:Fe}},writer(e,t,i,r){this._writeGroundLayers(e,t,r)}}}}}})],bs.prototype,"groundLayers",null),p([_({type:String,json:{origins:{"web-scene":{write:!0}}}})],bs.prototype,"id",void 0),p([_({type:_t})],bs.prototype,"portalItem",void 0),p([_()],bs.prototype,"referenceLayers",null),p([_({readOnly:!0})],bs.prototype,"resourceInfo",void 0),p([_({type:Be})],bs.prototype,"spatialReference",void 0),p([_({type:Pae})],bs.prototype,"style",void 0),p([_()],bs.prototype,"thumbnailUrl",void 0),p([_({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],bs.prototype,"title",void 0),p([Gt("title")],bs.prototype,"writeTitle",null),bs=em=p([ie("esri.Basemap")],bs);const Qae={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},ele={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},O0=bs,tle=Object.freeze(Object.defineProperty({__proto__:null,default:O0},Symbol.toStringTag,{value:"Module"})),y2={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function ile(e){return!!y2[e]||!!y2[e.toLowerCase()]}function R7(e){return y2[e]??y2[e.toLowerCase()]}function eEe(e){return[...R7(e)]}function VE(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function rle(e,t,i,r=1){const n=(e%360+360)%360/360,s=i<=.5?i*(t+1):i+t-i*t,a=2*i-s;return[Math.round(255*VE(a,s,n+1/3)),Math.round(255*VE(a,s,n)),Math.round(255*VE(a,s,n-1/3)),r]}function tEe(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,n=t?1:17,s=t?e.length===9:e.length===5;let a=+("0x"+e.slice(1));if(isNaN(a))return null;const u=[0,0,0,1];let h;return s&&(h=a&r,a>>=i,u[3]=n*h/255),h=a&r,a>>=i,u[2]=n*h,h=a&r,a>>=i,u[1]=n*h,h=a&r,a>>=i,u[0]=n*h,u}function L7(e){if(!e.startsWith("#")||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),i=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,4),16),n=e.length===4?15:parseInt(e.slice(4),16);return[t+16*t,i+16*i,r+16*r,(n+16*n)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(e.length===7?255:parseInt(e.slice(7),16))/255];default:return null}}function k7(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const i=t[2].split(/\s*,\s*/),r=t[1];if(r==="rgb"&&i.length===3||r==="rgba"&&i.length===4){if(i[0].endsWith("%")){const n=i.map(s=>2.56*parseFloat(s));return i.length===4&&(n[3]=parseFloat(i[3])),jN(n)}return jN(i.map(n=>parseFloat(n)))}if(r==="hsl"&&i.length===3||r==="hsla"&&i.length===4)return rle(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]??"1"))}return null}function jN(e){return e[0]=Bm(e[0]),e[1]=Bm(e[1]),e[2]=Bm(e[2]),e[3]=e.length===4?N7(e[3]):1,e}function I7(e){let t=ile(e)?R7(e):null;return t??=k7(e),t??=L7(e),t}function iEe(e){const t=I7(e);return t!=null?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null}function N7(e){return D7(e,0,1)}function Bm(e){return Math.round(D7(e,0,255))}function D7(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}const j7=2.2,nle=1/j7;function rEe(e){return e**j7}function nEe(e){return e**nle}const zN=new Float32Array(1);function sEe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function co(e,t,i){return Math.min(Math.max(e,t),i)}function oEe(e){return!(e&e-1)}function aEe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function Yv(e,t,i){return e+(t-e)*i}function lEe(e,t,i,r,n){return Yv(r,n,(e-t)/(i-t))}function Q_(e){return e*Math.PI/180}function z7(e){return 180*e/Math.PI}function uEe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function cEe(e){return Math.acos(co(e,-1,1))}function sle(e){return Math.asin(co(e,-1,1))}function yh(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function hEe(e,t,i=1e-6){return!yh(e,t,i)&&e>t}function dEe(e,t,i=1e-6){return!yh(e,t,i)&&e<t}function fEe(e,t,i=1e-6){return yh(e,t,i)||e>t}const v2=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function j$(e){return v2.setFloat64(0,e),v2.getBigInt64(0)}function ole(e){return v2.setBigInt64(0,e),v2.getFloat64(0)}const Vb=1000000n,ale=U7(1);function U7(e){const t=j$(e=Math.abs(e)),i=ole(t<=Vb?Vb:t-Vb);return Math.abs(e-i)}function pEe(e,t,i=ale){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&U7(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=j$(e),n=j$(t);return r<0!=n<0?!1:!((r<n?n-r:r-n)>Vb)}function F7(e,t,i=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const r=Math.abs(e-t),n=Math.abs(e),s=Math.abs(t);if(e===0||t===0||n<1e-12&&s<1e-12){if(r>.01*i)return!1}else if(r/(n+s)>i)return!1;return!0}function mEe(e){return B7(Math.max(-UN,Math.min(e,UN)))}function B7(e){return zN[0]=e,zN[0]}function gEe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(yh(t,1)&&yh(i,1)&&yh(r,1))}function yEe(e,t){return(e%t+t)%t}const UN=B7(34028234663852886e22);function vEe(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}function Yw(e){return co(tA(e),0,255)}function Jw(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let zt=class Ao{static blendColors(t,i,r,n=new Ao){return n.r=Math.round(t.r+(i.r-t.r)*r),n.g=Math.round(t.g+(i.g-t.g)*r),n.b=Math.round(t.b+(i.b-t.b)*r),n.a=t.a+(i.a-t.a)*r,n._sanitize()}static fromRgb(t,i){const r=k7(t);return r?Ao.fromArray(r,i):null}static fromHex(t,i=new Ao){const r=L7(t);return r?Ao.fromArray(r,i):null}static fromArray(t,i=new Ao){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=I7(t);return r?Ao.fromArray(r,i):null}static fromJSON(t){return t!=null?new Ao([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t,i){return t==null?null:(i??=[0,0,0,0],i[0]=t.r/255,i[1]=t.g/255,i[2]=t.b/255,i[3]=t.a!=null?t.a:1,i)}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ao.fromString(t,this):Array.isArray(t)?Ao.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ao||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=t?.capitalize??!1,r=t?.digits??6,n=r===3||r===4,s=r===4||r===8,a=`#${Jw(this.r,n)}${Jw(this.g,n)}${Jw(this.b,n)}${s?Jw(Math.round(255*this.a),n):""}`;return i?a.toUpperCase():a}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=0){const i=Yw(this.r),r=Yw(this.g),n=Yw(this.b);return t===0||this.a!==1?[i,r,n,Yw(255*this.a)]:[i,r,n]}clone(){return new Ao(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Bm(this.r),this.g=Bm(this.g),this.b=Bm(this.b),this.a=N7(this.a),this}_set(t,i,r,n){this.r=t,this.g=i,this.b=r,this.a=n}};zt.prototype.declaredClass="esri.Color";let Ma=class extends Fe{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles($ie(()=>this._refresh(),Ch))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections?.();if(t==null)return void this.removeAll();let i=0;for(const r of t)r!=null&&(i=this._processCollection(i,r));this.splice(i)}_createNewInstance(t){return new Fe(t)}_processCollection(t,i){if(!i)return t;const r=this.itemFilterFunction??(n=>!!n);for(const n of i)if(n){if(r(n)){const s=this.indexOf(n,t);s>=0?s!==t&&this.reorder(n,t):this.add(n,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(n);if(Array.isArray(s))for(const a of s)t=this._processCollection(t,a);else t=this._processCollection(t,s)}}return t}};p([_()],Ma.prototype,"getCollections",void 0),p([_()],Ma.prototype,"getChildrenFunction",void 0),p([_()],Ma.prototype,"itemFilterFunction",void 0),Ma=p([ie("esri.core.CollectionFlattener")],Ma);function gt(e,t={}){const i=e instanceof qr?e:new qr(e,t),{alwaysWriteDefaults:r,default:n,ignoreUnknown:s=!0,name:a,nonNullable:u,readOnly:h=!1}=t;return _({type:s?i.apiValues:String,json:{type:i.jsonValues,default:n,name:a,read:!h&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:u,readOnly:h})}var z$;let Hb=z$=class extends tt{constructor(e){super(e),this.type="none"}clone(){return new z$({type:this.type})}};p([gt({none:"none",stayAbove:"stay-above"}),_({json:{write:{isRequired:!0}}})],Hb.prototype,"type",void 0),Hb=z$=p([ie("esri.ground.NavigationConstraint")],Hb);const q7=Symbol("GroundInstance");function wEe(e){return e!=null&&typeof e=="object"&&q7 in e}function G7(e){const t=tA(100*(1-e));return Math.max(0,Math.min(t,100))}function V7(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var FN,U$,Wj;let Ro=U$=(Wj=class extends Rh(H_){constructor(e){super(e),this[FN]=!0,this.parent=null,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Fe;const t=r=>{const{parent:n}=r;n&&n!==this&&"remove"in n&&n.remove?.(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&ze.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>t(r.item)),this.layers.on("after-remove",r=>i(r.item))]),this.allLayers=new Ma({getCollections:()=>[this.layers,this.parent?.basemap?.groundLayers]})}removeChildLayer(e){this.layers.remove(e)}initialize(){this.when().catch(e=>{sn(e)||ze.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}get integratedMeshGround(){const e=this.parent?.basemap?.groundLayers.at(0);return e?.replacesTerrain?e:null}destroy(){const e=this.layers.removeAll();for(const t of e)er(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get loaded(){return super.loaded}get layers(){return this._get("layers")}set layers(e){this._set("layers",ml(e,this._get("layers")))}writeLayers(e,t,i,r){const n=[];e&&(r={...r,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const a={};iee(s)().write(a,r)&&n.push(a)}else r?.messages&&r.messages.push(new $e("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return U9(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t?.signal});const{queryAll:i}=await Ne(()=>import("./ElevationQuery-Dbwm4WSt.js"),__vite__mapDeps([26,27]),import.meta.url);return Li(t),i(this.layers.filter(BN).toArray(),e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{createSampler:i}=await Ne(()=>import("./ElevationQuery-Dbwm4WSt.js"),__vite__mapDeps([26,27]),import.meta.url);return Li(t),i(this.layers.filter(BN).toArray(),e,t)}clone(){const e={opacity:this.opacity,surfaceColor:ke(this.surfaceColor),navigationConstraint:ke(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new U$({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,i){const r=t?.origin||"web-scene",n=t?.portal||null,s=t?.url||null,{populateOperationalLayers:a}=await Ne(async()=>{const{populateOperationalLayers:h}=await import("./layersCreator-BvpLypmo.js");return{populateOperationalLayers:h}},__vite__mapDeps([24,21,20,19,22,18,16,25]),import.meta.url);Li(i);const u=[];if(e.layers&&Array.isArray(e.layers)){const h={context:{origin:r,url:s,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};u.push(a(this.layers,e.layers,h))}await Promise.allSettled(u)}},FN=q7,Wj);function BN(e){return e&&"createElevationSampler"in e}p([_()],Ro.prototype,"parent",void 0),p([_()],Ro.prototype,"integratedMeshGround",null),p([_({json:{read:!1,write:{isRequired:!0}}})],Ro.prototype,"layers",null),p([_()],Ro.prototype,"allLayers",void 0),p([Gt("layers")],Ro.prototype,"writeLayers",null),p([_({readOnly:!0})],Ro.prototype,"resourceInfo",void 0),p([_({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:fi,read:{reader:V7,source:"transparency"},write:{writer:(e,t)=>{t.transparency=G7(e)},target:"transparency"}}})],Ro.prototype,"opacity",void 0),p([_({type:zt,json:{type:[fi],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Ro.prototype,"surfaceColor",void 0),p([_({type:Hb,json:{write:!0}})],Ro.prototype,"navigationConstraint",void 0),Ro=U$=p([ie("esri.Ground")],Ro);const _2=Ro,lle=Symbol("ClonableMixin"),on=e=>{var n;var t;const i=e;let r=(n=class extends i{constructor(){super(...arguments),this[t]=!0}clone(s){const a=xh(this);R8(a,"unable to clone instance of non-accessor class");const u=a.metadata,h=a.store,f={},v=new Map;for(const x in u){const M=u[x],P=h?.originOf(x),O=M.clonable;if(M.readOnly||O===!1||P!==7&&P!==0&&P!==5&&P!==4)continue;const F=this[x];let G=null;if(typeof O=="function")G=O(F,s);else if(O==="reference")G=F;else if(G=H3(F,s),F!=null&&G==null)continue;P===0?v.set(x,G):f[x]=G}const w=new(Object.getPrototypeOf(this)).constructor(f);if(v.size){const x=xh(w)?.store;if(x)for(const[M,P]of v)x.set(M,P,0)}return w}},t=lle,n);return r=p([ie("esri.core.Clonable")],r),r},jA=on(et),ule="randomUUID"in crypto;function e1(){if(ule)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function bEe(){return`{${e1().toUpperCase()}}`}function SEe(){return`{${e1()}}`}function xEe(e){const t=e.toUpperCase();return e.startsWith("{")?t:`{${t}}`}const zp={Base64:0,Hex:1,String:2,Raw:3},qm=8,H7=(1<<qm)-1;function ah(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function cle(e){const t=[];for(let i=0,r=e.length*qm;i<r;i+=qm)t[i>>5]|=(e.charCodeAt(i/qm)&H7)<<i%32;return t}function hle(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=qm)t.push(String.fromCharCode(e[i>>5]>>>i%32&H7));return t.join("")}function dle(e){const t="0123456789abcdef",i=[];for(let r=0,n=4*e.length;r<n;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function fle(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let n=0,s=4*e.length;n<s;n+=3){const a=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let u=0;u<4;u++)8*n+6*u>32*e.length?r.push("="):r.push(i.charAt(a>>6*(3-u)&63))}return r.join("")}function ple(e,t){return e<<t|e>>>32-t}function kx(e,t,i,r,n,s){return ah(ple(ah(ah(t,e),ah(r,s)),n),i)}function bn(e,t,i,r,n,s,a){return kx(t&i|~t&r,e,t,n,s,a)}function Sn(e,t,i,r,n,s,a){return kx(t&r|i&~r,e,t,n,s,a)}function xn(e,t,i,r,n,s,a){return kx(t^i^r,e,t,n,s,a)}function Tn(e,t,i,r,n,s,a){return kx(i^(t|~r),e,t,n,s,a)}function mle(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,n=-1732584194,s=271733878;for(let a=0;a<e.length;a+=16){const u=i,h=r,f=n,v=s;i=bn(i,r,n,s,e[a],7,-680876936),s=bn(s,i,r,n,e[a+1],12,-389564586),n=bn(n,s,i,r,e[a+2],17,606105819),r=bn(r,n,s,i,e[a+3],22,-1044525330),i=bn(i,r,n,s,e[a+4],7,-176418897),s=bn(s,i,r,n,e[a+5],12,1200080426),n=bn(n,s,i,r,e[a+6],17,-1473231341),r=bn(r,n,s,i,e[a+7],22,-45705983),i=bn(i,r,n,s,e[a+8],7,1770035416),s=bn(s,i,r,n,e[a+9],12,-1958414417),n=bn(n,s,i,r,e[a+10],17,-42063),r=bn(r,n,s,i,e[a+11],22,-1990404162),i=bn(i,r,n,s,e[a+12],7,1804603682),s=bn(s,i,r,n,e[a+13],12,-40341101),n=bn(n,s,i,r,e[a+14],17,-1502002290),r=bn(r,n,s,i,e[a+15],22,1236535329),i=Sn(i,r,n,s,e[a+1],5,-165796510),s=Sn(s,i,r,n,e[a+6],9,-1069501632),n=Sn(n,s,i,r,e[a+11],14,643717713),r=Sn(r,n,s,i,e[a],20,-373897302),i=Sn(i,r,n,s,e[a+5],5,-701558691),s=Sn(s,i,r,n,e[a+10],9,38016083),n=Sn(n,s,i,r,e[a+15],14,-660478335),r=Sn(r,n,s,i,e[a+4],20,-405537848),i=Sn(i,r,n,s,e[a+9],5,568446438),s=Sn(s,i,r,n,e[a+14],9,-1019803690),n=Sn(n,s,i,r,e[a+3],14,-187363961),r=Sn(r,n,s,i,e[a+8],20,1163531501),i=Sn(i,r,n,s,e[a+13],5,-1444681467),s=Sn(s,i,r,n,e[a+2],9,-51403784),n=Sn(n,s,i,r,e[a+7],14,1735328473),r=Sn(r,n,s,i,e[a+12],20,-1926607734),i=xn(i,r,n,s,e[a+5],4,-378558),s=xn(s,i,r,n,e[a+8],11,-2022574463),n=xn(n,s,i,r,e[a+11],16,1839030562),r=xn(r,n,s,i,e[a+14],23,-35309556),i=xn(i,r,n,s,e[a+1],4,-1530992060),s=xn(s,i,r,n,e[a+4],11,1272893353),n=xn(n,s,i,r,e[a+7],16,-155497632),r=xn(r,n,s,i,e[a+10],23,-1094730640),i=xn(i,r,n,s,e[a+13],4,681279174),s=xn(s,i,r,n,e[a],11,-358537222),n=xn(n,s,i,r,e[a+3],16,-722521979),r=xn(r,n,s,i,e[a+6],23,76029189),i=xn(i,r,n,s,e[a+9],4,-640364487),s=xn(s,i,r,n,e[a+12],11,-421815835),n=xn(n,s,i,r,e[a+15],16,530742520),r=xn(r,n,s,i,e[a+2],23,-995338651),i=Tn(i,r,n,s,e[a],6,-198630844),s=Tn(s,i,r,n,e[a+7],10,1126891415),n=Tn(n,s,i,r,e[a+14],15,-1416354905),r=Tn(r,n,s,i,e[a+5],21,-57434055),i=Tn(i,r,n,s,e[a+12],6,1700485571),s=Tn(s,i,r,n,e[a+3],10,-1894986606),n=Tn(n,s,i,r,e[a+10],15,-1051523),r=Tn(r,n,s,i,e[a+1],21,-2054922799),i=Tn(i,r,n,s,e[a+8],6,1873313359),s=Tn(s,i,r,n,e[a+15],10,-30611744),n=Tn(n,s,i,r,e[a+6],15,-1560198380),r=Tn(r,n,s,i,e[a+13],21,1309151649),i=Tn(i,r,n,s,e[a+4],6,-145523070),s=Tn(s,i,r,n,e[a+11],10,-1120210379),n=Tn(n,s,i,r,e[a+2],15,718787259),r=Tn(r,n,s,i,e[a+9],21,-343485551),i=ah(i,u),r=ah(r,h),n=ah(n,f),s=ah(s,v)}return[i,r,n,s]}function gle(e,t=zp.Hex){const i=t||zp.Base64,r=mle(cle(e),e.length*qm);switch(i){case zp.Raw:return r;case zp.Hex:return dle(r);case zp.String:return hle(r);case zp.Base64:return fle(r)}}function yle(e){return e&&"getAtOrigin"in e&&"originOf"in e}function F$(e){return zA[vle(e)]||wle}function vle(e){return e.type==="json"?"application/json":e.type==="blob"?e.blob.type:_le(e.url)}function _le(e){const t=M8(e);return B$[t]||W7}const zA={},W7="text/plain",wle=zA[W7],B$={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const e in B$)zA[B$[e]]=e;function ble(e){const t=e?.origins??[void 0];return(i,r)=>{const n=Sle(e,i,r);for(const s of t){const a=rA(i,s,r);for(const u in n)a[u]=n[u]}}}function Sle(e,t,i){if(e?.type==="resource")return xle(e,t,i);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:r,write:n}=hte;return{read:r,write:n}}}}function xle(e,t,i){const r=G_(t,i);return{type:String,read:(n,s,a)=>{const u=fx(n,s,a);return r.type===String?u:typeof r.type=="function"?new r.type({url:u}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(n,s,a,u){if(!u?.resources)return typeof n=="string"?void(s[a]=xg(n,u)):void(s[a]=n.write({},u));const h=Ele(n),f=xg(h,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},1),v=r.type!==String&&(!yle(this)||u?.origin&&this.originIdOf(i)>XP(u.origin)),w={object:this,propertyName:i,value:n,targetUrl:f,dest:s,targetPropertyName:a,context:u,params:e};u?.portalItem&&f&&!ks(f)?v&&e?.contentAddressed?q$(w):v?Tle(w):Mle(w):u?.portalItem&&(f==null||I8(f)!=null||z_(f)||v)?q$(w):s[a]=f}}}}function q$(e){const{targetUrl:t,params:i,value:r,context:n,dest:s,targetPropertyName:a}=e;if(!n.portalItem)return;const u=N8(t),h=Y7(r,t,n);if(i?.contentAddressed&&h.type!=="json")return void n.messages?.push(new $e("persistable:contentAddressingUnsupported",`Property "${a}" is trying to serializing a resource with content of type ${h.type} with content addressing. Content addressing is only supported for json resources.`,{content:h}));const f=i?.contentAddressed&&h.type==="json"?gle(h.jsonString):u?.filename??e1(),v=j_(i?.prefix??u?.prefix,f),w=`${v}.${F$(h)}`;if(i?.contentAddressed&&n.resources&&h.type==="json"){const P=n.resources.toKeep.find(({resource:O})=>O.path===w)??n.resources.toAdd.find(({resource:O})=>O.path===w);if(P)return void(s[a]=P.resource.itemRelativeUrl)}const x=n.portalItem.resourceFromPath(w);z_(t)&&n.resources&&n.resources.pendingOperations.push(Dee(t).then(P=>{x.path=`${v}.${F$({type:"blob",blob:P})}`,s[a]=x.itemRelativeUrl}).catch(()=>{}));const M=i?.compress??!1;n.resources&&Z7({...e,resource:x,content:h,compress:M,updates:n.resources.toAdd}),s[a]=x.itemRelativeUrl}function Tle(e){const{context:t,targetUrl:i,params:r,value:n,dest:s,targetPropertyName:a}=e;if(!t.portalItem)return;const u=t.portalItem.resourceFromPath(i),h=Y7(n,i,t),f=F$(h),v=M8(u.path),w=r?.compress??!1;f===v?(t.resources&&Z7({...e,resource:u,content:h,compress:w,updates:t.resources.toUpdate}),s[a]=i):q$(e)}function Mle({context:e,targetUrl:t,dest:i,targetPropertyName:r}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),i[r]=t)}function Z7({object:e,propertyName:t,updates:i,resource:r,content:n,compress:s}){const a=u=>{$le(e,t,u)};i.push({resource:r,content:n,compress:s,finish:a})}function Y7(e,t,i){return typeof e=="string"?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(i))}}function Ele(e){return e==null?null:typeof e=="string"?e:e.url}function $le(e,t,i){typeof e[t]=="string"?e[t]=i.url:e[t].url=i.url}let Wb=class extends on(tt){constructor(t){super(t),this.color=null}};p([_({type:zt,json:{type:[fi],write:!0}})],Wb.prototype,"color",void 0),Wb=p([ie("esri.effects.FocusAreaOutline")],Wb);const Cle=Wb;function MEe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function Ole(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}function EEe(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.map(r=>[r]);if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let n=!1,s=!1;return r.forEach(a=>{a.hasZ&&(n=!0),a.hasM&&(s=!0)}),r.map(a=>{const u=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(n&&a.hasZ){const h=.5*(a.zmax-a.zmin);for(let f=0;f<u.length;f++)u[f].push(h)}if(s&&a.hasM){const h=.5*(a.mmax-a.mmin);for(let f=0;f<u.length;f++)u[f].push(h)}return u})}return null}function Ix(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function J7(e,t,i){const r=e[0]+i*(t[0]-e[0]),n=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,n,e[2]+i*(t[2]-e[2])]:[r,n]}function Ple(e,t,i,r){return Ale(e,t,i[r],i[r+1])}function Ale(e,t,i,r){const[n,s]=t,[a,u]=i,[h,f]=r,v=h-a,w=f-u,x=v*v+w*w,M=(n-a)*v+(s-u)*w,P=Math.min(1,Math.max(0,M/x));return e[0]=a+v*P,e[1]=u+w*P,e}function $Ee(e,t,i,r,n,s){let a=i,u=r,h=n-a,f=s-u;if(h!==0||f!==0){const v=((e-a)*h+(t-u)*f)/(h*h+f*f);v>1?(a=n,u=s):v>0&&(a+=h*v,u+=f*v)}return h=e-a,f=t-u,h*h+f*f}function X7(e,t){return J7(e,t,.5)}function CEe(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=Ix(e[r],e[r+1]);return i}function OEe(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let n=0;n<i-1;++n){const s=Ix(e[n],e[n+1]);if(t-r<s){const a=(t-r)/s;return J7(e[n],e[n+1],a)}r+=s}return e[i-1]}function K7(e,t=0,i=1){let r=0;const n=e.length;let s=e[0];for(let a=1;a<n;a++){const u=e[a];r+=(u[t]-s[t])*(u[i]+s[i]),s=u}if(Q7(e)){const a=e[0];r+=(a[t]-s[t])*(a[i]+s[i])}return r>=0}function Q7(e){const t=e.length;return t>0&&!ox(e[0],e[t-1])}function PEe(e){"rings"in e&&(Rle(e),Lle(e))}function Rle(e){if("rings"in e)for(const t of e.rings)Q7(t)&&t.push(t[0].slice())}function Lle(e){if(!("rings"in e)||e.rings.length===0||K7(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function AEe(e){return e.type!=="polygon"&&e.type!=="polyline"||kle(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function kle(e,t){const i=ns(t);if(!i)return;const r=i.valid[0],n=i.valid[1],s=n-r;for(const a of e){let u=1/0,h=-1/0;for(const v of a){const w=Ile(v[0],r,n);u=Math.min(u,w),h=Math.max(h,w),v[0]=w}const f=h-u;s-f<f&&a.forEach(v=>{v[0]<0&&(v[0]+=s)})}}function Ile(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function REe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((n,s)=>n.length===r[s].length)}function LEe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Nle(e){return jle(e.rings,e.hasZ??!1)}function Dle(e){const t=Nle(e);if(!t)return null;const{hasZ:i,spatialReference:r}=e,[n,s,a]=t;return isNaN(n)||isNaN(s)||i&&isNaN(a)?null:{x:n,y:s,z:i?a:void 0,spatialReference:r}}function jle(e,t){if(!e?.length)return null;const i=[],r=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,a=e.length;s<a;s++){const u=eF(e[s],t,n);u&&r.push(u)}if(r.sort((s,a)=>{let u=s[2]-a[2];return u===0&&t&&(u=s[4]-a[4]),u}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||t&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const s=e[0]&&e[0].length?zle(e[0],t):null;if(!s)return null;i[0]=s[0],i[1]=s[1],t&&s.length>2&&(i[2]=s[2])}return i}function eF(e,t,i){let r=0,n=0,s=0,a=0,u=0;const h=e.length?e[0][0]:0,f=e.length?e[0][1]:0,v=e.length&&t?e[0][2]:0;for(let x=0;x<e.length;x++){const M=e[x],P=e[(x+1)%e.length],[O,F,G]=M,Y=O-h,U=F-f,[C,E,A]=P,k=C-h,V=E-f,H=Y*V-k*U;if(a+=H,r+=(Y+k)*H,n+=(U+V)*H,t&&M.length>2&&P.length>2){const q=G-v,X=A-v,ue=Y*X-k*q;s+=(q+X)*ue,u+=ue}O<i[0]&&(i[0]=O),O>i[1]&&(i[1]=O),F<i[2]&&(i[2]=F),F>i[3]&&(i[3]=F),t&&(G<i[4]&&(i[4]=G),G>i[5]&&(i[5]=G))}if(a>0&&(a*=-1),u>0&&(u*=-1),!a)return null;a*=.5,u*=.5;const w=[r/(6*a)+h,n/(6*a)+f,a];return t&&(i[4]===i[5]||u===0?(w[3]=(i[4]+i[5])/2,w[4]=0):(w[3]=s/(6*u)+v,w[4]=u)),w}function kEe(e,t){let i=0,r=0,n=0;e.nextPoint();const s=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let u=0;u<e.pathSize;u++){e.seekInPath(u);const h=[e.x,e.y];e.seekInPath((u+1)%e.pathSize);const f=[e.x,e.y],[v,w]=h,x=v-s,M=w-a,[P,O]=f,F=P-s,G=O-a,Y=x*G-F*M;n+=Y,i+=(x+F)*Y,r+=(M+G)*Y,v<t[0]&&(t[0]=v),v>t[1]&&(t[1]=v),w<t[2]&&(t[2]=w),w>t[3]&&(t[3]=w)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+s,r/(6*n)+a,n]):null}function zle(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,s=0,a=0,u=0;for(let h=0,f=e.length;h<f-1;h++){const v=e[h],w=e[h+1];if(v&&w){i[0]=v[0],i[1]=v[1],r[0]=w[0],r[1]=w[1],t&&v.length>2&&w.length>2&&(i[2]=v[2],r[2]=w[2]);const x=Ix(i,r);if(x){n+=x;const M=X7(v,w);s+=x*M[0],a+=x*M[1],t&&M.length>2&&(u+=x*M[2])}}}return n>0?t?[s/n,a/n,u/n]:[s/n,a/n]:e.length?e[0]:null}function Ule(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],n=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=eF(Ole(e),e.hasZ,s);a&&n.push(a)}if(n.sort((a,u)=>{let h=a[2]-u[2];return h===0&&t&&(h=a[4]-u[4]),h}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const a=e.pathSize?Fle(e):null;if(!a)return null;r[0]=a[0],r[1]=a[1],t&&a.length>2&&(r[2]=a[2])}return r}function Fle(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,s=0,a=0,u=0;if(e.nextPoint()){let h=e.x,f=e.y,v=e.z;for(;e.nextPoint();){const w=e.x,x=e.y,M=e.z;i[0]=h,i[1]=f,r[0]=w,r[1]=x,t&&(i[2]=v,r[2]=M);const P=Ix(i,r);if(P){n+=P;const O=X7(i,r);s+=P*O[0],a+=P*O[1],t&&O.length>2&&(u+=P*O[2])}h=w,f=x,v=M}}return n>0?t?[s/n,a/n,u/n]:[s/n,a/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const Ble=1e-6;function IEe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Ble){const n=Ule(e);return n?[n[0],n[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)Gle(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const qle=1/3;function Gle(e,t,i){if(!e||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let s,a=i.x-r,u=i.y-n,h=0,f=0;for(;i.nextPoint();)h=i.x-r,f=i.y-n,s=.5*qle*(h*u-f*a),e[0]+=s*(a+h),e[1]+=s*(u+f),a=h,u=f;const v=i.getCurrentRingArea(),w=[r,n];return w[0]-=t[0],w[1]-=t[1],w[0]*=v,w[1]*=v,e[0]+=w[0],e[1]+=w[1],e}function Ls(e=Jle){return[e[0],e[1],e[2],e[3]]}function tF(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Vle(e,t,i,r,n=Ls()){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function NEe(e,t=Ls()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function Hle(e,t,i=new It){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function Go(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Wle(e,t){t<e[0]&&(e[0]=t),t>e[2]&&(e[2]=t)}function Zle(e,t){t<e[1]&&(e[1]=t),t>e[3]&&(e[3]=t)}function DEe(e,t,i){if(t!=null)if("length"in t)V$(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else tF(i,e)}function jEe(e,t,i=e){const r=t.length;let n=e[0],s=e[1],a=e[2],u=e[3];for(let h=0;h<r;h++){const f=t[h];n=Math.min(n,f[0]),s=Math.min(s,f[1]),a=Math.max(a,f[0]),u=Math.max(u,f[1])}return i[0]=n,i[1]=s,i[2]=a,i[3]=u,i}function zEe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function UA(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function FA(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function UEe(e){return UA(e)*FA(e)}function FEe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function BEe(e){const t=UA(e),i=FA(e);return Math.sqrt(t*t+i*i)}function qEe(e,t){return!!e&&G$(e,t.x,t.y)}function G$(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function GEe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function VEe(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function Yle(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function HEe(e,t,i,r){return r??=e,r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function WEe(e){return e?tF(e,qN):Ls(qN)}function V$(e){return e!=null&&e.length===4}function ZEe(e,t){return V$(e)&&V$(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const qN=[1/0,1/0,-1/0,-1/0],Jle=[0,0,0,0];let BA=1e-6;function Is(){return BA}function Xle(e){BA=e}const qA=Math.random,Kle=Math.PI/180,Qle=180/Math.PI;function GA(e){return e*Kle}function eue(e){return e*Qle}function tue(e,t){return Math.abs(e-t)<=BA*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:qA,equals:tue,getEpsilon:Is,setEpsilon:Xle,toDegree:eue,toRadian:GA},Symbol.toStringTag,{value:"Module"}));function Gm(e,t){return e[0]=t[0],e[1]=t[1],e}function tn(e,t,i){return e[0]=t,e[1]=i,e}function iF(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function l_(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function rF(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function nF(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function iue(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function rue(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function nue(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function sue(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function oue(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function t1(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function aue(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function Nx(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function u_(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function w2(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function sF(e){const t=e[0],i=e[1];return t*t+i*i}function oF(e,t){return e[0]=-t[0],e[1]=-t[1],e}function lue(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function H$(e,t){const i=t[0],r=t[1];let n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function aF(e,t){return e[0]*t[0]+e[1]*t[1]}function lF(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function uue(e,t,i,r){const n=t[0],s=t[1];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e}function cue(e,t=1){const i=2*qA()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function hue(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n,e[1]=i[1]*r+i[3]*n,e}function ul(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e}function Zb(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[3]*n+i[6],e[1]=i[1]*r+i[4]*n+i[7],e}function due(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e}function fue(e,t,i,r){const n=t[0]-i[0],s=t[1]-i[1],a=Math.sin(r),u=Math.cos(r);return e[0]=n*u-s*a+i[0],e[1]=n*a+s*u+i[1],e}function pue(e,t){const i=e[0],r=e[1],n=t[0],s=t[1];let a=i*i+r*r;a>0&&(a=1/Math.sqrt(a));let u=n*n+s*s;u>0&&(u=1/Math.sqrt(u));const h=(i*n+r*s)*a*u;return h>1?0:h<-1?Math.PI:Math.acos(h)}function mue(e){return"vec2("+e[0]+", "+e[1]+")"}function gue(e,t){return e[0]===t[0]&&e[1]===t[1]}function yue(e,t){const i=e[0],r=e[1],n=t[0],s=t[1],a=Is();return Math.abs(i-n)<=a*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-s)<=a*Math.max(1,Math.abs(r),Math.abs(s))}function vue(e,t,i,r,n){let s=t[0]-i[0],a=t[1]-i[1];const u=(r[0]*s+r[1]*a)*(n-1);return s=r[0]*u,a=r[1]*u,e[0]=t[0]+s,e[1]=t[1]+a,e}const _ue=w2,VA=l_,wue=rF,bue=nF,Sue=Nx,xue=u_,Tue=sF;Object.freeze(Object.defineProperty({__proto__:null,add:iF,angle:pue,ceil:iue,copy:Gm,cross:lF,dist:Sue,distance:Nx,div:bue,divide:nF,dot:aF,equals:yue,exactEquals:gue,floor:rue,inverse:lue,len:_ue,length:w2,lerp:uue,max:sue,min:nue,mul:wue,multiply:rF,negate:oF,normalize:H$,projectAndScale:vue,random:cue,rotate:fue,round:oue,scale:t1,scaleAndAdd:aue,set:tn,sqrDist:xue,sqrLen:Tue,squaredDistance:u_,squaredLength:sF,str:mue,sub:VA,subtract:l_,transformMat2:hue,transformMat2d:ul,transformMat3:Zb,transformMat4:due},Symbol.toStringTag,{value:"Module"}));function Mu(e,t,i,r){return e[0]=t[0]*(1-r)+i[0]*r,e[1]=t[1]*(1-r)+i[1]*r,e}function rs(e,t){return u_(e,t)}function YEe(e,t,i){const r=rs(t,i);if(r===0)return rs(t,e);const n=(t[0]-e[0])*(i[1]-e[1])-(t[1]-e[1])*(i[0]-e[0]);return n*n/r}function Mue(e,t,i,r,n){const[s,a]=t,[u,h]=i,[f,v]=r,[w,x]=n,M=(s-u)*(v-x)-(a-h)*(f-w);if(M===0)return null;const P=(s*h-a*u)*(f-w)-(s-u)*(f*x-v*w),O=(s*h-a*u)*(v-x)-(a-h)*(f*x-v*w);return e[0]=P/M,e[1]=O/M,e}const $a=2*Math.PI;function df(e,t){const i=Math.atan2(e,t);return i<0?i+$a:i}function uF(e){return Math.abs(e)%$a}function GN(e){const t=uF(e);return t<Math.PI?t:$a-t}function Dx(e,t){return{min:Math.min(e,t),max:Math.max(e,t)}}function cF(e,t,i,r){if(yh(uF(e-t),0))return i?[e,e]:[e,r?e-$a:e+$a];const[n,s]=r?[e-$a,e]:[e,e+$a];return[e,i1({min:n,max:s},t)]}function i1({min:e,max:t},i){let r;return r=t-i,r>=$a?(r-=r%$a,i+r):(r=i-e,r>=$a?(r-=r%$a,i-r):i)}function Eue(e,t){const i=i1(e,t);return i>e.min&&i<e.max?i:GN(i-e.min)<GN(i-e.max)?e.min:e.max}function hF(e,t,i,r=10){return t.map(n=>{let s=n;for(let a=0;a<r;a++){const[u,h,f,v,w,x]=i(s),M=e[0]-u,P=e[1]-h,O=-f,F=-v;s+=-(2*M*O+2*P*F)/(2*O*O+2*M*-w+2*F*F+2*P*-x||1e-6)}return s})}const $ue=[0,0];function dF(e){const t=1-e,i=t*t,r=e*e;return[i*t,3*e*i,3*r*t,r*e]}function W$(e,t,i,r,n){const[s,a,u,h]=dF(n);return[e[0]*s+t[0]*a+i[0]*u+r[0]*h,e[1]*s+t[1]*a+i[1]*u+r[1]*h]}function VN(e,t,i,r,n){const[s,a,u,h]=dF(n);return e*s+t*a+i*u+r*h}function JEe(e,t,i){const r=e,[n,s,a]=t.b;return W$(r,s,a,n,i)}function Cue(e,t,i){const r=e,[n,s,a]=t.b,u=Mu([0,0],r,s,i),h=Mu($ue,s,a,i),f=Mu([0,0],a,n,i),v=Mu([0,0],u,h,i),w=Mu([0,0],h,f,i);return[{b:[Mu([],v,w,i),u,v]},{b:[[...n],w,f]}]}function XEe(e,t,i){const r=e,[n,s,a]=t.b,u=hF(i,[.1,.5,.9],w=>{const x=1-w,[M,P]=W$(r,s,a,n,w);return[M,P,3*x*x*(s[0]-r[0])+6*x*w*(a[0]-s[0])+3*w*w*(n[0]-a[0]),3*x*x*(s[1]-r[1])+6*x*w*(a[1]-s[1])+3*w*w*(n[1]-a[1]),6*x*(a[0]-2*s[0]+r[0])+6*w*(n[0]-2*a[0]+s[0]),6*x*(a[1]-2*s[1]+r[1])+6*w*(n[1]-2*a[1]+s[1])]}).map(w=>Math.min(1,Math.max(0,w)));u.push(0,1);let h=1/0;const f=u.map(w=>{const x=W$(r,s,a,n,w),[M,P]=x,O=i[0]-M,F=i[1]-P,G=Math.sqrt(O*O+F*F);return h=Math.min(G,h),{t:w,curvePoint:x,distance:G}}),v=[];for(const w of f){const{t:x,distance:M}=w;F7(M,h)&&!v.some(({t:P})=>yh(P,x))&&v.push(w)}return v}function Oue(e,t,i){const r=t,[n,s,a]=i.b;if(Go(e,r),Go(e,n),G$(e,s[0],s[1])&&G$(e,a[0],a[1]))return e;for(const u of HN(r[0],s[0],a[0],n[0]))u>0&&u<1&&Wle(e,VN(r[0],s[0],a[0],n[0],u));for(const u of HN(r[1],s[1],a[1],n[1]))u>0&&u<1&&Zle(e,VN(r[1],s[1],a[1],n[1],u));return e}function HN(e,t,i,r){const n=3*(3*(t-i)-e+r),s=6*(e-2*t+i),a=3*(t-e);if(n===0)return s!==0?[-a/s]:[];const u=Math.sqrt(s*s-4*n*a);return[(-s+u)/(2*n),(-s-u)/(2*n)]}function KEe(e,t,i){let n=0,s=[t];for(let a=0;a<16;a++){let u=e;const h=[];for(const v of s)h.push(...Cue(u,v,.5)),u=v.b[0];s=h,u=e,n=0;let f=0;for(const v of s){const[w,x,M]=v.b,P=Math.sqrt(rs(u,w));n+=(P+(Math.sqrt(rs(u,x))+Math.sqrt(rs(x,M))+Math.sqrt(rs(M,w))))/2,f+=P,u=w}if(n-f<i)return n}return n}function Pue(e,t,i){const[r,n]=e,[s,a]=t,[u,h]=i,[f,v]=[s-r,a-n];let w=f*(u-r)+v*(h-n);w/=f**2+v**2,w=co(w,0,1);const x=Mu([0,0],e,t,w);return{t:w,curvePoint:x,distance:Math.sqrt(rs(x,i))}}let fF=class{constructor(t,i,r,n,s,a){this.cx=t,this.cy=i,this.radius=r,this.thetaStart=n,this.thetaEnd=s,this.isInvalid=a}get startPoint(){const{cx:t,cy:i,radius:r,thetaStart:n}=this;return[t+r*Math.cos(n),i+r*Math.sin(n)]}get endPoint(){const{cx:t,cy:i,radius:r,thetaEnd:n}=this;return[t+r*Math.cos(n),i+r*Math.sin(n)]}};function b2(e,t){const{cx:i,cy:r,radius:n}=e;return[i+n*Math.cos(t),r+n*Math.sin(t)]}function Yb(e,t){if(e.isInvalid)return Mu([0,0],e.startPoint,e.endPoint,t);const{thetaStart:i,thetaEnd:r}=e;return b2(e,i*(1-t)+r*t)}function e3e(e,t){if(e.isInvalid)return Pue(e.startPoint,e.endPoint,t);const{cx:i,cy:r,thetaStart:n,thetaEnd:s}=e,[a,u]=t,h=Eue(Dx(n,s),Math.atan2(u-r,a-i)),f=b2(e,h);return{t:(h-n)/(s-n),curvePoint:f,distance:Math.sqrt(rs(t,f))}}function WN(e,t){if(t.isInvalid)return Go(e,t.startPoint),Go(e,t.endPoint),e;const{cx:i,cy:r,radius:n,thetaStart:s,thetaEnd:a}=t;Go(e,b2(t,s)),Go(e,b2(t,a));const u=Dx(s,a),h=Math.PI/2;let f=0;for(const v of[[i+n,r],[i,r+n],[i-n,r],[i,r-n]])f=i1(u,f),f>u.min&&f<u.max&&Go(e,v),f+=h;return e}function t3e(e){if(e.isInvalid)return 2*e.radius;const{radius:t,thetaStart:i,thetaEnd:r}=e;return t*Math.abs(r-i)}function Aue(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Rue(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Vm(e,t,i,r,n,s,a,u,h,f){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e[6]=u,e[7]=h,e[8]=f,e}function pF(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function mF(e,t){if(e===t){const i=t[1],r=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function gF(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],u=t[5],h=t[6],f=t[7],v=t[8],w=v*a-u*f,x=-v*s+u*h,M=f*s-a*h;let P=i*w+r*x+n*M;return P?(P=1/P,e[0]=w*P,e[1]=(-v*r+n*f)*P,e[2]=(u*r-n*a)*P,e[3]=x*P,e[4]=(v*i-n*h)*P,e[5]=(-u*i+n*s)*P,e[6]=M*P,e[7]=(-f*i+r*h)*P,e[8]=(a*i-r*s)*P,e):null}function Lue(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],u=t[5],h=t[6],f=t[7],v=t[8];return e[0]=a*v-u*f,e[1]=n*f-r*v,e[2]=r*u-n*a,e[3]=u*h-s*v,e[4]=i*v-n*h,e[5]=n*s-i*u,e[6]=s*f-a*h,e[7]=r*h-i*f,e[8]=i*a-r*s,e}function Jb(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],u=e[6],h=e[7],f=e[8];return t*(f*s-a*h)+i*(-f*n+a*u)+r*(h*n-s*u)}function c_(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=t[6],v=t[7],w=t[8],x=i[0],M=i[1],P=i[2],O=i[3],F=i[4],G=i[5],Y=i[6],U=i[7],C=i[8];return e[0]=x*r+M*a+P*f,e[1]=x*n+M*u+P*v,e[2]=x*s+M*h+P*w,e[3]=O*r+F*a+G*f,e[4]=O*n+F*u+G*v,e[5]=O*s+F*h+G*w,e[6]=Y*r+U*a+C*f,e[7]=Y*n+U*u+C*v,e[8]=Y*s+U*h+C*w,e}function Z$(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=t[6],v=t[7],w=t[8],x=i[0],M=i[1];return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e[4]=u,e[5]=h,e[6]=x*r+M*a+f,e[7]=x*n+M*u+v,e[8]=x*s+M*h+w,e}function yF(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=t[6],v=t[7],w=t[8],x=Math.sin(i),M=Math.cos(i);return e[0]=M*r+x*a,e[1]=M*n+x*u,e[2]=M*s+x*h,e[3]=M*a-x*r,e[4]=M*u-x*n,e[5]=M*h-x*s,e[6]=f,e[7]=v,e[8]=w,e}function kue(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function Iue(e,t,i){const r=i[0],n=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function Nue(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Due(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function jue(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function zue(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Uue(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=i+i,u=r+r,h=n+n,f=i*a,v=r*a,w=r*u,x=n*a,M=n*u,P=n*h,O=s*a,F=s*u,G=s*h;return e[0]=1-w-P,e[3]=v-G,e[6]=x+F,e[1]=v+G,e[4]=1-f-P,e[7]=M-O,e[2]=x-F,e[5]=M+O,e[8]=1-f-w,e}function Fue(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],a=t[5],u=t[6],h=t[8],f=t[9],v=t[10],w=v*a-u*f,x=-v*s+u*h,M=f*s-a*h,P=i*w+r*x+n*M;if(!P)return null;const O=1/P;return e[0]=w*O,e[1]=(-v*r+n*f)*O,e[2]=(u*r-n*a)*O,e[3]=x*O,e[4]=(v*i-n*h)*O,e[5]=(-u*i+n*s)*O,e[6]=M*O,e[7]=(-f*i+r*h)*O,e[8]=(a*i-r*s)*O,e}function Bue(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],u=t[5],h=t[6],f=t[7],v=t[8],w=t[9],x=t[10],M=t[11],P=t[12],O=t[13],F=t[14],G=t[15],Y=i*u-r*a,U=i*h-n*a,C=i*f-s*a,E=r*h-n*u,A=r*f-s*u,k=n*f-s*h,V=v*O-w*P,H=v*F-x*P,q=v*G-M*P,X=w*F-x*O,ue=w*G-M*O,ne=x*G-M*F;let se=Y*ne-U*ue+C*X+E*q-A*H+k*V;return se?(se=1/se,e[0]=(u*ne-h*ue+f*X)*se,e[1]=(h*q-a*ne-f*H)*se,e[2]=(a*ue-u*q+f*V)*se,e[3]=(n*ue-r*ne-s*X)*se,e[4]=(i*ne-n*q+s*H)*se,e[5]=(r*q-i*ue-s*V)*se,e[6]=(O*k-F*A+G*E)*se,e[7]=(F*C-P*k-G*U)*se,e[8]=(P*A-O*C+G*Y)*se,e):null}function que(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Gue(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Vue(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Hue(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function vF(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function Wue(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function Zue(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e}function Yue(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Jue(e,t){const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],u=e[5],h=e[6],f=e[7],v=e[8],w=t[0],x=t[1],M=t[2],P=t[3],O=t[4],F=t[5],G=t[6],Y=t[7],U=t[8],C=Is();return Math.abs(i-w)<=C*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(r-x)<=C*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-M)<=C*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(s-P)<=C*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(a-O)<=C*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(u-F)<=C*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(h-G)<=C*Math.max(1,Math.abs(h),Math.abs(G))&&Math.abs(f-Y)<=C*Math.max(1,Math.abs(f),Math.abs(Y))&&Math.abs(v-U)<=C*Math.max(1,Math.abs(v),Math.abs(U))}function Xue(e){const t=Is(),i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],u=e[5],h=e[6],f=e[7],v=e[8];return Math.abs(1-(i*i+s*s+h*h))<=t&&Math.abs(1-(r*r+a*a+f*f))<=t&&Math.abs(1-(n*n+u*u+v*v))<=t}const Kue=c_,Que=vF;Object.freeze(Object.defineProperty({__proto__:null,add:Hue,adjoint:Lue,copy:Rue,determinant:Jb,equals:Jue,exactEquals:Yue,frob:Vue,fromMat2d:zue,fromMat4:Aue,fromQuat:Uue,fromRotation:Due,fromScaling:jue,fromTranslation:Nue,identity:pF,invert:gF,isOrthoNormal:Xue,mul:Kue,multiply:c_,multiplyScalar:Wue,multiplyScalarAndAdd:Zue,normalFromMat4:Bue,normalFromMat4Legacy:Fue,projection:que,rotate:yF,scale:kue,scaleByVec2:Iue,set:Vm,str:Gue,sub:Que,subtract:vF,translate:Z$,transpose:mF},Symbol.toStringTag,{value:"Module"}));function Vf(){return[1,0,0,0,1,0,0,0,1]}function ece(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function tce(e,t,i,r,n,s,a,u,h){return[e,t,i,r,n,s,a,u,h]}const ice=Vf();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:ice,clone:ece,create:Vf,fromValues:tce},Symbol.toStringTag,{value:"Module"}));const Up=Vf();function rce(e,t,i){const[r,n]=e,[s,a]=t,[u,h]=i;Vm(Up,r,s,u,n,a,h,1,1,1);const f=Jb(Up),v=4*f/(rs(e,t)+rs(t,i)+rs(i,e));if(!isFinite(v)||Math.abs(v)<1e-8)return null;const w=r**2+n**2,x=s**2+a**2,M=u**2+h**2;Vm(Up,w,x,M,n,a,h,1,1,1);const P=Jb(Up);return Vm(Up,w,x,M,r,s,u,1,1,1),[P/f*.5,Jb(Up)/f*-.5]}function _F(e,t){const[i,r]=t.c,n=rce(e,r,i),s=n==null,a=n??Mu([],e,i,.5),[u,h]=e,[f,v]=r,[w,x]=i,[M,P]=a,O=u-M,F=h-P,G=Math.sqrt(O*O+F*F),Y=df(h-P,u-M),U=df(v-P,f-M);let C=df(x-P,w-M);return(U-Y)*(C-U)<0&&(C+=2*Math.sign(Y-C)*Math.PI),new fF(M,P,G,Y,C,s)}function i3e(e,t,i){const r=Yb(e,i/2),n=Yb(e,i),s=Yb(e,(i+1)/2);return[{c:[n,r]},{c:[[...t.c[0]],s]}]}function r3e(e,t){const[i]=t.c,{cx:r,cy:n,thetaStart:s,thetaEnd:a,radius:u,isInvalid:h}=_F(e,t);return{a:[i,[r,n],Math.abs(a-s)<Math.PI?1:0,s>a?1:0,h?s:0,u,h?0:1]}}function n3e(e){return"curveRings"in e&&!!e.curveRings?.length||"curvePaths"in e&&!!e.curvePaths?.length}function s3e(e){return"curveRings"in e?e.curveRings:e.curvePaths}function HA(e){return"b"in e}function WA(e){return"c"in e}function jx(e){return Array.isArray(e)}function o3e(e){return"a"in e}function wF(e){return"a"in e&&e.a.length===4}function nce(e){return"a"in e&&e.a.length===7}function HE(e){return jx(e)?e:HA(e)?e.b[0]:WA(e)?e.c[0]:e.a[0]}function sce(e){if(HA(e)){const[t,i,r]=e.b;return{b:[[...t],[...i],[...r]]}}if(WA(e)){const[t,i]=e.c;return{c:[[...t],[...i]]}}if(jx(e))return[...e];if(wF(e)){const[t,i,r,n]=e.a;return{a:[[...t],[...i],r,n]}}if(nce(e)){const[t,i,r,n,s,a,u]=e.a;return{a:[[...t],[...i],r,n,s,a,u]}}return e}function oce(e,t){const[i,r,n,s]=t.a,[a,u]=e,[h,f]=i,[v,w]=r,x=a-v,M=u-w,P=Math.sqrt(x*x+M*M),O=h-v,F=f-w,G=Math.sqrt(O*O+F*F),Y=P===0||G===0||!F7(P,G),U=P,[C,E]=cF(df(u-w,a-v),Math.atan2(f-w,h-v),n,s);return new fF(v,w,U,C,E,Y)}function a3e(e,t,i){const{cx:r,cy:n,thetaStart:s,thetaEnd:a}=e,[u,h,f,v]=t.a,w=s*(1-i)+a*i;return[{a:[Yb(e,i),[r,n],Math.abs(w-s)<Math.PI?1:0,v]},{a:[[...u],[r,n],Math.abs(a-w)<Math.PI?1:0,v]}]}let ace=class{constructor(t,i,r,n,s,a,u,h,f){this.cx=t,this.cy=i,this.a=r,this.b=n,this.cosR=s,this.sinR=a,this.u1=u,this.u2=h,this.isInvalid=f}};function ZA(e,t){const[i,r,n,s,a,u,h]=t.a,[f,v]=e,[w,x]=i,[M,P]=r,O=u*h,F=Math.cos(a),G=Math.sin(a),[Y,U]=cF(df(1/O*(v-P)*F-1/O*(f-M)*G,1/u*(v-P)*G+1/u*(f-M)*F),Math.atan2(1/O*(x-P)*F-1/O*(w-M)*G,1/u*(x-P)*G+1/u*(w-M)*F),n,s);return new ace(M,P,u,O,F,G,Y,U,u===0||O===0)}function h_(e,t){const{a:i,b:r,cosR:n,sinR:s,cx:a,cy:u}=e,h=Math.cos(t),f=Math.sin(t);return[i*h*n-r*f*s+a,i*h*s+r*f*n+u]}function tm(e,t){const{u1:i,u2:r}=e;return h_(e,i*(1-t)+r*t)}function u3e(e,t,i){if(i<0||i>1)return[];if(i===0||i===1)return[sce(t)];const[r,[n,s],a,u,h,f,v]=t.a,{u1:w,u2:x}=e,M=w*(1-i)+x*i;return[{a:[[...tm(e,i)],[n,s],Math.abs(M-w)<Math.PI?1:0,u,h,f,v]},{a:[[...r],[n,s],Math.abs(x-M)<Math.PI?1:0,u,h,f,v]}]}function c3e(e,t){const{a:i,b:r,cosR:n,sinR:s,u1:a,u2:u}=e,h=Math.PI/6,f=hF(t,[1*h,2*h,4*h,5*h,7*h,8*h,10*h,11*h],O=>{const F=Math.cos(O),G=Math.sin(O),[Y,U]=h_(e,O);return[Y,U,-i*n*G-r*s*F,-i*s*G+r*n*F,-i*n*F+r*s*G,-i*s*F-r*n*G]}),v=Dx(a,u),w=new Set(f.map(O=>i1(v,O)).filter(O=>O>v.min&&O<v.max));w.add(a),w.add(u);let x,M,P=1/0;for(const O of w){const F=h_(e,O),[G,Y]=F,U=t[0]-G,C=t[1]-Y,E=U*U+C*C;E<P&&(x=(O-a)/(u-a),M=F,P=E)}return{t:x,curvePoint:M,distance:Math.sqrt(P)}}function lce(e,t,i){const r=ZA(t,i),{a:n,b:s,u1:a,u2:u,cosR:h,sinR:f,isInvalid:v}=r,w=i.a[0];if(Go(e,t),Go(e,w),v)return e;const x=Math.atan2(-s*f,n*h),M=x+Math.PI,P=Math.atan2(s*h,n*f),O=P+Math.PI,F=Dx(a,u);for(const G of[x,M,P,O].map(Y=>i1(F,Y)))G>F.min&&G<F.max&&Go(e,h_(r,G));return e}function h3e(e,t,i){const[r,n,s,a,u,h,f]=t.a,v=ZA(e,t),{u1:w,u2:x,isInvalid:M}=v,P=x-w;if(M)return Math.sqrt(rs(e,r));const O=14,F=[0,0];let G=0,Y=[tm(v,0),tm(v,.25),tm(v,.5),tm(v,.75),tm(v,1)];for(let U=0;U<O;U++){const C=Y.length-1,E=P/(2*C),A=[];for(let V=0;V<C;V++)A.push(Y[V]),A.push(h_(v,w+(2*V+1)*E));A.push(Y[Y.length-1]),Y=A,G=0;let k=0;for(let V=1;V<Y.length;V++){const H=Y[V-1],q=Y[V];if(G+=Math.sqrt(rs(H,q)),V>1){const X=Y[V-2],ue=Mue(F,X,H,n,q);k+=ue?Math.sqrt(rs(H,ue)):Math.abs(q[0]-H[0])+Math.abs(q[1]-H[1])}else k+=G}if(k-G<i)return G}return G}const ZN=Vf(),Xw=Vf(),YN=Vf(),Rc=Vf();function d3e(e,t,i){const[r,n,s,a,u,h,f]=t.a,v=ZA(e,t),{cosR:w,sinR:x,a:M,b:P,cx:O,cy:F}=v,G=Zb([0,0],r,i),Y=Zb([0,0],n,i),U=i[0]*i[4]<0?1-a:a;{const C=M*M*x*x+P*P*w*w,E=2*(P*P-M*M)*x*w,A=M*M*w*w+P*P*x*x,k=-2*C*O-E*F,V=-E*O-2*A*F;Vm(ZN,C,E/2,k/2,E/2,A,V/2,k/2,V/2,C*O*O+E*O*F+A*F*F-M*M*P*P)}if(gF(Xw,i),Xw==null){const C=Zb([0,0],e,i);return{a:[G,Y,s,a,df(G[1],G[0]),Math.sqrt(rs(G,C))/2,0]}}mF(YN,Xw),c_(Rc,c_(Rc,YN,ZN),Xw);{const C=Rc[0],E=2*Rc[1],A=Rc[4],k=2*Rc[2],V=2*Rc[5],H=E*E-4*C*A,q=2*(C*V*V+A*k*k-E*k*V+H*Rc[8]),X=Math.sqrt((C-A)**2+E*E),ue=-Math.sqrt(q*(C+A+X))/H,ne=-Math.sqrt(q*(C+A-X))/H;return{a:[G,Y,s,U,.5*df(-E,A-C),ue,ne/ue]}}}function uce(e,t,i){if(jx(i))return Go(e,t),Go(e,i),e;if(HA(i))return Oue(e,t,i);if(WA(i)){const r=_F(t,i);return WN(e,r)}if(wF(i)){const r=oce(t,i);return WN(e,r)}return lce(e,t,i)}function bF(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function SF(e){return e.points!==void 0}function xF(e){return e.x!==void 0&&e.y!==void 0}function TF(e){return e.paths!==void 0}function MF(e){return e.rings!==void 0}function EF(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const lh=EF(Math.min),uh=EF(Math.max);function f3e(e,t){return TF(t)?Ag(e,t.curvePaths??t.paths,!1,!1)??e:MF(t)?Ag(e,t.curveRings??t.rings,!1,!1)??e:SF(t)?YA(e,t.points,!1,!1,!1,!1):bF(t)?$F(e,t):(xF(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function p3e(e){let t,i,r,n;for(e.reset(),t=r=1/0,i=n=-1/0;e.nextPath();){const s=cce(e);t=Math.min(s[0],t),r=Math.min(s[1],r),i=Math.max(s[2],i),n=Math.max(s[3],n)}return Ls([t,r,i,n])}function cce(e){let t,i,r,n;for(t=r=1/0,i=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),n=Math.max(e.y,n);return Ls([t,r,i,n])}function m3e(e,t){return TF(t)?Ag(e,t.curvePaths??t.paths,!0,!1)??e:MF(t)?Ag(e,t.curveRings??t.rings,!0,!1)??e:SF(t)?YA(e,t.points,!0,!1,!0,!1):bF(t)?$F(e,t,!0,!1,!0,!1):(xF(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Ag(e,t,i,r){const n=i?3:2;if(!t.length||!t[0].length)return null;let s,a,u,h,[f,v]=HE(t[0][0]),w=f,x=v;for(let M=0;M<t.length;M++){const P=t[M];for(let O=0;O<P.length;O++){const F=HE(P[O]),[G,Y]=F;if(f=lh(f,G),v=lh(v,Y),w=uh(w,G),x=uh(x,Y),i&&F.length>2){const A=F[2];s=lh(s,A),a=uh(a,A)}if(r&&F.length>n){const A=F[n];u=lh(s,A),h=uh(a,A)}const U=P[O];if(jx(U)||O<1)continue;const C=HE(P[O-1]),E=Vle(f,v,w,x);[f,v,w,x]=uce(E,C,U)}}return i?r?(e[0]=f,e[1]=v,e[2]=s,e[3]=u,e[4]=w,e[5]=x,e[6]=a,e[7]=h,e.length=8,e):(e[0]=f,e[1]=v,e[2]=s,e[3]=w,e[4]=x,e[5]=a,e.length=6,e):r?(e[0]=f,e[1]=v,e[2]=u,e[3]=w,e[4]=x,e[5]=h,e.length=6,e):(e[0]=f,e[1]=v,e[2]=w,e[3]=x,e.length=4,e)}function $F(e,t,i,r,n,s){const a=t.xmin,u=t.xmax,h=t.ymin,f=t.ymax;let v=t.zmin,w=t.zmax,x=t.mmin,M=t.mmax;return n?(v=v||0,w=w||0,s?(x=x||0,M=M||0,e[0]=a,e[1]=h,e[2]=v,e[3]=x,e[4]=u,e[5]=f,e[6]=w,e[7]=M,e):(e[0]=a,e[1]=h,e[2]=v,e[3]=u,e[4]=f,e[5]=w,e)):s?(x=x||0,M=M||0,e[0]=a,e[1]=h,e[2]=x,e[3]=u,e[4]=f,e[5]=M,e):(e[0]=a,e[1]=h,e[2]=u,e[3]=f,e)}function YA(e,t,i,r,n,s){const a=i?3:2,u=r&&s,h=i&&n;if(!t.length||!t[0].length)return null;let f,v,w,x,[M,P]=t[0],[O,F]=t[0];for(let G=0;G<t.length;G++){const Y=t[G],[U,C]=Y;if(M=lh(M,U),P=lh(P,C),O=uh(O,U),F=uh(F,C),h&&Y.length>2){const E=Y[2];f=lh(f,E),v=uh(v,E)}if(u&&Y.length>a){const E=Y[a];w=lh(f,E),x=uh(v,E)}}return n?(f=f||0,v=v||0,s?(w=w||0,x=x||0,e[0]=M,e[1]=P,e[2]=f,e[3]=w,e[4]=O,e[5]=F,e[6]=v,e[7]=x,e):(e[0]=M,e[1]=P,e[2]=f,e[3]=O,e[4]=F,e[5]=v,e)):s?(w=w||0,x=x||0,e[0]=M,e[1]=P,e[2]=w,e[3]=O,e[4]=F,e[5]=x,e):(e[0]=M,e[1]=P,e[2]=O,e[3]=F,e)}function hce(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function dce(e){return e.points!==void 0}function fce(e){return e.x!==void 0&&e.y!==void 0}function pce(e){return e.paths!==void 0}function mce(e){return e.rings!==void 0}const JA=[];function CF(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function OF(e,t,i,r,n,s){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:n,zmax:s}}function PF(e,t,i,r,n,s){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:n,mmax:s}}function AF(e,t,i,r,n,s,a,u){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:n,ymax:s,zmax:a,mmax:u}}function XA(e,t=!1,i=!1){return t?i?AF(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):OF(e[0],e[1],e[2],e[3],e[4],e[5]):i?PF(e[0],e[1],e[2],e[3],e[4],e[5]):CF(e[0],e[1],e[2],e[3])}function g3e(e){return e?hce(e)?e:fce(e)?gce(e):mce(e)?LF(e):pce(e)?kF(e):dce(e)?RF(e):null:null}function RF(e){const{hasZ:t,hasM:i,points:r}=e,n=YA(JA,r,t??!1,i??!1,t??!1,i??!1);return n?XA(n,t,i):null}function gce(e){const{x:t,y:i,z:r,m:n}=e,s=n!=null;return r!=null?s?AF(t,i,r,n,t,i,r,n):OF(t,i,r,t,i,r):s?PF(t,i,n,t,i,n):CF(t,i,t,i)}function LF(e){const{hasZ:t,hasM:i,rings:r,curveRings:n}=e,s=Ag(JA,n??r,t??!1,i??!1);return s?XA(s,t,i):null}function kF(e){const{hasZ:t,hasM:i,paths:r,curvePaths:n}=e,s=Ag(JA,n??r,t??!1,i??!1);return s?XA(s,t,i):null}function Rg(e,t,i=!1){let{hasM:r,hasZ:n}=e;Array.isArray(t)?t.length!==4||r||n?t.length===3&&i&&!r?(n=!0,r=!1):t.length===3&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=r}var Xb;function JN(e){return!Array.isArray(e[0])}function yce(e){return typeof e[0]?.[0]=="number"}function vce(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],yce(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Be.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:n}}let Hi=Xb=class extends Fr{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,n=!1;for(const a of t)a.hasZ&&(r=!0),a.hasM&&(n=!0);const s={rings:t.map(a=>{const u=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(r&&a.hasZ){const h=a.zmin+.5*(a.zmax-a.zmin);for(let f=0;f<u.length;f++)u[f].push(h)}if(n&&a.hasM){const h=a.mmin+.5*(a.mmax-a.mmin);for(let f=0;f<u.length;f++)u[f].push(h)}return u}),spatialReference:i};return r&&(s.hasZ=!0),n&&(s.hasM=!0),new Xb(s)}constructor(e){super(vce(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){r$(ze.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const e=Dle(this);return e?We.fromJSON(e):null}writeCurveRings(e,t){t.curveRings=ke(e)}get extent(){const e=LF(this),{spatialReference:t}=this;return e?new It({...e,spatialReference:t}):null}get isSelfIntersecting(){return r$(ze.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),Kne(this.rings)}writeRings(e,t){t.rings=ke(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(JN(e)){const r=[];for(let n=0,s=e.length;n<s;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Xb;return e.spatialReference=this.spatialReference,e.rings=ke(this.rings),e.curveRings=ke(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([n,s,a,u],[h,f,v,w])=>n===h&&s===f&&(a==null&&v==null||a===v)&&(u==null&&w==null||u===w);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],a=e.rings[n];if(!ox(s,a,r))return!1}return!0}contains(e){if(!e)return!1;const t=W_(e,this.spatialReference);return _A(this,t??e)}isClockwise(e){const t=JN(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return K7(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new We(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new We(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new We(i[0],i[1],i[2],i[3],this.spatialReference):new We(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rg(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new We(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new We(n,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(Rg(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};p([_({readOnly:!0})],Hi.prototype,"cache",null),p([_({readOnly:!0})],Hi.prototype,"centroid",null),p([_({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Hi.prototype,"curveRings",void 0),p([Gt("curveRings")],Hi.prototype,"writeCurveRings",null),p([_({readOnly:!0})],Hi.prototype,"extent",null),p([_({readOnly:!0})],Hi.prototype,"isSelfIntersecting",null),p([_({type:[[[Number]]],json:{write:{isRequired:!0}}})],Hi.prototype,"rings",void 0),p([Gt("rings")],Hi.prototype,"writeRings",null),Hi=Xb=p([ie("esri.geometry.Polygon")],Hi),Hi.prototype.toJSON.isDefaultToJSON=!0;function Lh(){return[0,0,0]}function _ce(e){return[e[0],e[1],e[2]]}function sy(e,t,i){return[e,t,i]}function wce(e,t,i){return[e,t,i]}function bce(e,t=Lh()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function IF(){return Lh()}function NF(){return sy(1,1,1)}function DF(){return sy(1,0,0)}function jF(){return sy(0,1,0)}function zF(){return sy(0,0,1)}const Sce=IF(),xce=NF(),Tce=DF(),Mce=jF(),Ece=zF();Object.freeze(Object.defineProperty({__proto__:null,ONES:xce,UNIT_X:Tce,UNIT_Y:Mce,UNIT_Z:Ece,ZEROS:Sce,clone:_ce,create:Lh,freeze:wce,fromArray:bce,fromValues:sy,ones:NF,unitX:DF,unitY:jF,unitZ:zF,zeros:IF},Symbol.toStringTag,{value:"Module"}));var Y$;function $ce(e){if(!e)return;let{points:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],t?.at(0)?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Be.WGS84,{...e,hasM:i,hasZ:r,points:t,spatialReference:n}}let Ta=Y$=class extends Fr{constructor(e){super($ce(e)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=RF(this);return e?new It({...e,spatialReference:this.spatialReference}):null}writePoints(e,t){t.points=ke(this.points)}clone(){const{points:e,spatialReference:t,hasM:i,hasZ:r}=this;return new Y$({points:ke(e),spatialReference:t.clone(),hasM:i,hasZ:r})}addPoint(e){return Rg(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new We(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new We(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Rg(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};p([_({readOnly:!0})],Ta.prototype,"cache",null),p([_({readOnly:!0})],Ta.prototype,"extent",null),p([_({type:[[Number]],json:{write:{isRequired:!0}}})],Ta.prototype,"points",void 0),p([Gt("points")],Ta.prototype,"writePoints",null),Ta=Y$=p([ie("esri.geometry.Multipoint")],Ta),Ta.prototype.toJSON.isDefaultToJSON=!0;var J$;function Cce(e){return!Array.isArray(e[0])}function Oce(e){return typeof e[0]?.[0]=="number"}function Pce(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],Oce(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Be.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:n}}let Ir=J$=class extends Fr{constructor(e){super(Pce(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ke(e)}get extent(){const e=kF(this),{spatialReference:t}=this;return e?new It({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ke(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(Cce(e)){const r=[];for(let n=0,s=e.length;n<s;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new J$;return e.spatialReference=this.spatialReference,e.paths=ke(this.paths),e.curvePaths=ke(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new We(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new We(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new We(i[0],i[1],i[2],i[3],this.spatialReference):new We(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rg(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new We(n,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new We(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(Rg(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};p([_({readOnly:!0})],Ir.prototype,"cache",null),p([_({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ir.prototype,"curvePaths",void 0),p([Gt("curvePaths")],Ir.prototype,"writeCurvePaths",null),p([_({readOnly:!0})],Ir.prototype,"extent",null),p([_({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ir.prototype,"paths",void 0),p([Gt("paths")],Ir.prototype,"writePaths",null),Ir=J$=p([ie("esri.geometry.Polyline")],Ir),Ir.prototype.toJSON.isDefaultToJSON=!0;var X$;let im=X$=class extends et{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new X$({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};p([_()],im.prototype,"isInverse",void 0),p([_()],im.prototype,"wkt",void 0),p([_()],im.prototype,"wkid",void 0),im=X$=p([ie("esri.geometry.operators.support.GeographicTransformationStep")],im);var K$;let P0=K$=class extends et{constructor(e){super(e),this.steps=[]}getInverse(){const e=new K$;for(let t=this.steps.length-1;t>=0;t--){const i=this.steps[t];e.steps.push(i.getInverse())}return e}};p([_({type:[im],nonNullable:!0})],P0.prototype,"steps",void 0),P0=K$=p([ie("esri.geometry.operators.support.GeographicTransformation")],P0);const y3e=Math.PI/180,v3e=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Lc=mr.radius,ma=mr.eccentricitySquared,Ace={a1:Lc*ma,a2:Lc*ma*Lc*ma,a3:Lc*ma*ma/2,a4:Lc*ma*Lc*ma*2.5,a5:Lc*ma+Lc*ma*ma/2,a6:1-ma},_3e={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:mr.radius,f:mr.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Mh.radius,f:Mh.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:gl.radius,f:gl.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:gl.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},Rce={2:{5:Di,7:null,9:null,10:Di,1:R0,6:null,8:null,0:null,3:Hm,11:Wm,2:Di,4:Jm},5:{5:Di,7:null,9:null,10:Di,1:R0,6:null,8:null,0:null,3:Hm,11:Wm,2:Di,4:Jm},7:{5:null,7:Di,9:null,10:Di,1:null,6:QN,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:Di,10:Di,1:null,6:null,8:KN,0:null,3:null,11:null,2:null,4:null},3:{5:A0,7:null,9:null,10:A0,1:kce,6:null,8:null,0:null,3:Di,11:Dce,2:A0,4:Ice},4:{5:Xm,7:null,9:null,10:Xm,1:Hce,6:null,8:null,0:null,3:Wce,11:jce,2:Xm,4:Di},1:{5:Ym,7:null,9:null,10:Ym,1:Di,6:null,8:null,0:null,3:qce,11:zce,2:Ym,4:Gce},6:{5:null,7:tD,9:null,10:tD,1:null,6:Di,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:eD,10:eD,1:null,6:null,8:Di,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:Di,3:null,11:null,2:null,4:null},10:{5:Di,7:Di,9:Di,10:Di,1:R0,6:QN,8:KN,0:null,3:Hm,11:Wm,2:Di,4:Jm},11:{5:Zm,7:null,9:null,10:Zm,1:Uce,6:null,8:null,0:null,3:Fce,11:Di,2:Zm,4:Bce}};function UF(e,t){return Lce(e,t)?.projector}function Lce(e,t){if(e==null||t==null)return null;if(Ql.source.spatialReference===e&&Ql.dest.spatialReference===t)return Ql;const i=XN(e,Ql.source),r=XN(t,Ql.dest);return i===0&&r===0?Gr(e,t)?Ql.projector=Di:Ql.projector=null:Ql.projector=Rce[i][r],Ql}function XN(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Cl(e,1)),h2(e)?t.spatialReferenceId=1:Of(e)?t.spatialReferenceId=2:Sl(e)?t.spatialReferenceId=3:nne(e)?t.spatialReferenceId=11:e.wkt===lne.wkt?t.spatialReferenceId=4:e.wkid===4490?t.spatialReferenceId=5:e.wkt===gA.wkt?t.spatialReferenceId=6:e.wkt===yA.wkt?t.spatialReferenceId=8:Z9(e)?t.spatialReferenceId=7:Y9(e)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function Di(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function A0(e,t,i,r){i[r]=kg*(e[t]/ff),i[r+1]=kg*(FF-2*Math.atan(Math.exp(-e[t+1]/ff))),i[r+2]=e[t+2]}function kce(e,t,i,r){const n=e[t]/ff,s=FF-2*Math.atan(Math.exp(-e[t+1]/ff)),a=ff+e[t+2],u=Math.cos(s)*a;i[r]=Math.cos(n)*u,i[r+1]=Math.sin(n)*u,i[r+2]=Math.sin(s)*a}function Ice(e,t,i,r){A0(e,t,i,r),Jm(i,r,i,r)}function Nce(e,t,i,r,n){const s=.4999999*Math.PI,a=co(Lg*e[t+1],-s,s),u=Math.sin(a);i[r++]=Lg*e[t]*n.radius,i[r++]=n.halfSemiMajorAxis*Math.log((1+u)/(1-u)),i[r]=e[t+2]}function Hm(e,t,i,r){Nce(e,t,i,r,mr)}function Wm(e,t,i,r){i[r]=e[t]*iD,i[r+1]=e[t+1]*iD,i[r+2]=e[t+2]}function Zm(e,t,i,r){i[r]=e[t]*rD,i[r+1]=e[t+1]*rD,i[r+2]=e[t+2]}function Dce(e,t,i,r){A0(e,t,i,r),Wm(i,r,i,r)}function jce(e,t,i,r){Xm(e,t,i,r),Wm(i,r,i,r)}function zce(e,t,i,r){Ym(e,t,i,r),Wm(i,r,i,r)}function Uce(e,t,i,r){Zm(e,t,i,r),R0(i,r,i,r)}function Fce(e,t,i,r){Zm(e,t,i,r),Hm(i,r,i,r)}function Bce(e,t,i,r){Zm(e,t,i,r),Jm(i,r,i,r)}function KA(e,t,i,r,n){const s=n+e[t+2],a=Lg*e[t+1],u=Lg*e[t],h=Math.cos(a)*s;i[r]=Math.cos(u)*h,i[r+1]=Math.sin(u)*h,i[r+2]=Math.sin(a)*s}function KN(e,t,i,r){KA(e,t,i,r,Mh.radius)}function QN(e,t,i,r){KA(e,t,i,r,gl.radius)}function R0(e,t,i,r){KA(e,t,i,r,mr.radius)}function QA(e,t,i,r,n){const s=e[t],a=e[t+1],u=e[t+2],h=Math.sqrt(s*s+a*a+u*u),f=sle(u/(h===0?1:h)),v=Math.atan2(a,s);i[r++]=kg*v,i[r++]=kg*f,i[r]=h-n}function eD(e,t,i,r){QA(e,t,i,r,Mh.radius)}function tD(e,t,i,r){QA(e,t,i,r,gl.radius)}function Ym(e,t,i,r){QA(e,t,i,r,mr.radius)}function qce(e,t,i,r){Ym(e,t,i,r),Hm(i,r,i,r)}function Gce(e,t,i,r){Ym(e,t,i,r),Jm(i,r,i,r)}function Vce(e,t,i,r,n){const s=Lg*e[t],a=Lg*e[t+1],u=e[t+2],h=Math.sin(a),f=Math.cos(a),v=n.radius/Math.sqrt(1-n.eccentricitySquared*h*h);i[r++]=(v+u)*f*Math.cos(s),i[r++]=(v+u)*f*Math.sin(s),i[r++]=(v*(1-n.eccentricitySquared)+u)*h}function Jm(e,t,i,r){Vce(e,t,i,r,mr)}function Xm(e,t,i,r){const n=Ace,s=e[t],a=e[t+1],u=e[t+2];let h,f,v,w,x,M,P,O,F,G,Y,U,C,E,A,k,V,H,q,X,ue;h=Math.abs(u),f=s*s+a*a,v=Math.sqrt(f),w=f+u*u,x=Math.sqrt(w),X=Math.atan2(a,s),M=u*u/w,P=f/w,E=n.a2/x,A=n.a3-n.a4/x,P>.3?(O=h/x*(1+P*(n.a1+E+M*A)/x),q=Math.asin(O),G=O*O,F=Math.sqrt(1-G)):(F=v/x*(1-M*(n.a5-E-P*A)/x),q=Math.acos(F),G=1-F*F,O=Math.sqrt(G)),Y=1-mr.eccentricitySquared*G,U=mr.radius/Math.sqrt(Y),C=n.a6*U,E=v-U*F,A=h-C*O,V=F*E+O*A,k=F*A-O*E,H=k/(C/Y+V),q+=H,ue=V+k*H/2,u<0&&(q=-q),i[r++]=kg*X,i[r++]=kg*q,i[r]=ue}function Hce(e,t,i,r){Xm(e,t,i,r),R0(i,r,i,r)}function Wce(e,t,i,r){Xm(e,t,i,r),Hm(i,r,i,r)}const Ql={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Di},Lg=Q_(1),kg=z7(1),FF=.5*Math.PI,ff=mr.radius,iD=ff*Math.PI/180,rD=180/(ff*Math.PI);function r1(e,t,i,r,n,s,a=Math.floor(e.length/3)){const u=UF(t,n);if(u==null)return!1;if(u===Di){if(e===r&&i===s)return!0;const f=i+3*a;for(let v=i,w=s;v<f;v++,w++)r[w]=e[v];return!0}const h=i+3*a;for(let f=i,v=s;f<h;f+=3,v+=3)u(e,f,r,v);return!0}const w3e=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:r1},Symbol.toStringTag,{value:"Module"}));function nD(e,t,i,r,n,s){return Kw[0]=e,Kw[1]=t,Kw[2]=i,r1(Kw,r,0,n,s,0)}const Kw=Lh();function Zce(e,t,i){if(t==null||i==null||i.vcsWkid||Gr(t,i)||$h(t)||$h(i))return null;const r=U4(t)/U4(i);if(r===1)return null;switch(e){case"point":case"esriGeometryPoint":return n=>Yce(n,r);case"polyline":case"esriGeometryPolyline":return n=>Xce(n,r);case"polygon":case"esriGeometryPolygon":return n=>Jce(n,r);case"multipoint":case"esriGeometryMultipoint":return n=>Kce(n,r);case"extent":case"esriGeometryEnvelope":return n=>Qce(n,r);default:return null}}function Yce(e,t){e?.z!=null&&(e.z*=t)}function Jce(e,t){if(e)for(const i of e.rings)for(const r of i)r.length>2&&(r[2]*=t)}function Xce(e,t){if(e)for(const i of e.paths)for(const r of i)r.length>2&&(r[2]*=t)}function Kce(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function Qce(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let L0=null,d_=null,f_=null,Ig=null,Q$={};const eR=new V_;function Ol(){return!!(d_?.isLoaded()&&f_?.isLoaded()&&Ig?.isLoaded())}function BF(){return!!Ol()||(ut(eR),Du(),!1)}function qF(e,t){return!e||!t||Ra(e,t)||BF()}function ehe(e,t){return!Ra(e,t)&&!Ol()}async function Du(e){L0==null&&(L0=Promise.all([Ne(()=>import("./projectOperator-Ce1EnA6b.js"),__vite__mapDeps([28,29,30]),import.meta.url).then(t=>(d_=t,d_.load())),Ne(()=>import("./projectOperator-Bn9_ktm2.js"),__vite__mapDeps([31,29,30]),import.meta.url).then(t=>(f_=t,f_.load())),Ne(()=>import("./geographicTransformationUtils-DTRkIbCX.js"),[],import.meta.url).then(t=>(Ig=t,Ig.load()))])),await L0,Li(e),eR.notify()}function kh(e,t,i){return Array.isArray(e)?e.length===0?[]:(Nne(e),eC(e,e[0].spatialReference,t,i)):(Cg(e),eC([e],e.spatialReference,t,i)[0])}function eC(e,t,i,r){if(t==null||i==null)return e;if(Ra(t,i,r))return e.map(n=>Kb(n,t,i));if(r?.geographicTransformation==null&&h2(t))return e.map(n=>Kb(n,t,Be.WGS84)).map(n=>p_(n,i));if(r?.geographicTransformation==null&&h2(i))return e.map(n=>p_(n,Be.WGS84)).map(n=>Kb(n,Be.WGS84,i));if(!Ol())throw new VF;if(!r?.geographicTransformation){if(r?.extendedParams)r={...r,geographicTransformation:Ig.getTransformation(t,i,r.areaOfInterestExtent)||new P0};else if(!r?.areaOfInterestExtent){const n=the(t,i);let s=Q$[n];s||(s=Ig.getTransformation(t,i)||new P0,Q$[n]=s),r={geographicTransformation:s}}}return e[0].spatialReference||(e[0].spatialReference=t),e[0]instanceof Fr?d_.executeMany(e,i,r):f_.executeMany(e,i,r)}function the(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}function ihe(e,t){const i=GF([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function GF(e,t){if(!Ol()){for(const i of e)if(i!=null&&!Gr(i.spatialReference,t)&&so(i.spatialReference)&&so(t)&&!Ra(i.spatialReference,t))return ut(eR),{pending:Du(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:Gr(i.spatialReference,t)?i:so(i.spatialReference)&&so(t)?p_(i,t):null)}}let VF=class extends $e{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function rhe(){L0=null,d_=null,f_=null,Ig=null,Q$={}}const nhe={get loadPromise(){return L0}};function p_(e,t){try{const i=kh(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=Zce(i.type,e.spatialReference,t);return r?.(i),i}catch(i){if(!(i instanceof VF))throw i;return null}}async function HF(e,t,i){const r=e.spatialReference;return r!=null&&t!=null&&await WF(r,t,null,i),p_(e,t)}function Ra(e,t,i){return!(i?.areaOfInterestExtent||i?.extendedParams||i?.geographicTransformation)&&(!!Gr(e,t)||so(e)&&so(t)&&!!UF(e,t))}function she(e,t){if(Gr(e,t))return!0;if(!so(e)||!so(t))return!1;const i=Of(e)||Sl(e)||j4(e),r=Of(t)||Sl(t)||j4(t);return i&&r}async function WF(e,t,i,r){if(Ol())return t4(r);if(Array.isArray(e)){for(const{source:n,dest:s,options:a}of e)if(n&&s&&!Ra(n,s,a))return Du(r)}else if(e&&t&&!Ra(e,t,i))return Du(r);return t4(r)}function Kb(e,t,i){return e?"x"in e?ZF(e,t,new We,i,0):"xmin"in e?QF(e,t,new It,i,0):"rings"in e?KF(e,t,new Hi,i,0):"paths"in e?JF(e,t,new Ir,i,0):"points"in e?YF(e,t,new Ta,i,0):null:null}function ohe(e,t,i=t.spatialReference,r=0){return i!=null&&e.spatialReference!=null&&ZF(e,e.spatialReference,t,i,r)!=null}function ZF(e,t,i,r,n){Pn[0]=e.x,Pn[1]=e.y;const s=e.z;return Pn[2]=s!==void 0?s:n,r1(Pn,t,0,Pn,r,0)?(i.x=Pn[0],i.y=Pn[1],i.spatialReference=r,s!==void 0||$h(r)?(i.z=Pn[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function ahe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&YF(e,e.spatialReference,t,i,r)!=null}function YF(e,t,i,r,n){const{points:s,hasZ:a,hasM:u}=e,h=[],f=s.length,v=[];for(const x of s)v.push(x[0],x[1],a?x[2]:n);if(!r1(v,t,0,v,r,0,f))return null;const w=a||$h(r);for(let x=0;x<f;++x){const M=3*x,P=v[M],O=v[M+1];w&&u?h.push([P,O,v[M+2],s[x][3]]):w?h.push([P,O,v[M+2]]):u?h.push([P,O,s[x][2]]):h.push([P,O])}return i.points=h,i.spatialReference=r,i.hasZ=a,i.hasM=u,i}function lhe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&JF(e,e.spatialReference,t,i,r)!=null}function JF(e,t,i,r,n){const{paths:s,hasZ:a,hasM:u}=e,h=[];if(!eB(s,a??!1,u??!1,t,h,r,n))return null;const f=a||$h(r);return i.paths=h,i.spatialReference=r,i.hasZ=f,i.hasM=u,i}function XF(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&KF(e,e.spatialReference,t,i,r)!=null}function KF(e,t,i,r,n){const{rings:s,hasZ:a,hasM:u}=e,h=[];if(!eB(s,a??!1,u??!1,t,h,r,n))return null;const f=a||$h(r);return i.rings=h,i.spatialReference=r,i.hasZ=f,i.hasM=u,i}function uhe(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&QF(e,e.spatialReference,t,i,r)!=null}function QF(e,t,i,r,n){const{xmin:s,ymin:a,xmax:u,ymax:h,hasZ:f,hasM:v}=e,w=f?e.zmin:n;if(!nD(s,a,w,t,Pn,r))return null;const x=f||$h(r);i.xmin=Pn[0],i.ymin=Pn[1],x&&(i.zmin=Pn[2]);const M=f?e.zmax:n;return nD(u,h,M,t,Pn,r)?(i.xmax=Pn[0],i.ymax=Pn[1],x&&(i.zmax=Pn[2]),v&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function eB(e,t,i,r,n,s,a=0){const u=new Array;for(const v of e)for(const w of v)u.push(w[0],w[1],t?w[2]:a);if(!r1(u,r,0,u,s,0))return!1;let h=0;n.length=0;const f=t||$h(s);for(const v of e){const w=new Array;for(const x of v)f&&i?w.push([u[h++],u[h++],u[h++],x[3]]):f?w.push([u[h++],u[h++],u[h++]]):i?(w.push([u[h++],u[h++],x[2]]),h++):(w.push([u[h++],u[h++]]),h++);n.push(w)}return!0}const Pn=Lh(),S3e=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Ra,initializeProjection:WF,isEqualBaseGCS:she,isLoaded:Ol,isLoadedOrLoad:BF,isLoadedOrLoadFor:qF,load:Du,project:kh,projectExtent:uhe,projectMany:eC,projectMultipoint:ahe,projectOrLoad:ihe,projectOrLoadMany:GF,projectPoint:ohe,projectPolygon:XF,projectPolyline:lhe,projectWithZConversion:HF,projectWithoutEngine:Kb,requiresLoad:ehe,test:nhe,tryProjectWithZConversion:p_,unload:rhe},Symbol.toStringTag,{value:"Module"}));var Qb;let tC=Qb=class extends Rh(Fe.ofType(Hi)){constructor(e){super(e)}clone(){return new Qb(this.items.map(e=>e.clone()))}write(e,t){return this.toJSON(t)}toJSON(e){const t=e?.layer?.spatialReference;return t?this.toArray().map(i=>{if(!t.equals(i.spatialReference)){if(!Ra(i.spatialReference,t))return e?.messages?.push(new bl("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const n=new Hi;XF(i,n,t),i=n}const r=i.toJSON(e);return delete r.spatialReference,r}).filter(i=>i!=null):this.toArray().map(i=>i.toJSON(e))}static fromJSON(e,t){const i=new Qb;return e.forEach(r=>i.add(Hi.fromJSON(r,t))),i}};tC=Qb=p([ie("esri.layers.support.PolygonCollection")],tC);const k0=tC;let uu=class extends Rh(jA){constructor(t){super(t),this.id=`focusarea-${e1()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new k0}readGeometries(t,i,r){Array.isArray(t)?this.geometries=k0.fromJSON(t,r):r.origin!=="web-scene"&&r.origin!=="portal-item"||r.hooks?.onAfterLoad?.(()=>this._loadGeometries(Yg(t,r),r))}async _loadGeometries(t,i){const r=await tr(t,{responseType:"json"});this.geometries=k0.fromJSON(r.data,i)}};p([_({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),_()],uu.prototype,"id",void 0),p([_({type:String,json:{write:!0}})],uu.prototype,"title",void 0),p([_({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],uu.prototype,"enabled",void 0),p([_({type:Cle,json:{write:!0}})],uu.prototype,"outline",void 0),p([_({type:k0,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new k0(e.items.map(t=>t.clone()))}),ble({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],uu.prototype,"geometries",void 0),p([Zt(["web-scene","portal-item","service"],"geometries")],uu.prototype,"readGeometries",null),uu=p([ie("esri.effects.FocusArea")],uu);const che=uu;let Jv=class extends Rh(jA){constructor(t){super(t),this.areas=new Fe,this.style="bright"}};p([_({type:Fe.ofType(che),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new Fe(e.items.map(t=>t.clone()))})],Jv.prototype,"areas",void 0),p([_({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],Jv.prototype,"style",void 0),Jv=p([ie("esri.effects.FocusAreas")],Jv);const tB=Jv;function hhe(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function dhe(e){return!(!hhe(e)||!Fae(e)?.operations?.supportsEditing||"editingEnabled"in e&&!qae(e)||P7(e))}const fhe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,phe="screenUtils.toPt: input not recognized!",iB=96;function M3e(e){return e?e/72*iB:0}function If(e){return e?72*e/iB:0}function Zi(e){if(typeof e=="string"){const t=e.match(fhe);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),n=e.startsWith("-"),s=r==="px"?If(i):i;return n?-s:s}return console.warn(phe),null}return e}function Br(e=0,t=0){return{x:e,y:t}}function E3e(e){return e?Br(e.x,e.y):null}function $3e(e=0,t=0){return[e,t]}function C3e(e=0,t=0,i=0){return[e,t,i]}function O3e(e){return e}function P3e(e){return e}function A3e(e){return e}function R3e(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function rB(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function mhe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ghe(e,t,i,r,n,s,a,u,h,f,v,w,x,M,P,O){const F=new Float32Array(16);return F[0]=e,F[1]=t,F[2]=i,F[3]=r,F[4]=n,F[5]=s,F[6]=a,F[7]=u,F[8]=h,F[9]=f,F[10]=v,F[11]=w,F[12]=x,F[13]=M,F[14]=P,F[15]=O,F}const yhe=rB();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:yhe,clone:mhe,create:rB,fromValues:ghe},Symbol.toStringTag,{value:"Module"}));function nB(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vhe(e,t,i,r,n,s,a,u,h,f,v,w,x,M,P,O,F){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e[6]=u,e[7]=h,e[8]=f,e[9]=v,e[10]=w,e[11]=x,e[12]=M,e[13]=P,e[14]=O,e[15]=F,e}function zx(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _he(e,t){if(e===t){const i=t[1],r=t[2],n=t[3],s=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=n,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function whe(e,t){return sB(e,t)||zx(e),e}function sB(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],u=t[5],h=t[6],f=t[7],v=t[8],w=t[9],x=t[10],M=t[11],P=t[12],O=t[13],F=t[14],G=t[15],Y=i*u-r*a,U=i*h-n*a,C=i*f-s*a,E=r*h-n*u,A=r*f-s*u,k=n*f-s*h,V=v*O-w*P,H=v*F-x*P,q=v*G-M*P,X=w*F-x*O,ue=w*G-M*O,ne=x*G-M*F;let se=Y*ne-U*ue+C*X+E*q-A*H+k*V;return se?(se=1/se,e[0]=(u*ne-h*ue+f*X)*se,e[1]=(n*ue-r*ne-s*X)*se,e[2]=(O*k-F*A+G*E)*se,e[3]=(x*A-w*k-M*E)*se,e[4]=(h*q-a*ne-f*H)*se,e[5]=(i*ne-n*q+s*H)*se,e[6]=(F*C-P*k-G*U)*se,e[7]=(v*k-x*C+M*U)*se,e[8]=(a*ue-u*q+f*V)*se,e[9]=(r*q-i*ue-s*V)*se,e[10]=(P*A-O*C+G*Y)*se,e[11]=(w*C-v*A-M*Y)*se,e[12]=(u*H-a*X-h*V)*se,e[13]=(i*X-r*H+n*V)*se,e[14]=(O*U-P*E-F*Y)*se,e[15]=(v*E-w*U+x*Y)*se,e):null}function bhe(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],u=t[5],h=t[6],f=t[7],v=t[8],w=t[9],x=t[10],M=t[11],P=t[12],O=t[13],F=t[14],G=t[15];return e[0]=u*(x*G-M*F)-w*(h*G-f*F)+O*(h*M-f*x),e[1]=-(r*(x*G-M*F)-w*(n*G-s*F)+O*(n*M-s*x)),e[2]=r*(h*G-f*F)-u*(n*G-s*F)+O*(n*f-s*h),e[3]=-(r*(h*M-f*x)-u*(n*M-s*x)+w*(n*f-s*h)),e[4]=-(a*(x*G-M*F)-v*(h*G-f*F)+P*(h*M-f*x)),e[5]=i*(x*G-M*F)-v*(n*G-s*F)+P*(n*M-s*x),e[6]=-(i*(h*G-f*F)-a*(n*G-s*F)+P*(n*f-s*h)),e[7]=i*(h*M-f*x)-a*(n*M-s*x)+v*(n*f-s*h),e[8]=a*(w*G-M*O)-v*(u*G-f*O)+P*(u*M-f*w),e[9]=-(i*(w*G-M*O)-v*(r*G-s*O)+P*(r*M-s*w)),e[10]=i*(u*G-f*O)-a*(r*G-s*O)+P*(r*f-s*u),e[11]=-(i*(u*M-f*w)-a*(r*M-s*w)+v*(r*f-s*u)),e[12]=-(a*(w*F-x*O)-v*(u*F-h*O)+P*(u*x-h*w)),e[13]=i*(w*F-x*O)-v*(r*F-n*O)+P*(r*x-n*w),e[14]=-(i*(u*F-h*O)-a*(r*F-n*O)+P*(r*h-n*u)),e[15]=i*(u*x-h*w)-a*(r*x-n*w)+v*(r*h-n*u),e}function She(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],u=e[6],h=e[7],f=e[8],v=e[9],w=e[10],x=e[11],M=e[12],P=e[13],O=e[14],F=e[15];return(t*a-i*s)*(w*F-x*O)-(t*u-r*s)*(v*F-x*P)+(t*h-n*s)*(v*O-w*P)+(i*u-r*a)*(f*F-x*M)-(i*h-n*a)*(f*O-w*M)+(r*h-n*u)*(f*P-v*M)}function oB(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=t[6],v=t[7],w=t[8],x=t[9],M=t[10],P=t[11],O=t[12],F=t[13],G=t[14],Y=t[15];let U=i[0],C=i[1],E=i[2],A=i[3];return e[0]=U*r+C*u+E*w+A*O,e[1]=U*n+C*h+E*x+A*F,e[2]=U*s+C*f+E*M+A*G,e[3]=U*a+C*v+E*P+A*Y,U=i[4],C=i[5],E=i[6],A=i[7],e[4]=U*r+C*u+E*w+A*O,e[5]=U*n+C*h+E*x+A*F,e[6]=U*s+C*f+E*M+A*G,e[7]=U*a+C*v+E*P+A*Y,U=i[8],C=i[9],E=i[10],A=i[11],e[8]=U*r+C*u+E*w+A*O,e[9]=U*n+C*h+E*x+A*F,e[10]=U*s+C*f+E*M+A*G,e[11]=U*a+C*v+E*P+A*Y,U=i[12],C=i[13],E=i[14],A=i[15],e[12]=U*r+C*u+E*w+A*O,e[13]=U*n+C*h+E*x+A*F,e[14]=U*s+C*f+E*M+A*G,e[15]=U*a+C*v+E*P+A*Y,e}function xhe(e,t,i){const r=i[0],n=i[1],s=i[2];if(t===e)e[12]=t[0]*r+t[4]*n+t[8]*s+t[12],e[13]=t[1]*r+t[5]*n+t[9]*s+t[13],e[14]=t[2]*r+t[6]*n+t[10]*s+t[14],e[15]=t[3]*r+t[7]*n+t[11]*s+t[15];else{const a=t[0],u=t[1],h=t[2],f=t[3],v=t[4],w=t[5],x=t[6],M=t[7],P=t[8],O=t[9],F=t[10],G=t[11];e[0]=a,e[1]=u,e[2]=h,e[3]=f,e[4]=v,e[5]=w,e[6]=x,e[7]=M,e[8]=P,e[9]=O,e[10]=F,e[11]=G,e[12]=a*r+v*n+P*s+t[12],e[13]=u*r+w*n+O*s+t[13],e[14]=h*r+x*n+F*s+t[14],e[15]=f*r+M*n+G*s+t[15]}return e}function The(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Mhe(e,t,i,r){let n=r[0],s=r[1],a=r[2],u=Math.sqrt(n*n+s*s+a*a);if(u<=Is())return void nB(e,t);u=1/u,n*=u,s*=u,a*=u;const h=Math.sin(i),f=Math.cos(i),v=1-f,w=t[0],x=t[1],M=t[2],P=t[3],O=t[4],F=t[5],G=t[6],Y=t[7],U=t[8],C=t[9],E=t[10],A=t[11],k=n*n*v+f,V=s*n*v+a*h,H=a*n*v-s*h,q=n*s*v-a*h,X=s*s*v+f,ue=a*s*v+n*h,ne=n*a*v+s*h,se=s*a*v-n*h,we=a*a*v+f;e[0]=w*k+O*V+U*H,e[1]=x*k+F*V+C*H,e[2]=M*k+G*V+E*H,e[3]=P*k+Y*V+A*H,e[4]=w*q+O*X+U*ue,e[5]=x*q+F*X+C*ue,e[6]=M*q+G*X+E*ue,e[7]=P*q+Y*X+A*ue,e[8]=w*ne+O*se+U*we,e[9]=x*ne+F*se+C*we,e[10]=M*ne+G*se+E*we,e[11]=P*ne+Y*se+A*we,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function Ehe(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[4],a=t[5],u=t[6],h=t[7],f=t[8],v=t[9],w=t[10],x=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+f*r,e[5]=a*n+v*r,e[6]=u*n+w*r,e[7]=h*n+x*r,e[8]=f*n-s*r,e[9]=v*n-a*r,e[10]=w*n-u*r,e[11]=x*n-h*r,e}function $he(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],a=t[1],u=t[2],h=t[3],f=t[8],v=t[9],w=t[10],x=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-f*r,e[1]=a*n-v*r,e[2]=u*n-w*r,e[3]=h*n-x*r,e[8]=s*r+f*n,e[9]=a*r+v*n,e[10]=u*r+w*n,e[11]=h*r+x*n,e}function Che(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],a=t[1],u=t[2],h=t[3],f=t[4],v=t[5],w=t[6],x=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+f*r,e[1]=a*n+v*r,e[2]=u*n+w*r,e[3]=h*n+x*r,e[4]=f*n-s*r,e[5]=v*n-a*r,e[6]=w*n-u*r,e[7]=x*n-h*r,e}function Ohe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Phe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ahe(e,t,i){if(t===0)return zx(e);let r=i[0],n=i[1],s=i[2],a=Math.sqrt(r*r+n*n+s*s);if(a<=Is())return null;a=1/a,r*=a,n*=a,s*=a;const u=Math.sin(t),h=Math.cos(t),f=1-h;return e[0]=r*r*f+h,e[1]=n*r*f+s*u,e[2]=s*r*f-n*u,e[3]=0,e[4]=r*n*f-s*u,e[5]=n*n*f+h,e[6]=s*n*f+r*u,e[7]=0,e[8]=r*s*f+n*u,e[9]=n*s*f-r*u,e[10]=s*s*f+h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Rhe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Lhe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function khe(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function aB(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=r+r,h=n+n,f=s+s,v=r*u,w=r*h,x=r*f,M=n*h,P=n*f,O=s*f,F=a*u,G=a*h,Y=a*f;return e[0]=1-(M+O),e[1]=w+Y,e[2]=x-G,e[3]=0,e[4]=w-Y,e[5]=1-(v+O),e[6]=P+F,e[7]=0,e[8]=x+G,e[9]=P-F,e[10]=1-(v+M),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Ihe(e,t){const i=Nhe,r=-t[0],n=-t[1],s=-t[2],a=t[3],u=t[4],h=t[5],f=t[6],v=t[7],w=r*r+n*n+s*s+a*a;return w>0?(i[0]=2*(u*a+v*r+h*s-f*n)/w,i[1]=2*(h*a+v*n+f*r-u*s)/w,i[2]=2*(f*a+v*s+u*n-h*r)/w):(i[0]=2*(u*a+v*r+h*s-f*n),i[1]=2*(h*a+v*n+f*r-u*s),i[2]=2*(f*a+v*s+u*n-h*r)),aB(e,t,i),e}const Nhe=Lh();function Dhe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function jhe(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],a=t[5],u=t[6],h=t[8],f=t[9],v=t[10];return e[0]=Math.sqrt(i*i+r*r+n*n),e[1]=Math.sqrt(s*s+a*a+u*u),e[2]=Math.sqrt(h*h+f*f+v*v),e}function zhe(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function Uhe(e,t,i,r){const n=t[0],s=t[1],a=t[2],u=t[3],h=n+n,f=s+s,v=a+a,w=n*h,x=n*f,M=n*v,P=s*f,O=s*v,F=a*v,G=u*h,Y=u*f,U=u*v,C=r[0],E=r[1],A=r[2];return e[0]=(1-(P+F))*C,e[1]=(x+U)*C,e[2]=(M-Y)*C,e[3]=0,e[4]=(x-U)*E,e[5]=(1-(w+F))*E,e[6]=(O+G)*E,e[7]=0,e[8]=(M+Y)*A,e[9]=(O-G)*A,e[10]=(1-(w+P))*A,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Fhe(e,t,i,r,n){const s=t[0],a=t[1],u=t[2],h=t[3],f=s+s,v=a+a,w=u+u,x=s*f,M=s*v,P=s*w,O=a*v,F=a*w,G=u*w,Y=h*f,U=h*v,C=h*w,E=r[0],A=r[1],k=r[2],V=n[0],H=n[1],q=n[2],X=(1-(O+G))*E,ue=(M+C)*E,ne=(P-U)*E,se=(M-C)*A,we=(1-(x+G))*A,Q=(F+Y)*A,N=(P+U)*k,ge=(F-Y)*k,ee=(1-(x+O))*k;return e[0]=X,e[1]=ue,e[2]=ne,e[3]=0,e[4]=se,e[5]=we,e[6]=Q,e[7]=0,e[8]=N,e[9]=ge,e[10]=ee,e[11]=0,e[12]=i[0]+V-(X*V+se*H+N*q),e[13]=i[1]+H-(ue*V+we*H+ge*q),e[14]=i[2]+q-(ne*V+Q*H+ee*q),e[15]=1,e}function Bhe(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=i+i,u=r+r,h=n+n,f=i*a,v=r*a,w=r*u,x=n*a,M=n*u,P=n*h,O=s*a,F=s*u,G=s*h;return e[0]=1-w-P,e[1]=v+G,e[2]=x-F,e[3]=0,e[4]=v-G,e[5]=1-f-P,e[6]=M+O,e[7]=0,e[8]=x+F,e[9]=M-O,e[10]=1-f-w,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qhe(e,t,i,r,n,s,a){const u=1/(i-t),h=1/(n-r),f=1/(s-a);return e[0]=2*s*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*h,e[6]=0,e[7]=0,e[8]=(i+t)*u,e[9]=(n+r)*h,e[10]=(a+s)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*f,e[15]=0,e}function Ghe(e,t,i,r,n){const s=1/Math.tan(t/2);let a;return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(a=1/(r-n),e[10]=(n+r)*a,e[14]=2*n*r*a):(e[10]=-1,e[14]=-2*r),e}function Vhe(e,t,i,r){const n=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),h=2/(a+u),f=2/(n+s);return e[0]=h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-(a-u)*h*.5,e[9]=(n-s)*f*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function Hhe(e,t,i,r,n,s,a){const u=1/(t-i),h=1/(r-n),f=1/(s-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+i)*u,e[13]=(n+r)*h,e[14]=(a+s)*f,e[15]=1,e}function Whe(e,t,i,r){const n=t[0],s=t[1],a=t[2];let u=n-i[0],h=s-i[1],f=a-i[2];const v=Is();if(Math.abs(u)<v&&Math.abs(h)<v&&Math.abs(f)<v)return void zx(e);let w=1/Math.sqrt(u*u+h*h+f*f);u*=w,h*=w,f*=w;const x=r[0],M=r[1],P=r[2];let O=M*f-P*h,F=P*u-x*f,G=x*h-M*u;w=Math.sqrt(O*O+F*F+G*G),w?(w=1/w,O*=w,F*=w,G*=w):(O=0,F=0,G=0);let Y=h*G-f*F,U=f*O-u*G,C=u*F-h*O;w=Math.sqrt(Y*Y+U*U+C*C),w?(w=1/w,Y*=w,U*=w,C*=w):(Y=0,U=0,C=0),e[0]=O,e[1]=Y,e[2]=u,e[3]=0,e[4]=F,e[5]=U,e[6]=h,e[7]=0,e[8]=G,e[9]=C,e[10]=f,e[11]=0,e[12]=-(O*n+F*s+G*a),e[13]=-(Y*n+U*s+C*a),e[14]=-(u*n+h*s+f*a),e[15]=1}function Zhe(e,t,i,r){const n=t[0],s=t[1],a=t[2],u=r[0],h=r[1],f=r[2];let v=n-i[0],w=s-i[1],x=a-i[2],M=v*v+w*w+x*x;M>0&&(M=1/Math.sqrt(M),v*=M,w*=M,x*=M);let P=h*x-f*w,O=f*v-u*x,F=u*w-h*v;return M=P*P+O*O+F*F,M>0&&(M=1/Math.sqrt(M),P*=M,O*=M,F*=M),e[0]=P,e[1]=O,e[2]=F,e[3]=0,e[4]=w*F-x*O,e[5]=x*P-v*F,e[6]=v*O-w*P,e[7]=0,e[8]=v,e[9]=w,e[10]=x,e[11]=0,e[12]=n,e[13]=s,e[14]=a,e[15]=1,e}function Yhe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Jhe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Xhe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function lB(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Khe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function Qhe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e}function ede(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function tde(e,t){if(e===t)return!0;const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],u=e[5],h=e[6],f=e[7],v=e[8],w=e[9],x=e[10],M=e[11],P=e[12],O=e[13],F=e[14],G=e[15],Y=t[0],U=t[1],C=t[2],E=t[3],A=t[4],k=t[5],V=t[6],H=t[7],q=t[8],X=t[9],ue=t[10],ne=t[11],se=t[12],we=t[13],Q=t[14],N=t[15],ge=Is();return Math.abs(i-Y)<=ge*Math.max(1,Math.abs(i),Math.abs(Y))&&Math.abs(r-U)<=ge*Math.max(1,Math.abs(r),Math.abs(U))&&Math.abs(n-C)<=ge*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(s-E)<=ge*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(a-A)<=ge*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(u-k)<=ge*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(h-V)<=ge*Math.max(1,Math.abs(h),Math.abs(V))&&Math.abs(f-H)<=ge*Math.max(1,Math.abs(f),Math.abs(H))&&Math.abs(v-q)<=ge*Math.max(1,Math.abs(v),Math.abs(q))&&Math.abs(w-X)<=ge*Math.max(1,Math.abs(w),Math.abs(X))&&Math.abs(x-ue)<=ge*Math.max(1,Math.abs(x),Math.abs(ue))&&Math.abs(M-ne)<=ge*Math.max(1,Math.abs(M),Math.abs(ne))&&Math.abs(P-se)<=ge*Math.max(1,Math.abs(P),Math.abs(se))&&Math.abs(O-we)<=ge*Math.max(1,Math.abs(O),Math.abs(we))&&Math.abs(F-Q)<=ge*Math.max(1,Math.abs(F),Math.abs(Q))&&Math.abs(G-N)<=ge*Math.max(1,Math.abs(G),Math.abs(N))}function ide(e){const t=Is(),i=e[0],r=e[1],n=e[2],s=e[4],a=e[5],u=e[6],h=e[8],f=e[9],v=e[10];return Math.abs(1-(i*i+s*s+h*h))<=t&&Math.abs(1-(r*r+a*a+f*f))<=t&&Math.abs(1-(n*n+u*u+v*v))<=t}function rde(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const nde=oB,sde=lB;Object.freeze(Object.defineProperty({__proto__:null,add:Xhe,adjoint:bhe,copy:nB,determinant:She,equals:tde,exactEquals:ede,frob:Jhe,fromQuat:Bhe,fromQuat2:Ihe,fromRotation:Ahe,fromRotationTranslation:aB,fromRotationTranslationScale:Uhe,fromRotationTranslationScaleOrigin:Fhe,fromScaling:Phe,fromTranslation:Ohe,fromXRotation:Rhe,fromYRotation:Lhe,fromZRotation:khe,frustum:qhe,getRotation:zhe,getScale:jhe,getTranslation:Dhe,hasIdentityRotation:rde,identity:zx,invert:sB,invertOrIdentity:whe,isOrthoNormal:ide,lookAt:Whe,mul:nde,multiply:oB,multiplyScalar:Khe,multiplyScalarAndAdd:Qhe,ortho:Hhe,perspective:Ghe,perspectiveFromFieldOfView:Vhe,rotate:Mhe,rotateX:Ehe,rotateY:$he,rotateZ:Che,scale:The,set:vhe,str:Yhe,sub:sde,subtract:lB,targetTo:Zhe,translate:xhe,transpose:_he},Symbol.toStringTag,{value:"Module"}));const WE=()=>ze.getLogger("esri.support.basemapUtils");function ode(){return{}}function ade(e){for(const t in e){const i=e[t];i&&!i.destroyed&&i.destroy(),delete e[t]}}function lde(e,t){let i;if(typeof e=="string"){const r=e in T$,n=!r&&e.includes("/");if(!r&&!n){if(Q3())WE().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(T$).filter(([a,u])=>u.classic||u.is3d).map(([a])=>`"${a}"`).sort().join(", ");WE().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`)}return null}t&&(i=t[e]),i||(i=r?O0.fromId(e):new O0({style:{id:e}}),t&&(t[e]=i))}else i=jn(O0,e);return i?.destroyed&&(WE().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function ude(e){return new Ma({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}function Qw(e){for(const t of e.values())t?.destroy();e.clear()}const sD={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function cde(e){let t=null;if(typeof e=="string")if(e in sD){const i=sD[e];t=new _2({resourceInfo:{data:{layers:[i]}}})}else ze.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=jn(_2,e);return t}function iC(e,t,i){let r,n;if(e)for(let s=0,a=e.length;s<a;s++){if(r=e.at(s),r?.[t]===i)return r;if(r?.type==="group"&&(n=iC(r.layers,t,i),n))return n}}const hde=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this.layers=new Fe;const n=u=>{u.parent&&u.removeFromParent()},s=u=>{u.parent=this,this.layerAdded(u),u.type!=="elevation"&&u.type!=="base-elevation"||ze.getLogger(this).error(`Layer 'title:${u.title}, id:${u.id}' of type '${u.type}' is not supported as an operational layer and will therefore be ignored.`)},a=u=>{u.parent=null,this.layerRemoved(u)};this.addHandles([this.layers.on("before-add",u=>{if(u.item===this)return u.preventDefault(),void ze.getLogger(this).error("#add()","Cannot add layer to itself.");n(u.item)}),this.layers.on("after-add",u=>s(u.item)),this.layers.on("after-remove",u=>a(u.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}removeChildLayer(r){this.layers.remove(r),super.removeChildLayer?.(r)}set layers(r){this._set("layers",ml(r,this._get("layers")))}add(r,n){const s=this.layers;if(n=s.getNextIndex(n),r instanceof Gi){const a=r;a.parent===this?this.reorder(a,n):s.add(a,n)}else Nn(r)?r.then(a=>{this.destroyed||this.add(a,n)}):ze.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const s=this.layers;let a=s.getNextIndex(n);r.slice().forEach(u=>{u.parent!==this?(s.add(u,a),a+=1):this.reorder(u,a)})}findLayerById(r){return iC(this.layers,"id",r)}findLayerByUid(r){return iC(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return p([_()],i.prototype,"layers",null),i=p([ie("esri.support.LayersMixin")],i),i},dde=new Set(["feature","subtype-group"]);function rC(e,t,i){if(e)for(let r=0,n=e.length;r<n;r++){const s=e.at(r);if(s[t]===i)return s;if(s?.type==="group"){const a=rC(s.tables,t,i);if(a)return a}}}const fde=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this.tables=new Fe,this.addHandles([this.tables.on("after-add",n=>{const s=n.item;s.parent&&s.parent!==this&&s.removeFromParent(),s.parent=this,dde.has(s.type)||ze.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}removeChildLayer(r){this.tables.remove(r),super.removeChildLayer?.(r)}set tables(r){this._set("tables",ml(r,this._get("tables")))}findTableById(r){return rC(this.tables,"id",r)}findTableByUid(r){return rC(this.tables,"uid",r)}};return p([_()],i.prototype,"tables",null),i=p([ie("esri.support.TablesMixin")],i),i};let Lo=class extends fde(hde(Bf)){constructor(t){super(t),this.allLayers=new Ma({getCollections:()=>[this.basemap?.baseLayers,this.basemap?.groundLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new tB,this.allTables=ude(this),this.basemap=null,this.editableLayers=new Ma({getCollections:()=>[this.allLayers],itemFilterFunction:dhe}),this.ground=new _2,this._basemapCache=ode(),this.addHandles(Ns(()=>this.ground,(i,r)=>{r?.parent===this&&(r.parent=null),i.parent=this},{sync:!0}))}destroy(){ade(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=er(this.basemap),er(this.ground),this._set("ground",null)}castBasemap(t){return lde(t,this._basemapCache)}castGround(t){return cde(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};p([_({readOnly:!0,dependsOn:[]})],Lo.prototype,"allLayers",void 0),p([_({type:tB,nonNullable:!0,json:{write:{overridePolicy:e=>({enabled:e.areas.length>0,ignoreOrigin:!0})}}})],Lo.prototype,"focusAreas",void 0),p([_({readOnly:!0})],Lo.prototype,"allTables",void 0),p([_({type:O0,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Lo.prototype,"basemap",void 0),p([xr("basemap")],Lo.prototype,"castBasemap",null),p([_({readOnly:!0})],Lo.prototype,"editableLayers",void 0),p([_({type:_2,nonNullable:!0})],Lo.prototype,"ground",void 0),p([xr("ground")],Lo.prototype,"castGround",null),p([_()],Lo.prototype,"undoRedo",void 0),Lo=p([ie("esri.Map")],Lo);const uB=Lo;let Ad=class extends jA{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};p([_({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ad.prototype,"row",void 0),p([_({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ad.prototype,"column",void 0),p([_({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ad.prototype,"rows",void 0),p([_({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ad.prototype,"columns",void 0),Ad=p([ie("esri.CameraLayout")],Ad);const cB=Ad;let Ux=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}normalize(t,i=0,r=!1){return oD(this.range,this.min,this.max,t,i,r)}clamp(t,i=0){return co(t-i,this.min,this.max)+i}monotonic(t,i,r){return t<i?i:i+nC(this.range,t-i,r)}minimalMonotonic(t,i,r){return oD(this.range,t,t+this.range,i,r)}center(t,i,r){return i=this.monotonic(t,i,r),this.normalize((t+i)/2,r)}diff(t,i,r){return this.monotonic(t,i,r)-t}shortestSignedDiff(t,i){t=this.normalize(t);const r=(i=this.normalize(i))-t,n=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(r)<Math.abs(n)?r:n}contains(t,i,r){return i=this.minimalMonotonic(t,i),(r=this.minimalMonotonic(t,r))>t&&r<i}};function oD(e,t,i,r,n=0,s=!1){return(r-=n)<t?r+=nC(e,t-r):r>i&&(r-=nC(e,r-i)),s&&r===i&&(r=t),r+n}function nC(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const N3e=new Ux(0,2*Math.PI),D3e=new Ux(-Math.PI,Math.PI),pde=new Ux(0,360);let Ka=class extends on(tt){constructor(...t){super(...t),this.position=new We([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new cB}normalizeCtorArgs(t,i,r,n){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return i!=null&&(s.heading=i),r!=null&&(s.tilt=r),n!=null&&(s.fov=n),s}return t}writePosition(t,i,r,n){const s=t.clone();s.x=no(t.x||0),s.y=no(t.y||0),s.z=t.hasZ?no(t.z||0):t.z,i[r]=s.write({},n)}readPosition(t,i){const r=new We;return r.read(t,i),r.x=no(r.x||0),r.y=no(r.y||0),r.z=r.hasZ?no(r.z||0):r.z,r}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};p([_({type:We,json:{write:{isRequired:!0}}})],Ka.prototype,"position",void 0),p([Gt("position")],Ka.prototype,"writePosition",null),p([Zt("position")],Ka.prototype,"readPosition",null),p([_({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),xr(e=>pde.normalize(no(e)))],Ka.prototype,"heading",void 0),p([_({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),xr(e=>co(no(e),-180,180))],Ka.prototype,"tilt",void 0),p([_({type:Number,nonNullable:!0,json:{default:55,write:!0}}),xr(e=>co(no(e,55),1,170))],Ka.prototype,"fov",void 0),p([_({type:cB,nonNullable:!0,json:{read:!1,write:!1}})],Ka.prototype,"layout",void 0),Ka=p([ie("esri.Camera")],Ka);const mde=Ka;function hB(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function dB(e){return e.points!==void 0}function fB(e){return e.x!==void 0&&e.y!==void 0}function pB(e){return e.paths!==void 0||e.curvePaths!==void 0}function tR(e){return e.rings!==void 0||e.curveRings!==void 0}function Ng(e){return e==null?null:e instanceof Fr?e:fB(e)?We.fromJSON(e):pB(e)?Ir.fromJSON(e):tR(e)?Hi.fromJSON(e):dB(e)?Ta.fromJSON(e):hB(e)?It.fromJSON(e):null}function n1(e){return e?fB(e)?"esriGeometryPoint":pB(e)?"esriGeometryPolyline":tR(e)?"esriGeometryPolygon":hB(e)?"esriGeometryEnvelope":dB(e)?"esriGeometryMultipoint":null:null}const gde={esriGeometryPoint:We,esriGeometryPolyline:Ir,esriGeometryPolygon:Hi,esriGeometryEnvelope:It,esriGeometryMultipoint:Ta,esriGeometryMultiPatch:Hi};function yde(e){return e&&gde[e]||null}const vde=Ds()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),z3e=Ds()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),iR={base:Fr,key:"type",typeMap:{extent:It,multipoint:Ta,point:We,polyline:Ir,polygon:Hi}};function U3e(e){return e.type==="point"}function F3e(e){return e.type==="multipoint"}function B3e(e){return e.type==="polygon"}function q3e(e){return e.type==="polyline"}var sC;let Nc=sC=class extends tt{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new sC({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};p([_({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:ZE}}}}})],Nc.prototype,"rotation",void 0),p([xr("rotation")],Nc.prototype,"castRotation",null),p([_({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:ZE}}}}})],Nc.prototype,"scale",void 0),p([_({types:iR,json:{read:Ng,write:!0,origins:{"web-scene":{read:Ng,write:{overridePolicy:ZE}}}}})],Nc.prototype,"targetGeometry",void 0),p([_({type:mde,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Nc.prototype,"camera",void 0),Nc=sC=p([ie("esri.Viewpoint")],Nc);const Wo=Nc;function ZE(){return{enabled:!this.camera}}let m_=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new V_,this._items=new Set}get length(){return ut(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return ut(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){ut(this._observable),yield*this._items}};const mB=new FinalizationRegistry(e=>{e.close()});function _de(e,t){mB.register(e,t,t)}function wde(e){mB.unregister(e)}function gB(e,t){return new Proxy({},{get:(i,r,n)=>(...s)=>{let a,u;const h=s[s.length-1];return bde(h)&&(a=h.signal,u=h.transferList,s.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),s,{transferList:u,signal:a})}})}function bde(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const Sde={statsWorker:()=>Ne(()=>import("./statsWorker-B92Zni-K.js"),__vite__mapDeps([32,33,34,35,36,37,38,39,40]),import.meta.url),geometryEngineWorker:()=>Ne(()=>import("./geometryEngineWorker-BkMQzpX8.js"),__vite__mapDeps([41,42,43,44]),import.meta.url),arcadeGeometryOperatorsWorker:()=>Ne(()=>import("./operatorsWorker-CaR0241T.js"),[],import.meta.url),CSVSourceWorker:()=>Ne(()=>import("./CSVSourceWorker-BBT7y_A-.js"),__vite__mapDeps([45,46,47,9,48,49,50,51,52,53,54,55,56,57,7,8,58,59,60,61,62,34,33,35,36,37,38,39,40,63,64,65,66,67,68,69]),import.meta.url),EdgeProcessingWorker:()=>Ne(()=>import("./EdgeProcessingWorker-C7HndOlS.js"),__vite__mapDeps([70,71,72,73,36,37,74,75,76,77,78,79,80]),import.meta.url),ElevationSamplerWorker:()=>Ne(()=>import("./ElevationSamplerWorker-CDMwk6s_.js"),__vite__mapDeps([81,52,82,83,84,85,86,87,88,73,36,37,89]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>Ne(()=>import("./FeatureServiceSnappingSourceWorker-CQkXEr7W.js"),__vite__mapDeps([90,48,49,47,9,50,51,52,53,54,55,56,57,7,8,58,59,60,61,62,34,33,35,36,37,38,39,40,63,64,65,66,13,14,91,92,93,94,95]),import.meta.url),GaussianSplatSortWorker:()=>Ne(()=>import("./GaussianSplatSortWorker-CkystscD.js"),[],import.meta.url),GeoJSONSourceWorker:()=>Ne(()=>import("./GeoJSONSourceWorker-C5wDTYtH.js"),__vite__mapDeps([96,49,47,9,50,48,51,52,53,54,55,56,57,7,8,58,59,60,61,62,34,33,35,36,37,38,39,40,63,64,65,66,97,46,68,69,98]),import.meta.url),LercWorker:()=>Ne(()=>import("./LercWorker-sL9VEL2C.js"),[],import.meta.url),MemorySourceWorker:()=>Ne(()=>import("./MemorySourceWorker-C1Ypnsu3.js"),__vite__mapDeps([99,49,47,9,50,100,48,51,52,53,54,55,56,57,7,8,58,59,60,61,62,34,33,35,36,37,38,39,40,63,64,65,66,68,69,98,46]),import.meta.url),PBFDecoderWorker:()=>Ne(()=>import("./PBFDecoderWorker-Fneosrb2.js"),__vite__mapDeps([101,102,9,49,47,50,92,93]),import.meta.url),FeaturePipelineWorker:()=>Ne(()=>import("./FeaturePipelineWorker-BNMbryLM.js"),__vite__mapDeps([103,104,105,106,107,75,108,109,59,60,61,66,110,47,9,49,50,111,34,112,113,114,115,54,53,116,117,118,119,120,121,122,123,124,69,125,126,127,128,55,56,57,7,8,58,62,33,35,36,37,38,39,40,63,64,65,129,130,131,132,30,133,134,135,136,137,97,46,68,98,94,92,93,95,138,139]),import.meta.url),PointCloudWorker:()=>Ne(()=>import("./PointCloudWorker-Du-m4iXy.js"),__vite__mapDeps([140,141,142,36,143,144,145,146,147,148,37,84,85,149,150]),import.meta.url),RasterWorker:()=>Ne(()=>import("./RasterWorker-QxN8iSLy.js"),__vite__mapDeps([151,152,153,44,154,155,36,37,156,157,158,159,160,161]),import.meta.url),SceneLayerSnappingSourceWorker:()=>Ne(()=>import("./SceneLayerSnappingSourceWorker-DJjxUuCo.js"),__vite__mapDeps([162,163,164,37,150,142,165,166,36,149,73,77,78,79,72,74,75,76,80]),import.meta.url),SceneLayerWorker:()=>Ne(()=>import("./SceneLayerWorker-Cs6aM8_l.js"),__vite__mapDeps([167,82,88,168,86]),import.meta.url),WFSSourceWorker:()=>Ne(()=>import("./WFSSourceWorker-Dbq1xGag.js"),__vite__mapDeps([169,49,47,9,50,48,51,52,53,54,55,56,57,7,8,58,59,60,61,62,34,33,35,36,37,38,39,40,63,64,65,66,97,46,98,170,171]),import.meta.url),WorkerTileHandler:()=>Ne(()=>import("./WorkerTileHandler-IDzlPhzM.js"),__vite__mapDeps([172,122,173,123,174,93,9,126,175,176,76,75,155,36,37,177,121]),import.meta.url),Lyr3DWorker:()=>Ne(()=>import("./Lyr3DWorker-2pcpE9p5.js"),[],import.meta.url),Feature3DPipelineWorker:()=>Ne(()=>import("./Feature3DPipelineWorker-DHNZ5Ten.js"),__vite__mapDeps([178,56,49,47,9,50,57,7,8,58,59,60,61,53,54,62,34,33,35,36,37,38,39,40,63,64,65,66,179,180,181,182,159,146,183,14,184,185,124,69,145,117,109,113,114,186,187,104,188,189,87,82,168,86,190,143,191,79,73,192,164,150,142,163,193,194,166,149,148,141,84,85,76,75,72,74,195,196,197,198,199,200,201,202,203,204,52,94,92,93,95,205]),import.meta.url),TextureCompressionWorker:()=>Ne(()=>import("./TextureCompressionWorker-DKik9tI0.js"),[],import.meta.url),FlowWorker:()=>Ne(()=>import("./FlowWorker-C-9ng9eZ.js"),__vite__mapDeps([206,161]),import.meta.url),ParquetSourceWorker:()=>Ne(()=>import("./ParquetSourceWorker-Ck8fLPaK.js"),__vite__mapDeps([207,128,56,49,47,9,50,57,7,8,58,59,60,61,53,54,62,34,33,35,36,37,38,39,40,63,64,65,66,68,69,208,67,131,110,111,130,129]),import.meta.url),PanoramicMeshWorker:()=>Ne(()=>import("./PanoramicMeshWorker-C9x4_5YE.js"),__vite__mapDeps([209,152]),import.meta.url)},yB="worker:port-closed",ku={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let xde=0;function vB(){return xde++}function Tde(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function S2(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function _B(e,t,i,r){if(t.type===ku.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==ku.INVOKE&&t.type!==ku.RESPONSE)return void e.postMessage(t);let n;Tde(i)?(n=aD(i.transferList),t.data=i.result):(n=aD(r),t.data=i),n?e.postMessage(t,n):e.postMessage(t)}function g_(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function aD(e){if(!e?.length)return null;if(pe("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!Mde(i));return t.length?t:null}function Mde(e){return e instanceof ArrayBuffer||e?.constructor?.name==="ArrayBuffer"}async function V3e(e){try{return await e}catch(t){const i=t?.name===yB;if(!(sn(t)||i))throw t;return}}const{CLOSE:eb,ABORT:oC,INVOKE:lD,RESPONSE:Mv,OPEN_PORT:uD,ON:cD}=ku,Ede=2;let $de=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===oC?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var Bo;let Dg=(Bo=class{static connect(t,i){const r=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new Bo(r.port1,{channel:r,client:n,schedule:i});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=s),Bo.clients.set(s,n),r.port2}static loadWorker(t){const i=Sde[t];return i?i():Promise.resolve(null)}constructor(t,i,r,n){this._port=t,this._jobQueue=r,this._lowPriorityJobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new $de(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:eb}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const n=r?.signal,s=r?.transferList;if(!this._port)return Promise.reject(new $e(yB,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const a=vB();return new Promise((u,h)=>{if(In(n))return this._processWork(),void h(ai());const f=Yo(n,()=>{const w=this._outJobs.get(a);w&&(this._outJobs.delete(a),this._processWork(),Oi(w.abortHandle),this._post({type:oC,jobId:a}),h(ai()))}),v={resolve:u,reject:h,abortHandle:f,debugInfo:t};this._outJobs.set(a,v),this._post({type:lD,jobId:a,methodName:t,abortable:n!=null},i,s)})}createInvokeProxy(t){return gB(this,t)}on(t,i){const r=new MessageChannel;function n(s){i(s.data)}return this._port.postMessage({type:cD,eventType:t,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),jt(()=>{r.port1.postMessage({type:eb}),r.port1.close(),r.port1.removeEventListener("message",n)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:uD,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=Ede)return;const t=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!t)return;const{methodName:i,data:r,invokeOptions:n,resolver:s}=t;this.apply(i,r,n).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Oi(t.abortHandle),t.reject(ai(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,i){const r=g_(t);if(r)switch(r.type){case Mv:this._onResponseMessage(r);break;case lD:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case oC:this._onAbortMessage(r);break;case eb:this._onCloseMessage();break;case uD:this._onOpenPortMessage(r);break;case cD:this._onOnMessage(r)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,n=i.get(r);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),i.delete(r))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Bo.clients.get(this)===t&&t.destroy(),Bo.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:r,data:n=[],abortable:s}=t,a=s?new AbortController:null,u=this._inJobs;let h,f=this._client,v=f[i];try{if(!v&&i&&i.includes(".")){const w=i.split(".");for(let x=0;x<w.length-1;x++)f=f[w[x]],v=f[w[x+1]]}if(typeof v!="function")throw new TypeError(`${i} is not a function`);n.push({client:this,signal:a?a.signal:null}),h=v.apply(f,n)}catch(w){return void this._post({type:Mv,jobId:r,error:S2(w)})}Nn(h)?(u.set(r,{controller:a,promise:h}),h.then(w=>{u.has(r)&&(u.delete(r),this._post({type:Mv,jobId:r},w))},w=>{u.has(r)&&(u.delete(r),sn(w)||this._post({type:Mv,jobId:r,error:S2(w||{message:`Error encountered at method ${i}`})}))})):this._post({type:Mv,jobId:r},h)}_onOpenPortMessage(t){new Bo(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,r=this._client.on(t.eventType,s=>{i.postMessage(s)}),n=Zg(t.port,"message",s=>{g_(s)?.type===eb&&(n.remove(),r.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:r,data:n}=t,s=this._outJobs;if(!s.has(i))return;const a=s.get(i);s.delete(i),this._processWork(),Oi(a.abortHandle),r?a.reject($e.fromJSON(JSON.parse(r))):a.resolve(n)}_post(t,i,r){return _B(this._port,t,i,r)}},Bo.kernelInfo={buildDate:$8,fullVersion:qP,revision:C8},Bo.clients=new Map,Bo),Cde=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new m_,this._ongoingLowPriorityJobsQueue=new m_}destroy(){this.close()}get closed(){return!this._clients?.length}open(t,i){return new Promise((r,n)=>{let s=!0;const a=u=>{Li(i.signal),s&&(s=!1,u())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let u=0;u<t.length;++u){const h=t[u];Nn(h)?this._clientPromises[u]=h.then(f=>(this._clients[u]=new Dg(f,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),a(r),this._clients[u]),()=>(a(n),null)):(this._clients[u]=new Dg(h,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[u]=Promise.resolve(this._clients[u]),a(r))}})}broadcast(t,i,r){const n=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const a=this._clientPromises[s];n[s]=a.then(u=>u?.invoke(t,i,r))}return n}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(ai(`Worker closing, aborting job calling '${t.methodName}'`));for(;t=this._ongoingLowPriorityJobsQueue.pop();)t.resolver.reject(ai(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(r=>r?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,wde(this)}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const n=uo();(r?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:t,data:i,invokeOptions:r,resolver:n});for(let s=0;s<this._clientPromises.length;s++){const a=this._clients[s];a?a.jobAdded():this._clientPromises[s].then(u=>u?.jobAdded())}return n.promise}createInvokeProxy(t){return gB(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>Ff(this._clients.map(r=>r.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(s=>{s&&(i[n]=s.openPort()),--r===0&&t(i)})})}get test(){}};const Ode={async request(e,t){const i=e.options,r=i.responseType;i.signal=t?.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&W3(e.url)?.after?r:"array-buffer";const n=await tr(e.url,i),s={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch(n.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}},hD={};function Pde(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...hD.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=hD.baseUrl),t}let Ade=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>t[i](...r)})}},eS=class{constructor(){this._dispatcher=new Ade,this._workerPostMessage({type:ku.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){QS(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,r){this._dispatcher.addEventListener(t,i,r)}removeEventListener(t,i,r){this._dispatcher.removeEventListener(t,i,r)}_workerPostMessage(t){QS(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=g_(t);if(i&&i.type===ku.OPEN){const{modulePath:r,jobId:n}=i;let s=await Dg.loadWorker(r);s||(s=await import(r));const a=Dg.connect(s);this._workerPostMessage({type:ku.OPENED,jobId:n,data:a})}}};const aC=()=>ze.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Rde}=ku,Lde='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let tb,ib;const dD="Failed to create Worker. Fallback to execute module in main thread";async function kde(){if(!pe("esri-workers"))return fD(new eS);if(!tb&&!ib)try{const t=Lde.split("{CONFIGURATION}").join(Ide());tb=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){ib=t||{}}let e;if(tb)try{e=new Worker(tb,{name:"esri-worker-"+Nde++})}catch{aC().warn(dD,ib),e=new eS}else aC().warn(dD,ib),e=new eS;return fD(e)}async function fD(e){return new Promise(t=>{function i(n){const s=g_(n);s&&s.type===Rde&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(n){n.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),aC().warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new eS).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)})}function Ide(){let e;if(qt.default!=null){const n={...qt};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(qt));e.assetsPath=qo(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?qo(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Dn(),e.has={"esri-csp-restrictions":pe("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":pe("esri-2d-update-debug"),"esri-2d-log-updating":pe("esri-2d-log-updating"),"featurelayer-pbf":pe("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":pe("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":pe("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":pe("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":pe("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":pe("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":pe("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":pe("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":pe("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":pe("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":pe("featurelayer-snapshot-enabled"),"parquetlayer-full-query-feature-count":pe("parquetlayer-full-query-feature-count"),"esri-atomics":pe("esri-atomics"),"esri-shared-array-buffer":pe("esri-shared-array-buffer"),"esri-tiles-debug":pe("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":pe("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":pe("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=qo(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=qo(e.workers.workerPath):e.workers.workerPath=qo(Ki("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=qt.workers.loaderConfig,i=Pde({baseUrl:t?.baseUrl,locale:Dn(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:$8,fullVersion:qP,revision:C8}})}let Nde=0;const{ABORT:pD,INVOKE:Dde,OPEN:jde,OPENED:zde,RESPONSE:Ev}=ku;let Ude=class wB{static async create(t){const i=await kde();return new wB(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",r=>{r.preventDefault(),ze.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:r}=i,n=vB();return new Promise((s,a)=>{const u={resolve:s,reject:a,abortHandle:GP(r,()=>{this._outJobs.delete(n),this._post({type:pD,jobId:n})})};this._outJobs.set(n,u),this._post({type:jde,jobId:n,modulePath:t})})}_onMessage(t){const i=g_(t);if(i)switch(i.type){case zde:this._onOpenedMessage(i);break;case Ev:this._onResponseMessage(i);break;case pD:this._onAbortMessage(i);break;case Dde:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,n=i.get(r);n&&(n.controller&&n.controller.abort(),i.delete(r))}_onInvokeMessage(t){const{methodName:i,jobId:r,data:n,abortable:s}=t,a=s?new AbortController:null,u=this._inJobs,h=Ode[i];let f;try{if(typeof h!="function")throw new TypeError(`${i} is not a function`);f=h.call(null,n,{signal:a?a.signal:null})}catch(v){return void this._post({type:Ev,jobId:r,error:S2(v)})}Nn(f)?(u.set(r,{controller:a,promise:f}),f.then(v=>{u.has(r)&&(u.delete(r),this._post({type:Ev,jobId:r},v))},v=>{u.has(r)&&(u.delete(r),v||(v={message:"Error encountered at method"+i}),sn(v)||this._post({type:Ev,jobId:r,error:S2(v||{message:`Error encountered at method ${i}`})}))})):this._post({type:Ev,jobId:r},f)}_onOpenedMessage(t){const{jobId:i,data:r}=t,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),Oi(n.abortHandle),n.resolve(r))}_onResponseMessage(t){const{jobId:i,error:r,data:n}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Oi(s.abortHandle),r?s.reject($e.fromJSON(JSON.parse(r))):s.resolve(n))}_post(t,i,r){return _B(this.worker,t,i,r)}};const mD=pe("host-browser")?Math.min(navigator.hardwareConcurrency-1,pe("workers-pool-size")??8):0;let tf=pe("esri-mobile")?Math.min(mD,3):mD;tf||(tf=pe("safari")&&pe("mac")?7:2);let gD=0;const tS=[];function Fde(){bB()}async function rb(e,t){const i=new Cde,{registryTarget:r,...n}=t;return await i.open(e,n),r&&_de(r,i),i}async function J3e(e,t={}){if(typeof e!="string")throw new $e("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(pe("host-webworker")&&!pe("esri-workers")&&(i="local"),i==="local"){let r=await Dg.loadWorker(e);r||(r=await import(e)),Li(t.signal);const n=t.client||r;return rb([Dg.connect(r,t.schedule)],{...t,client:n})}if(await bB(),Li(t.signal),i==="dedicated"){const r=gD++%tf;return rb([await tS[r].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const r=Math.min(t.maxNumWorkers,tf);if(r<tf){const n=new Array(r);for(let s=0;s<r;++s){const a=gD++%tf;n[s]=tS[a].open(e,t)}return rb(n,t)}}return rb(tS.map(r=>r.open(e,t)),t)}let nb=null;async function bB(){if(nb)return nb;new AbortController;const e=[];for(let t=0;t<tf;t++){const i=Ude.create(t).then(r=>(tS[t]=r,r));e.push(i)}return nb=Promise.all(e),nb}let I0=class extends Fe{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){this.destroyed||t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Fe.ofType(this.itemType.Type))(t):new Fe(t)}};function lC(e,t){return{type:e,cast:k9,set(i){const r=ml(i,this._get(t),e);r&&!r.destroyed&&(r.owner=this),this._set(t,r)}}}p([_()],I0.prototype,"owner",null),I0=p([ie("esri.core.support.OwningCollection")],I0);var uC,tg;let yn=(tg=class extends tt{constructor(t){super(t),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new uC({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},uC=tg,tg);p([_({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],yn.prototype,"cols",void 0),p([_({type:fi,json:{write:!0}})],yn.prototype,"level",void 0),p([_({type:String,json:{write:!0}})],yn.prototype,"levelValue",void 0),p([_({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],yn.prototype,"origin",void 0),p([_({type:Number,json:{write:!0}})],yn.prototype,"resolution",void 0),p([_({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],yn.prototype,"rows",void 0),p([_({type:Number,json:{write:!0}})],yn.prototype,"scale",void 0),yn=uC=p([ie("esri.layers.support.LOD")],yn);let Bde=class SB{constructor(t,i,r,n=Ls()){this._level=t,this._row=i,this._col=r,this.extent=n}get id(){return this._id??=`${this.level}/${this.row}/${this.col}`,this._id}get level(){return this._level}set level(t){this._level=t,this._id=null}get row(){return this._row}set row(t){this._row=t,this._id=null}get col(){return this._col}set col(t){this._col=t,this._id=null}toJSON(){return{level:this._level,row:this._row,col:this._col,extent:this.extent}}static fromJSON(t){return new SB(t.level,t.row,t.col,t.extent)}};var rm;const yD=new qr({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var ig;let Vn=(ig=class extends tt{static create(t={}){const{resolutionFactor:i=1,scales:r,size:n=256,spatialReference:s=Be.WebMercator,numLODs:a=24}=t;if(!so(s)){const x=[];if(r)for(let M=0;M<r.length;M++){const P=r[M];x.push(new yn({level:M,scale:P,resolution:P}))}else{let M=5e-4;for(let P=a-1;P>=0;P--)x.unshift(new yn({level:P,scale:M,resolution:M})),M*=2}return new rm({dpi:96,lods:x,origin:new We(0,0,s),size:[n,n],spatialReference:s})}const u=ns(s),h=t.origin?new We({x:t.origin.x,y:t.origin.y,spatialReference:s}):new We(u?{x:u.origin[0],y:u.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),f=96,v=1/(Cl(s)*39.37*f),w=[];if(r)for(let x=0;x<r.length;x++){const M=r[x],P=M*v;w.push(new yn({level:x,scale:M,resolution:P}))}else{let x=ey(s)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const M=Math.ceil(a/i);w.push(new yn({level:0,scale:x,resolution:x*v}));for(let P=1;P<M;P++){const O=x/2**i,F=O*v;w.push(new yn({level:P,scale:O,resolution:F})),x=O}}return new rm({dpi:f,lods:w,origin:h,size:[n,n],spatialReference:s})}constructor(t){super(t),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:t,origin:i}=this;if(t&&i){const r=ns(t);return t.isWrappable&&!!r&&Math.abs(r.origin[0]-i.x)<=r.dx}return!1}readOrigin(t,i){return We.fromJSON({spatialReference:i.spatialReference,...t})}set lods(t){let i=0,r=0;const n=[],s=this._levelToLOD={};t&&(i=-1/0,r=1/0,t.forEach(a=>{n.push(a.scale),i=a.scale>i?a.scale:i,r=a.scale<r?a.scale:r,s[a.level]=a})),this._set("scales",n),this._set("lods",t),this._initializeUpsampleLevels()}readSize(t,i){return[i.cols,i.rows]}writeSize(t,i){i.cols=t[0],i.rows=t[1]}zoomToScale(t){const i=this.scales;if(t<=0)return i[0];if(t>=i.length-1)return i[i.length-1];const r=Math.floor(t),n=r+1;return i[r]/(i[r]/i[n])**(t-r)}scaleToZoom(t){const i=this.scales,r=i.length-1;let n=0;for(;n<r;n++){const s=i[n],a=i[n+1];if(s<=t)return n;if(a===t)return n+1;if(s>t&&a<t)return n+Math.log(s/t)/Math.log(s/a)}return n}tileAt(t,i,r,n){const s=this.lodAt(t);if(!s)return null;let a,u;if(typeof i=="number")a=i,u=r;else if(Gr(i.spatialReference,this.spatialReference))a=i.x,u=i.y,n=r;else{const v=W_(i,this.spatialReference);if(v==null)return null;a=v.x,u=v.y,n=r}const h=s.resolution*this.size[0],f=s.resolution*this.size[1];return n??=new Bde(0,0,0),n.level=t,n.row=Math.floor((this.origin.y-u)/f+.001),n.col=Math.floor((a-this.origin.x)/h+.001),this.updateTileInfo(n),n}updateTileInfo(t,i=0){if(!("extent"in t))return!1;let r=this.lodAt(t.level);if(!r&&i===1){const u=this.lods[this.lods.length-1];u.level<t.level&&(r=u)}if(!r)return!1;const n=t.level-r.level,s=r.resolution*this.size[0]/2**n,a=r.resolution*this.size[1]/2**n;return t.extent[0]=this.origin.x+t.col*s,t.extent[1]=this.origin.y-(t.row+1)*a,t.extent[2]=t.extent[0]+s,t.extent[3]=t.extent[1]+a,!0}upsampleTile(t){const i=this._upsampleLevels[t.level];return!(!i||i.parentLevel===-1)&&(t.level=i.parentLevel,t.row=Math.floor(t.row/i.factor+.001),t.col=Math.floor(t.col/i.factor+.001),this.updateTileInfo(t),!0)}getTileBounds(t,i){const r=this.lodAt(i.level);if(r==null)return null;const{resolution:n}=r,s=n*this.size[0],a=n*this.size[1];return t[0]=this.origin.x+i.col*s,t[1]=this.origin.y-(i.row+1)*a,t[2]=t[0]+s,t[3]=t[1]+a,t}lodAt(t){return this._levelToLOD?.[t]??null}clone(){return rm.fromJSON(this.write({}))}getCompatibleForVTL(t){if(this.size[0]!==this.size[1]||this.size[0]===256&&t===512)return null;const i=(this.size[0]===512&&t===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===t&&i===0)return this;const r=[],n=this.lods.length-i;for(let s=0;s<n;s++){const a=s+i,{scale:u,resolution:h}=a>=0?this.lods[a]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new yn({level:s,scale:u,resolution:h}))}return new rm({size:[t,t],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const t=this.lods;this._upsampleLevels=[];let i=null;for(let r=0;r<t.length;r++){const n=t[r];this._upsampleLevels[n.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/n.resolution:0},i=n}}},rm=ig,ig);p([_({type:Number,json:{write:!0}})],Vn.prototype,"compressionQuality",void 0),p([_({type:Number,json:{write:!0}})],Vn.prototype,"dpi",void 0),p([_({type:String,json:{read:yD.read,write:yD.write,origins:{"web-scene":{read:!1,write:!1}}}})],Vn.prototype,"format",void 0),p([_({readOnly:!0})],Vn.prototype,"isWrappable",null),p([_({type:We,json:{write:!0}})],Vn.prototype,"origin",void 0),p([Zt("origin")],Vn.prototype,"readOrigin",null),p([_({type:[yn],value:null,json:{write:!0}})],Vn.prototype,"lods",null),p([_({readOnly:!0})],Vn.prototype,"scales",void 0),p([_({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Vn.prototype,"size",void 0),p([Zt("size",["rows","cols"])],Vn.prototype,"readSize",null),p([Gt("size",{cols:{type:fi},rows:{type:fi}})],Vn.prototype,"writeSize",null),p([_({type:Be,json:{write:!0}})],Vn.prototype,"spatialReference",void 0),Vn=rm=p([ie("esri.layers.support.TileInfo")],Vn);let jg=class extends I0{constructor(t){super(t),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(ze.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};jg=p([ie("esri.support.AnalysesCollection")],jg);const iS={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},YE={xsmall:544,small:768,medium:992,large:1200};function qde(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function JE(e,t){return t?iS[e].valueToClassName[t].split(" "):[]}const Gde=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=YE}initialize(){this.addHandles(ht(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),nn))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!qde(r)){const n=JSON.stringify(YE,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),r=YE}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=ts.acquire(),n=ts.acquire();let s,a=!1;for(s in iS){const u=this[s],h=iS[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});u!==h&&(a=!0,this[s]=h,JE(s,u).forEach(f=>n.push(f)),JE(s,h).forEach(f=>r.push(f)))}a&&(this._applyClassNameChanges(r,n),ts.release(r),ts.release(n))}_applyClassNameChanges(r,n){const s=this.container;s&&(n.forEach(a=>s.classList.remove(a)),r.forEach(a=>s.classList.add(a)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in iS)JE(n,this[n]).forEach(s=>r.classList.remove(s))}};return p([_()],i.prototype,"breakpoints",null),p([_()],i.prototype,"orientation",void 0),p([_()],i.prototype,"widthBreakpoint",void 0),p([_()],i.prototype,"heightBreakpoint",void 0),i=p([ie("esri.views.BreakpointsOwner")],i),i};function rR(e){return typeof e=="string"?document.getElementById(e):e??null}function vD(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}let pf=class extends et{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,r={}){return this._installWatch(t,i,r,ht)}addWhen(t,i,r={}){return this._installWatch(t,i,r,Ns)}addOnCollectionChange(t,i,{initial:r=!1,final:n=!1}={}){const s=++this._handleId;return this.addHandles([kf(t,"after-changes",this._createSyncUpdatingCallback(),Ch),kf(t,"change",i,{onListenerAdd:r?a=>i({added:a.toArray(),removed:[]}):void 0,onListenerRemove:n?a=>i({added:[],removed:a.toArray()}):void 0})],s),jt(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(jt(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(sb)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const r=()=>this.removeHandles(i);return t.then(r,r),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,r={},n){const s=++this._handleId;r.sync||this._installSyncUpdatingWatch(t,s);const a=n(t,i,r);return this.addHandles(a,s),jt(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,i){const r=this._createSyncUpdatingCallback(),n=ht(t,r,{sync:!0,equals:()=>!1});return this.addHandles(n,i),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(sb),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Qg(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(sb))}),sb)}}};p([_({readOnly:!0})],pf.prototype,"updating",void 0),pf=p([ie("esri.core.support.UpdatingHandles")],pf);const sb=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var x2=function(){return x2=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},x2.apply(this,arguments)},cC={exports:{}},rr={},hC={exports:{}},Hf={};function xB(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Vde(e,t,i){}function Hde(e,t,i){}var Wde=/javascript\s*\:/img;function Zde(e,t){return Wde.test(t)?"":t}Hf.whiteList=xB();Hf.getDefaultWhiteList=xB;Hf.onAttr=Vde;Hf.onIgnoreAttr=Hde;Hf.safeAttrValue=Zde;var Yde={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},$v=Yde;function Jde(e,t){e=$v.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,r=!1,n=0,s=0,a="";function u(){if(!r){var v=$v.trim(e.slice(n,s)),w=v.indexOf(":");if(w!==-1){var x=$v.trim(v.slice(0,w)),M=$v.trim(v.slice(w+1));if(x){var P=t(n,a.length,x,M,v);P&&(a+=P+"; ")}}}n=s+1}for(;s<i;s++){var h=e[s];if(h==="/"&&e[s+1]==="*"){var f=e.indexOf("*/",s+2);if(f===-1)break;s=f+1,n=s+1,r=!1}else h==="("?r=!0:h===")"?r=!1:h===";"?r||u():h===`
`&&u()}return $v.trim(a)}var Xde=Jde,ob=Hf,Kde=Xde;function _D(e){return e==null}function Qde(e){var t={};for(var i in e)t[i]=e[i];return t}function TB(e){e=Qde(e||{}),e.whiteList=e.whiteList||ob.whiteList,e.onAttr=e.onAttr||ob.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||ob.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||ob.safeAttrValue,this.options=e}TB.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,n=i.onAttr,s=i.onIgnoreAttr,a=i.safeAttrValue,u=Kde(e,function(h,f,v,w,x){var M=r[v],P=!1;if(M===!0?P=M:typeof M=="function"?P=M(w):M instanceof RegExp&&(P=M.test(w)),P!==!0&&(P=!1),w=a(v,w),!!w){var O={position:f,sourcePosition:h,source:x,isWhite:P};if(P){var F=n(v,w,O);return _D(F)?v+":"+w:F}else{var F=s(v,w,O);if(!_D(F))return F}}});return u};var efe=TB;(function(e,t){var i=Hf,r=efe;function n(a,u){var h=new r(u);return h.process(a)}t=e.exports=n,t.FilterCSS=r;for(var s in i)t[s]=i[s]})(hC,hC.exports);var nR=hC.exports,sR={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},tfe=nR.FilterCSS,ife=nR.getDefaultWhiteList,T2=sR;function MB(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var EB=new tfe;function rfe(e,t,i){}function nfe(e,t,i){}function sfe(e,t,i){}function ofe(e,t,i){}function $B(e){return e.replace(lfe,"&lt;").replace(ufe,"&gt;")}function afe(e,t,i,r){if(i=LB(i),t==="href"||t==="src"){if(i=T2.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(ab.lastIndex=0,ab.test(i))return""}else if(t==="style"){if(wD.lastIndex=0,wD.test(i)||(bD.lastIndex=0,bD.test(i)&&(ab.lastIndex=0,ab.test(i))))return"";r!==!1&&(r=r||EB,i=r.process(i))}return i=kB(i),i}var lfe=/</g,ufe=/>/g,cfe=/"/g,hfe=/&quot;/g,dfe=/&#([a-zA-Z0-9]*);?/gim,ffe=/&colon;?/gim,pfe=/&newline;?/gim,ab=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,wD=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,bD=/u\s*r\s*l\s*\(.*/gi;function CB(e){return e.replace(cfe,"&quot;")}function OB(e){return e.replace(hfe,'"')}function PB(e){return e.replace(dfe,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function AB(e){return e.replace(ffe,":").replace(pfe," ")}function RB(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return T2.trim(t)}function LB(e){return e=OB(e),e=PB(e),e=AB(e),e=RB(e),e}function kB(e){return e=CB(e),e=$B(e),e}function mfe(){return""}function gfe(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function r(a){return i?!0:T2.indexOf(e,a)!==-1}var n=[],s=!1;return{onIgnoreTag:function(a,u,h){if(r(a))if(h.isClosing){var f="[/removed]",v=h.position+f.length;return n.push([s!==!1?s:h.position,v]),s=!1,f}else return s||(s=h.position),"[removed]";else return t(a,u,h)},remove:function(a){var u="",h=0;return T2.forEach(n,function(f){u+=a.slice(h,f[0]),h=f[1]}),u+=a.slice(h),u}}}function yfe(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("<!--",i);if(r===-1){t+=e.slice(i);break}t+=e.slice(i,r);var n=e.indexOf("-->",r);if(n===-1)break;i=n+3}return t}function vfe(e){var t=e.split("");return t=t.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}rr.whiteList=MB();rr.getDefaultWhiteList=MB;rr.onTag=rfe;rr.onIgnoreTag=nfe;rr.onTagAttr=sfe;rr.onIgnoreTagAttr=ofe;rr.safeAttrValue=afe;rr.escapeHtml=$B;rr.escapeQuote=CB;rr.unescapeQuote=OB;rr.escapeHtmlEntities=PB;rr.escapeDangerHtml5Entities=AB;rr.clearNonPrintableCharacter=RB;rr.friendlyAttrValue=LB;rr.escapeAttrValue=kB;rr.onIgnoreTagStripAll=mfe;rr.StripTagBody=gfe;rr.stripCommentTag=yfe;rr.stripBlankChar=vfe;rr.cssFilter=EB;rr.getDefaultCSSWhiteList=ife;var Fx={},Jc=sR;function _fe(e){var t=Jc.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=Jc.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function wfe(e){return e.slice(0,2)==="</"}function bfe(e,t,i){var r="",n=0,s=!1,a=!1,u=0,h=e.length,f="",v="";e:for(u=0;u<h;u++){var w=e.charAt(u);if(s===!1){if(w==="<"){s=u;continue}}else if(a===!1){if(w==="<"){r+=i(e.slice(n,u)),s=u,n=u;continue}if(w===">"){r+=i(e.slice(n,s)),v=e.slice(s,u+1),f=_fe(v),r+=t(s,r.length,f,v,wfe(v)),n=u+1,s=!1;continue}if(w==='"'||w==="'")for(var x=1,M=e.charAt(u-x);M.trim()===""||M==="=";){if(M==="="){a=w;continue e}M=e.charAt(u-++x)}}else if(w===a){a=!1;continue}}return n<e.length&&(r+=i(e.substr(n))),r}var Sfe=/[^a-zA-Z0-9\\_:.-]/gim;function xfe(e,t){var i=0,r=0,n=[],s=!1,a=e.length;function u(x,M){if(x=Jc.trim(x),x=x.replace(Sfe,"").toLowerCase(),!(x.length<1)){var P=t(x,M||"");P&&n.push(P)}}for(var h=0;h<a;h++){var f=e.charAt(h),v,w;if(s===!1&&f==="="){s=e.slice(i,h),i=h+1,r=e.charAt(i)==='"'||e.charAt(i)==="'"?i:Mfe(e,h+1);continue}if(s!==!1&&h===r){if(w=e.indexOf(f,h+1),w===-1)break;v=Jc.trim(e.slice(r+1,w)),u(s,v),s=!1,h=w,i=h+1;continue}if(/\s|\n|\t/.test(f))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(w=Tfe(e,h),w===-1){v=Jc.trim(e.slice(i,h)),u(v),s=!1,i=h+1;continue}else{h=w-1;continue}else if(w=Efe(e,h-1),w===-1){v=Jc.trim(e.slice(i,h)),v=SD(v),u(s,v),s=!1,i=h+1;continue}else continue}return i<e.length&&(s===!1?u(e.slice(i)):u(s,SD(Jc.trim(e.slice(i))))),Jc.trim(n.join(" "))}function Tfe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function Mfe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function Efe(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function $fe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function SD(e){return $fe(e)?e.substr(1,e.length-2):e}Fx.parseTag=bfe;Fx.parseAttr=xfe;var Cfe=nR.FilterCSS,xa=rr,IB=Fx,Ofe=IB.parseTag,Pfe=IB.parseAttr,rS=sR;function lb(e){return e==null}function Afe(e){var t=rS.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=rS.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=rS.trim(e.slice(0,-1))),{html:e,closing:i}}function Rfe(e){var t={};for(var i in e)t[i]=e[i];return t}function Lfe(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(r){return r.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function NB(e){e=Rfe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=xa.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=Lfe(e.whiteList||e.allowList):e.whiteList=xa.whiteList,e.onTag=e.onTag||xa.onTag,e.onTagAttr=e.onTagAttr||xa.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||xa.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||xa.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||xa.safeAttrValue,e.escapeHtml=e.escapeHtml||xa.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Cfe(e.css))}NB.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,n=i.onTag,s=i.onIgnoreTag,a=i.onTagAttr,u=i.onIgnoreTagAttr,h=i.safeAttrValue,f=i.escapeHtml,v=t.cssFilter;i.stripBlankChar&&(e=xa.stripBlankChar(e)),i.allowCommentTag||(e=xa.stripCommentTag(e));var w=!1;i.stripIgnoreTagBody&&(w=xa.StripTagBody(i.stripIgnoreTagBody,s),s=w.onIgnoreTag);var x=Ofe(e,function(M,P,O,F,G){var Y={sourcePosition:M,position:P,isClosing:G,isWhite:Object.prototype.hasOwnProperty.call(r,O)},U=n(O,F,Y);if(!lb(U))return U;if(Y.isWhite){if(Y.isClosing)return"</"+O+">";var C=Afe(F),E=r[O],A=Pfe(C.html,function(k,V){var H=rS.indexOf(E,k)!==-1,q=a(O,k,V,H);return lb(q)?H?(V=h(O,k,V,v),V?k+'="'+V+'"':k):(q=u(O,k,V,H),lb(q)?void 0:q):q});return F="<"+O,A&&(F+=" "+A),C.closing&&(F+=" /"),F+=">",F}else return U=s(O,F,Y),lb(U)?f(F):U},f);return w&&(x=w.remove(x)),x};var kfe=NB;(function(e,t){var i=rr,r=Fx,n=kfe;function s(u,h){var f=new n(h);return f.process(u)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=n,(function(){for(var u in i)t[u]=i[u];for(var h in r)t[h]=r[h]})();function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(cC,cC.exports);var Fp=cC.exports,Ife=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},DB=(function(){function e(t,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=x2(x2({},Fp.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,a,u,h){return s==="a"&&a==="href"||(s==="img"||s==="source")&&a==="src"?r.sanitizeUrl(u):Fp.safeAttrValue(s,a,u,h)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;t&&!i?n=t:t&&i?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var a=t.css.whiteList;a!=null&&t.css instanceof Object&&Object.keys(a).forEach(function(u){return n.css.whiteList[u]=a[u]})}else n[s]=t[s]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new Fp.FilterXSS(n)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var r=(i??{}).isProtocolRequired,n=r===void 0?!0:r,s=this._trim(t.substring(0,t.indexOf(":"))),a=t==="/",u=/^#/.test(t),h=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return a||u||h?Fp.escapeAttrValue(t):!s&&!n?Fp.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,r,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,r,n):Fp.safeAttrValue(t,i,r,n)},e.prototype.validate=function(t,i){i===void 0&&(i={});var r=this.sanitize(t,i);return{isValid:t===r,sanitized:r}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(r,n){return i.test(r)?r:"&#x".concat(Number(t.charCodeAt(n)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(r){Object.keys(r).forEach(function(n){Array.isArray(r[n])&&Array.isArray(i[n])?i[n]=i[n].concat(r[n]):i[n]=r[n]})}),i},e.prototype._iterateOverObject=function(t,i){var r=this;i===void 0&&(i={});try{var n=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(u,h){var f=r.validate(h,i);return f.isValid?u.concat([h]):(n=!0,u.concat([f.sanitized]))},[]);else if(Ife(t)){var a=Object.keys(t);s=a.reduce(function(u,h){var f=t[h],v=r.validate(f,i);return v.isValid?u[h]=f:(n=!0,u[h]=v.sanitized),u},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return n?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e})();const Nfe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Dfe=Nfe.reduce((e,t)=>(e[t]=[],e),{}),jfe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],jB=new DB({whiteList:Dfe,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(jfe.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),e$e=new DB({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:e=>e},!1),zB="http://www.w3.org/",Bx=`${zB}2000/svg`,UB=`${zB}1999/xlink`;let xD=[],oR=(e,t)=>{let i={};return Object.keys(e).forEach(r=>{i[r]=e[r]}),t&&Object.keys(t).forEach(r=>{i[r]=t[r]}),i},aR=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),FB=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},zfe=(e,t,i)=>{if(t.vnodeSelector!==""){for(let r=i;r<e.length;r++)if(aR(e[r],t))return r}return-1},XE=(e,t,i,r)=>{let n=e[t];if(n.vnodeSelector==="")return;let s=n.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let a=0;a<e.length;a++)if(a!==t){let u=e[a];if(aR(u,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Ufe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},dC=[],fC=!1,BB=e=>{(e.children||[]).forEach(BB),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},TD=()=>{fC=!1,dC.forEach(BB),dC.length=0},MD=e=>{dC.push(e),fC||(fC=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(TD,{timeout:16}):setTimeout(TD,16))},ED=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),MD(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),MD(e))},Ffe=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,n=Object.keys(t),s=n.length;for(let a=0;a<s;a++){let u=n[a],h=t[u];if(u==="className")throw new Error('Property "className" is not supported, use "class".');if(u==="class")mC(e,h,!0);else if(u==="classes"){let f=Object.keys(h),v=f.length;for(let w=0;w<v;w++){let x=f[w];h[x]&&e.classList.add(x)}}else if(u==="styles"){let f=Object.keys(h),v=f.length;for(let w=0;w<v;w++){let x=f[w],M=h[x];M&&(FB(M),i.styleApplyer(e,x,M))}}else if(u!=="key"&&h!=null){let f=typeof h;f==="function"?(u.lastIndexOf("on",0)===0&&(r&&(h=r(u,h,e,t)),u==="oninput"&&(function(){let v=h;h=function(w){v.apply(this,[w]),w.target["oninput-value"]=w.target.value}})()),e[u]=h):i.namespace===Bx?u==="href"?e.setAttributeNS(UB,u,h):e.setAttribute(u,h):f==="string"&&u!=="value"?u==="innerHTML"?e[u]=jB.sanitize(h):pC(e)&&u in e?e[u]=h:e.setAttribute(u,h):e[u]=h}}};function pC(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let M2,Bfe=(e,t,i)=>{if(t)for(let r of t)N0(r,e,void 0,i)},qB=(e,t,i)=>{Bfe(e,t.children,i),t.text&&(e.textContent=t.text),Ffe(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},N0=(e,t,i,r)=>{let n,s=0,a=e.vnodeSelector,u=t.ownerDocument;if(a==="")n=e.domNode=u.createTextNode(e.text),i!==void 0?t.insertBefore(n,i):t.appendChild(n);else{for(let h=0;h<=a.length;++h){let f=a.charAt(h);if(h===a.length||f==="."||f==="#"){let v=a.charAt(s-1),w=a.slice(s,h);v==="."?n.classList.add(w):v==="#"?n.id=w:(w==="svg"&&(r=oR(r,{namespace:Bx})),r.namespace!==void 0?n=e.domNode=u.createElementNS(r.namespace,w):(n=e.domNode=e.domNode||u.createElement(w),w==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(n,i):n.parentNode!==t&&t.appendChild(n)),s=h+1}}qB(n,e,r)}},mC=(e,t,i)=>{t&&t.split(" ").forEach(r=>{r&&e.classList.toggle(r,i)})},qfe=(e,t,i,r)=>{if(!i)return;let n=!1,s=Object.keys(i),a=s.length;for(let u=0;u<a;u++){let h=s[u],f=i[h],v=t[h];if(h==="class")v!==f&&(mC(e,v,!1),mC(e,f,!0));else if(h==="classes"){let w=e.classList,x=Object.keys(f),M=x.length;for(let P=0;P<M;P++){let O=x[P],F=!!f[O];F!==!!v[O]&&(n=!0,F?w.add(O):w.remove(O))}}else if(h==="styles"){let w=Object.keys(f),x=w.length;for(let M=0;M<x;M++){let P=w[M],O=f[P];O!==v[P]&&(n=!0,O?(FB(O),r.styleApplyer(e,P,O)):r.styleApplyer(e,P,""))}}else if(f||typeof v!="string"||(f=""),h!=="value"||pC(e)){if(f!==v){let w=typeof f;w==="function"&&r.eventHandlerInterceptor||(r.namespace===Bx?h==="href"?e.setAttributeNS(UB,h,f):e.setAttribute(h,f):w==="string"?h==="innerHTML"?e[h]=jB.sanitize(f):h==="role"&&f===""?e.removeAttribute(h):pC(e)&&h in e?e[h]=f:e.setAttribute(h,f):e[h]!==f&&(e[h]=f),n=!0)}}else{let w=e[h];w!==f&&(e["oninput-value"]?w===e["oninput-value"]:f!==v)&&(e[h]=f,e["oninput-value"]=void 0),f!==v&&(n=!0)}}return n},Gfe=(e,t,i,r,n)=>{if(i===r)return!1;r=r||xD;let s,a=(i=i||xD).length,u=r.length,h=0,f=0,v=!1;for(;f<u;){let w=h<a?i[h]:void 0,x=r[f];if(w!==void 0&&aR(w,x))v=M2(w,x,n)||v,h++;else{let M=zfe(i,x,h+1);if(M>=0){for(s=h;s<M;s++)ED(i[s]),XE(i,s,e,"removed");v=M2(i[M],x,n)||v,h=M+1}else N0(x,t,h<a?i[h].domNode:void 0,n),Ufe(x),XE(r,f,e,"added")}f++}if(a>h)for(s=h;s<a;s++)ED(i[s]),XE(i,s,e,"removed");return v};M2=(e,t,i)=>{let r=e.domNode,n=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(a,r),t.domNode=a,n=!0,n}t.domNode=r}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=oR(i,{namespace:Bx})),e.text!==t.text&&(s=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,s=Gfe(t,r,e.children,t.children,i)||s,s=qfe(r,e.properties,t.properties,i)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),n};let ub=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,M2(r,i,t)},domNode:e.domNode});const Vfe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let Xv=e=>oR(Vfe,e),ch={append:(e,t,i)=>(i=Xv(i),N0(t,e,void 0,i),ub(t,i)),insertBefore:(e,t,i)=>(i=Xv(i),N0(t,e.parentNode,e,i),ub(t,i)),merge:(e,t,i)=>(i=Xv(i),t.domNode=e,qB(e,t,i),ub(t,i)),replace:(e,t,i)=>(i=Xv(i),N0(t,e.parentNode,e,i),e.parentNode.removeChild(e),ub(t,i))},GB,Hfe=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};GB=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Wfe=(e,t)=>{let i=e;return t.forEach(r=>{i=i&&i.children?GB(i.children,n=>n.domNode===r):void 0}),i},Zfe=(e,t,i)=>{let r=function(n){i("domEvent",n);let s=t(),a=Hfe(n.currentTarget,s.domNode);a.reverse();let u,h=Wfe(s.getLastRender(),a);return e.scheduleRender(),h&&(u=h.properties[`on${n.type}`].apply(h.properties.bind||this,arguments)),i("domEventProcessed",n),u};return(n,s,a,u)=>r},$D=e=>{let t,i,r=Xv(e),n=r.performanceLogger,s=!0,a=!1,u=[],h=[],f=(w,x,M)=>{let P,O=()=>P;r.eventHandlerInterceptor=Zfe(t,O,n),P=w(x,M(),r),u.push(P),h.push(M)},v=()=>{if(i=void 0,s){s=!1,n("renderStart",void 0);for(let w=0;w<u.length;w++){let x=h[w]();n("rendered",void 0),u[w].update(x),n("patched",void 0)}n("renderDone",void 0),s=!0}};return t={renderNow:v,scheduleRender:()=>{i||a||(i=requestAnimationFrame(v))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(w,x)=>{f(ch.append,w,x)},insertBefore:(w,x)=>{f(ch.insertBefore,w,x)},merge:(w,x)=>{f(ch.merge,w,x)},replace:(w,x)=>{f(ch.replace,w,x)},detach:w=>{for(let x=0;x<h.length;x++)if(h[x]===w)return h.splice(x,1),u.splice(x,1)[0];throw new Error("renderFunction was not found")}},t},Dc=class extends et{constructor(){super(...arguments),this.items=new Fe,this._watchUpdatingTracking=new pf,this._callbacks=new Map,this._projector=$D(),this._hiddenProjector=$D()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const n=()=>r.render();this._callbacks.set(r,n),this._projector.append(this.surface,n)}for(const r of i.removed){const n=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(n.domNode),this._callbacks.delete(r)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const i=this._hiddenSurface,r=this._hiddenProjector;let n;const s=()=>(n=t.render(),n);r.append(i,s),r.renderNow();const a={left:0,top:0,right:0,bottom:0};if(n?.domNode){const u=n.domNode.getBoundingClientRect();a.left=u.left,a.top=u.top,a.right=u.right,a.bottom=u.bottom}for(r.detach(s);i.firstChild;)i.removeChild(i.firstChild);return a}overlaps(t,i){const r=this.computeBoundingRect(t),n=this.computeBoundingRect(i);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,i){const r=!!i?.disableDecorations;if(!this.items.some(s=>s.visible&&!(r&&s.isDecoration)))return;const n=t.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(s=>{r&&s.isDecoration||(n.save(),s.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};p([_({readOnly:!0})],Dc.prototype,"surface",void 0),p([_({readOnly:!0})],Dc.prototype,"items",void 0),p([_({readOnly:!0})],Dc.prototype,"needsRender",null),p([_({readOnly:!0})],Dc.prototype,"_watchUpdatingTracking",void 0),p([_({readOnly:!0})],Dc.prototype,"updating",null),Dc=p([ie("esri.views.overlay.ViewOverlay")],Dc);const CD=Dc,KE=[0,0];function Yfe(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return KE[0]=i.left+(t?.pageXOffset??0),KE[1]=i.top+(t?.pageYOffset??0),KE}function OD(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function Jfe(e){const t=document.createElement("div");return e.appendChild(t),t}const Bp=16,Cv=750,Xfe=512,Kfe=2,Qfe=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this._freqInfo={freq:Bp,time:Cv},this._overlayRenderTaskHandle=null,this.aria={},this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([ht(()=>this.cursor,n=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",n)}),ht(()=>this.navigating,n=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",n.toString())}),ht(()=>[this.aria,this.surface],()=>this._updateAria(),{initial:!0})])}initialize(){const r=this;this.addHandles([ht(()=>this.ui,(n,s)=>this._handleUIChange(n,s),nn),r.on("focus",()=>this.notifyChange("focused")),r.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),s=rR(r);if(s||typeof r!="string"||ze.getLogger(this).error("#container",`element with id '${r}' not found`),n===s)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(OD(this.root),this._set("root",null)),this.userContent&&(vD(this.userContent,n),OD(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const a=document.createElement("div");a.className="esri-view-user-storage",vD(s,a),s.appendChild(a),this._set("userContent",a);const u=document.createElement("div");u.className="esri-view-root",s.insertBefore(u,s.firstChild),this._set("root",u);const h=document.createElement("div");h.className="esri-view-surface",h.setAttribute("role","application"),h.tabIndex=0,u.appendChild(h),this._set("surface",h);const f=new CD;u.appendChild(f.surface),this._set("overlay",f),this.addHandles(ht(()=>f.needsRender,v=>{v&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Eg({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=Oi(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}set ui(r){const n=this._get("ui");n!==r&&n?.destroy(),this._set("ui",r)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(r,n,s){const a=this.position;return r-=a?a[0]:0,n-=a?a[1]:0,s?(s[0]=r,s[1]=n):s=[r,n],s}containerToPage(r,n,s){const a=this.position;return r+=a?a[0]:0,n+=a?a[1]:0,s?(s[0]=r,s[1]=n):s=[r,n],s}_updateAria(){const{surface:r,aria:n}=this;r&&(r.ariaLabelledByElements=n?.labelledByElements??null,r.ariaDescribedByElements=n?.describedByElements??null,r.ariaLabel=n?.label??null,r.ariaDescription=n?.description??null)}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(ht(()=>this.root,s=>{r.container=s?Jfe(s):null},nn),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=Bp,r.time=Cv;const n=Eg({prepare:u=>{const h=this._measure(),f=this._freqInfo;if(f.time+=u.deltaTime,h&&(f.freq=Bp,this._get("resizing")||this._set("resizing",!0)),f.time<f.freq)return;f.time=0;const v=this._position();f.freq=v||h?Bp:Math.min(Cv,f.freq*Kfe),!h&&f.freq>=Xfe&&(n.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(u=>{r.freq=Bp,r.time=Cv,n.resume()});this.container!=null&&s.observe(this.container);const a=jt(()=>s.disconnect());this.addHandles([Zg(window,"resize",()=>{r.freq=Bp,r.time=Cv,n.resume()}),a,n],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,s=r?r.clientHeight:0;if(n===0||s===0)return this.suspended||this._set("suspended",!0),!1;const a=this.width,u=this.height;return n===a&&s===u?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:a,oldHeight:u,width:n,height:s}),!0)}_position(){const r=this.container,n=this.position,s=r&&Yfe(r);return!!s&&(!n||s[0]!==n[0]||s[1]!==n[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return p([_()],i.prototype,"aria",void 0),p([_()],i.prototype,"container",null),p([_({readOnly:!0})],i.prototype,"focused",null),p([_({readOnly:!0})],i.prototype,"height",void 0),p([_()],i.prototype,"messagesCommon",void 0),p([_({type:CD})],i.prototype,"overlay",void 0),p([_({readOnly:!0})],i.prototype,"position",void 0),p([_({readOnly:!0})],i.prototype,"resizing",void 0),p([_({readOnly:!0})],i.prototype,"root",void 0),p([_({value:null,readOnly:!0})],i.prototype,"size",null),p([_({readOnly:!0})],i.prototype,"surface",void 0),p([_({readOnly:!0})],i.prototype,"suspended",void 0),p([_({nonNullable:!0})],i.prototype,"ui",null),p([_({readOnly:!0})],i.prototype,"userContent",void 0),p([_({readOnly:!0})],i.prototype,"width",void 0),p([_()],i.prototype,"widthBreakpoint",void 0),i=p([ie("esri.views.DOMContainer")],i),i},cb="popup",PD="manual";function yl(e){return e!=null&&"open"in e&&"declaredClass"in e}function ju(e){return!!e&&e.tagName.toLowerCase()==="arcgis-popup"&&"open"in e}function epe(e,t,i){const[r,n,s]=t;if(i){const[a,u,h]=i;a&&yl(u)&&(u.view=null,a.remove(u,cb),u!==n&&n&&u.destroy()),a&&h&&ju(h)&&(h.view=null,a.remove(h,cb),h!==s&&s&&h.remove())}r&&yl(n)&&(n.view=e,r.add(n,{key:cb,position:PD,internal:!0})),r&&s&&ju(s)&&(s.view=e,r.add(s,{key:cb,position:PD,internal:!0}))}async function tpe(e,t){const{popup:i,popupElement:r}=e;yl(i)?await hb(i,null,t):r&&ju(r)?await hb(null,r,t):t?.defer(async()=>{await e.setupPopup();const{popup:n,popupElement:s}=e;yl(n)&&!e.destroyed&&e.ready&&e.popupEnabled?await hb(n,null,t):s&&ju(s)&&await hb(null,s,t)})}function ipe(e,t){const{popup:i,popupElement:r}=e;if(yl(i))return i.open(t);r&&ju(r)&&r.open(t)}function rpe(e,t){yl(e)&&e.close(),t&&ju(t)&&(t.visible=!1)}async function hb(e,t,i){if(yl(e)){const r=await e.viewModel.handleViewClick(i);return void(r?.promises?.length?e.open(r):e.visible&&e.close())}if(t&&ju(t)){const r=await t.handleViewClick(i);r?.promises?.length?t.open(r):t.visible&&(t.visible=!1)}}const VB=pe("mac")?"Meta":"Control",npe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),spe=e=>npe.has(e);let ope=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},Vr=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,r){let n;typeof i=="function"?(r=i,n=[]):n=i||[];const s=typeof t=="string"?new ope(t,n):t,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},u=v=>{const w=this._incoming[v.match.eventType];if(w){const x=w.indexOf(v);w.splice(x,1),a(),this._manager&&this._manager.updateDependencies()}},h=new ape(s,r,{onPause:u,onRemove:u,onResume:v=>{const w=this._incoming[v.match.eventType];w&&!w.includes(v)&&(w.push(v),a(),this._manager&&this._manager.updateDependencies())}});let f=this._incoming[s.eventType];return f||(f=[],this._incoming[s.eventType]=f),f.push(h),a(),this._manager&&this._manager.updateDependencies(),h}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new lpe(t,{onEmit:(r,n,s,a)=>{this._manager?.emit(r.eventType,n,s,a)},onRemove:r=>{delete this._outgoing[r.eventType],this._manager?.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){this._manager?.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager?.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){const i=this._incoming[t.type];if(i){for(const r of i)if(r.match.matches(t)&&(r.callback?.(t),t.shouldStopPropagation()))break}}},ape=class{constructor(t,i,r){this.match=t,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},lpe=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,r){this._removed||this._handler.onEmit(this,t,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},upe=class extends Vr{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this._id=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:r,y:n,native:{pointerId:s}}=t;i===this._value&&this._x===r&&this._y===n&&this._id===s||(this._value=i,this._x=r,this._y=n,this._id=s,this._onChange(s,i,r,n))}},cpe=class{constructor(t,i){this._observable=new V_,this._value=t,this._equalityFunction=i}get value(){return ut(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function zg(e,t=o8){return new cpe(e,t)}let hpe=class extends Vr{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=zg(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},dpe=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in t){const n=t[r],s=new o9(n,void 0,void 0,2,2);this._properties[r]={pool:s,acquired:[]}}this._afterDispatchHandle=Rie(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const r of i.acquired)w4(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),r=this._properties[t];let n=r.pool.acquire();for(r.acquired.push(n);n===i;)n=r.pool.acquire(),r.acquired.push(n);return y9(),n}_release(){for(const t in this._properties){const i=this._properties[t];let r=0;for(const n of i.acquired)w4(n)?i.acquired[r++]=n:i.pool.release(n);i.acquired.length=r}}},fpe=class{constructor(){this.id=0,this.type="mouse",this.location=Br()}},_a=class extends et{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=VB,this._propertiesPool=new dpe({latestPointerInfo:()=>new fpe},this),this._latestPointerInfo=void 0,this._paused=!1,this._testTimestamp=void 0}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get latestPointerInfo(){return this._latestPointerInfo}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,r=Iu.INTERNAL){if(this._nameToGroup[t]||i.length===0)return;const n={name:t,handlers:i.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=n;for(let s=n.handlers.length-1;s>=0;s--){const a=n.handlers[s];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(u,h,f,v,w)=>{this._emitInputEvent(a.priorityIndex+1,u,h,f,w,v)},setPointerCapture:(u,h)=>{this._setPointerCapture(n,a,u,h)},setEventCallback:u=>{a.eventCallback=u},setUninstallCallback:u=>{a.uninstallCallback=u},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(r=>{r.removed=!0,r.uninstallCallback?.()}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ze.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const n=this._handlersPriority[r];n.priorityIndex=r;let s=n.handler.hasSideEffects;if(!s){for(const a of n.handler.outgoingEventTypes)if(t.has(a)){s=!0;break}}if(s)for(const a of n.handler.incomingEventMatches){t.add(a.eventType);for(const u of a.keyModifiers)spe(u)||i.add(u)}n.active=s}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,r,n){const s=this._latestPointerInfo;if(s==null||s.id!==t||s.type!==i||s.location.x!==r||s.location.y!==n){const a=this._propertiesPool.get("latestPointerInfo");a.id=t,a.type=i,a.location.x=r,a.location.y=n,this._latestPointerInfo=a}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const s=i;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,i);const r=this._testTimestamp??i.native?.timestamp,n=i.native?.cancelable;this._emitInputEventFromSource(t,i,r,n)}_updateKeyModifiers(t,i){if(!i)return;let r=!1;const n=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},s=(u,h)=>{h&&!this._activeKeyModifiers.has(u)?(n(),this._activeKeyModifiers.add(u)):!h&&this._activeKeyModifiers.has(u)&&(n(),this._activeKeyModifiers.delete(u))};if(t==="key-down"||t==="key-up"){const u=i.key;this._keyModifiers.has(u)&&s(u,t==="key-down")}const a=i.native;s("Alt",!!a?.altKey),s("Control",!!a?.ctrlKey),s("Ctrl",!!a?.ctrlKey),s("Shift",!!a?.shiftKey),s("Meta",!!a?.metaKey),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new upe((t,i,r,n)=>this._setLatestPointer(t,i,r,n)),this._multiTouchHandler=new hpe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Iu.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Iu.INTERNAL)}_setPointerCapture(t,i,r,n){const s=t.name+"-"+i.priorityIndex,a=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,a),n?(a.add(s),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):a.has(s)&&(a.delete(s),a.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,r,n){this._emitInputEvent(0,t,i,r,n)}_emitInputEvent(t,i,r,n,s,a){const u=n??this._currentPropagation?.timestamp??performance.now(),h=s??!1,f={event:new ppe(i,r,u,a||this._activeKeyModifiers,h),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(f):this._doNewPropagation(f)}_doNewPropagation(t){this._currentPropagation={events:new m_,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:i,priorityIndex:r}=t.events.pop(),n=i.data?.eventId;if(!(n!=null&&this._stoppedPropagationEventIds.has(n)))for(t.currentHandler=this._handlersPriority[r];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!i.shouldStopPropagation()&&t.currentHandler.eventCallback?.(i),i.shouldStopPropagation()){n!=null&&this._stoppedPropagationEventIds.add(n);break}if(i.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:i,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new m_;i.push(t);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const r of t.handler.incomingEventMatches)for(const n of i.handler.incomingEventMatches){if(r.eventType!==n.eventType)continue;const s=r.keyModifiers.filter(a=>n.keyModifiers.includes(a));if(s.length===r.keyModifiers.length!=(s.length===n.keyModifiers.length))return r.keyModifiers.length>n.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const r of t){let n=0;for(;n<i.length&&this._compareHandlerPriority(r,i[n])>=0;)n++;i.splice(n,0,r)}return i}get test(){}};p([_({readOnly:!0})],_a.prototype,"hasPendingInputs",null),p([_({constructOnly:!0})],_a.prototype,"eventSource",void 0),p([_({constructOnly:!0})],_a.prototype,"recognizers",void 0),p([_()],_a.prototype,"multiTouchActive",null),p([_()],_a.prototype,"_latestPointerInfo",void 0),p([_()],_a.prototype,"latestPointerInfo",null),p([_()],_a.prototype,"_paused",void 0),p([_({readOnly:!0})],_a.prototype,"updating",null),_a=p([ie("esri.views.input.InputManager")],_a);let ppe=class{constructor(t,i,r,n,s){this.type=t,this.data=i,this.timestamp=r,this.modifiers=n,this.cancelable=s,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return!!(1&this._propagationState)}defer(t){this._propagationState|=2;const i=(r,n)=>{this._propagationState&=-3;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),n)throw r;return r};return(typeof t=="function"?t():t).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(t){return!!(2&this._propagationState)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};const Iu={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},mpe=e=>{const t=e;let i=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([ht(()=>[this.ui,this.popup,this.popupElement],([r,n,s],a)=>{const[u,h,f]=a??[];epe(this,[r,n,s],[u,h,f])},On),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&tpe(this,r)},Iu.WIDGET)]),IA(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>Ne(()=>import("./Popup-C-tek09n.js").then(r=>r.P),__vite__mapDeps([210,211,1,212,213,214,215,186,182,159,146,183,14,184,185,124,69,187,104,145,188,65,112,216,38,217,218,113,114,7,8,180,181,117,66,61,109,59,60,35,36,37,219,94,92,93,9,47,50,95,220,221,222,223,224,3,12,225,226,227,228,10,229,230,231,232,233,234,136,235,236,237,238,239,11,13,240,241,242,243,244,16,245,246,179,247,248,15,249,250,251,252,253,254,255,256,257,258,25,259,116,260,261,262,263]),import.meta.url))}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(yl(this.popup))return this.popup.open(r);if(this.popupElement&&ju(this.popupElement))this.popupElement.open(r).catch(()=>{});else try{if(await this.setupPopup(),!this.popup)return void ze.getLogger(this).error(new $e("view:null-popup","Popup is null and can't be opened"));ipe(this,r)}catch{}}closePopup(){this._popupSetupTask?.abort(),rpe(this.popup,this.popupElement)}async fetchPopupFeatures(r,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,n),n)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!yl(this.popup))return this._popupSetupTask=wx(async r=>{if(!this.popupEnabled||!ju(this.popupElement))if(this.dependencies.popup&&typeof this.dependencies.popup=="function")await this.dependencies.popup(),Li(r),customElements.get("arcgis-popup")||ze.getLogger(this).error(new $e("view:undefined-popup-element","`arcgis-popup` custom element is undefined and can't be opened")),this.popupElement=document.createElement("arcgis-popup");else{const{default:n}=await Ne(()=>import("./Popup-C-tek09n.js").then(a=>a.P),__vite__mapDeps([210,211,1,212,213,214,215,186,182,159,146,183,14,184,185,124,69,187,104,145,188,65,112,216,38,217,218,113,114,7,8,180,181,117,66,61,109,59,60,35,36,37,219,94,92,93,9,47,50,95,220,221,222,223,224,3,12,225,226,227,228,10,229,230,231,232,233,234,136,235,236,237,238,239,11,13,240,241,242,243,244,16,245,246,179,247,248,15,249,250,251,252,253,254,255,256,257,258,25,259,116,260,261,262,263]),import.meta.url);if(Li(r),!this.popup||yl(this.popup))return;const s=this.popup;if("open"in s||"close"in s){const{open:a,close:u,...h}=s;this.popup=new n({...h})}else this.popup=new n(s)}}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:n},s){const a=[],u=[];let h=!1;const f=lte(s,pe("popup-view-fetch-timeout")??ype),v=M=>{const P=new gpe(M);return u.push(P),a.push(P.promise),P},w=M=>{const P=u.at(-1);return P&&P.layerView===M&&!h?P:v(M)};for(const M of n)"graphic"in M?(w(M.layerView).graphics.push(M.graphic),h=!1):(a.push(M.layerView.fetchPopupFeaturesAtLocation(M.mapPoint,f)),h=!0);u.forEach(M=>M.resolve(f));const x=ate(a).then(M=>M.filter(P=>!!P).flat());return{pendingFeatures:a,allGraphicsPromise:x,location:r}}async _getPopupHits(r,n){const{hits:s,location:a}=await this.popupHitTest(r);Li(n);const u=[];for(const h of s)if("graphic"in h){if(this._isValidPopupGraphic(h.graphic,n)){const f=this._isValidPopupGraphicsLayerView(h.layerView)?h.layerView:void 0;u.push({graphic:h.graphic,layerView:f})}}else this._isValidPopupLocationLayerView(h.layerView)&&u.push({mapPoint:h.mapPoint,layerView:h.layerView});return{hits:u,location:a}}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return p([_()],i.prototype,"popup",void 0),p([_()],i.prototype,"popupElement",void 0),p([_()],i.prototype,"popupEnabled",void 0),i=p([ie("esri.views.PopupView")],i),i};let gpe=class{constructor(t){this.layerView=t,this._resolver=uo(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:i,graphics:r,_resolver:n}=this;if(!i)return n.resolve(r),n.promise;let s;return i.fetchPopupFeaturesFromGraphics(r,t).catch(a=>(s=a,null)).then(a=>{a?n.resolve(a):n.reject(s)}),n.promise}};const ype=5e3;var Kv;const E2=Ds()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),HB=E2.jsonValues.slice();V3(HB,"orthometric");const D0=Ds()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let $s=Kv=class extends tt{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return E2.write(e,t,i)}readHeightModel(e,t,i){return E2.read(e)||(i?.messages&&i.messages.push(vpe(e,{context:i})),null)}readHeightUnit(e,t,i){return D0.read(e)||(i?.messages&&i.messages.push(AD(e,{context:i})),null)}readHeightUnitService(e,t,i){return vA(e)||D0.read(e)||(i?.messages&&i.messages.push(AD(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Kv({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=tU(t);return new Kv({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Kv;return t.read(e,{origin:"web-scene"}),t}};function AD(e,t){return new bl("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function vpe(e,t){return new bl("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}p([_({type:E2.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:HB,default:"ellipsoidal",write:{isRequired:!0}}}}})],$s.prototype,"heightModel",void 0),p([Gt("web-scene","heightModel")],$s.prototype,"writeHeightModel",null),p([Zt(["web-scene","service"],"heightModel")],$s.prototype,"readHeightModel",null),p([_({type:D0.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:D0.jsonValues,write:{writer:D0.write,isRequired:!0}}}}})],$s.prototype,"heightUnit",void 0),p([Zt("web-scene","heightUnit")],$s.prototype,"readHeightUnit",null),p([Zt("service","heightUnit")],$s.prototype,"readHeightUnitService",null),p([_({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],$s.prototype,"vertCRS",void 0),p([Zt("service","vertCRS",["vertCRS","ellipsoid","geoid"])],$s.prototype,"readVertCRS",null),$s=Kv=p([ie("esri.geometry.HeightModelInfo")],$s);let QE;async function _pe(){return QE==null&&(QE=Ne(()=>import("./WhereClauseCache-CB5NedtN.js"),__vite__mapDeps([57,7,8,58,59,60,61]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),QE}async function wpe(e,t){const i=await _pe(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function p$e(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function m$e(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function g$e(e,t){return t.length===0?null:`${e} IN (${bpe(t)})`}function bpe(e){return e.map(t=>typeof t=="string"?Spe(t):t).join(",")}function Spe(e){return`'${e.replaceAll("'","''")}'`}function y$e(e){return typeof e=="number"}function v$e(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function _$e(e){return typeof e=="boolean"}function s1(e){return typeof e=="string"||e instanceof String}function xpe(e){return e==null||s1(e)}function w$e(e){return Array.isArray(e)}function b$e(e){return e?.declaredClass==="esri.Graphic"}function S$e(e){return e instanceof Date}const Tpe="HH:mm",Mpe="HH:mm:ss",Epe="HH:mm:ss.SSS",$pe=[Epe,Mpe,Tpe,"TT"],Cpe="yyyy-MM-dd";function RD(e){if(!e||!s1(e))return null;const t=pt.fromFormat(e,Cpe);return t.isValid?t:null}function LD(e){return e&&s1(e)?ste($pe,t=>{const i=pt.fromFormat(e,t);return i.isValid?i:null})??null:null}function kD(e){if(!e||!s1(e))return null;const t=pt.fromISO(e);return t.isValid?t:null}const WB=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Ope(e){return e!=null&&WB.has(e.type)}function ZB(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function YB(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function JB(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const Ppe=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);QP(WB,Ppe);function x$e(e,t){const i=e?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,s=Ope(e);return ZB(e)||JB(e)||YB(e)?{...Ape(e,n,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:n!=null&&typeof n=="number"?n:null,rawMin:r,rawMax:n,isInteger:s}}function Ape(e,t,i){return ZB(e)?{min:RD(i)?.toMillis(),max:RD(t)?.toMillis(),rawMin:i,rawMax:t}:JB(e)?{min:LD(i)?.toMillis(),max:LD(t)?.toMillis(),rawMin:i,rawMax:t}:YB(e)?{min:kD(i)?.toMillis(),max:kD(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function Rpe(e){if(!e)return;const t=e.match(Lpe);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const Lpe=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function T$e(e){return e.match(kpe)?.[1]?.replaceAll("\\'","'")??null}const kpe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let e3;function Ipe(){return e3||(e3=(async()=>{const[e,t,i]=await Promise.all([Ne(()=>import("./arcadeUtils-DFounR8z.js"),__vite__mapDeps([264,265,266,60,267,59,61,268,221,269,49,47,9,50,66,270,271,58,116,272,222,223,273]),import.meta.url),Ne(()=>import("./batchExec-BZC6BJr2.js"),__vite__mapDeps([274,128]),import.meta.url),Ne(()=>import("./aiServices-xA0CUAUT.js").then(r=>r.a),__vite__mapDeps([270,61,267,59,60,268,221,271,266]),import.meta.url)]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:i,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel,Pixel:e.Pixel}})()),e3}const Npe=/^([0-9_])/,Dpe=/[^a-z0-9_\u0080-\uffff]+/gi;function M$e(e){return e==null?null:e.trim().replaceAll(Dpe,"_").replace(Npe,"F$1")||null}const jpe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],zpe=["field","normalizationField"];function E$e(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(ID(jpe,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)ID(zpe,r,t)}}function ID(e,t,i){if(e)for(const r of e){const n=ux(r,t),s=n&&typeof n!="function"&&i.get(n);s&&Vg(r,s.name,t)}}function $$e(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const t3=new Set;function lR(e,t){return e&&t?(t3.clear(),y_(t3,e,t),Array.from(t3).sort()):[]}function y_(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)v_(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function v_(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function C$e(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function O$e(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=lR(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Nf(e,t,i,r){if(!r)return;const n=Rpe(r);if(n)v_(e,t,n);else{const{arcadeUtils:s}=await Ipe(),a=s.extractFieldNames(r,i?.partitions??t?.fields?.map(u=>u.name));for(const u of a)v_(e,i?.index??t,u)}}async function uR(e,t,i){if(i&&i!=="1=1"){const r=await wpe(i,t);if(!r.isStandardized)throw new $e("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});y_(e,t,r.fieldNames)}}function P$e({displayField:e,fields:t}){return e||(t?.length?Upe(t):null)}function Upe(e){return i3(e,"name-or-title")||i3(e,"unique-identifier")||i3(e,"type-or-category")||Fpe(e)}function Fpe(e){for(const t of e){if(!t?.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function i3(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function A$e(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function Bpe(e,t,i){i.onStatisticExpression?Nf(e,t,null,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function R$e(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(XB(e,t,n)),i.fields&&r.push(...i.fields.map(async s=>Bpe(e,t.fieldsIndex,s))),await Promise.all(r)}async function L$e(e,t){const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const n=[r.latestObservations.renderer?.collectRequiredFields(e,i),r.previousObservations.renderer?.collectRequiredFields(e,i),r.trackLines.renderer?.collectRequiredFields(e,i)];r.popupTemplate&&n.push(XB(e,t,r.popupTemplate));for(const s of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(s)for(const a of s)n.push(eq(e,i,a));await Promise.all(n)}async function XB(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(s=>Nf(e,t.fieldsIndex,null,s.expression)));const n=i?.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&r.push(Nf(e,t.fieldsIndex,null,s.expressionInfo.expression));await Promise.all(r)}async function k$e(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&y_(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&y_(e,t.fieldsIndex,[t.floorInfo.floorField]),i?.where!=null&&await uR(e,t.fieldsIndex,i.where))}async function I$e(e,t,i){t&&i&&await Promise.all(i.map(r=>qpe(e,t,r)))}async function qpe(e,t,i){t&&i&&(i.valueExpression?await Nf(e,t.fieldsIndex,null,i.valueExpression):i.field&&v_(e,t.fieldsIndex,i.field))}function N$e(e){return e?lR(e.fieldsIndex,KB(e)):[]}function Gpe(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?lR(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function D$e(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(n=>uR(e,r,n.where)))}const Vpe=new Set(["oid","global-id","guid"]),Hpe=new Set(["oid","global-id"]),Wpe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function Zpe(e){const t=new Set;QB(e).forEach(r=>t.add(r)),Gpe(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function KB(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:s}=t;return[i,r,n,s].filter(Boolean)}function QB(e){return KB(e).map(t=>t.toLowerCase())}function j$e(e,t){return e.editable&&!Vpe.has(e.type)&&!QB(t).includes(e.name?.toLowerCase()??"")}function z$e(e,t){const i=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&i===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&i===t.globalIdField.toLowerCase()||Zpe(t).includes(i)||Hpe.has(e.type)||Wpe.some(r=>r.test(i)))}async function U$e(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map(n=>eq(e,r,n)))}async function eq(e,t,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if(r.type==="arcade")await Nf(e,t,null,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(a=>{v_(e,t,a.slice(1,-1))})}await uR(e,t,n)}function F$e(e){const t=e.defaultValue;return t!==void 0&&iq(e,t)?t:e.nullable?null:void 0}function B$e(e){const t=typeof e=="string"?{type:e}:e;return nme(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function tq(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Ype(e){return e===null||tq(e)}function Jpe(e){return e===null||Number.isInteger(e)}function Xpe(){return!0}function iq(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Jpe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?Ype:tq;break;case"string":case"esriFieldTypeString":i=e.nullable?xpe:s1;break;default:i=Xpe}return arguments.length===1?i:i(t)}const Kpe=["integer","small-integer","big-integer","long"],Qpe=["single","double"],eme=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],tme=["esriFieldTypeSingle","esriFieldTypeDouble"],rq=new Set([...Kpe,...eme]),ime=new Set([...Qpe,...tme]),rme=QP(rq,ime);function q$e(e){return e!=null&&rq.has(e.type)}function nq(e){return e!=null&&rme.has(e.type)}function nme(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function sme(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function ome(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function ame(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function lme(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function G$e(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function V$e(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function H$e(e,t){return ume(e,t)===null}function W$e(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function ume(e,t){return e==null||e.nullable&&t===null?null:iq(e,t)?nq(e)&&!cme(e.type,Number(t))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function cme(e,t){const i=typeof e=="string"?sq(e):e;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=n:t>=r&&t<=n}function sq(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return hme;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return dme;case"esriFieldTypeBigInteger":case"big-integer":return fme;case"esriFieldTypeSingle":case"single":return pme;case"esriFieldTypeDouble":case"double":return mme}}const hme={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},dme={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},fme={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},db=(2-2**-23)*2**127,pme={min:-db,max:db,isInteger:!1,rawMin:-db,rawMax:db},mme={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Z$e(e,t,i){switch(e){case"domain-validation-error::invalid-coded-value":return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case"type-validation-error::invalid-type":return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:r,max:n}=sq(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${n}`}}}function Y$e(e,t){return!gme(e,t,null)}function gme(e,t,i){if(!e?.attributes||!t)return!0;const r=new Set(Object.keys(e.attributes));let n=!1;for(const s of t)if(!r.has(s)&&(n=!0,i==null))break;return n}function J$e(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function yme(e){const t=e?.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let nS=class extends tt{constructor(t){super(t),this.type=null}};p([_({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],nS.prototype,"type",void 0),nS=p([ie("esri.popup.content.Content")],nS);const zu=nS,fb=new qr({asc:"ascending",desc:"descending"});let Qv=class extends on(tt){constructor(t){super(t),this.field=null,this.order="ascending"}};p([_({type:String,json:{write:!0}})],Qv.prototype,"field",void 0),p([_({type:fb.apiValues,json:{type:fb.jsonValues,read:fb.read,write:fb.write}})],Qv.prototype,"order",void 0),Qv=p([ie("esri.popup.support.AttachmentsOrderByInfo")],Qv);const vme=Qv;let Qa=class extends on(zu){constructor(t){super(t),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};p([_({type:[String],json:{write:!0}})],Qa.prototype,"attachmentKeywords",void 0),p([_({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],Qa.prototype,"attachmentTypes",void 0),p([_({type:String,json:{write:!0}})],Qa.prototype,"description",void 0),p([_({type:["auto","preview","list"],json:{write:!0}})],Qa.prototype,"displayType",void 0),p([_({type:[vme],json:{write:!0}})],Qa.prototype,"orderByFields",void 0),p([_({type:String,json:{write:!0}})],Qa.prototype,"title",void 0),p([_({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Qa.prototype,"type",void 0),Qa=p([ie("esri.popup.content.AttachmentsContent")],Qa);const __=Qa;var gC;let Rd=gC=class extends zu{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new gC({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ke(this.outFields):null})}};p([_()],Rd.prototype,"creator",void 0),p([_()],Rd.prototype,"destroyer",void 0),p([_()],Rd.prototype,"outFields",void 0),p([_({type:["custom"],readOnly:!0})],Rd.prototype,"type",void 0),Rd=gC=p([ie("esri.popup.content.CustomContent")],Rd);const _me=Rd;var yC;let nm=yC=class extends tt{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new yC({title:this.title,expression:this.expression})}};p([_({type:String,json:{write:!0}})],nm.prototype,"title",void 0),p([_({type:String,json:{write:!0}})],nm.prototype,"expression",void 0),p([_({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],nm.prototype,"returnType",void 0),nm=yC=p([ie("esri.popup.ElementExpressionInfo")],nm);const wme=nm;var vC;let e0=vC=class extends zu{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new vC({expressionInfo:this.expressionInfo?.clone()})}};p([_({type:wme,json:{write:!0}})],e0.prototype,"expressionInfo",void 0),p([_({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],e0.prototype,"type",void 0),e0=vC=p([ie("esri.popup.content.ExpressionContent")],e0);const qx=e0;let sS=class extends on(tt){constructor(t){super(t),this.type=null}};p([_({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],sS.prototype,"type",void 0),sS=p([ie("esri.layers.support.FieldFormat")],sS);const cR=sS,oq="auto";let cu=class extends cR{constructor(t){super(t),this.dateStyle=null,this.hour12=oq,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};p([_({type:["full","long","medium","short"],json:{write:!0}})],cu.prototype,"dateStyle",void 0),p([_({type:["always","auto","never"],nonNullable:!0,json:{default:oq,write:!0}})],cu.prototype,"hour12",void 0),p([_({type:["long","short"],json:{write:!0}})],cu.prototype,"month",void 0),p([_({type:["full","long","medium","short"],json:{write:!0}})],cu.prototype,"timeStyle",void 0),p([_({type:["date-time"]})],cu.prototype,"type",void 0),p([_({type:["numeric"],json:{write:!0}})],cu.prototype,"year",void 0),cu=p([ie("esri.layers.support.DateTimeFieldFormat")],cu);const mf=cu,ND={min:0,max:20},aq=2,lq=0,uq="decimal",cq="auto";let jc=class extends cR{constructor(t){super(t),this.maximumFractionDigits=aq,this.minimumFractionDigits=lq,this.style=uq,this.type="number",this.useGrouping=cq}};p([_({type:fi,nonNullable:!0,range:ND,json:{default:aq,write:!0}})],jc.prototype,"maximumFractionDigits",void 0),p([_({type:fi,nonNullable:!0,range:ND,json:{default:lq,write:!0}})],jc.prototype,"minimumFractionDigits",void 0),p([_({type:["decimal"],nonNullable:!0,json:{default:uq,write:!0}})],jc.prototype,"style",void 0),p([_({type:["number"]})],jc.prototype,"type",void 0),p([_({type:["always","auto","never"],nonNullable:!0,json:{default:cq,write:!0}})],jc.prototype,"useGrouping",void 0),jc=p([ie("esri.layers.support.NumberFieldFormat")],jc);const $2=jc;let sm=class extends on(tt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};p([gt(Sae)],sm.prototype,"dateFormat",void 0),p([_({type:Boolean,json:{write:!0}})],sm.prototype,"digitSeparator",void 0),p([_({type:fi,json:{write:!0}})],sm.prototype,"places",void 0),sm=p([ie("esri.popup.support.FieldInfoFormat")],sm);const oy=sm,bme={base:cR,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":mf,number:$2}};function nCe(e,t){const{format:i}=e;return t&&Gx(t)?i?hq(i,t):oS(t,{hour12:"always",useGrouping:"always"}):null}function hq(e,t){const{dateFormat:i}=e;if(!t)return i?jD(e):DD(e);if(!Gx(t))return;const r={hour12:"always"};switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return dq(e);case"single":case"double":return DD(e);case"date":case"timestamp-offset":return i?jD(e):oS(t,r);case"date-only":return i?Sme(e):oS(t);case"time-only":return i?xme(e):oS(t,r)}}function Gx(e){return nq(e)||sme(e)||ome(e)||lme(e)||ame(e)}function dq(e){return new $2({useGrouping:e.digitSeparator?"always":"never"})}function DD(e){const t=dq(e),{places:i}=e;return t.minimumFractionDigits=i??0,t.maximumFractionDigits=i??2,t}function jD(e){return new mf({dateStyle:fq(e),year:yq(e),month:mq(e),timeStyle:gq(e),hour12:pq(e)})}function Sme(e){return new mf({dateStyle:fq(e),year:yq(e),month:mq(e)})}function xme(e){return new mf({timeStyle:gq(e),hour12:pq(e)})}function fq(e){const{dateFormat:t}=e;return t?t.startsWith("short-date")?"short":t.startsWith("day-short-month-year")?"medium":t.startsWith("long-month-day-year")?"long":t.startsWith("long-date")?"full":null:null}function pq(e){return e.dateFormat?.endsWith("-24")?"never":"always"}function mq(e){switch(e.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function gq(e){const{dateFormat:t}=e;return t?t.includes("short-time")?"short":t.includes("long-time")?"medium":null:null}function yq(e){switch(e.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function Tme(e,t){const i=e.type==="number",r=e.type==="date-time";if(!t)return i?zD(e):r?UD(e):null;if(Gx(t))switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return i?vq(e):null;case"single":case"double":return i?zD(e):null;case"date":case"timestamp-offset":return r?UD(e):null;case"date-only":return r?Mme(e):null;case"time-only":return r?Eme(e):null}}function vq(e){return new oy({digitSeparator:e.useGrouping!=="never"})}function zD(e){const t=vq(e);return t.places=e.maximumFractionDigits,t}function UD(e){let t;const i=_q(e),r=wq(e),n=e.hour12==="never"?"24":null,s=e.year==="numeric"?"year":null,a=bq(e);return i&&r&&n?t=`${i}-${r}-${n}`:i&&r?t=`${i}-${r}`:i?t=i:s&&a?t=`${a}-${s}`:s&&(t=s),t?new oy({dateFormat:t}):null}function Mme(e){let t;const i=_q(e),r=e.year==="numeric"?"year":null,n=bq(e);return i?t=i:r&&n?t=`${n}-${r}`:r&&(t=r),t?new oy({dateFormat:t}):null}function Eme(e){let t;const i=wq(e),r=e.hour12==="never"?"24":null;return i&&r?t=`short-date-${i}-${r}`:i&&(t=`short-date-${i}`),t?new oy({dateFormat:t}):null}function _q(e){switch(e.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function wq(e){return e.timeStyle&&(e.timeStyle==="short"?"short-time":"long-time")}function bq(e){switch(e.month){case"short":return"short-month";case"long":return"long-month";default:return}}function oS(e,t){if(!Gx(e))return;const i=t?.useGrouping??"auto",r=t?.hour12??"auto";switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return new $2({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:i});case"single":case"double":return new $2({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:i});case"date":case"timestamp-offset":return new mf({dateStyle:"short",timeStyle:"short",hour12:r});case"date-only":return new mf({dateStyle:"short"});case"time-only":return new mf({timeStyle:"short",hour12:r})}}let Ys=class extends on(tt){constructor(t){super(t),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(t){this._set("fieldFormat",t),this._set("format",t?Tme(t):null)}set format(t){this._set("format",t),this._set("fieldFormat",t?hq(t):null)}readFormat(t,i){if(!i.fieldFormat)return t?oy.fromJSON(t):null}clone(){const t=super.clone();return t._set("format",this.format?.clone()),t._set("fieldFormat",this.fieldFormat?.clone()),t}};p([_({value:null,clonable:!1,types:bme,json:{write:{overridePolicy(e,t,i){const{fieldName:r}=this;return{enabled:!!r&&!r.startsWith("expression/")&&!r.startsWith("relationships/")&&!!i?.writeFieldFormat}}}}})],Ys.prototype,"fieldFormat",null),p([_({type:String,json:{write:!0}})],Ys.prototype,"fieldName",void 0),p([_({value:null,clonable:!1,type:oy,json:{write:!0}})],Ys.prototype,"format",null),p([Zt("format")],Ys.prototype,"readFormat",null),p([_({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Ys.prototype,"isEditable",void 0),p([_({type:String,json:{write:!0}})],Ys.prototype,"label",void 0),p([_({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ys.prototype,"statisticType",void 0),p([gt(new qr({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ys.prototype,"stringFieldOption",void 0),p([_({type:String,json:{write:!0}})],Ys.prototype,"tooltip",void 0),p([_({type:Boolean,json:{write:!0}})],Ys.prototype,"visible",void 0),Ys=p([ie("esri.popup.FieldInfo")],Ys);const Sq=Ys;var _C;let zc=_C=class extends zu{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new _C(ke({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};p([_({type:Object,json:{write:!0}})],zc.prototype,"attributes",void 0),p([_({type:String,json:{write:!0}})],zc.prototype,"description",void 0),p([_({type:[Sq],json:{write:!0}})],zc.prototype,"fieldInfos",void 0),p([_({type:String,json:{write:!0}})],zc.prototype,"title",void 0),p([_({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],zc.prototype,"type",void 0),zc=_C=p([ie("esri.popup.content.FieldsContent")],zc);const w_=zc;let Ld=class extends tt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};p([_({type:String,json:{write:!0}})],Ld.prototype,"altText",void 0),p([_({type:String,json:{write:!0}})],Ld.prototype,"caption",void 0),p([_({type:String,json:{write:!0}})],Ld.prototype,"title",void 0),p([_({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Ld.prototype,"type",void 0),Ld=p([ie("esri.popup.content.mixins.MediaInfo")],Ld);const hR=Ld;var wC;let kd=wC=class extends et{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new wC({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};p([_()],kd.prototype,"color",void 0),p([_()],kd.prototype,"fieldName",void 0),p([_()],kd.prototype,"tooltip",void 0),p([_()],kd.prototype,"value",void 0),kd=wC=p([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],kd);const $me=kd;var bC;let Uc=bC=class extends tt{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new bC({colors:ke(this.colors),fields:ke(this.fields),normalizeField:this.normalizeField,series:ke(this.series),tooltipField:this.tooltipField})}};p([_({type:[zt],json:{type:[[fi]],write:!0}})],Uc.prototype,"colors",void 0),p([_({type:[String],json:{write:{isRequired:!0}}})],Uc.prototype,"fields",void 0),p([_({type:String,json:{write:!0}})],Uc.prototype,"normalizeField",void 0),p([_({type:[$me],json:{read:!1}})],Uc.prototype,"series",void 0),p([_({type:String,json:{write:!0}})],Uc.prototype,"tooltipField",void 0),Uc=bC=p([ie("esri.popup.content.support.ChartMediaInfoValue")],Uc);const Cme=Uc;let t0=class extends hR{constructor(t){super(t),this.type=null,this.value=void 0}};p([_({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],t0.prototype,"type",void 0),p([_({type:Cme,json:{write:{isRequired:!0}}})],t0.prototype,"value",void 0),t0=p([ie("esri.popup.content.mixins.ChartMediaInfo")],t0);const Vx=t0,Hx=Ds()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var SC;let aS=SC=class extends Vx{constructor(e){super(e),this.type="bar-chart"}clone(){return new SC({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([_({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:Hx.write,isRequired:!0}}})],aS.prototype,"type",void 0),aS=SC=p([ie("esri.popup.content.BarChartMediaInfo")],aS);const xq=aS;var xC;let lS=xC=class extends Vx{constructor(e){super(e),this.type="column-chart"}clone(){return new xC({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([_({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:Hx.write,isRequired:!0}}})],lS.prototype,"type",void 0),lS=xC=p([ie("esri.popup.content.ColumnChartMediaInfo")],lS);const Tq=lS;var TC;let i0=TC=class extends tt{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new TC({linkURL:this.linkURL,sourceURL:this.sourceURL})}};p([_({type:String,json:{write:!0}})],i0.prototype,"linkURL",void 0),p([_({type:String,json:{write:{isRequired:!0}}})],i0.prototype,"sourceURL",void 0),i0=TC=p([ie("esri.popup.content.support.ImageMediaInfoValue")],i0);const Ome=i0;var MC;let om=MC=class extends hR{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new MC({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};p([_({type:Number,json:{write:!0}})],om.prototype,"refreshInterval",void 0),p([_({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],om.prototype,"type",void 0),p([_({type:Ome,json:{write:{isRequired:!0}}})],om.prototype,"value",void 0),om=MC=p([ie("esri.popup.content.ImageMediaInfo")],om);const Mq=om;var EC;let uS=EC=class extends Vx{constructor(e){super(e),this.type="line-chart"}clone(){return new EC({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([_({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:Hx.write,isRequired:!0}}})],uS.prototype,"type",void 0),uS=EC=p([ie("esri.popup.content.LineChartMediaInfo")],uS);const Eq=uS;var $C;let cS=$C=class extends Vx{constructor(e){super(e),this.type="pie-chart"}clone(){return new $C({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};p([_({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:Hx.write,isRequired:!0}}})],cS.prototype,"type",void 0),cS=$C=p([ie("esri.popup.content.PieChartMediaInfo")],cS);const $q=cS,CC={base:hR,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":xq,"column-chart":Tq,"line-chart":Eq,"pie-chart":$q,image:Mq}};var OC;let wa=OC=class extends zu{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?Mq.fromJSON(t):t.type==="barchart"?xq.fromJSON(t):t.type==="columnchart"?Tq.fromJSON(t):t.type==="linechart"?Eq.fromJSON(t):t.type==="piechart"?$q.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new OC(ke({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};p([_()],wa.prototype,"activeMediaInfoIndex",void 0),p([_({type:Object,json:{write:!0}})],wa.prototype,"attributes",void 0),p([_({type:String,json:{write:!0}})],wa.prototype,"description",void 0),p([_({types:[CC]})],wa.prototype,"mediaInfos",void 0),p([Zt("mediaInfos")],wa.prototype,"readMediaInfos",null),p([Gt("mediaInfos")],wa.prototype,"writeMediaInfos",null),p([_({type:String,json:{write:!0}})],wa.prototype,"title",void 0),p([_({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],wa.prototype,"type",void 0),wa=OC=p([ie("esri.popup.content.MediaContent")],wa);const b_=wa;var PC;let r0=PC=class extends tt{constructor(e){super(e),this.field=null,this.order=null}clone(){return new PC({field:this.field,order:this.order})}};p([_({type:String,json:{write:!0}})],r0.prototype,"field",void 0),p([_({type:["asc","desc"],json:{write:!0}})],r0.prototype,"order",void 0),r0=PC=p([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],r0);const Cq=r0;let el=class extends on(zu){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};p([_({type:String,json:{write:!0}})],el.prototype,"description",void 0),p([_({type:Number,json:{type:fi,write:!0}})],el.prototype,"displayCount",void 0),p([_({type:["list"],json:{write:{isRequired:!0}}})],el.prototype,"displayType",void 0),p([_({type:[Cq],json:{write:!0}})],el.prototype,"orderByFields",void 0),p([_({type:Number,json:{type:fi,write:{isRequired:!0}}})],el.prototype,"relationshipId",void 0),p([_({type:String,json:{write:!0}})],el.prototype,"title",void 0),p([_({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],el.prototype,"type",void 0),el=p([ie("esri.popup.content.RelationshipContent")],el);const S_=el;var AC;let n0=AC=class extends zu{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new AC({text:this.text})}};p([_({type:String,json:{write:!0}})],n0.prototype,"text",void 0),p([_({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],n0.prototype,"type",void 0),n0=AC=p([ie("esri.popup.content.TextContent")],n0);const x_=n0;let hu=class extends on(tt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};p([_({type:String,json:{write:!0}})],hu.prototype,"title",void 0),p([_({type:String,json:{write:!0}})],hu.prototype,"description",void 0),p([_({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],hu.prototype,"type",void 0),p([_({type:Number,json:{type:fi,write:!0}})],hu.prototype,"associatedNetworkSourceId",void 0),p([_({type:Number,json:{type:fi,write:!0}})],hu.prototype,"associatedAssetGroup",void 0),p([_({type:Number,json:{type:fi,write:!0}})],hu.prototype,"associatedAssetType",void 0),hu=p([ie("esri.popup.support.UtilityNetworkAssociationType")],hu);const Pme=hu;let Fc=class extends on(zu){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};p([_({type:String,json:{write:!0}})],Fc.prototype,"description",void 0),p([_({type:Number,json:{type:fi,write:!0}})],Fc.prototype,"displayCount",void 0),p([_({type:String,json:{write:!0}})],Fc.prototype,"title",void 0),p([_({type:[Pme],json:{write:!0}})],Fc.prototype,"associationTypes",void 0),p([gt({utilityNetworkAssociations:"utility-network-associations"})],Fc.prototype,"type",void 0),Fc=p([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Fc);const dR=Fc,Ame={base:null,key:"type",typeMap:{attachment:__,media:b_,text:x_,expression:qx,field:w_,relationship:S_,utilityNetworkAssociations:dR}},Rme={base:null,key:"type",typeMap:{attachment:__,media:b_,text:x_,expression:qx,field:w_,relationship:S_}};var RC;let Id=RC=class extends tt{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new RC({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};p([_({type:String,json:{write:!0}})],Id.prototype,"name",void 0),p([_({type:String,json:{write:!0}})],Id.prototype,"title",void 0),p([_({type:String,json:{write:!0}})],Id.prototype,"expression",void 0),p([_({type:["string","number"],json:{write:!0}})],Id.prototype,"returnType",void 0),Id=RC=p([ie("esri.popup.ExpressionInfo")],Id);const Lme=Id;var LC;let s0=LC=class extends tt{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new LC({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};p([_({type:Boolean,json:{write:!0}})],s0.prototype,"returnTopmostRaster",void 0),p([_({type:Boolean,json:{write:!0}})],s0.prototype,"showNoDataRecords",void 0),s0=LC=p([ie("esri.popup.LayerOptions")],s0);const kme=s0;var kC;let o0=kC=class extends tt{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new kC({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ke(this.orderByFields):null})}};p([_({type:Boolean,json:{write:!0}})],o0.prototype,"showRelatedRecords",void 0),p([_({type:[Cq],json:{write:!0}})],o0.prototype,"orderByFields",void 0),o0=kC=p([ie("esri.popup.RelatedRecordsInfo")],o0);const FD=o0;var IC;let ko=IC=class extends NA(et){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new IC({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};p([_()],ko.prototype,"active",void 0),p([_()],ko.prototype,"className",void 0),p([_()],ko.prototype,"disabled",void 0),p([_()],ko.prototype,"icon",void 0),p([_()],ko.prototype,"id",void 0),p([_()],ko.prototype,"indicator",void 0),p([_()],ko.prototype,"title",void 0),p([_()],ko.prototype,"type",void 0),p([_()],ko.prototype,"visible",void 0),ko=IC=p([ie("esri.support.actions.ActionBase")],ko);const Wx=ko;var NC;let hS=NC=class extends Wx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new NC({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};p([_()],hS.prototype,"image",void 0),hS=NC=p([ie("esri.support.actions.ActionButton")],hS);const o1=hS;var DC;let a0=DC=class extends Wx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new DC({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};p([_()],a0.prototype,"image",void 0),p([_()],a0.prototype,"value",void 0),a0=DC=p([ie("esri.support.actions.ActionToggle")],a0);const fR=a0,Ov="relationships/",BD="expression/",Ime=Fe.ofType({key:"type",defaultKeyValue:"button",base:Wx,typeMap:{button:o1,toggle:fR}}),Nme={base:zu,key:"type",typeMap:{media:b_,custom:_me,text:x_,attachments:__,fields:w_,expression:qx,relationship:S_,utilityNetworkAssociations:dR}},Oq=new Set(["attachments","fields","media","text","expression","relationship"]),Dme=new Set([...Oq,"utility-network-associations"]);let Ar=class extends on(tt){constructor(t){super(t),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Th(Nme,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Nn(t)?t:(ze.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,n){this._writePopupTemplateContent(t,i,n)}writeWebMapContent(t,i,r,n){this._writePopupTemplateContent(t,i,n)}writeFieldInfos(t,i,r,n){const{content:s}=this,a=Array.isArray(s)?s:null,{writeFieldFormat:u,...h}=n||{};if(t){const f=a?a.filter(w=>w.type==="fields"):[],v=f.length&&f.every(w=>w.fieldInfos?.length);i.fieldInfos=t.filter(Boolean).map(w=>{const x=w.toJSON(h);return v&&(x.visible=!1),x})}if(a)for(const f of a)f.type==="fields"&&this._writeFieldsContent(f,i,h)}writeLayerOptions(t,i,r,n){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,r,[...n,...this._getContentExpressionInfos(this.content,n)]),y_(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t,i){const r=new Set;return await this.collectRequiredFields(r,t,i),[...r].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(n=>r?.origin==="web-scene"?Oq.has(n.type):Dme.has(n.type)).map(n=>n?.toJSON(r)),i.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(i):n.type==="media"?this._writeMediaContent(n,i):n.type==="text"?this._writeTextContent(n,i):n.type==="relationship"&&this._writeRelationshipContent(n,i)})):i.description=t}_writeFieldsContent(t,i,r){const n=t.fieldInfos;if(!Array.isArray(n)||!n.length)return;const s=i.fieldInfos;if(Array.isArray(s))for(const a of n){const u=s.find(h=>h.fieldName?.toLowerCase()===a.fieldName?.toLowerCase());u?u.visible=!0:s.push(a.toJSON(r))}else i.fieldInfos=n.map(a=>a.toJSON(r))}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){const r=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],n=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...n?.length&&{orderByFields:n}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ke(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const n={description:!1,mediaInfos:!1};return r.map(s=>s.type==="media"?(s.mediaInfos||!i||n.mediaInfos||(s.mediaInfos=i,n.mediaInfos=!0),b_.fromJSON(s)):s.type==="text"?(s.text||!t||n.description||(s.text=t,n.description=!0),x_.fromJSON(s)):s.type==="attachments"?__.fromJSON(s):s.type==="fields"?w_.fromJSON(s):s.type==="expression"?qx.fromJSON(s):s.type==="relationship"?S_.fromJSON(s):s.type==="utilityNetworkAssociations"?dR.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!i?.startsWith(Ov))return null;const n=i.replace(Ov,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),a=n[1];return!Number.isNaN(s)&&a?S_.fromJSON({relationshipId:s,orderByFields:[{field:a,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:n}=t;return{field:`${Ov}${i}/${n}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];t?s.push(new x_({text:t})):s.push(new w_),Array.isArray(i)&&i.length&&s.push(b_.fromJSON({mediaInfos:i})),r&&s.push(__.fromJSON({displayType:"auto"}));const{showRelatedRecords:a,orderByFields:u}=n;return a&&u?.length&&u.forEach(h=>{const f=this._toRelationshipContent(h);f&&s.push(f)}),s.length?s:t}_getContentElementFields(t){const i=t?.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:n}=t,s=n||{},{fields:a,normalizeField:u,tooltipField:h,sourceURL:f,linkURL:v}=s,w=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(f),...this._extractFieldNames(v),...a??[]];return u&&w.push(u),h&&w.push(h),w}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r,n){n&&await Promise.all(n.map(s=>Nf(t,i,r,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Ov)||i.startsWith(BD))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:n}=t,s=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return yme(t).filter(i=>!(i.startsWith(Ov)||i.startsWith(BD)))}};p([_({type:Ime})],Ar.prototype,"actions",void 0),p([_()],Ar.prototype,"content",void 0),p([xr("content")],Ar.prototype,"castContent",null),p([Zt("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ar.prototype,"readContent",null),p([Gt("web-scene","content",{popupElements:{type:Fe.ofType(Rme)},showAttachments:{type:Boolean},mediaInfos:{type:Fe.ofType(CC)},description:{type:String},relatedRecordsInfo:{type:FD}})],Ar.prototype,"writeWebSceneContent",null),p([Gt("content",{popupElements:{type:Fe.ofType(Ame)},showAttachments:{type:Boolean},mediaInfos:{type:Fe.ofType(CC)},description:{type:String},relatedRecordsInfo:{type:FD}})],Ar.prototype,"writeWebMapContent",null),p([_({type:[Lme],json:{write:!0}})],Ar.prototype,"expressionInfos",void 0),p([_({type:[Sq]})],Ar.prototype,"fieldInfos",void 0),p([Gt("fieldInfos")],Ar.prototype,"writeFieldInfos",null),p([_({type:kme})],Ar.prototype,"layerOptions",void 0),p([Gt("layerOptions")],Ar.prototype,"writeLayerOptions",null),p([_({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ar.prototype,"lastEditInfoEnabled",void 0),p([_()],Ar.prototype,"outFields",void 0),p([_()],Ar.prototype,"overwriteActions",void 0),p([_()],Ar.prototype,"returnGeometry",void 0),p([_({json:{type:String}})],Ar.prototype,"title",void 0),p([Gt("title")],Ar.prototype,"writeTitle",null),Ar=p([ie("esri.PopupTemplate")],Ar);const Pq=Ar,Aq=Symbol("idFieldsProviderSymbol");function jme(e){return!!e&&Aq in e}function qD(e){return jme(e)?e[Aq]:void 0}const Rq=Symbol("popupProvider");function dCe(e){return typeof e=="object"&&e!==null&&"popupEnabled"in e&&"popupTemplate"in e}function zme(e){return!!e&&Rq in e}function Ume(e){return zme(e)?e[Rq]:null}function fCe(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const i=[];for(const r of t.fieldNames)i.push(e.attributes[r]??null);return JSON.stringify(i)}}}function GD(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(t.uniqueIdFields.length===1)return e.attributes?.[t.uniqueIdFields[0]];const i=t.uniqueIdFields.map(r=>e.attributes?.[r]);return JSON.stringify(i)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}const VD=new qr({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Fme=0,Sr=class extends tt{constructor(t){super(t),this.id="sym"+Fme++,this.type=null,this.color=new zt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};p([_({type:VD.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:VD.write,isRequired:!0}}})],Sr.prototype,"type",void 0),p([_({type:zt,json:{write:{allowNull:!0}}})],Sr.prototype,"color",void 0),p([Zt("color")],Sr.prototype,"readColor",null),Sr=p([ie("esri.symbols.Symbol")],Sr);var jC;let es=jC=class extends Sr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(n=>{const s=n.valueExpressionInfo;return s?Nf(e,t,null,s.expression):null});await Promise.all(r)}}}clone(){return new jC({data:ke(this.data)})}hash(){return h8(JSON.stringify(this.data)).toString()}};p([_({json:{write:!1}})],es.prototype,"color",void 0),p([_({json:{write:!0}})],es.prototype,"data",void 0),p([Zt("data",["symbol"])],es.prototype,"readData",null),p([Gt("data",{})],es.prototype,"writeData",null),p([gt({CIMSymbolReference:"cim"},{readOnly:!0})],es.prototype,"type",void 0),es=jC=p([ie("esri.symbols.CIMSymbol")],es);let is=class extends tt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};p([_({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],is.prototype,"enabled",void 0),p([Gt("enabled")],is.prototype,"writeEnabled",null),p([_({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],is.prototype,"type",void 0),is=p([ie("esri.symbols.Symbol3DLayer")],is);function Bme(e,t){const i=t.transparency!=null?V7(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new zt([r[0]||0,r[1]||0,r[2]||0,i]):null}function qme(e,t){t.color=e.toJSON().slice(0,3);const i=G7(e.a);i!==0&&(t.transparency=i)}function Ih(e){return{type:zt,nonNullable:e?.nonNullable,json:{type:[fi],default:null,read:{source:["color","transparency"],reader:Bme},write:{target:{color:{type:[fi],isRequired:e?.colorRequiredOnWrite},transparency:{type:fi}},writer:qme}}}}const Tl={type:Number,cast:Zi,json:{write:!0}};function gCe(e){return e==="emissive"?0:1}let Nd=class extends tt{constructor(t){super(t),this.color=new zt([0,0,0,1]),this.extensionLength=0,this.size=If(1)}clone(){}cloneProperties(){return{color:ke(this.color),size:this.size,extensionLength:this.extensionLength}}};p([_({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Nd.prototype,"type",void 0),p([_(Ih({colorRequiredOnWrite:!0}))],Nd.prototype,"color",void 0),p([_({...Tl,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Nd.prototype,"extensionLength",void 0),p([_(Tl)],Nd.prototype,"size",void 0),Nd=p([ie("esri.symbols.edges.Edges3D")],Nd);const pR=Nd;var zC;let dS=zC=class extends pR{constructor(e){super(e),this.type="sketch"}clone(){return new zC(this.cloneProperties())}};p([gt({sketch:"sketch"},{readOnly:!0})],dS.prototype,"type",void 0),dS=zC=p([ie("esri.symbols.edges.SketchEdges3D")],dS);const Gme=dS;var UC;let fS=UC=class extends pR{constructor(e){super(e),this.type="solid"}clone(){return new UC(this.cloneProperties())}};p([gt({solid:"solid"},{readOnly:!0})],fS.prototype,"type",void 0),fS=UC=p([ie("esri.symbols.edges.SolidEdges3D")],fS);const Vme=fS,Lq={types:{key:"type",base:pR,typeMap:{solid:Vme,sketch:Gme}},json:{write:!0}};var FC;let $m=FC=class extends tt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const e={strength:this.strength,source:this.source};return new FC(e)}};p([_({json:{write:!1}})],$m.prototype,"strength",void 0),p([_({json:{write:!1}})],$m.prototype,"source",void 0),$m=FC=p([ie("esri.symbols.support.Symbol3DEmissive")],$m);var BC;let oo=BC=class extends tt{constructor(e){super(e),this.color=null,this.emissive=new $m({source:"emissive"})}clone(){const e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new BC(e)}};p([_(Ih())],oo.prototype,"color",void 0),p([_({type:$m,json:{write:!1}})],oo.prototype,"emissive",void 0),oo=BC=p([ie("esri.symbols.support.Symbol3DMaterial")],oo);var qC,rg;let wu=(rg=class extends is{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new qC({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}},qC=rg,rg);p([gt({Extrude:"extrude"},{readOnly:!0})],wu.prototype,"type",void 0),p([_({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],wu.prototype,"size",void 0),p([_({type:oo,json:{write:!0}})],wu.prototype,"material",void 0),p([_({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],wu.prototype,"castShadows",void 0),p([_(Lq)],wu.prototype,"edges",void 0),wu=qC=p([ie("esri.symbols.ExtrudeSymbol3DLayer")],wu);let j0=class extends tt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};p([_({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],j0.prototype,"type",void 0),j0=p([ie("esri.symbols.patterns.LinePattern3D")],j0);const Hme=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var GC;const Wme=Ds()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let rf=GC=class extends j0{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new GC(e)}};p([_({type:["style"],json:{write:{isRequired:!0}}})],rf.prototype,"type",void 0),p([gt(Wme),_({type:Hme,json:{write:{isRequired:!0}}})],rf.prototype,"style",void 0),rf=GC=p([ie("esri.symbols.patterns.LineStylePattern3D")],rf);let z0=class extends tt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};p([_({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],z0.prototype,"type",void 0),z0=p([ie("esri.symbols.patterns.Pattern3D")],z0);const Zme=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var VC;let Cm=VC=class extends z0{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new VC({style:this.style})}};p([_({type:["style"],json:{write:{isRequired:!0}}})],Cm.prototype,"type",void 0),p([_({type:Zme,json:{read:!0,write:{isRequired:!0}}})],Cm.prototype,"style",void 0),Cm=VC=p([ie("esri.symbols.patterns.StylePattern3D")],Cm);const Yme={types:{key:"type",base:z0,typeMap:{style:Cm}},json:{write:!0}},kq={types:{key:"type",base:j0,typeMap:{style:rf}},json:{write:!0}},U0=new zt("white"),Jme=new zt([255,255,255,0]);function Xme(e){return e.r===0&&e.g===0&&e.b===0}var HC;let F0=HC=class extends oo{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new HC(e)}};p([gt({multiply:"multiply",replace:"replace",tint:"tint"})],F0.prototype,"colorMixMode",void 0),F0=HC=p([ie("esri.symbols.support.Symbol3DFillMaterial")],F0);function mR(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Kme(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function Qme(e,t,i,r,n,s,a,u,h,f,v,w,x,M,P,O){return[e,t,i,r,n,s,a,u,h,f,v,w,x,M,P,O]}const ege=mR();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:ege,clone:Kme,create:mR,fromValues:Qme},Symbol.toStringTag,{value:"Module"}));function tge(e){return e<=i8?new Array(e).fill(0):new Float64Array(e)}function wCe(e){return(cee(e)?e.byteLength/8:e.length)<=i8?Array.from(e):new Float64Array(e)}function bCe(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function SCe(e){return[...e]}function xCe(e){const t=mR();for(let i=0;i<16;++i)t[i]=e[i];return t}function a1(e=sge){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function gR(e,t,i,r,n,s,a=a1()){return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=n,a[5]=s,a}function TCe(e,t=a1()){return ige(e,0,e.length/3,t)}function ige(e,t,i,r=a1()){return Iq(r,WC),rge(r,e,t,i),r}function MCe(e,t=tge(24)){const[i,r,n,s,a,u]=e;return t[0]=i,t[1]=r,t[2]=n,t[3]=i,t[4]=r,t[5]=u,t[6]=i,t[7]=a,t[8]=n,t[9]=i,t[10]=a,t[11]=u,t[12]=s,t[13]=r,t[14]=n,t[15]=s,t[16]=r,t[17]=u,t[18]=s,t[19]=a,t[20]=n,t[21]=s,t[22]=a,t[23]=u,t}function ECe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new It(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function $Ce(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function CCe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function OCe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function rge(e,t,i=0,r=t.length/3){let n=e[0],s=e[1],a=e[2],u=e[3],h=e[4],f=e[5];for(let v=0;v<r;v++)n=Math.min(n,t[i+3*v]),s=Math.min(s,t[i+3*v+1]),a=Math.min(a,t[i+3*v+2]),u=Math.max(u,t[i+3*v]),h=Math.max(h,t[i+3*v+1]),f=Math.max(f,t[i+3*v+2]);e[0]=n,e[1]=s,e[2]=a,e[3]=u,e[4]=h,e[5]=f}function PCe(e,t,i){const r=t.length;let n=e[0],s=e[1],a=e[2],u=e[3],h=e[4],f=e[5];if(i)for(let v=0;v<r;v++){const w=t[v];n=Math.min(n,w[0]),s=Math.min(s,w[1]),a=Math.min(a,w[2]),u=Math.max(u,w[0]),h=Math.max(h,w[1]),f=Math.max(f,w[2])}else for(let v=0;v<r;v++){const w=t[v];n=Math.min(n,w[0]),s=Math.min(s,w[1]),u=Math.max(u,w[0]),h=Math.max(h,w[1])}e[0]=n,e[1]=s,e[2]=a,e[3]=u,e[4]=h,e[5]=f}function ACe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function l1(e){return e[0]>=e[3]?0:e[3]-e[0]}function u1(e){return e[1]>=e[4]?0:e[4]-e[1]}function c1(e){return e[2]>=e[5]?0:e[5]-e[2]}function RCe(e){const t=l1(e),i=c1(e),r=u1(e);return Math.sqrt(t*t+i*i+r*r)}function LCe(e,t=[0,0,0]){return t[0]=e[0]+l1(e)/2,t[1]=e[1]+u1(e)/2,t[2]=e[2]+c1(e)/2,t}function kCe(e,t=[0,0,0]){return t[0]=l1(e),t[1]=u1(e),t[2]=c1(e),t}function ICe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function nge(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function NCe(e,t){return t==null||nge(e,t)}function DCe(e,t,i,r,n=e){return n[0]=e[0]+t,n[1]=e[1]+i,n[2]=e[2]+r,n[3]=e[3]+t,n[4]=e[4]+i,n[5]=e[5]+r,n}function jCe(e,t,i=e){const r=e[0]+l1(e)/2,n=e[1]+u1(e)/2,s=e[2]+c1(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=n+(e[1]-n)*t,i[2]=s+(e[2]-s)*t,i[3]=r+(e[3]-r)*t,i[4]=n+(e[4]-n)*t,i[5]=s+(e[5]-s)*t,i}function zCe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function UCe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function FCe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function Iq(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function BCe(e){return e?Iq(e,WC):a1(WC)}function qCe(e,t=Ls()){return t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function GCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function VCe(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function HD(e){return e.length===6}function HCe(e){return l1(e)===0&&u1(e)===0&&c1(e)===0}function WCe(e,t,i){if(e==null||t==null)return e===t;if(!HD(e)||!HD(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const WC=[1/0,1/0,1/0,-1/0,-1/0,-1/0],sge=[0,0,0,0,0,0];a1();function ZCe(e,{isPrimitive:t,width:i,depth:r,height:n}){const s=t?10:1;if(i==null&&n==null&&r==null)return[s*e[0],s*e[1],s*e[2]];const a=sy(i,r,n);let u;for(let h=0;h<3;h++){const f=a[h];if(f!=null){u=f/e[h];break}}for(let h=0;h<3;h++)a[h]==null&&(a[h]=e[h]*u);return a}const oge=gR(-.5,-.5,-.5,.5,.5,.5),age=gR(-.5,-.5,0,.5,.5,1),lge=gR(-.5,-.5,0,.5,.5,.5);function YCe(e){switch(e){case"sphere":case"cube":case"diamond":return oge;case"cylinder":case"cone":case"inverted-cone":return age;case"tetrahedron":return lge;default:return}}const yR=["butt","square","round"],uge=[...yR,"none"],Nq=["miter","bevel","round"];var ZC;let Dd=ZC=class extends tt{constructor(e){super(e),this.color=new zt([0,0,0,1]),this.size=If(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new ZC(e)}};p([_(Ih({colorRequiredOnWrite:!0}))],Dd.prototype,"color",void 0),p([_({...Tl,json:{write:{isRequired:!0}}})],Dd.prototype,"size",void 0),p([_(kq)],Dd.prototype,"pattern",void 0),p([_({type:yR,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Dd.prototype,"patternCap",void 0),Dd=ZC=p([ie("esri.symbols.support.Symbol3DOutline")],Dd);var pS,ng;let eo=(ng=class extends is{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new pS(t)}static fromSimpleFillSymbol(t){const i=t.outline&&t.outline.style&&t.outline.style!=="solid"?new rf({style:t.outline.style}):null,r={size:t.outline?.width??0,color:(t.outline?.color??U0).clone(),pattern:i};return i&&t.outline?.cap&&(r.patternCap=t.outline.cap),new pS({material:new F0({color:(t.color??Jme).clone()}),pattern:t.style&&t.style!=="solid"?new Cm({style:t.style}):null,outline:r})}},pS=ng,ng);p([gt({Fill:"fill"},{readOnly:!0})],eo.prototype,"type",void 0),p([_({type:F0,json:{write:!0}})],eo.prototype,"material",void 0),p([_(Yme)],eo.prototype,"pattern",void 0),p([_({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],eo.prototype,"castShadows",void 0),p([_({type:Dd,json:{write:!0}})],eo.prototype,"outline",void 0),p([_(Lq)],eo.prototype,"edges",void 0),eo=pS=p([ie("esri.symbols.FillSymbol3DLayer")],eo);var YC;const cge=Ds()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let jd=YC=class extends tt{constructor(e){super(e)}readHref(e,t,i){return e?Yg(e,i):t.dataURI}writeHref(e,t,i,r){e&&(Uf(e)?t.dataURI=e:(t.href=xg(e,r),ks(t.href)&&(t.href=ph(t.href))))}clone(){return new YC({href:this.href,primitive:this.primitive})}equals(e){return e.primitive===this.primitive&&e.href===this.href}};p([_({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],jd.prototype,"href",void 0),p([Zt("href")],jd.prototype,"readHref",null),p([Gt("href",{href:{type:String},dataURI:{type:String}})],jd.prototype,"writeHref",null),p([gt(cge)],jd.prototype,"primitive",void 0),jd=YC=p([ie("esri.symbols.support.IconSymbol3DLayerResource")],jd);const JCe="circle";let mS=class extends on(tt){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};p([_({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],mS.prototype,"mode",void 0),mS=p([ie("esri.symbols.support.OccludedVisibility")],mS);const Dq=mS;var JC;let Om=JC=class extends et{constructor(e){super(e),this.x=0,this.y=0}clone(){return new JC({x:this.x,y:this.y})}equals(e){return e.x===this.x&&e.y===this.y}};p([_({type:Number})],Om.prototype,"x",void 0),p([_({type:Number})],Om.prototype,"y",void 0),Om=JC=p([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],Om);var XC;let l0=XC=class extends tt{constructor(e){super(e),this.color=new zt([0,0,0,1]),this.size=If(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new XC(e)}equals(e){return e.size===this.size&&(this.color==null?e.color==null:this.color.equals(e.color))}};p([_(Ih({colorRequiredOnWrite:!0}))],l0.prototype,"color",void 0),p([_({...Tl,json:{write:{isRequired:!0}}})],l0.prototype,"size",void 0),l0=XC=p([ie("esri.symbols.support.Symbol3DIconOutline")],l0);var am,sg;let en=(sg=class extends is{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new am({anchor:this.anchor,anchorPosition:ke(this.anchorPosition),enabled:this.enabled,material:ke(this.material),outline:ke(this.outline),resource:ke(this.resource),angle:this.angle,size:this.size,occludedVisibility:ke(this.occludedVisibility)})}static fromSimpleMarkerSymbol(t){const i=t.color||U0,r=WD(t),n=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||U0).clone()}:null;return new am({size:t.size,angle:t.angle,resource:{primitive:dge(()=>ze.getLogger(this.prototype),t.style)},material:{color:i},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(t){const i=!t.color||Xme(t.color)?U0:t.color,r=WD(t);return new am({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:i.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(t){return new am({resource:{href:S8({mediaType:"application/json",data:JSON.stringify(t.data)})}})}},am=sg,sg);function WD(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=ZD(e.xoffset),n=ZD(e.yoffset);return(r||n)&&t&&i?{x:-r/t,y:n/i}:null}function ZD(e){return isFinite(e)?e:0}p([_({type:oo,json:{write:!0}})],en.prototype,"material",void 0),p([_({type:jd,json:{write:!0}})],en.prototype,"resource",void 0),p([gt({Icon:"icon"},{readOnly:!0})],en.prototype,"type",void 0),p([_({...Tl,json:{write:{isRequired:!0}}})],en.prototype,"size",void 0),p([gt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],en.prototype,"anchor",void 0),p([_({type:Om,json:{type:[Number],read:{reader:e=>new Om({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],en.prototype,"anchorPosition",void 0),p([_({type:l0,json:{write:!0}})],en.prototype,"outline",void 0),p([_({type:Number,json:{write:!0,default:0}})],en.prototype,"angle",void 0),p([_({type:Dq})],en.prototype,"occludedVisibility",void 0),en=am=p([ie("esri.symbols.IconSymbol3DLayer")],en);const hge={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function dge(e,t){return hge[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const fge=["begin","end","begin-end"],jq=["arrow","circle","square","diamond","cross","x"];let Eu=class extends on(tt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};p([_({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Eu.prototype,"type",void 0),p([_({type:fge,json:{default:"begin-end",write:!0}})],Eu.prototype,"placement",void 0),p([_({type:jq,json:{default:"arrow",write:!0}})],Eu.prototype,"style",void 0),p([_({type:zt,json:{type:[fi],default:null,write:!0}})],Eu.prototype,"color",void 0),Eu=p([ie("esri.symbols.LineStyleMarker3D")],Eu);var gS,og;let Os=(og=class extends is{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=If(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new gS(t)}static fromSimpleLineSymbol(t){const i={enabled:!0,size:t.width??If(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new rf({style:t.style}):null,material:new oo({color:(t.color||U0).clone()}),marker:t.marker?new Eu({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new gS(i)}},gS=og,og);p([_({type:oo,json:{write:!0}})],Os.prototype,"material",void 0),p([gt({Line:"line"},{readOnly:!0})],Os.prototype,"type",void 0),p([_({type:Nq,json:{write:!0,default:"miter"}})],Os.prototype,"join",void 0),p([_({type:yR,json:{write:!0,default:"butt"}})],Os.prototype,"cap",void 0),p([_({...Tl,json:{write:{isRequired:!0}}})],Os.prototype,"size",void 0),p([_(kq)],Os.prototype,"pattern",void 0),p([_({types:{key:"type",base:Eu,typeMap:{style:Eu}},json:{write:!0}})],Os.prototype,"marker",void 0),Os=gS=p([ie("esri.symbols.LineSymbol3DLayer")],Os);var KC;const pge=Ds()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let u0=KC=class extends tt{clone(){return new KC({href:this.href,primitive:this.primitive})}};p([_({type:String,json:{read:fx,write:Tg}})],u0.prototype,"href",void 0),p([gt(pge)],u0.prototype,"primitive",void 0),u0=KC=p([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],u0);const QCe="sphere";var QC;let Yd=QC=class extends et{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new QC({x:this.x,y:this.y,z:this.z})}};p([_({type:Number})],Yd.prototype,"x",void 0),p([_({type:Number})],Yd.prototype,"y",void 0),p([_({type:Number})],Yd.prototype,"z",void 0),Yd=QC=p([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],Yd);var eO,ag;let Qr=(ag=class extends is{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new eO({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},eO=ag,ag);p([_({type:oo,json:{write:!0}})],Qr.prototype,"material",void 0),p([_({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Qr.prototype,"castShadows",void 0),p([_({type:u0,json:{write:!0}})],Qr.prototype,"resource",void 0),p([gt({Object:"object"},{readOnly:!0})],Qr.prototype,"type",void 0),p([_({type:Number,json:{write:!0}})],Qr.prototype,"width",void 0),p([_({type:Number,json:{write:!0}})],Qr.prototype,"height",void 0),p([_({type:Number,json:{write:!0}})],Qr.prototype,"depth",void 0),p([gt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Qr.prototype,"anchor",void 0),p([_({type:Yd,json:{type:[Number],read:{reader:e=>new Yd({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Qr.prototype,"anchorPosition",void 0),p([_({type:Number,json:{write:!0}})],Qr.prototype,"heading",void 0),p([_({type:Number,json:{write:!0}})],Qr.prototype,"tilt",void 0),p([_({type:Number,json:{write:!0}})],Qr.prototype,"roll",void 0),p([_({readOnly:!0})],Qr.prototype,"isPrimitive",null),Qr=eO=p([ie("esri.symbols.ObjectSymbol3DLayer")],Qr);var tO,lg;let gn=(lg=class extends is{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,i){return t??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(t,i){return t??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new tO({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},tO=lg,lg);p([_({type:oo,json:{write:!0}})],gn.prototype,"material",void 0),p([_({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],gn.prototype,"castShadows",void 0),p([gt({Path:"path"},{readOnly:!0})],gn.prototype,"type",void 0),p([_({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],gn.prototype,"profile",void 0),p([_({type:Nq,nonNullable:!0,json:{write:!0,default:"miter"}})],gn.prototype,"join",void 0),p([_({type:uge,nonNullable:!0,json:{write:!0,default:"butt"}})],gn.prototype,"cap",void 0),p([_({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],gn.prototype,"width",void 0),p([Zt("width",["width","size","height"])],gn.prototype,"readWidth",null),p([_({type:Number,json:{write:!0}})],gn.prototype,"height",void 0),p([Zt("height",["height","size","width"])],gn.prototype,"readHeight",null),p([_({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],gn.prototype,"anchor",void 0),p([_({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],gn.prototype,"profileRotation",void 0),gn=tO=p([ie("esri.symbols.PathSymbol3DLayer")],gn);const mge=["none","underline","line-through"],gge=["normal","italic","oblique"],yge=["normal","lighter","bold","bolder"],zq={type:Number,cast:e=>{const t=no(e);return t===0?1:co(t,.1,4)},nonNullable:!0},vge=["left","right","center"],_ge=["baseline","top","middle","bottom"],Uq={type:vge,nonNullable:!0},Fq={type:_ge,nonNullable:!0},eOe=8;var iO;let jo=iO=class extends tt{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Zi(e)}clone(){return new iO({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};p([_({type:mge,json:{default:"none",write:!0}})],jo.prototype,"decoration",void 0),p([_({type:String,json:{write:!0}})],jo.prototype,"family",void 0),p([_({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],jo.prototype,"size",void 0),p([xr("size")],jo.prototype,"castSize",null),p([_({type:gge,json:{default:"normal",write:!0}})],jo.prototype,"style",void 0),p([_({type:yge,json:{default:"normal",write:!0}})],jo.prototype,"weight",void 0),jo=iO=p([ie("esri.symbols.Font")],jo);var rO;let Pm=rO=class extends tt{constructor(){super(...arguments),this.color=new zt([0,0,0,1]),this.size=0}clone(){const e={color:ke(this.color),size:this.size};return new rO(e)}};p([_(Ih())],Pm.prototype,"color",void 0),p([_(Tl)],Pm.prototype,"size",void 0),Pm=rO=p([ie("esri.symbols.support.Symbol3DHalo")],Pm);let B0=class extends on(tt){constructor(t){super(t),this.color=null}};p([_(Ih())],B0.prototype,"color",void 0),B0=p([ie("esri.symbols.support.Symbol3DTextBackground")],B0);var yS,ug;let Lr=(ug=class extends is{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,i,r,n){const s={...n,textSymbol3D:!0};i.font=t.write({},s),delete i.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new yS({enabled:this.enabled,font:ke(this.font),halo:ke(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ke(this.background),occludedVisibility:ke(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new yS({font:t.font!=null?t.font.clone():new jo,halo:wge(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new oo({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new B0({color:t.backgroundColor.clone()}):null})}},yS=ug,ug);function wge(e,t){return e&&t!=null&&t>0?new Pm({color:ke(e),size:t}):null}p([_({type:jo,json:{write:!0}})],Lr.prototype,"font",null),p([Gt("font")],Lr.prototype,"writeFont",null),p([_({type:Pm,json:{write:!0}})],Lr.prototype,"halo",void 0),p([_({...Uq,json:{default:"center",write:!0}})],Lr.prototype,"horizontalAlignment",void 0),p([_({...zq,json:{default:1,write:!0}})],Lr.prototype,"lineHeight",void 0),p([_({type:oo,json:{write:!0}})],Lr.prototype,"material",void 0),p([_({type:B0,json:{write:!0}})],Lr.prototype,"background",void 0),p([_(Tl)],Lr.prototype,"size",null),p([_({type:String,json:{write:!0}})],Lr.prototype,"text",void 0),p([gt({Text:"text"},{readOnly:!0})],Lr.prototype,"type",void 0),p([_({...Fq,json:{default:"baseline",write:!0}})],Lr.prototype,"verticalAlignment",void 0),p([_({type:Dq})],Lr.prototype,"occludedVisibility",void 0),Lr=yS=p([ie("esri.symbols.TextSymbol3DLayer")],Lr);var nO,cg;let bu=(cg=class extends is{constructor(t){super(t),this.color=sO.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new nO({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},nO=cg,cg);p([_({type:zt,nonNullable:!0,json:{type:[fi],write:(e,t,i)=>t[i]=e.toArray(1),default:()=>sO.clone(),defaultEquals:e=>e.toCss(!0)===sO.toCss(!0)}})],bu.prototype,"color",void 0),p([gt({Water:"water"},{readOnly:!0})],bu.prototype,"type",void 0),p([_({type:["small","medium","large"],json:{write:!0,default:"medium"}})],bu.prototype,"waterbodySize",void 0),p([_({type:Number,json:{write:!0,default:null}})],bu.prototype,"waveDirection",void 0),p([_({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],bu.prototype,"waveStrength",void 0),bu=nO=p([ie("esri.symbols.WaterSymbol3DLayer")],bu);const sO=new zt([0,119,190]);var oO;let $u=oO=class extends et{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new oO({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};p([_({type:String})],$u.prototype,"name",void 0),p([_({type:String})],$u.prototype,"styleUrl",void 0),p([_({type:String})],$u.prototype,"styleName",void 0),p([_({type:Ie})],$u.prototype,"portal",void 0),$u=oO=p([ie("esri.symbols.support.StyleOrigin")],$u);var aO;let q0=aO=class extends et{constructor(){super(...arguments),this.url=""}clone(){return new aO({url:this.url})}};p([_({type:String})],q0.prototype,"url",void 0),q0=aO=p([ie("esri.symbols.support.Thumbnail")],q0);const Bq={icon:en,object:Qr,line:Os,path:gn,fill:eo,extrude:wu,text:Lr,water:bu},bge=Fe.ofType({base:is,key:"type",typeMap:Bq,errorContext:"symbol-layer"});let Ps=class extends Sr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,n=r||Fe;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&ze.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){ml(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const n=Yg(t.styleUrl,r);return new $u({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new $u({portal:r?.portal||Ie.getDefault(),styleName:t.styleName,name:t.name});r?.messages&&r.messages.push(new bl("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,n){if(t.styleUrl&&t.name){let s=xg(t.styleUrl,n);ks(s)&&(s=ph(s)),i.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&n?.portal&&!Lee(t.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new bl("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof is||t&&Bq[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};p([_({json:{read:!1,write:!1}})],Ps.prototype,"color",null),p([_({type:bge,nonNullable:!0,json:{write:!0}}),xr(k9)],Ps.prototype,"symbolLayers",null),p([_({type:$u})],Ps.prototype,"styleOrigin",void 0),p([Zt("styleOrigin")],Ps.prototype,"readStyleOrigin",null),p([Gt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Ps.prototype,"writeStyleOrigin",null),p([_({type:q0,json:{read:!1}})],Ps.prototype,"thumbnail",void 0),p([_({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Ps.prototype,"type",void 0),Ps=p([ie("esri.symbols.Symbol3D")],Ps);let Am=class extends tt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};p([_({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Am.prototype,"type",void 0),p([_({readOnly:!0})],Am.prototype,"visible",void 0),Am=p([ie("esri.symbols.callouts.Callout3D")],Am);var lO;let vS=lO=class extends tt{constructor(e){super(e),this.color=new zt("white")}clone(){return new lO({color:ke(this.color)})}};p([_(Ih({colorRequiredOnWrite:!0}))],vS.prototype,"color",void 0),vS=lO=p([ie("esri.symbols.callouts.LineCallout3DBorder")],vS);const Sge=vS;var uO;let Su=uO=class extends Am{constructor(e){super(e),this.type="line",this.color=new zt([0,0,0,1]),this.size=If(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new uO({color:ke(this.color),size:this.size,border:ke(this.border)})}};p([gt({line:"line"})],Su.prototype,"type",void 0),p([_(Ih({colorRequiredOnWrite:!0}))],Su.prototype,"color",void 0),p([_({...Tl,json:{write:{isRequired:!0}}})],Su.prototype,"size",void 0),p([_({type:Sge,json:{write:!0}})],Su.prototype,"border",void 0),p([_({readOnly:!0})],Su.prototype,"visible",null),Su=uO=p([ie("esri.symbols.callouts.LineCallout3D")],Su);function vR(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function qq(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!vR(e)}function nOe(e){return e.type==="point-3d"||e.type==="label-3d"}function sOe(e){return e.horizontalAlignment==="center"}const Gq={types:{key:"type",base:Am,typeMap:{line:Su}},json:{write:!0}};var cO;let rh=cO=class extends tt{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new cO({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};p([_({...Tl,json:{write:{isRequired:!0}}})],rh.prototype,"screenLength",void 0),p([_({type:Number,nonNullable:!0,json:{write:!0,default:0}})],rh.prototype,"minWorldLength",void 0),p([_({type:Number,json:{write:!0}})],rh.prototype,"maxWorldLength",void 0),rh=cO=p([ie("esri.symbols.support.Symbol3DVerticalOffset")],rh);var _S;const Vq=Fe.ofType({base:null,key:"type",typeMap:{text:Lr}});let al=_S=class extends Ps{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Vq,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return qq(this)}hasVisibleVerticalOffset(){return vR(this)}clone(){return new _S({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail),callout:ke(this.callout),verticalOffset:ke(this.verticalOffset)})}static fromTextSymbol(e){return new _S({symbolLayers:new Fe([Lr.fromTextSymbol(e)])})}};p([_({type:rh,json:{write:!0}})],al.prototype,"verticalOffset",void 0),p([_(Gq)],al.prototype,"callout",void 0),p([_({json:{read:!1,write:!1}})],al.prototype,"styleOrigin",void 0),p([_({type:Vq})],al.prototype,"symbolLayers",void 0),p([gt({LabelSymbol3D:"label-3d"},{readOnly:!0})],al.prototype,"type",void 0),al=_S=p([ie("esri.symbols.LabelSymbol3D")],al);var wS;const Hq=Fe.ofType({base:null,key:"type",typeMap:{line:Os,path:gn}}),xge=Fe.ofType({base:null,key:"type",typeMap:{line:Os,path:gn}});let hh=wS=class extends Ps{constructor(e){super(e),this.symbolLayers=new Hq,this.type="line-3d"}clone(){return new wS({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromSimpleLineSymbol(e){return new wS({symbolLayers:new Fe([Os.fromSimpleLineSymbol(e)])})}};p([_({type:Hq,json:{type:xge}})],hh.prototype,"symbolLayers",void 0),p([gt({LineSymbol3D:"line-3d"},{readOnly:!0})],hh.prototype,"type",void 0),hh=wS=p([ie("esri.symbols.LineSymbol3D")],hh);var bS;const Wq=Fe.ofType({base:null,key:"type",typeMap:{fill:eo}});let nf=bS=class extends Ps{constructor(e){super(e),this.symbolLayers=new Wq,this.type="mesh-3d"}clone(){return new bS({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromSimpleFillSymbol(e){return new bS({symbolLayers:new Fe([eo.fromSimpleFillSymbol(e)])})}};p([_({type:Wq})],nf.prototype,"symbolLayers",void 0),p([gt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],nf.prototype,"type",void 0),nf=bS=p([ie("esri.symbols.MeshSymbol3D")],nf);let c0=class extends Sr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};p([gt({esriSLS:"simple-line"},{readOnly:!0})],c0.prototype,"type",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],c0.prototype,"width",void 0),c0=p([ie("esri.symbols.LineSymbol")],c0);var hO;let tl=hO=class extends tt{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){r?.origin==="web-map"||(t[i]=e)}clone(){return new hO({color:ke(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};p([_({type:["begin","end","begin-end"],json:{write:!0}})],tl.prototype,"placement",void 0),p([gt({"line-marker":"line-marker"},{readOnly:!0}),_({json:{origins:{"web-map":{write:!1}}}})],tl.prototype,"type",void 0),p([_({type:jq})],tl.prototype,"style",void 0),p([Gt("style")],tl.prototype,"writeStyle",null),p([_({type:zt,value:null,json:{write:{allowNull:!0}}})],tl.prototype,"color",null),p([Zt("color")],tl.prototype,"readColor",null),p([Gt("color")],tl.prototype,"writeColor",null),tl=hO=p([ie("esri.symbols.LineSymbolMarker")],tl);const Tge=tl;var dO;const r3=new qr({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Kn=dO=class extends c0{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,n,s){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),i!=null&&(a.width=Zi(i)),r!=null&&(a.cap=r),n!=null&&(a.join=n),s!=null&&(a.miterLimit=Zi(s)),a}clone(){return new dO({color:ke(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};p([gt({esriSLS:"simple-line"},{readOnly:!0})],Kn.prototype,"type",void 0),p([_({type:r3.apiValues,json:{read:r3.read,write:r3.write}})],Kn.prototype,"style",void 0),p([_({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Kn.prototype,"cap",void 0),p([_({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Kn.prototype,"join",void 0),p([_({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Tge}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Kn.prototype,"marker",void 0),p([_({type:Number,json:{read:!1,write:!1}})],Kn.prototype,"miterLimit",void 0),Kn=dO=p([ie("esri.symbols.SimpleLineSymbol")],Kn);let Rm=class extends Sr{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};p([_({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Kn}},json:{default:null,write:!0}})],Rm.prototype,"outline",void 0),p([_({type:["simple-fill","picture-fill"],readOnly:!0})],Rm.prototype,"type",void 0),Rm=p([ie("esri.symbols.FillSymbol")],Rm);function Mge(e,t,i){return t.imageData?S8({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Zq(t.url,i)}function Zq(e,t){if(!ks(e)){const i=$ge(t);if(i)return j_(i,"images",e)}return Yg(e,t)}function Ege(e,t,i,r){if(Uf(e)){const n=Sg(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,i&&i.imageData===t.imageData&&i.url&&Tg(i.url,t,"url",r)}else Tg(e,t,"url",r)}const Yq={json:{read:{source:["imageData","url"],reader:Mge},write:{writer(e,t,i,r){Ege(e,t,this.source,r)}}}},Jq={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=Zq(t.url,i)),r}}}};function $ge(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var fO;let Ms=fO=class extends Rm{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),i!=null&&(n.width=Zi(i)),r!=null&&(n.height=Zi(r)),n}clone(){const e=new fO({color:ke(this.color),height:this.height,outline:ke(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ke(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};p([gt({esriPFS:"picture-fill"},{readOnly:!0})],Ms.prototype,"type",void 0),p([_(Yq)],Ms.prototype,"url",void 0),p([_({type:Number,json:{write:!0}})],Ms.prototype,"xscale",void 0),p([_({type:Number,json:{write:!0}})],Ms.prototype,"yscale",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ms.prototype,"width",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ms.prototype,"height",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ms.prototype,"xoffset",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ms.prototype,"yoffset",void 0),p([_(Jq)],Ms.prototype,"source",void 0),Ms=fO=p([ie("esri.symbols.PictureFillSymbol")],Ms);let xu=class extends Sr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};p([_({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],xu.prototype,"angle",void 0),p([_({type:["simple-marker","picture-marker"],readOnly:!0})],xu.prototype,"type",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],xu.prototype,"xoffset",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],xu.prototype,"yoffset",void 0),p([_({cast:e=>e==="auto"?e:no(Zi(e)),json:{write:!0}})],xu.prototype,"size",void 0),xu=p([ie("esri.symbols.MarkerSymbol")],xu);var pO;let Xn=pO=class extends xu{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=Zi(t)),i!=null&&(r.height=Zi(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new pO({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ke(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};p([_({json:{write:!1}})],Xn.prototype,"color",void 0),p([gt({esriPMS:"picture-marker"},{readOnly:!0})],Xn.prototype,"type",void 0),p([_(Yq)],Xn.prototype,"url",void 0),p([_(Jq)],Xn.prototype,"source",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Xn.prototype,"height",void 0),p([Zt("height",["height","size"])],Xn.prototype,"readHeight",null),p([_({type:Number,cast:Zi,json:{write:!0}})],Xn.prototype,"width",void 0),p([_({json:{write:!1}})],Xn.prototype,"size",void 0),Xn=pO=p([ie("esri.symbols.PictureMarkerSymbol")],Xn);var zd;const Xq=Fe.ofType({base:null,key:"type",typeMap:{icon:en,object:Qr,text:Lr}});let cl=zd=class extends Ps{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Xq,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return qq(this)}hasVisibleVerticalOffset(){return vR(this)}clone(){return new zd({verticalOffset:ke(this.verticalOffset),callout:ke(this.callout),styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new zd({symbolLayers:new Fe([en.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new zd({symbolLayers:new Fe([en.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const i=e.data.symbol;return new zd(i?.callout?{symbolLayers:new Fe([en.fromCIMSymbol(e)]),callout:new Su({size:.5,color:new zt([0,0,0])}),verticalOffset:new rh({screenLength:40})}:{symbolLayers:new Fe([en.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new zd({symbolLayers:new Fe([Lr.fromTextSymbol(e)])})}};p([_({type:rh,json:{write:!0}})],cl.prototype,"verticalOffset",void 0),p([_(Gq)],cl.prototype,"callout",void 0),p([_({type:Xq,json:{origins:{"web-scene":{write:!0}}}})],cl.prototype,"symbolLayers",void 0),p([gt({PointSymbol3D:"point-3d"},{readOnly:!0})],cl.prototype,"type",void 0),cl=zd=p([ie("esri.symbols.PointSymbol3D")],cl);var h0;const Kq=Fe.ofType({base:null,key:"type",typeMap:{extrude:wu,fill:eo,icon:en,line:Os,object:Qr,text:Lr,water:bu}});let dh=h0=class extends Ps{constructor(e){super(e),this.symbolLayers=new Kq,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Sh(ze.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Sh(ze.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(kf(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Ch))}clone(){return new h0({styleOrigin:ke(this.styleOrigin),symbolLayers:ke(this.symbolLayers),thumbnail:ke(this.thumbnail)})}static fromJSON(e){const t=new h0;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new h0({symbolLayers:new Fe([eo.fromSimpleFillSymbol(e)])})}};p([_({type:Kq,json:{write:!0}})],dh.prototype,"symbolLayers",void 0),p([gt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],dh.prototype,"type",void 0),dh=h0=p([ie("esri.symbols.PolygonSymbol3D")],dh);var mO;const n3=new qr({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Cu=mO=class extends Rm{constructor(...e){super(...e),this.color=new zt([0,0,0,.25]),this.outline=new Kn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new mO({color:ke(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};p([_()],Cu.prototype,"color",void 0),p([_()],Cu.prototype,"outline",void 0),p([gt({esriSFS:"simple-fill"},{readOnly:!0})],Cu.prototype,"type",void 0),p([_({type:n3.apiValues,json:{read:n3.read,write:n3.write}})],Cu.prototype,"style",void 0),Cu=mO=p([ie("esri.symbols.SimpleFillSymbol")],Cu);var gO;const s3=new qr({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Qs=gO=class extends xu{constructor(...e){super(...e),this.color=new zt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Kn}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=Zi(t)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new gO({angle:this.angle,color:ke(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};p([_()],Qs.prototype,"color",void 0),p([Gt("color")],Qs.prototype,"writeColor",null),p([gt({esriSMS:"simple-marker"},{readOnly:!0})],Qs.prototype,"type",void 0),p([_()],Qs.prototype,"size",void 0),p([_({type:s3.apiValues,json:{read:s3.read,write:s3.write}})],Qs.prototype,"style",void 0),p([_({type:String,json:{write:!0}})],Qs.prototype,"path",null),p([_({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Kn}},json:{default:null,write:!0}})],Qs.prototype,"outline",void 0),Qs=gO=p([ie("esri.symbols.SimpleMarkerSymbol")],Qs);var yO;let Ti=yO=class extends Sr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new jo,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return Zi(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new yO({angle:this.angle,backgroundColor:ke(this.backgroundColor),borderLineColor:ke(this.borderLineColor),borderLineSize:this.borderLineSize,color:ke(this.color),font:this.font&&this.font.clone(),haloColor:ke(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};p([_({type:zt,json:{write:!0}})],Ti.prototype,"backgroundColor",void 0),p([_({type:zt,json:{write:!0}})],Ti.prototype,"borderLineColor",void 0),p([_({type:Number,json:{write:!0},cast:Zi})],Ti.prototype,"borderLineSize",void 0),p([_({type:jo,json:{write:!0}})],Ti.prototype,"font",void 0),p([_({...Uq,json:{write:!0}})],Ti.prototype,"horizontalAlignment",void 0),p([_({type:Boolean,json:{write:!0}})],Ti.prototype,"kerning",void 0),p([_({type:zt,json:{write:!0}})],Ti.prototype,"haloColor",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ti.prototype,"haloSize",void 0),p([_({type:Boolean,json:{write:!0}})],Ti.prototype,"rightToLeft",void 0),p([_({type:Boolean,json:{write:!0}})],Ti.prototype,"rotated",void 0),p([_({type:String,json:{write:!0}})],Ti.prototype,"text",void 0),p([gt({esriTS:"text"},{readOnly:!0})],Ti.prototype,"type",void 0),p([_({...Fq,json:{write:!0}})],Ti.prototype,"verticalAlignment",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ti.prototype,"xoffset",void 0),p([_({type:Number,cast:Zi,json:{write:!0}})],Ti.prototype,"yoffset",void 0),p([_({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ti.prototype,"angle",void 0),p([_({type:Number,json:{write:!0}})],Ti.prototype,"width",void 0),p([_({type:Number})],Ti.prototype,"lineWidth",void 0),p([Gt("lineWidth")],Ti.prototype,"writeLineWidth",null),p([xr("lineWidth")],Ti.prototype,"castLineWidth",null),p([_(zq)],Ti.prototype,"lineHeight",void 0),p([Gt("lineHeight")],Ti.prototype,"writeLineHeight",null),Ti=yO=p([ie("esri.symbols.TextSymbol")],Ti);var vO;let Cs=vO=class extends Sr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Ie.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new vO({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){Z8(ze.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const t=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new $e("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const a=i&&t.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:r}=await Ne(()=>import("./webStyleSymbolUtils-axdqUiLv.js"),__vite__mapDeps([275,276,184,185,124,69,188]),import.meta.url);Li(e);const n=r(this,{portal:this.portal},e);n.catch(a=>{ze.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const s=await n;return t?.set(i,s.clone()),s}};p([_({json:{write:!1}})],Cs.prototype,"color",void 0),p([_({type:String,json:{write:!0}})],Cs.prototype,"styleName",void 0),p([_({type:Ie,json:{write:!1}})],Cs.prototype,"portal",void 0),p([_({type:String,json:{read:fx,write:Tg}})],Cs.prototype,"styleUrl",void 0),p([_({type:q0,json:{read:!1}})],Cs.prototype,"thumbnail",void 0),p([_({type:String,json:{write:!0}})],Cs.prototype,"name",void 0),p([gt({styleSymbolReference:"web-style"},{readOnly:!0})],Cs.prototype,"type",void 0),p([_()],Cs.prototype,"_fetchCacheKey",null),Cs=vO=p([ie("esri.symbols.WebStyleSymbol")],Cs);function uOe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function cOe(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const _R={base:Sr,key:"type",typeMap:{"simple-fill":Cu,"picture-fill":Ms,"picture-marker":Xn,"simple-line":Kn,"simple-marker":Qs,text:Ti,"label-3d":al,"line-3d":hh,"mesh-3d":nf,"point-3d":cl,"polygon-3d":dh,"web-style":Cs,cim:es},errorContext:"symbol"},Cge={base:Sr,key:"type",typeMap:{"picture-marker":Xn,"simple-marker":Qs,"point-3d":cl,cim:es},errorContext:"symbol"},hOe={base:Sr,key:"type",typeMap:{"simple-line":Kn,"line-3d":hh,cim:es},errorContext:"symbol"},dOe={base:Sr,key:"type",typeMap:{"simple-fill":Cu,"picture-fill":Ms,"polygon-3d":dh,cim:es},errorContext:"symbol"},fOe={base:Sr,key:"type",typeMap:{"picture-marker":Xn,"simple-marker":Qs,text:Ti,"web-style":Cs,cim:es},errorContext:"symbol"},pOe=sA({types:_R}),mOe={base:Sr,key:"type",typeMap:{"simple-fill":Cu,"picture-fill":Ms,"picture-marker":Xn,"simple-line":Kn,"simple-marker":Qs,text:Ti,"line-3d":hh,"mesh-3d":nf,"point-3d":cl,"polygon-3d":dh,"web-style":Cs,cim:es},errorContext:"symbol"},gOe={base:Sr,key:"type",typeMap:{text:Ti,"label-3d":al},errorContext:"symbol"},yOe={base:Sr,key:"type",typeMap:{"line-3d":hh,"mesh-3d":nf,"point-3d":cl,"polygon-3d":dh,"web-style":Cs,cim:es},errorContext:"symbol"},vOe={base:Sr,key:"type",typeMap:{"label-3d":al},errorContext:"symbol"},_Oe=Th(_R);var _O;function Oge(e){if(!e)return null;const t={};for(const i in e){const r=Ng(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function Pge(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}var hg;let wr=(hg=class extends on(tt){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Lb(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&zte(ze.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const i=this._get("attributes");i!==t&&(this._set("attributes",t),this._notifyLayer("attributes",i,t))}set geometry(t){const i=this._get("geometry");i!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",i,t))}set popupTemplate(t){const i=this._get("popupTemplate");i!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",i,t))}set symbol(t){const i=this._get("symbol");i!==t&&(this._set("symbol",t),this._notifyLayer("symbol",i,t))}get version(){return this._version}set visible(t){const i=this._get("visible");i!==t&&(this._set("visible",t),this._notifyLayer("visible",i,t))}cloneShallow(){return new _O({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const i=Ume(this.origin);if(i)return i.popupTemplate??(t?i.defaultPopupTemplate:null)??null;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[r,this.sourceLayer,this.layer])if(n&&typeof n=="object"){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(t&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,i){if(this.attributes){const r=this.getAttribute(t);this.attributes[t]=i,this._notifyLayer("attributes",r,i,t)}else this.attributes={[t]:i}}getObjectId(){const t=qD(this.origin);if(t)return GD(this,t);const i=this.sourceLayer??this.layer;return i?GD(this,i):null}getGlobalId(){const t=qD(this.origin);if(t?.globalIdField)return this.getAttribute(t.globalIdField);const i=this.sourceLayer??this.layer;return i&&"globalIdField"in i&&i.globalIdField?this.getAttribute(i.globalIdField):null}toJSON(){return{aggregateGeometries:Pge(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:BS(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:i}=this;if(i?.type==="mesh"){const r={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",r,r,t.action)}}_notifyLayer(t,i,r,n){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:t,oldValue:i,newValue:r};t==="origin-transform"&&(s.action=n),t==="attributes"&&(s.attributeName=n),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([Ns(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:i})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())}),Ns(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,i)=>t===i,sync:!0})])}},_O=hg,hg);p([_({value:null,json:{read:Oge}})],wr.prototype,"aggregateGeometries",null),p([_({value:null})],wr.prototype,"attributes",null),p([_({value:null,types:iR,json:{read:Ng}})],wr.prototype,"geometry",null),p([_({type:Boolean})],wr.prototype,"isAggregate",void 0),p([_({clonable:!1})],wr.prototype,"layer",void 0),p([_({clonable:"reference"})],wr.prototype,"origin",void 0),p([_({type:Pq,value:null})],wr.prototype,"popupTemplate",null),p([_({clonable:"reference"})],wr.prototype,"sourceLayer",void 0),p([_({value:null,types:_R})],wr.prototype,"symbol",null),p([_({clonable:!1,json:{read:!1,write:!1}})],wr.prototype,"_version",void 0),p([_({type:Boolean,value:!0})],wr.prototype,"visible",null),wr=_O=p([ie("esri.Graphic")],wr);let G0=class extends I0{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};p([R9({Type:wr,ensureType:jn(wr)})],G0.prototype,"itemType",void 0),G0=p([ie("esri.support.GraphicsCollection")],G0);let du=class extends et{constructor(t){super(t),this.view=null,this.baseLayerViews=new Fe,this.groundLayerViews=new Fe,this.referenceLayerViews=new Fe,this._loadingHandle=ht(()=>this.view?.map?.basemap,i=>{i&&i.load().catch(()=>{})},nn)}destroy(){this._set("view",null),this._loadingHandle=Oi(this._loadingHandle),this.baseLayerViews.destroyAll(),this.groundLayerViews.destroyAll(),this.referenceLayerViews.destroyAll()}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.groundLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};p([_({constructOnly:!0})],du.prototype,"view",void 0),p([_({readOnly:!0})],du.prototype,"baseLayerViews",void 0),p([_({readOnly:!0})],du.prototype,"groundLayerViews",void 0),p([_({readOnly:!0})],du.prototype,"referenceLayerViews",void 0),p([_({readOnly:!0})],du.prototype,"suspended",null),p([_({type:Boolean,readOnly:!0})],du.prototype,"updating",null),du=p([ie("esri.views.BasemapView")],du);const Age=du;let Js=class extends et{constructor(t){super(t),this.factor=1.5,this.offset=Br(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};p([_({type:Number})],Js.prototype,"factor",void 0),p([_({nonNullable:!0})],Js.prototype,"offset",void 0),p([_()],Js.prototype,"position",void 0),p([_({type:Number,range:{min:0}})],Js.prototype,"size",void 0),p([_()],Js.prototype,"maskUrl",void 0),p([_()],Js.prototype,"maskEnabled",void 0),p([_()],Js.prototype,"overlayUrl",void 0),p([_()],Js.prototype,"overlayEnabled",void 0),p([_({readOnly:!0})],Js.prototype,"version",null),p([_({type:Boolean})],Js.prototype,"visible",void 0),Js=p([ie("esri.views.Magnifier")],Js);const Qq=Js;let Km=class{constructor(t){this._observable=new V_,this._map=new Map(t)}get size(){return ut(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const i=this._map.delete(t);return i&&this._observable.notify(),i}entries(){return ut(this._observable),this._map.entries()}forEach(t,i){ut(this._observable),this._map.forEach((r,n)=>t.call(i,r,n,this),i)}get(t){return ut(this._observable),this._map.get(t)}has(t){return ut(this._observable),this._map.has(t)}keys(){return ut(this._observable),this._map.keys()}set(t,i){return this._map.set(t,i),this._observable.notify(),this}values(){return ut(this._observable),this._map.values()}[Symbol.iterator](){return ut(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var wO;let d0=wO=class extends tt{constructor(e){super(e),this.name=null,this.code=null}clone(){return new wO({name:this.name,code:this.code})}};p([_({type:String,json:{write:{isRequired:!0}}})],d0.prototype,"name",void 0),p([_({type:[String,Number],json:{write:{isRequired:!0}}})],d0.prototype,"code",void 0),d0=wO=p([ie("esri.layers.support.CodedValue")],d0);const Rge=new qr({inherited:"inherited",codedValue:"coded-value",range:"range"});let fh=class extends tt{constructor(t){super(t),this.name=null,this.type=null}};p([_({type:String,json:{write:!0}})],fh.prototype,"name",void 0),p([gt(Rge),_({json:{write:{isRequired:!0}}})],fh.prototype,"type",void 0),fh=p([ie("esri.layers.support.Domain")],fh);var bO,dg;let Lm=(dg=class extends fh{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let i=null;if(this.codedValues){const r=String(t);this.codedValues.some(n=>(String(n.code)===r&&(i=n.name),!!i))}return i}clone(){return new bO({codedValues:ke(this.codedValues),name:this.name})}},bO=dg,dg);p([_({type:[d0],json:{write:{isRequired:!0}}})],Lm.prototype,"codedValues",void 0),p([gt({codedValue:"coded-value"})],Lm.prototype,"type",void 0),Lm=bO=p([ie("esri.layers.support.CodedValueDomain")],Lm);var SO,fg;let V0=(fg=class extends fh{constructor(t){super(t),this.type="inherited"}clone(){return new SO}},SO=fg,fg);p([gt({inherited:"inherited"})],V0.prototype,"type",void 0),V0=SO=p([ie("esri.layers.support.InheritedDomain")],V0);var xO,pg;let Jd=(pg=class extends fh{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new xO({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},xO=pg,pg);p([_({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],Jd.prototype,"maxValue",void 0),p([_({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],Jd.prototype,"minValue",void 0),p([gt({range:"range"})],Jd.prototype,"type",void 0),Jd=xO=p([ie("esri.layers.support.RangeDomain")],Jd);const Lge={key:"type",base:fh,typeMap:{range:Jd,"coded-value":Lm,inherited:V0}};function kge(e){if(!e?.type)return null;switch(e.type){case"range":return Jd.fromJSON(e);case"codedValue":return Lm.fromJSON(e);case"inherited":return V0.fromJSON(e)}return null}const Ige=new qr({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var TO;const Nge=new qr({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",currency:"currency",dateAndTime:"date-and-time",description:"description",emailAddress:"email-address",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",phoneNumber:"phone-number",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var mg;let Mn=(mg=class extends tt{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(t,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?.value??null}readValueType(t,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?Nge.fromJSON(r.fieldValueType):null}clone(){return new TO({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},TO=mg,mg);p([_({type:String,json:{write:!0}})],Mn.prototype,"alias",void 0),p([_({type:[String,Number],json:{write:{allowNull:!0}}})],Mn.prototype,"defaultValue",void 0),p([_()],Mn.prototype,"description",void 0),p([Zt("description")],Mn.prototype,"readDescription",null),p([_({types:Lge,json:{read:{reader:kge},write:!0}})],Mn.prototype,"domain",void 0),p([_({type:Boolean,json:{write:!0}})],Mn.prototype,"editable",void 0),p([_({type:fi,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Mn.prototype,"length",void 0),p([_({type:String,json:{write:!0}})],Mn.prototype,"name",void 0),p([_({type:Boolean,json:{write:!0}})],Mn.prototype,"nullable",void 0),p([gt(Ige)],Mn.prototype,"type",void 0),p([_()],Mn.prototype,"valueType",void 0),p([Zt("valueType",["description"])],Mn.prototype,"readValueType",null),p([_({type:Boolean,json:{read:!1}})],Mn.prototype,"visible",void 0),Mn=TO=p([ie("esri.layers.support.Field")],Mn);var MO;let lm=MO=class extends tt{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new MO({mapLayerId:e,gdbVersion:t})}};p([gt({mapLayer:"map-layer"}),_({json:{write:{isRequired:!0}}})],lm.prototype,"type",void 0),p([_({type:fi,json:{write:{isRequired:!0}}})],lm.prototype,"mapLayerId",void 0),p([_({type:String,json:{write:!0}})],lm.prototype,"gdbVersion",void 0),lm=MO=p([ie("esri.layers.support.source.MapLayerSource")],lm);var EO;let fu=EO=class extends tt{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:r,geometryType:n}=this,s={workspaceId:e,query:t,oidFields:i,spatialReference:r?.clone()??void 0,geometryType:n};return new EO(s)}};p([gt({queryTable:"query-table"}),_({json:{write:{isRequired:!0}}})],fu.prototype,"type",void 0),p([_({type:String,json:{write:!0}})],fu.prototype,"workspaceId",void 0),p([_({type:String,json:{write:!0}})],fu.prototype,"query",void 0),p([_({type:String,json:{write:!0}})],fu.prototype,"oidFields",void 0),p([_({type:Be,json:{write:!0}})],fu.prototype,"spatialReference",void 0),p([gt(vde)],fu.prototype,"geometryType",void 0),fu=EO=p([ie("esri.layers.support.source.QueryTableDataSource")],fu);var $O;let um=$O=class extends tt{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new $O({workspaceId:e,dataSourceName:t})}};p([gt({raster:"raster"}),_({json:{write:{isRequired:!0}}})],um.prototype,"type",void 0),p([_({type:String,json:{write:!0}})],um.prototype,"dataSourceName",void 0),p([_({type:String,json:{write:!0}})],um.prototype,"workspaceId",void 0),um=$O=p([ie("esri.layers.support.source.RasterDataSource")],um);var CO;let Ud=CO=class extends tt{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new CO({workspaceId:e,gdbVersion:t,dataSourceName:i})}};p([gt({table:"table"}),_({json:{write:{isRequired:!0}}})],Ud.prototype,"type",void 0),p([_({type:String,json:{write:!0}})],Ud.prototype,"workspaceId",void 0),p([_({type:String,json:{write:!0}})],Ud.prototype,"gdbVersion",void 0),p([_({type:String,json:{write:!0}})],Ud.prototype,"dataSourceName",void 0),Ud=CO=p([ie("esri.layers.support.source.TableDataSource")],Ud);var OO,PO;const Dge=Ds()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Xs=OO=class extends tt{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return YD()(e,t,i)}castLeftTableSource(e){return Th(AO(),e)}readRightTableSource(e,t,i){return YD()(e,t,i)}castRightTableSource(e){return Th(AO(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:n}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:i?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:n};return new OO(s)}};p([gt({joinTable:"join-table"}),_({json:{write:{isRequired:!0}}})],Xs.prototype,"type",void 0),p([_({type:String,json:{write:!0}})],Xs.prototype,"leftTableKey",void 0),p([_({type:String,json:{write:!0}})],Xs.prototype,"rightTableKey",void 0),p([_({json:{write:!0}})],Xs.prototype,"leftTableSource",void 0),p([Zt("leftTableSource")],Xs.prototype,"readLeftTableSource",null),p([xr("leftTableSource")],Xs.prototype,"castLeftTableSource",null),p([_({json:{write:!0}})],Xs.prototype,"rightTableSource",void 0),p([Zt("rightTableSource")],Xs.prototype,"readRightTableSource",null),p([xr("rightTableSource")],Xs.prototype,"castRightTableSource",null),p([gt(Dge)],Xs.prototype,"joinType",void 0),Xs=OO=p([ie("esri.layers.support.source.JoinTableDataSource")],Xs);let o3=null;function YD(){return o3||(o3=sA({types:AO()})),o3}let a3=null;function AO(){return a3||(a3={key:"type",base:null,typeMap:{"data-layer":Tu,"map-layer":lm}}),a3}const jge={key:"type",base:null,typeMap:{"join-table":Xs,"query-table":fu,raster:um,table:Ud}};var gg;let Tu=(gg=class extends tt{constructor(t){super(t),this.type="data-layer"}clone(){const{fields:t,dataSource:i}=this;return new PO({fields:t,dataSource:i})}},PO=gg,gg);p([gt({dataLayer:"data-layer"}),_({json:{write:{isRequired:!0}}})],Tu.prototype,"type",void 0),p([_({type:[Mn],json:{write:!0}})],Tu.prototype,"fields",void 0),p([_({types:jge,json:{write:!0}})],Tu.prototype,"dataSource",void 0),Tu=PO=p([ie("esri.layers.support.source.DataLayerSource")],Tu),Tu.from=jn(Tu);let Fd=class extends on(tt){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};p([_({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Fd.prototype,"onFields",void 0),p([_({type:String,json:{write:!0}})],Fd.prototype,"operator",void 0),p([_({type:String,json:{write:!0}})],Fd.prototype,"searchTerm",void 0),p([_({type:String,json:{write:!0}})],Fd.prototype,"searchType",void 0),Fd=p([ie("esri.rest.support.FullTextSearch")],Fd);const zge=Fd;var RO;const JD=new qr({upperLeft:"upper-left",lowerLeft:"lower-left"});let Xc=RO=class extends tt{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new RO(ke({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};p([_({type:It,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Xc.prototype,"extent",void 0),p([_({type:["view","edit"],json:{write:!0}})],Xc.prototype,"mode",void 0),p([_({type:String,json:{read:JD.read,write:JD.write}})],Xc.prototype,"originPosition",void 0),p([_({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Xc.prototype,"tolerance",void 0),Xc=RO=p([ie("esri.rest.support.QuantizationParameters")],Xc);const Uge=e=>{const t=e;let i=class extends t{};return i=p([ie("esri.rest.support.QueryMixin")],i),i},Fge=new qr({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var LO;const XD=new qr({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let ba=LO=class extends tt{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=ke(e))}clone(){return new LO({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:ke(this.statisticParameters)})}};p([_({type:Number,json:{write:!0}})],ba.prototype,"maxPointCount",void 0),p([_({type:Number,json:{write:!0}})],ba.prototype,"maxRecordCount",void 0),p([_({type:Number,json:{write:!0}})],ba.prototype,"maxVertexCount",void 0),p([_({type:String,json:{write:!0}})],ba.prototype,"onStatisticField",void 0),p([_({type:String,json:{write:!0}})],ba.prototype,"outStatisticFieldName",void 0),p([_({type:String,json:{read:{source:"statisticType",reader:XD.read},write:{target:"statisticType",writer:XD.write}}})],ba.prototype,"statisticType",void 0),p([_({type:Object})],ba.prototype,"statisticParameters",void 0),p([Gt("statisticParameters")],ba.prototype,"writeStatisticParameters",null),ba=LO=p([ie("esri.rest.support.StatisticDefinition")],ba);var SS;const Bge=new qr({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var _f;let lt=(_f=class extends Uge(tt){static from(t){return yx(SS,t)}constructor(t){super(t),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(t){return typeof t=="number"||typeof t=="object"?t:null}writeHistoricMoment(t,i){i.historicMoment=t&&t.getTime()}writeParameterValues(t,i){if(t){const r={};for(const n in t){const s=t[n];Array.isArray(s)?r[n]=s.map(a=>a instanceof Date?a.getTime():a):s instanceof Date?r[n]=s.getTime():r[n]=s}i.parameterValues=r}}writeStart(t,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(t,i){i.where=t||"1=1"}clone(){return new SS(ke({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},SS=_f,_f.MAX_MAX_RECORD_COUNT_FACTOR=5,_f);p([_({json:{write:!0}})],lt.prototype,"aggregateIds",void 0),p([_({type:Boolean,json:{write:!0}})],lt.prototype,"cacheHint",void 0),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"compactGeometryEnabled",void 0),p([_({json:{write:!0}})],lt.prototype,"datumTransformation",void 0),p([xr("datumTransformation")],lt.prototype,"castDatumTransformation",null),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"defaultSpatialReferenceEnabled",void 0),p([_({type:Number,json:{write:!0}})],lt.prototype,"distance",void 0),p([_({type:Tu,json:{write:!0}})],lt.prototype,"dynamicDataSource",void 0),p([_({type:String,json:{write:!0}})],lt.prototype,"formatOf3DObjects",void 0),p([_({type:[zge],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],lt.prototype,"fullText",void 0),p([_({type:String,json:{write:!0}})],lt.prototype,"gdbVersion",void 0),p([_({types:iR,json:{read:Ng,write:!0}})],lt.prototype,"geometry",void 0),p([_({type:Number,json:{write:!0}})],lt.prototype,"geometryPrecision",void 0),p([_({type:[String],json:{write:!0}})],lt.prototype,"groupByFieldsForStatistics",void 0),p([_({type:String,json:{write:!0}})],lt.prototype,"having",void 0),p([_({type:Date})],lt.prototype,"historicMoment",void 0),p([Gt("historicMoment")],lt.prototype,"writeHistoricMoment",null),p([_({type:Number,json:{write:!0}})],lt.prototype,"maxAllowableOffset",void 0),p([_({type:Number,cast:e=>e<1?1:e>lt.MAX_MAX_RECORD_COUNT_FACTOR?lt.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],lt.prototype,"maxRecordCountFactor",void 0),p([_({type:["xyFootprint"],json:{write:!0}})],lt.prototype,"multipatchOption",void 0),p([_({type:Number,json:{read:{source:"resultRecordCount"}}})],lt.prototype,"num",void 0),p([_({json:{write:!0}})],lt.prototype,"objectIds",void 0),p([_({type:[String],json:{write:!0}})],lt.prototype,"orderByFields",void 0),p([_({type:[String],json:{write:!0}})],lt.prototype,"outFields",void 0),p([_({type:Be,json:{name:"outSR",write:!0}})],lt.prototype,"outSpatialReference",void 0),p([_({type:[ba],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],lt.prototype,"outStatistics",void 0),p([_({json:{write:!0}})],lt.prototype,"parameterValues",void 0),p([Gt("parameterValues")],lt.prototype,"writeParameterValues",null),p([_({type:We,json:{write:!0}})],lt.prototype,"pixelSize",void 0),p([_({type:Xc,json:{write:!0}})],lt.prototype,"quantizationParameters",void 0),p([_({type:[Object],json:{write:!0}})],lt.prototype,"rangeValues",void 0),p([_({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],lt.prototype,"relationParameter",void 0),p([_({type:String,json:{write:!0}})],lt.prototype,"resultType",void 0),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"returnCentroid",void 0),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"returnDistinctValues",void 0),p([_({type:Boolean,json:{default:!0,write:!0}})],lt.prototype,"returnExceededLimitFeatures",void 0),p([_({type:Boolean,json:{write:!0}})],lt.prototype,"returnGeometry",void 0),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"returnQueryGeometry",void 0),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"returnM",void 0),p([_({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],lt.prototype,"returnZ",void 0),p([_({type:Boolean,json:{write:!0}})],lt.prototype,"returnTrueCurves",void 0),p([_({type:Be,json:{write:!0}})],lt.prototype,"sourceSpatialReference",void 0),p([gt(Fge,{ignoreUnknown:!1,name:"spatialRel"})],lt.prototype,"spatialRelationship",void 0),p([_({type:Number,json:{read:{source:"resultOffset"}}})],lt.prototype,"start",void 0),p([Gt("start"),Gt("num")],lt.prototype,"writeStart",null),p([_({type:String,json:{write:!0}})],lt.prototype,"sqlFormat",void 0),p([_({type:String,json:{write:!0}})],lt.prototype,"text",void 0),p([_({type:Jn,json:{write:!0}})],lt.prototype,"timeExtent",void 0),p([_({type:Boolean,json:{default:!1,write:!0}})],lt.prototype,"timeReferenceUnknownClient",void 0),p([gt(Bge,{ignoreUnknown:!1}),_({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],lt.prototype,"units",void 0),p([_({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],lt.prototype,"where",void 0),p([Gt("where")],lt.prototype,"writeWhere",null),lt=SS=p([ie("esri.rest.support.Query")],lt);function kc(e){return!(e==null||typeof e!="object"||!("createQuery"in e)||!e.createQuery)}let Io=class extends Bf{constructor(t){super(t),this._selectionMap=new Km,this._sources=new Fe,this._trashCan=[],this._layerEditHandles=new Fe,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([ht(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),ht(()=>this.view,t=>{t?.when().then(()=>this.syncSources())},nn),kf(()=>this.sources,"change",t=>{const i=this._selectionMap,r=[];for(const n of t.removed){const s=i.get(n);s&&(i.delete(n),s.highlightHandle?.remove(),r.push({layer:n,selection:[],added:[],removed:[...s.selection]}))}this._refreshListeners(),r.length&&this._onSelectionChange(r)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(Oi)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[i,r]=t;return{layer:i,selection:[...r.selection]}})}get count(){let t=0;for(const i of this._selectionMap.values())t+=i.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){ml(t,this._sources)}syncSources(){const t=new Set,i=this.view?.map;if(!i)return;const r=n=>{jae(n)?(n.layers?.forEach(r),n.tables?.forEach(r)):Dae(n)?(n.sublayers?.forEach(r),n.subtables?.forEach(r)):IN(n)?n.sublayers?.forEach(r):kc(n)&&t.add(n)};i.allLayers.forEach(r),i.allTables.forEach(r),this.sources=[...t]}async getSelectedFeatures(t,i={},r="layerView"){const{view:n,selections:s}=this;if(!n&&r==="layerView")return ze.getLogger(this).warn("Cannot query layer views without a view."),[];const a=(t?.length?s.filter(u=>t.includes(u.layer)):s).map(async u=>{const{layer:h,selection:f}=u;if(!f.length)return;const v=Qp(h)?h.parent:h;if(v!=null){if(n&&r==="layerView"&&!KD(v)&&QD(v)){const w=await n.whenLayerView(v).catch(()=>null);if(w)return e6(w,f,i)}return e6(v,f,i)}}).filter(bg);return(await Promise.all(a)).filter(bg)}updateSelection(t){const i=new Map;for(const[s,a]of this._selectionMap)i.set(s,[...a.selection]);let r=!1;const n=t.current.concat(t.added);for(const s of n){const a=s.sourceLayer,u=s.getObjectId();if(this.sources.includes(a)&&(kc(a)||Qp(a))&&u!==null){const h=U_(i,a,()=>[]);h.includes(u)||(h.push(u),r=!0)}}for(const s of t.removed){const a=s.sourceLayer,u=s.getObjectId();if(this.sources.includes(a)&&(kc(a)||Qp(a))&&u!==null){const h=i.get(a),f=h?.indexOf(u);f!==void 0&&f>=0&&(h?.splice(f,1),r=!0)}}if(r){const{_selectionMap:s,_trashCan:a}=this,u=[];for(const[h,f]of i){const v=s.get(h);v!==void 0&&a.push(v),s.set(h,{selection:f}),u.push({layer:h,selection:f,...G5(v!==void 0?v.selection:[],f)})}this._onSelectionChange(u)}}setSelection(t,i){this._setSelection(t,i)}getSelection(t){return this._selectionMap.get(t)?.selection}appendToSelection(t,i){const r=this._selectionMap.get(t),n=r!==void 0?[...r.selection]:[];for(const s of i)n.includes(s)||n.push(s);this._setSelection(t,n)}removeFromSelection(t,i){const r=this._selectionMap.get(t);if(!r)return;const n=[];for(const s of r.selection)i.includes(s)||n.push(s);this._setSelection(t,n)}toggleInSelection(t,i){const r=this._selectionMap.get(t);if(!r||r.selection.length===0)return void this._setSelection(t,i);const n=new Set(r.selection),s=new Set(i),a=xie(n,s);this._setSelection(t,Array.from(a))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const i=[];for(const[r,n]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();if(this.view==null)return;const{sources:t,view:i,_selectionMap:r,showHighlight:n}=this,s=this._vizTaskId;for(const a of t){const u=r.get(a),h=Qp(a)?a.parent:a;if(h!=null&&QD(h)){if(KD(h))continue;i.whenLayerView(h).then(f=>{u?.highlightHandle?.remove(),u!=null&&n&&s===this._vizTaskId&&"highlight"in f&&typeof f.highlight=="function"&&u.selection.length>0&&(u.highlightHandle=f.highlight(u.selection,this.highlightName))}).catch(()=>{u?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Oi);const t=new Set(this.sources.map(i=>Qp(i)?i.parent:i));for(const i of t)kc(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",r=>this._onLayerEdit(r,i)))}_onLayerEdit(t,i){if(IN(i))this._onParentLayerEdit(t,i);else if(t.deletedFeatures.length&&this._selectionMap.has(i)){const r=[];t.deletedFeatures.forEach(({error:n,objectId:s})=>{s!=null&&n==null&&r.push(s)}),this.removeFromSelection(i,r)}}_onParentLayerEdit(t,i){const{deletedFeatures:r,edits:n,updatedFeatures:s}=t;if(n?.updateFeatures?.forEach(a=>{const u=a.getObjectId()??a.attributes[i.objectIdField];if(u==null||s.find(v=>v.objectId===u)?.error)return;const h=i.findSublayerForFeature(a);if(!kc(h))return;const f=i.sublayers.find(v=>!(!kc(v)||!this.getSelection(v)?.includes(u)));kc(f)&&f!==h&&(this.removeFromSelection(f,[u]),this.appendToSelection(h,[u]))}),r.length){const a=[];r.forEach(({error:u,objectId:h})=>{h!=null&&u==null&&a.push(h)}),i.sublayers.forEach(u=>{kc(u)&&this._selectionMap.has(u)&&this.removeFromSelection(u,a)})}}_setSelection(t,i){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const r=this._selectionMap.get(t);if(r===void 0||!Gge(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(t,{selection:[...i]});const n={layer:t,selection:[...i],...G5(r!==void 0?r.selection:[],i)};this._onSelectionChange([n])}}};p([_()],Io.prototype,"_selectionMap",void 0),p([_()],Io.prototype,"_sources",void 0),p([_({readOnly:!0,nonNullable:!0})],Io.prototype,"selections",null),p([_({readOnly:!0,nonNullable:!0})],Io.prototype,"count",null),p([_()],Io.prototype,"view",void 0),p([_({readOnly:!0,nonNullable:!0})],Io.prototype,"hasSelection",null),p([_()],Io.prototype,"showHighlight",void 0),p([_()],Io.prototype,"sources",null),p([_()],Io.prototype,"highlightName",void 0),Io=p([ie("esri.views.SelectionManager")],Io);const KD=e=>Qp(e)?e.parent?.isTable===!0:e.isTable,qge=e=>e.layer!==void 0,QD=e=>e?.when!==void 0,Gge=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const i=[...e.selection],r=[...t.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let n=0;n<i.length;n++)if(i[n]!==r[n])return!1}return!0},e6=async(e,t,i={})=>{let r;if(qge(e)){const n=e;r=n===void 0?null:await n.queryFeatures(new lt({...i,objectIds:t})).then(s=>({data:s,layer:e.layer}))}else{const n=e;r=n===void 0?null:await n.queryFeatures(new lt({...i,objectIds:t})).then(s=>({data:s,layer:n}))}return r},Vge=Io;let f0=class extends on(et){constructor(t){super(t),this.accentColor=new zt([255,127,0]),this.textColor=new zt([255,255,255])}};p([_({type:zt,nonNullable:!0})],f0.prototype,"accentColor",void 0),p([_({type:zt,nonNullable:!0})],f0.prototype,"textColor",void 0),f0=p([ie("esri.views.Theme")],f0);const kO=f0,eG=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],tG={};function iG(e){return!!tG[e]}function Hge(e){for(const t of e)if(!iG(t))return!1;return!0}eG.forEach(e=>{tG[e]=!0});let rG=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:i,priority:r},n)=>this.inputManager?.installHandlers(n,[i],r))}disconnect(){this.inputManager&&this._handlers.forEach((t,i)=>this.inputManager?.uninstallHandlers(i)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,i,r,n){const s=Array.isArray(t)?t:t.split(",");if(!Hge(s))return s.some(iG)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,u;Array.isArray(i)?u=i:(a=i,u=[]),typeof r=="function"?a=r:n=r,n=n??Iu.DEFAULT;const h=this._createUniqueGroupName(),f=new Wge(this.view,s,u,a);this._handlers.set(h,{handler:f,priority:n});for(const v of s){const w=this._handlerCounts.get(v)||0;this._handlerCounts.set(v,w+1)}return this.inputManager&&this.inputManager.installHandlers(h,[f],n),jt(()=>this._removeHandler(h,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,i){if(this._handlers.has(t)){this._handlers.delete(t);for(const r of i){const n=this._handlerCounts.get(r);n===void 0||(n===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,n-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},Wge=class extends Vr{constructor(t,i,r,n){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of i)switch(s){case"click":this.registerIncoming("click",r,a=>n(Jge(t,a)));break;case"double-click":this.registerIncoming("double-click",r,a=>n(Xge(t,a)));break;case"immediate-click":this.registerIncoming("immediate-click",r,a=>n(Kge(t,a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,a=>n(Qge(t,a)));break;case"hold":this.registerIncoming("hold",r,a=>n(eye(t,a)));break;case"drag":this.registerIncoming("drag",r,a=>{const u=this._wrapDrag(a);u&&n(u)});break;case"key-down":this.registerIncoming("key-down",r,a=>n(tye(a)));break;case"key-up":this.registerIncoming("key-up",r,a=>n(iye(a)));break;case"pointer-down":this.registerIncoming("pointer-down",r,a=>n(Pv(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,a=>n(Pv(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,a=>n(Pv(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,a=>n(rye(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,a=>n(nye(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,a=>n(Pv(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,a=>n(Pv(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,a=>{n(sye(a))});break;case"focus":this.registerIncoming("focus",r,a=>{n(Zge(a))});break;case"blur":this.registerIncoming("blur",r,a=>{n(Yge(a))})}}_wrapDrag(t){const i=t.data,{x:r,y:n}=i.center,{action:s,pointerType:a,button:u}=i;if(s==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const h=i.pointer.native,f=i.buttons,{cancelable:v,timestamp:w}=t,x={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:r,y:n,origin:x,pointerType:a,button:u,buttons:f,radius:i.radius,angle:z7(i.angle),native:h,timestamp:w,cancelable:v,stopPropagation:()=>t.stopPropagation(),defer:M=>t.defer(M),preventDefault:()=>t.preventDefault()}}};function Zge(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Yge(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Jge(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:u,eventId:h}=t.data,{cancelable:f,timestamp:v}=t;return{type:"click",pointerType:i,button:r,buttons:n,x:s,y:a,native:u,timestamp:v,screenPoint:Br(s,a),mapPoint:h1(e,s,a),eventId:h,cancelable:f,stopPropagation:()=>t.stopPropagation(),defer:w=>t.defer(w),preventDefault:()=>t.preventDefault()}}function Xge(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:u,eventId:h}=t.data,{cancelable:f,timestamp:v}=t;return{type:"double-click",pointerType:i,button:r,buttons:n,x:s,y:a,native:u,timestamp:v,mapPoint:h1(e,s,a),eventId:h,cancelable:f,stopPropagation:()=>t.stopPropagation(),defer:w=>t.defer(w),preventDefault:()=>t.preventDefault()}}function Kge(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:u,eventId:h}=t.data,f=u.pointerId,{cancelable:v,timestamp:w}=t;return{type:"immediate-click",pointerId:f,pointerType:i,button:r,buttons:n,x:s,y:a,native:u,timestamp:w,mapPoint:h1(e,s,a),eventId:h,cancelable:v,stopPropagation:()=>t.stopPropagation(),defer:x=>t.defer(x),preventDefault:()=>t.preventDefault()}}function Qge(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:u,eventId:h}=t.data,f=u.pointerId,{cancelable:v,timestamp:w}=t;return{type:"immediate-double-click",pointerId:f,pointerType:i,button:r,buttons:n,x:s,y:a,native:u,timestamp:w,mapPoint:h1(e,s,a),eventId:h,cancelable:v,stopPropagation:()=>t.stopPropagation(),defer:x=>t.defer(x),preventDefault:()=>t.preventDefault()}}function eye(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:u}=t.data,{cancelable:h,timestamp:f}=t;return{type:"hold",pointerType:i,button:r,buttons:n,x:s,y:a,native:u,timestamp:f,mapPoint:h1(e,s,a),cancelable:h,stopPropagation:()=>t.stopPropagation(),defer:v=>t.defer(v),preventDefault:()=>t.preventDefault()}}function h1(e,t,i){return e.toMap(Br(t,i),{exclude:[]})}function tye(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:n,timestamp:s}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:s,cancelable:n,stopPropagation:()=>e.stopPropagation(),defer:a=>e.defer(a),preventDefault:()=>e.preventDefault()}}function iye(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:n}=e;return{type:"key-up",key:t,native:i,timestamp:n,cancelable:r,stopPropagation:()=>e.stopPropagation(),defer:s=>e.defer(s),preventDefault:()=>e.preventDefault()}}function Pv(e,t){const{x:i,y:r,button:n,buttons:s,native:a,eventId:u}=e.data,h=a.pointerId,f=a.pointerType,{cancelable:v,timestamp:w}=e;return{type:t,x:i,y:r,pointerId:h,pointerType:f,button:n,buttons:s,native:a,timestamp:w,eventId:u,cancelable:v,stopPropagation:()=>e.stopPropagation(),defer:x=>e.defer(x),preventDefault:()=>e.preventDefault()}}function rye(e){const{x:t,y:i,buttons:r,native:n,eventId:s}=e.data.currentEvent,{button:a}=e.data.startEvent,u=e.data.startEvent.native.pointerId,h=e.data.startEvent.native.pointerType,f=e.data.action,v={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:w,timestamp:x}=e;return{type:"pointer-drag",x:t,y:i,pointerId:u,pointerType:h,button:a,buttons:r,action:f,origin:v,native:n,timestamp:x,eventId:s,cancelable:w,stopPropagation:()=>e.stopPropagation(),defer:M=>e.defer(M),preventDefault:()=>e.preventDefault()}}function nye(e){const{cancelable:t,data:i,timestamp:r}=e,{x:n,y:s,deltaY:a,native:u}=i;return{type:"mouse-wheel",x:n,y:s,deltaY:a,native:u,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),defer:h=>e.defer(h),preventDefault:()=>e.preventDefault()}}function sye(e){const{action:t,state:i,device:r}=e.data,{cancelable:n,timestamp:s}=e,{buttons:a,axes:u}=i;return{type:"gamepad",device:r,timestamp:s,action:t,buttons:a,axes:u,cancelable:n,stopPropagation:()=>e.stopPropagation(),defer:h=>e.defer(h),preventDefault:()=>e.preventDefault()}}const oye="z",aye="r",nG={cancel:"Escape",complete:"Enter"},POe={...nG,redo:aye,undo:oye,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},AOe={toggle:"Control"},ROe={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},LOe={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:VB,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let kOe=class{constructor(){this._bindings=new Map}add(t,i){return this.addToggle(t,r=>{r.type==="key-down"&&i(r)})}addToggle(t,i){const r=lye.fromDefinition(t,i),n=U_(this._bindings,r.key,()=>[]);return n.push(r),jt(()=>Xz(n,r))}register(t,i=Iu.WIDGET){return Ff([t.on("key-down",r=>this.dispatch(t.inputManager,r),i),t.on("key-up",r=>this.dispatch(t.inputManager,r),i)])}dispatch(t,i){const r=i.key,n=this._bindings.get(r);if(n)for(const s of n)s.process(t,i)}},lye=class IO{constructor(t,i,r,n,s){this.key=t,this.modifiers=i,this.repeats=r,this.continuePropagation=n,this.callback=s}process(t,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const r of this.modifiers)if(!t.isModifierKeyDown(r))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(t,i){if(typeof t=="string")return new IO(t,[],!1,!1,i);const{key:r,modifier:n,repeats:s,continuePropagation:a}=t;return new IO(r,n?Array.isArray(n)?n:[n]:[],!!s,!!a,i)}};function uye(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return ze.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()}),e.on("after-remove",t=>{const i=t.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function NO(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(0)&&e.getEditableFlag(1)}function cye(e){return e.type==="key-down"&&e.key===nG.cancel}function il(e){return Br(e.x,e.y)}function sG(e,t){const i=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return i?Br(t.clientX-i.left,t.clientY-i.top):Br(0,0)}function oG(e,t){return t instanceof Event?sG(e,t):il(t)}function aG(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let xS=class extends et{constructor(){super(...arguments),this._pointerLocations=new Map,this._hoveredManipulators=new Km,this._grabbedManipulators=new Km,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1}get cursor(){return this._cursorFromMap(this._grabbedManipulators,"grabbing")??this._cursorFromMap(this._hoveredManipulators,"pointer")}get hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,i){const r=()=>t.stopPropagation();switch(t.type){case"pointer-move":t6(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!i6(t))break;const n=il(t),s=qp(n,t.pointerType,i.tools);if(s==null)break;const a=s.manipulator,u=s.tool;a==null||u==null||!a.interactive||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,t,i),a!=null&&u!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:u,start:n,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(s.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),r());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!i6(t))break;const n=this._grabbedManipulators.get(t.pointerId),s=n?.manipulator,a=n?.tool;if(s==null||a==null)break;const u=il(t);u.x=co(u.x,0,i.view.width),u.y=co(u.y,0,i.view.height);const h=n.start,f=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,f?s.events.emit("drag",{action:"update",start:h,screenPoint:u}):s.events.emit("drag",{action:"start",start:h,screenPoint:u,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:a,manipulator:s,start:h}));break;case"end":s.dragging=!1,f&&s.events.emit("drag",{action:"end",start:h,screenPoint:u}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}r();break}case"immediate-click":{const n=il(t),s=qp(n,t.pointerType,i.tools);if(!hye(t)){for(const f of i.tools)if((s==null||s.tool!==f||f.automaticManipulatorSelection)&&f.manipulators){let v=!1;f.manipulators.forEach(({manipulator:w})=>{w.selected&&(w.selected=!1,v=!0)}),v&&f.onManipulatorSelectionChanged&&f.onManipulatorSelectionChanged()}}if(s==null)break;const{manipulator:a,tool:u}=s;if(!a.interactive)break;a.selectable&&u.automaticManipulatorSelection&&(a.selected=!a.selected,u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged());const h=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:h,stopPropagation:r}),l3(a,r);break}case"click":{const n=il(t),s=qp(n,t.pointerType,i.tools),a=s?.manipulator;if(a==null||!a.interactive)break;const u=t.native.shiftKey;a.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:u}),r();break}case"double-click":{const n=il(t),s=qp(n,t.pointerType,i.tools),a=s!=null?s.manipulator:null;if(a==null||!a.interactive)break;const u=t.native.shiftKey;a.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:r}),l3(a,r);break}case"immediate-double-click":{const n=il(t),s=qp(n,t.pointerType,i.tools),a=s!=null?s.manipulator:null;if(a==null||!a.interactive)break;const u=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:r}),t.pointerType==="mouse"&&l3(a,r);break}}this._onFocusChange(i.tools)}_releaseManipulatorBeforeDragging(t,i,r){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:il(i)}),this._grabbedManipulators.forEach(({manipulator:n},s)=>{n===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(t,i){const r=this._grabbedManipulators.get(t.pointerId)?.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:il(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(t){this._updateFocusedManipulatorTools(t)}_updateFocusedManipulatorTools(t){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:n})=>i.add(n)),this._hoveredManipulators.forEach(({tool:n})=>r.add(n));for(const n of t){n.hasGrabbedManipulators=i.has(n),n.hasHoveredManipulators=r.has(n);const s=this._grabbedManipulators.values(),a=Ute(s,({tool:u})=>u===n);n.firstGrabbedManipulator=a!=null?a.manipulator:null}}clearPointers(t,{tools:i,setActiveTool:r},n=!0,s){const a=(u,h)=>u===t&&(s==null||s===h);this._grabbedManipulators.forEach(({tool:u,manipulator:h,pointerType:f},v)=>{a(u,h)&&(this._grabbedManipulators.delete(v),h.grabbing=!1,h.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:f}))}),this._draggedManipulators.forEach(({tool:u,manipulator:h},f)=>{a(u,h)&&(this._draggedManipulators.delete(f),h.dragging=!1,h.events.emit("drag",{action:"cancel"}))}),n&&this._hoveredManipulators.forEach(({tool:u,manipulator:h},f)=>{a(u,h)&&(this._hoveredManipulators.delete(f),h.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(Br(i.x,i.y),r,i.pointerType,t)})}handleHoverEvent(t,i){const r=t.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!t6(t.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(il(t),t.pointerId,t.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(t,i,r,n){let s=qp(t,r,n);const a=this._hoveredManipulators.get(i)?.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&a===s.manipulator||(a!=null&&(a.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(i,s)):this._hoveredManipulators.delete(i),this._onFocusChange(n))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:i},r)=>{t===r&&(this._hoveredManipulators.delete(t),i.hovering=!1)})}_cursorFromMap(t,i){if(!t?.size)return null;for(const{manipulator:r}of t.values())if(r?.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return i}};function qp(e,t,i){for(const r of i){if(r.manipulators==null||!NO(r))continue;const n=r.manipulators.intersect(e,t);if(n!=null)return{tool:r,manipulator:n}}return null}function t6(e){return e==="mouse"}function i6(e){return e.pointerType!=="mouse"||e.button===0}function hye(e){return!!e.native.shiftKey}function l3(e,t){e?.consumesClicks&&t()}p([_()],xS.prototype,"cursor",null),xS=p([ie("esri.views.interactive.ToolViewManagerManipulatorState")],xS);const r6="attached",u3="tools",dye=1e3;let rl=class extends et{constructor(t){super(t),this._updatingHandles=new pf,this._clock=Wg,this._manipulatorState=new xS,this.tools=new Fe,this._interacting=!1,this._interactingTimeout=dye,this._interactingTimeoutHandle=null}initialize(){this.addHandles([this.view.on(eG,t=>{this._handleInputEvent(t)},Iu.TOOL),...uye(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy(),this._manipulatorState.destroy()}get _manipulatorStateEventArgs(){return{tools:this.tools,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void ze.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const i=this.activeTool;this._set("activeTool",t),i?.deactivate(),t?.activate(),this._removeIncompleteTools(t);for(const r of this.tools){this._updateToolEditableFlag(r);const n=NO(r);this.activeTool!=null&&n||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!n)}}get cursor(){const t=this._manipulatorState.cursor;if(t!=null)return t;for(const i of this.tools)if(i.visible&&i.cursor!=null)return i.cursor;return null}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Oi(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([ht(()=>{const{state:t}=this.view;return"camera"in t&&t.camera},()=>this._forEachManipulator(t=>t.onViewChange())),this.view.elevationProvider.on("elevation-change",t=>this._forEachManipulator(i=>i.onElevationChange(t)))],r6):this.addHandles(ht(()=>this.view.extent,()=>this._forEachManipulator(t=>t.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(r6),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){for(const i of this.tools)i.manipulators&&i.manipulators.forEach(({manipulator:r})=>t(r,i))}_handleInputEvent(t){let i=!1;const r={...t,stopPropagation:()=>{i=!0,t.stopPropagation()}};if(this.activeTool!=null)this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r);else for(const n of this.tools)!i&&n.visible&&n.handleInputEvent(r);!i&&cye(t)&&this.activeTool&&(t.stopPropagation(),t.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this.tools),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(u3);for(const t of this.tools){if(t instanceof et){const i=ht(()=>[t.cursor,t.visible,t.editable],()=>{NO(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs)});this.addHandles(i,u3)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)})],u3)}this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)}_updateToolEditableFlag(t){t.setEditableFlag?.(1,this.activeTool==null||t===this.activeTool)}_removeIncompleteTools(t){this.tools.filter(i=>(t==null||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};p([_({constructOnly:!0,nonNullable:!0})],rl.prototype,"view",void 0),p([_({value:null})],rl.prototype,"activeTool",null),p([_({readOnly:!0,type:Fe})],rl.prototype,"tools",void 0),p([_()],rl.prototype,"cursor",null),p([_({readOnly:!0})],rl.prototype,"updating",null),p([_()],rl.prototype,"_interacting",void 0),p([_({readOnly:!0})],rl.prototype,"interacting",null),rl=p([ie("esri.views.ToolViewManager")],rl);const fye=new zt("cyan"),pye=1,mye=.25,gye=new zt("black"),yye=.4,vye=.2,jOe=.25,lG="default",_ye="temporary",wye=new zt("yellow");var DO;let Ks=DO=class extends et{constructor(e){super(e),this.name=lG,this.color=fye.clone(),this.haloColor=null,this.haloOpacity=pye,this.fillOpacity=mye,this.shadowColor=gye.clone(),this.shadowOpacity=yye,this.shadowDifference=vye,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){return new DO({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(e){this.color=e.color.clone(),this.haloColor=e.haloColor?.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};p([_({type:String,constructOnly:!0,nonNullable:!0})],Ks.prototype,"name",void 0),p([_({type:zt,nonNullable:!0})],Ks.prototype,"color",void 0),p([_({type:zt})],Ks.prototype,"haloColor",void 0),p([_({nonNullable:!0})],Ks.prototype,"haloOpacity",void 0),p([_({nonNullable:!0})],Ks.prototype,"fillOpacity",void 0),p([_({type:zt,nonNullable:!0})],Ks.prototype,"shadowColor",void 0),p([_({nonNullable:!0})],Ks.prototype,"shadowOpacity",void 0),p([_({nonNullable:!0})],Ks.prototype,"shadowDifference",void 0),p([_({nonNullable:!0})],Ks.prototype,"haloWidth",void 0),p([_({nonNullable:!0})],Ks.prototype,"haloBlur",void 0),Ks=DO=p([ie("esri.views.support.HighlightOptions")],Ks);const vh=Ks;function bye(){return new(Fe.ofType(vh))([new vh({name:lG}),new vh({name:_ye,color:wye})])}let cm=class extends et{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":Sye.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return xye[this.deviceType]}};p([_({nonNullable:!0,readOnly:!0})],cm.prototype,"nativeIndex",void 0),p([_({type:String,readOnly:!0})],cm.prototype,"deviceType",null),p([_({type:Number,readOnly:!0})],cm.prototype,"axisThreshold",null),cm=p([ie("esri.views.input.gamepad.GamepadInputDevice")],cm);const wR=cm,Sye=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),xye={standard:.15,spacemouse:.025,unknown:0};let p0=class extends et{constructor(t){super(t),this.devices=new Fe,this.enabledFocusMode="document"}};p([_({type:Fe.ofType(wR),readOnly:!0})],p0.prototype,"devices",void 0),p([_({type:["document","view","none"]})],p0.prototype,"enabledFocusMode",void 0),p0=p([ie("esri.views.input.gamepad.GamepadSettings")],p0);const Tye=p0;let TS=class extends et{constructor(){super(...arguments),this.gamepad=new Tye}};p([_({readOnly:!0})],TS.prototype,"gamepad",void 0),TS=p([ie("esri.views.input.Input")],TS);const Mye=TS,c3=()=>_({type:["pan","rotate","zoom","none"],nonNullable:!0});let Bd=class extends et{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};p([c3()],Bd.prototype,"dragPrimary",void 0),p([c3()],Bd.prototype,"dragSecondary",void 0),p([c3()],Bd.prototype,"dragTertiary",void 0),p([_({type:["zoom","none"],nonNullable:!0})],Bd.prototype,"mouseWheel",void 0),Bd=p([ie("esri.views.navigation.NavigationActionMap")],Bd);const bR=Bd;let Bc=class extends et{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};p([_({type:Boolean,nonNullable:!0})],Bc.prototype,"enabled",void 0),p([_({type:wR})],Bc.prototype,"device",void 0),p([_({type:["pan","zoom"],nonNullable:!0})],Bc.prototype,"mode",void 0),p([_({type:["forward-down","forward-up"],nonNullable:!0})],Bc.prototype,"tiltDirection",void 0),p([_({type:Number,nonNullable:!0})],Bc.prototype,"velocityFactor",void 0),Bc=p([ie("esri.views.navigation.gamepad.GamepadSettings")],Bc);const uG=Bc;let qc=class extends et{constructor(t){super(t),this.actionMap=new bR,this.browserTouchPanEnabled=!0,this.gamepad=new uG,this.momentumEnabled=!0}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){r$(ze.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};p([_({type:bR,nonNullable:!0})],qc.prototype,"actionMap",void 0),p([_({type:Boolean})],qc.prototype,"browserTouchPanEnabled",void 0),p([_({type:uG,nonNullable:!0})],qc.prototype,"gamepad",void 0),p([_({type:Boolean})],qc.prototype,"momentumEnabled",void 0),p([_({type:Boolean})],qc.prototype,"mouseWheelZoomEnabled",null),qc=p([ie("esri.views.navigation.Navigation")],qc);const Zx=qc;function VOe(e,t,i){const r=cG(e),n=t,s=Eye(r,n,i);if(r){const a=$s.deriveUnitFromSR(r,e.spatialReference).heightUnit;if(!i&&a!==r.heightUnit){const u=new $e("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${a})`,{horizontalUnit:a});return new $e("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:u})}}if(!$ye(e)||s===4)return new $e("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(s){case 1:{const a=r?.heightUnit||"unknown",u=n?.heightUnit||"unknown",h=new $e("layerview:incompatible-height-unit",`The vertical units of the layer (${a}) must match the vertical units of the scene (${u})`,{layerUnit:a,sceneUnit:u});return new $e("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:h})}case 2:{const a=r?.heightModel||"unknown",u=n?.heightModel||"unknown",h=new $e("layerview:incompatible-height-model",`The height model of the layer (${a}) must match the height model of the scene (${u})`,{layerHeightModel:a,sceneHeightModel:u});return new $e("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:h})}case 3:{const a=r?.vertCRS||"unknown",u=n?.vertCRS||"unknown",h=new $e("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${a}) must match the vertical datum of the scene (${u})`,{layerDatum:a,sceneDatum:u});return new $e("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:h})}}return null}function Eye(e,t,i){if(!n6(e)||!n6(t))return 4;if(e==null||t==null)return 0;if(!i&&e.heightUnit!==t.heightUnit)return 1;if(e.heightModel!==t.heightModel)return 2;switch(e.heightModel){case"gravity-related-height":return 0;case"ellipsoidal":return e.vertCRS===t.vertCRS?0:3;default:return 4}}function n6(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function $ye(e){return"heightModelInfo"in e&&e.heightModelInfo!=null||e.spatialReference!=null||!fG(e)}function cG(e){if(e.type==="integrated-mesh-3dtiles"||e.type==="gaussian-splat")return null;const t=e.url?B_(e.url):void 0;return!(e.spatialReference?.vcsWkid==null&&t!=null&&t.serverType==="ImageServer")&&hG(e)&&e.heightModelInfo?e.heightModelInfo:fG(e)?$s.deriveUnitFromSR(Oye,e.spatialReference):null}function hG(e){return"heightModelInfo"in e}function dG(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function fG(e){return dG(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):pG(e)}function Cye(e){return e.layers!=null||pG(e)||dG(e)||hG(e)}function pG(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"gaussian-splat":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const Oye=new $s({heightModel:"gravity-related-height"});let jO,h3=null;async function Pye(e){h3||(h3=Ne(()=>import("./geometryServiceUtils-B53WPAPv.js"),[],import.meta.url).then(t=>jO=t)),await h3,Li(e)}async function mG(e,t,i,r){if(!e)return null;const n=e.spatialReference;return Ol()||Ra(n,t)?kh(e,t):jO?jO.projectGeometry(e,t,i,r):(await Promise.race([Pye(r),Du(r)]),mG(e,t,i,r))}async function HOe(e,t){try{return e?.spatialReference?await HF(e,t):null}catch{return null}}let xi=class extends et{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Mf(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const t=this.map?.(),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{parent:t?.basemap,layers:t?.basemap?.groundLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,r=>{const n=this._getSupportedSpatialReferences(r);if(n.length>0){const s=this._narrowDownSpatialReferenceCandidates(t,n);s!=null&&(t=s)}return t?.length===1})&&t?.length!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(t);return{spatialReference:i?.spatialReference??null,viewingMode:i?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=this.map?.(),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const n=this._collectLayers([{parent:t?.basemap,layers:t?.basemap?.baseLayers},{parent:t?.basemap,layers:t?.basemap?.groundLayers},{layers:t?.layers}],s=>!(!("tileInfo"in s)||!s.tileInfo?.spatialReference.equals(i))&&(r=s,!0),s=>"tileInfo"in s);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:n}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let t={};const i=this._collectLayers(this.mapCollections,r=>{const n=cG(r);return!!n&&(t={heightModelInfo:n,vcsWkid:r.spatialReference?.vcsWkid,latestVcsWkid:r.spatialReference?.latestVcsWkid},!0)},r=>Cye(r));return{...t,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],i=this._collectLayers(this.mapCollections,r=>{const n="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:n[0],a=n.find(u=>u.spatialReference.equals(this.spatialReference))??s;if(a)return t.push({extent:a,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const u of n)t.push({extent:u,layer:r});return!1});return{candidates:t,updating:i}}get _extentTask(){const{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(t),n=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Mf(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:n.clone(),task:wx(async s=>{try{const a=await mG(r.extent,n,"portalItem"in r.layer?r.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:a}}catch{if(In(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(t==null)return i;const r=new Array;for(const n of t)for(const s of i){if(!n.spatialReference.equals(s.spatialReference))continue;const a=Rye(n.viewingMode,s.viewingMode);if(a!==!1){r.push({spatialReference:n.spatialReference,viewingMode:a});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(t){const i=this.defaultSpatialReference;return t==null||t.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&t.length>1&&t.some(({spatialReference:r})=>r.equals(i))&&(t=t.filter(({spatialReference:r})=>r.equals(i))),t.length>1&&t.some(({viewingMode:r})=>r!==2)&&(t=t.filter(({viewingMode:r})=>r!==2)),t[0])}_getSupportedSpatialReferences(t){const i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const n of i){const s=this.getSpatialReferenceSupport(n,t);if(s!=null){const a=s.constraints??[{spatialReference:n,viewingMode:null}];for(const{spatialReference:u,viewingMode:h}of a)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!u.equals(this.userSpatialReference)||r.push({spatialReference:u,viewingMode:h})}}return r}_pickExtentCandidate(t){const i=this.spatialReference;return t.find(({extent:r})=>i.equals(r.spatialReference))||t[0]}_collectLayers(t,i,r=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const n=new Aye(r,i);for(const s of t)if(this._collectCollection(s,n),n.done||n.preloading===this.sourcePreloadCount)break;return n.updating}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of t.layers)if((r.type!=="graphics"||!r.internal)&&i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(i=>{sn(i)}),"loading"):t.loadStatus:"loaded"}};p([_()],xi.prototype,"required",void 0),p([_({constructOnly:!0})],xi.prototype,"map",void 0),p([_({constructOnly:!0})],xi.prototype,"getSpatialReferenceSupport",void 0),p([_()],xi.prototype,"defaultSpatialReference",void 0),p([_()],xi.prototype,"userSpatialReference",void 0),p([_()],xi.prototype,"sourcePreloadCount",void 0),p([_()],xi.prototype,"priorityCollection",void 0),p([_()],xi.prototype,"requiresExtentInSpatialReference",void 0),p([_()],xi.prototype,"suspended",void 0),p([_({readOnly:!0})],xi.prototype,"ready",null),p([_({readOnly:!0})],xi.prototype,"heightModelInfoReady",null),p([_({readOnly:!0})],xi.prototype,"spatialReference",null),p([_({readOnly:!0})],xi.prototype,"extent",null),p([_({readOnly:!0})],xi.prototype,"heightModelInfo",null),p([_({readOnly:!0})],xi.prototype,"vcsWkid",null),p([_({readOnly:!0})],xi.prototype,"latestVcsWkid",null),p([_({readOnly:!0})],xi.prototype,"viewingMode",null),p([_({readOnly:!0})],xi.prototype,"tileInfo",null),p([_({readOnly:!0})],xi.prototype,"mapCollections",null),p([_({readOnly:!0})],xi.prototype,"_spatialReferenceTask",null),p([_({readOnly:!0})],xi.prototype,"_tileInfoTask",null),p([_({readOnly:!0})],xi.prototype,"_heightModelInfoTask",null),p([_({readOnly:!0})],xi.prototype,"_extentCandidatesTask",null),p([_()],xi.prototype,"_extentTask",null),p([_()],xi.prototype,"_projectExtentTask",void 0),xi=p([ie("esri.views.support.DefaultsFromMap")],xi);let Aye=class{constructor(t,i){this.layerFilter=t,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function Rye(e,t){return e!=null?t!=null?e===t&&e:e:t}function Lye(e){return"tryRecycleWith"in e}let kye=class{constructor(t,i,r){this.layer=t,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._started=!1,this.done=!1,this._deferred=uo(),this.promise=this._deferred.promise,Yo(this._controller.signal,()=>{this._recycleController?.abort();const n=new $e("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred?.reject(n)})}tryRecycle(t){if(!this.done||!this.layerView||!Lye(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;const i=this.layer.type,r=this._recycleController.signal;for(let n=0;n<t.length;n++){const s=t[n];if(s.type!==i)continue;const a=this.layerView.tryRecycleWith(s,{signal:r});if(a){t.splice(n,1),this.layer=s;const u=this.layerView,h=u.view;return this.promise=a.then(()=>(Li(r),s.emit("layerview-destroy",{view:h,layerView:u}),h.emit("layerview-destroy",{view:h,layerView:u}),s.emit("layerview-create",{view:h,layerView:u}),h.emit("layerview-create",{view:h,layerView:u}),u)),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:t}),r.emit("layerview-destroy",{layer:i,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){const{view:t}=this;if(this._started||!t.map)return;this._started=!0;const{_controller:{signal:i},layer:r}=this;this._map=t.map;try{let n,s;if(await r.load({signal:i}),r.prefetchResources&&await r.prefetchResources({signal:i}),Iye(r))n=await r.createLayerView(t,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new $e("layer:view-not-supported","No layerview implementation was found");const h=await this.layerViewImporter.importLayerView(r);Li(i),n="default"in h?new h.default({layer:r,view:t}):new h({layer:r,view:t})}const a=()=>{s=Oi(s),n.destroyed||n.destroy(),this.done=!0};s=Yo(i,a),Li(i);try{await n.when()}catch(h){throw a(),h}if(!this._map?.allLayers?.includes(r))return a(),void this._deferred?.reject(new $e("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=n,r.emit("layerview-create",{view:t,layerView:n}),t.emit("layerview-create",{layer:r,layerView:n}),this.done=!0,this._deferred?.resolve(n)}catch(n){r.emit("layerview-create-error",{view:t,error:n}),t.emit("layerview-create-error",{layer:r,error:n}),this.done=!0,this._deferred?.reject(new $e("layerview:create-error","layerview creation failed",{layer:r,error:n}))}}};function Iye(e){return e.createLayerView!==Gi.prototype.createLayerView}function Nye(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let Ss=class extends et{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new pf,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const i=this.view.map?.allLayers;if(i)for(const r of i)this.layerViewFilter?.(r)!==!1&&this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=uo(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Qg(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const{map:i}=this.view;if(!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,n=[],s=this.view.ready,a=v=>{if(v!=null){for(const w of v)if(w){if(this.layerViewFilter?.(w)===!1)continue;r.add(w);const x=this._layerLayerViewInfoMap.get(w);x&&s?x.start():x||this._recyclingInfoMap.has(w)||n.push(w),"layers"in w&&w.layers&&a(w.layers)}}};for(const v of this._rootCollectionNames)a(fl(this,v));const u=new Array,h=v=>{const w=v.tryRecycle(n);w?(this._recyclingInfoMap.set(v.layer,v),this.notifyChange("updating"),w.then(()=>{this._recyclingInfoMap.delete(v.layer),this._layerLayerViewInfoMap.set(v.layer,v),this._reschedule(),this.notifyChange("updating")}).catch(x=>{sn(x)||(this._recyclingInfoMap.delete(v.layer),v.destroy(),this._reschedule(),this.notifyChange("updating"))})):u.push(v)};for(const v of this._layerLayerViewInfoMap.values())r.has(v.layer)||(this._layerLayerViewInfoMap.delete(v.layer),h(v));for(const v of this._recyclingInfoMap.values())r.has(v.layer)||(this._recyclingInfoMap.delete(v.layer),h(v));for(const v of n)this._createLayerView(v);this._refreshCollections(),u.forEach(v=>v.destroy());const f=[i?.ground?.layers,i?.basemap?.baseLayers,i?.basemap?.groundLayers,i?.basemap?.referenceLayers,i?.layers].filter(v=>!!v);r.forEach(v=>"layers"in v&&f.push(v.layers)),this.addHandles(f.map(v=>this._watchUpdatingTracking.addOnCollectionChange(()=>v,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null},this._layersToLayerViews=new Map(t.layerviewMapping)}initialize(){this.addHandles([kf(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),ht(()=>{const t=this.view,i=t?.map;return[i?.basemap,i?.ground,i?.layers,t?.ready]},()=>this._reschedule(),On)]),this._preloadLayerViewModules(),this._reschedule()}clearHandles(){this._watchUpdatingTracking.removeAll()}destroy(){this.clear(),Qw(this._recyclingInfoMap),Qw(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(ai()),this._workPromise=null)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Xee(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){this.destroyed||(this._clearCollections(),Qw(this._layerLayerViewInfoMap),Qw(this._recyclingInfoMap))}async whenLayerView(t){await this._reschedule();const i=this._layerLayerViewInfoMap.get(t)?.promise;if(!i){const r=this._recyclingInfoMap.get(t)?.promise;if(!r)throw new $e("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t});return r}return i}isCreatingLayerViewsForLayer(t,i){this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(t);if(!r?.done)return!0;const n=r.layerView;return!(!n||!i||n.parent===i)||!!(r.done&&n&&"layers"in t&&t.layers?.length)&&t.layers.some(s=>this.isCreatingLayerViewsForLayer(s,n))}_refreshCollections(){for(const[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(fl(this,t),fl(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){for(const t of this._layersToLayerViews.values())fl(this,t)?.removeAll()}_populateLayerViewsOwners(t,i,r){if(!t||!i)return void i?.removeAll();let n=0;for(const s of t){const a=this._layerLayerViewInfoMap.get(s);if(!a?.layerView)continue;const{layerView:u}=a;u.layer=s,u.parent=r,i.at(n)!==u&&i.splice(n,0,u),"layers"in s&&Nye(u)&&this._populateLayerViewsOwners(s.layers,u.layerViews,u),++n}n<i.length&&i.splice(n)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const i=new kye(t,this.view,this.layerViewImporter);i.promise?.then(()=>this._refreshCollections(),r=>{r&&(sn(r)||r.name==="cancelled:layerview-create")||ze.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:r}),this.destroyed||this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};p([_()],Ss.prototype,"_workPromise",void 0),p([_({readOnly:!0})],Ss.prototype,"_watchUpdatingTracking",void 0),p([_({readOnly:!0})],Ss.prototype,"_layersToLayerViews",void 0),p([_({constructOnly:!0})],Ss.prototype,"layerviewMapping",void 0),p([_({readOnly:!0})],Ss.prototype,"_rootCollectionNames",null),p([_({constructOnly:!0})],Ss.prototype,"layerViewFilter",void 0),p([_()],Ss.prototype,"layerViewImporter",void 0),p([_()],Ss.prototype,"supportsGround",void 0),p([_({readOnly:!0})],Ss.prototype,"updating",null),p([_({readOnly:!0})],Ss.prototype,"updatingRemaining",null),p([_({constructOnly:!0})],Ss.prototype,"view",void 0),Ss=p([ie("esri.views.support.LayerViewManager")],Ss);const Dye=Ss;let hm=class extends et{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};p([_()],hm.prototype,"featureTitleFields",void 0),p([_()],hm.prototype,"utilityNetworkFields",void 0),p([_()],hm.prototype,"globalIdField",void 0),hm=p([ie("esri.views.support.RequiredFieldsOptions")],hm);const jye=hm;var dm,bh;let Ye=(bh=class extends _x(lA){constructor(t){super(t),this._userSpatialReference=null,this.handles=new Xg,this.updatingHandles=new pf,this.allLayerViews=new Ma({getCollections:()=>this.layerviewCollections,getChildrenFunction:Uye}),this.analyses=new jg,this.basemapView=null,this.dependencies={popup:void 0},this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new G0,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Fe,this.magnifier=new Qq,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this._lowPriorityCursorHandles=new Fe,this._highPriorityCursorHandles=new Fe,this.input=new Mye,this.navigation=new Zx,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new rG(this),this.persistableViewModels=new Fe,this.requiredFieldsOptions=new jye,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(ht(()=>this.preconditionsReady,i=>{const r=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,dm.views.add(this)):(this._lockedSpatialReference=null,dm.views.remove(this)),this.notifyChange("spatialReference"),!i&&r)this.toolViewManager?.detach(),this.analysisViewManager?.detach(),this.layerViewManager?.clear(),this._teardown();else if(i&&!r){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new $e("view:startup-error","View._startup failed",n)})}this.analysisViewManager?.attach(),this.toolViewManager.attach()}},Ch))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this._validateWithErrorDisplay()]).then(()=>(this._isValid=!0,IA(()=>this.ready)))),this.basemapView=new Age({view:this}),this.layerViewManager=new Dye({view:this,layerViewFilter:t=>this.layerViewFilter?.(t)??!0,layerViewImporter:{importLayerView:t=>this.importLayerView(t),hasLayerViewModule:t=>this.hasLayerViewModule(t)},layerviewMapping:this._layerToLayerviewMapping}),this.toolViewManager=new rl({view:this}),this.selectionManager=new Vge({view:this}),this.addHandles([Ns(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{ze.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),ht(()=>this.initialExtentRequired,t=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:t},On),ht(()=>this.ready,t=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=t,this.defaultsFromMap.userSpatialReference=t?this.spatialReference:this._userSpatialReference)},Ch),ht(()=>this._userSpatialReference,t=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=t)},On)])}get _layerToLayerviewMapping(){return dm._layerToLayerview}destroy(){this.destroyed||(dm.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=er(this.graphics),this.analyses=er(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.analysisViewManager=er(this.analysisViewManager),this.toolViewManager=er(this.toolViewManager),this.layerViewManager=er(this.layerViewManager),this.selectionManager=er(this.selectionManager),this.basemapView=er(this.basemapView),this.layerViews?.forEach(t=>t.destroy()),this.layerViews.length=0,this.invalidate(),this.handles.destroy(),this.map=er(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ze.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(t){this.toolViewManager&&(this.toolViewManager.activeTool=t)}get layerviewCollections(){return[this.basemapView?.baseLayerViews,this.basemapView?.groundLayerViews,this.layerViews,this.basemapView?.referenceLayerViews]}get animation(){return this._get("animation")}set animation(t){this._set("animation",t)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new xi({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(t,i)=>this.getSpatialReferenceSupport(t,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(t){this._set("extent",t)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??bye()}set highlights(t){this._set("highlights",ml(t,this._get("highlights"),Fe.ofType(vh)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||m$(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(t){t!==this._get("map")&&(t?.destroyed&&(ze.getLogger(this).warn("#map","The provided map is already destroyed",{map:t}),t=null),m$(t)&&t.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",t))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){const t=!("loaded"in this.map)||this.map.loaded,i=this.map.ground.loaded,r=this.map.basemap?.loaded??!0;return t&&r&&i&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=wx(n=>k8(pe("view-readyState-waiting-delay"),null,n)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=Mf(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const t=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(t&&this.defaultsFromMap?.required?.heightModelInfo){const i=t.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return t}set spatialReference(t){const i=!Gr(t,this._get("spatialReference"));this._set("_userSpatialReference",t),i&&(this._set("spatialReference",t),this._spatialReferenceChanged(t))}_spatialReferenceChanged(t){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(t){this._userTimeExtent=t}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??xl}set timeZone(t){this._userTimeZone=t,_ae(t)||ze.getLogger(this).warn("#timeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._highPriorityCursorHandles.at(-1)?.cursor??this._lowPriorityCursorHandles.at(-1)?.cursor??"default"}acquireCursor(t,i="low"){const r=i==="high"?this._highPriorityCursorHandles:this._lowPriorityCursorHandles,n={cursor:t},s=jt(()=>r.remove(n));return r.add(n),this.addHandles(s),s}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new kO}whenLayerView(t){return this.layerViewManager?.whenLayerView(t)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}getSurface(){return null}importLayerView(t){throw new $e("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(t){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(t){return this.getSpatialReferenceSupport(t)!=null}when(t,i){return this.isResolved()&&!this.ready&&ze.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(t,i)}forceReadyCycle(){this.ready&&(Ns(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}on(t,i){return super.on(t,i)}addAndActivateTool(t){this.toolViewManager.tools.add(t),this.activeTool=t}tryFatalErrorRecovery(){this.fatalError=null}async _validateWithErrorDisplay(){try{await this.validate()}catch(t){const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const r=document.createElement("div");r.innerHTML="Unable to display map. WebGL2 support is required.",r.setAttribute("style","font-size: 24px; font-weight: bold;");const n=document.createElement("div");n.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",n.setAttribute("style","font-size: 18px;");const s=document.createElement("a");s.innerHTML="https://esriurl.com/webgl-faq",s.target="_blank",s.setAttribute("style","font-size: 18px;"),s.href="https://esriurl.com/webgl-faq",i.appendChild(r),i.appendChild(n),i.appendChild(s);const a=this.getSurface();throw a&&a.appendChild(i),t}}},dm=bh,bh._layerToLayerview=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.basemap.groundLayers","view.basemapView.groundLayerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"],["view.map.layers","view.layerViews"]],bh.views=new Fe,bh);p([_()],Ye.prototype,"_userSpatialReference",void 0),p([_()],Ye.prototype,"activeTool",null),p([_({readOnly:!0})],Ye.prototype,"allLayerViews",void 0),p([_({readOnly:!0})],Ye.prototype,"layerviewCollections",null),p([_(lC(jg,"analyses"))],Ye.prototype,"analyses",void 0),p([_()],Ye.prototype,"animation",null),p([_()],Ye.prototype,"basemapView",void 0),p([_()],Ye.prototype,"center",null),p([_()],Ye.prototype,"defaultsFromMapSettings",null),p([_()],Ye.prototype,"defaultsFromMap",null),p([_()],Ye.prototype,"dependencies",void 0),p([_()],Ye.prototype,"displayFilterEnabled",void 0),p([_({type:It})],Ye.prototype,"extent",null),p([_()],Ye.prototype,"fatalError",void 0),p([_(lC(G0,"graphics"))],Ye.prototype,"graphics",void 0),p([_({readOnly:!0,type:$s})],Ye.prototype,"heightModelInfo",null),p([_({type:Fe.ofType(vh)})],Ye.prototype,"highlights",null),p([_({readOnly:!0})],Ye.prototype,"interacting",null),p([_({constructOnly:!0})],Ye.prototype,"layerViewFilter",void 0),p([_({readOnly:!0})],Ye.prototype,"navigating",null),p([_({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Ye.prototype,"preconditionsReady",null),p([_({readOnly:!0})],Ye.prototype,"typeSpecificPreconditionsReady",void 0),p([_({type:Fe,readOnly:!0})],Ye.prototype,"layerViews",void 0),p([_()],Ye.prototype,"resolution",null),p([_({type:Qq})],Ye.prototype,"magnifier",void 0),p([_({value:null,type:uB})],Ye.prototype,"map",null),p([_()],Ye.prototype,"padding",void 0),p([_({readOnly:!0})],Ye.prototype,"ready",void 0),p([_()],Ye.prototype,"_readyStateWaitingTask",void 0),p([_({readOnly:!0})],Ye.prototype,"readyState",null),p([_({type:Be})],Ye.prototype,"spatialReference",null),p([_()],Ye.prototype,"stationary",null),p([_({type:Jn})],Ye.prototype,"timeExtent",null),p([_({type:String,nonNullable:!0})],Ye.prototype,"timeZone",null),p([_()],Ye.prototype,"tools",null),p([_()],Ye.prototype,"toolViewManager",void 0),p([_({readOnly:!0})],Ye.prototype,"type",void 0),p([_({type:Number})],Ye.prototype,"scale",void 0),p([_({readOnly:!0})],Ye.prototype,"updating",void 0),p([_({readOnly:!0})],Ye.prototype,"initialExtentRequired",void 0),p([_({readOnly:!0})],Ye.prototype,"initialExtent",null),p([_()],Ye.prototype,"cursor",null),p([_({readOnly:!0})],Ye.prototype,"input",void 0),p([_({type:Zx,nonNullable:!0})],Ye.prototype,"navigation",void 0),p([_()],Ye.prototype,"layerViewManager",void 0),p([_()],Ye.prototype,"analysisViewManager",void 0),p([_()],Ye.prototype,"selectionManager",void 0),p([_()],Ye.prototype,"width",void 0),p([_()],Ye.prototype,"height",void 0),p([_({readOnly:!0})],Ye.prototype,"resizing",void 0),p([_({value:null,readOnly:!0})],Ye.prototype,"size",null),p([_({readOnly:!0})],Ye.prototype,"suspended",void 0),p([_({readOnly:!0})],Ye.prototype,"viewEvents",void 0),p([_({readOnly:!0})],Ye.prototype,"persistableViewModels",void 0),p([_()],Ye.prototype,"_isValid",void 0),p([_()],Ye.prototype,"_readyCycleForced",void 0),p([_()],Ye.prototype,"_lockedSpatialReference",void 0),p([_()],Ye.prototype,"_userTimeZone",void 0),p([_()],Ye.prototype,"_lockedTimeZone",void 0),p([_()],Ye.prototype,"_userTimeExtent",void 0),p([_()],Ye.prototype,"_lockedTimeExtent",void 0),p([_({type:kO})],Ye.prototype,"theme",void 0),p([_({readOnly:!0,type:kO})],Ye.prototype,"effectiveTheme",null),Ye=dm=p([ie("esri.views.View")],Ye);const d3=globalThis.$arcgis;d3&&!d3.views&&Object.defineProperty(d3,"views",{configurable:!1,enumerable:!0,writable:!1,value:Ye.views});const zye=Ye;function Uye(e){return e.layerViews}function ir(){return[0,0]}function Fye(e){return[e[0],e[1]]}function d1(e,t){return[e,t]}function Bye(e,t){return[e,t]}function qye(e,t=ir()){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function gG(){return ir()}function yG(){return d1(1,1)}function vG(){return d1(1,0)}function _G(){return d1(0,1)}const Gye=gG(),Vye=yG(),Hye=vG(),Wye=_G();Object.freeze(Object.defineProperty({__proto__:null,ONES:Vye,UNIT_X:Hye,UNIT_Y:Wye,ZEROS:Gye,clone:Fye,create:ir,freeze:Bye,fromArray:qye,fromValues:d1,ones:yG,unitX:vG,unitY:_G,zeros:gG},Symbol.toStringTag,{value:"Module"}));function Zye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function wG(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Yye(e,t,i,r,n,s,a){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e}function SR(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],u=t[5];let h=i*s-r*n;return h?(h=1/h,e[0]=s*h,e[1]=-r*h,e[2]=-n*h,e[3]=i*h,e[4]=(n*u-s*a)*h,e[5]=(r*a-i*u)*h,e):null}function Jye(e){return e[0]*e[3]-e[1]*e[2]}function bG(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=i[0],v=i[1],w=i[2],x=i[3],M=i[4],P=i[5];return e[0]=r*f+s*v,e[1]=n*f+a*v,e[2]=r*w+s*x,e[3]=n*w+a*x,e[4]=r*M+s*P+u,e[5]=n*M+a*P+h,e}function f1(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=Math.sin(i),v=Math.cos(i);return e[0]=r*v+s*f,e[1]=n*v+a*f,e[2]=r*-f+s*v,e[3]=n*-f+a*v,e[4]=u,e[5]=h,e}function Yx(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=i[0],v=i[1];return e[0]=r*f,e[1]=n*f,e[2]=s*v,e[3]=a*v,e[4]=u,e[5]=h,e}function Ug(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],u=t[4],h=t[5],f=i[0],v=i[1];return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e[4]=r*f+s*v+u,e[5]=n*f+a*v+h,e}function SG(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function xG(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function xR(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function Xye(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Kye(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function Qye(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function TG(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function eve(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function tve(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e}function ive(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function rve(e,t){const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],u=e[5],h=t[0],f=t[1],v=t[2],w=t[3],x=t[4],M=t[5],P=Is();return Math.abs(i-h)<=P*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-f)<=P*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-v)<=P*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(s-w)<=P*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-x)<=P*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-M)<=P*Math.max(1,Math.abs(u),Math.abs(M))}const nve=bG,sve=TG;Object.freeze(Object.defineProperty({__proto__:null,add:Qye,copy:Zye,determinant:Jye,equals:rve,exactEquals:ive,frob:Kye,fromRotation:SG,fromScaling:xG,fromTranslation:xR,identity:wG,invert:SR,mul:nve,multiply:bG,multiplyScalar:eve,multiplyScalarAndAdd:tve,rotate:f1,scale:Yx,set:Yye,str:Xye,sub:sve,subtract:TG,translate:Ug},Symbol.toStringTag,{value:"Module"}));function vl(){return[1,0,0,1,0,0]}function ove(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function ave(e,t,i,r,n,s){return[e,t,i,r,n,s]}const lve=vl();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:lve,clone:ove,create:vl,fromValues:ave},Symbol.toStringTag,{value:"Module"}));const pb={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Ir({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Be.WebMercator}),minus180Line:new Ir({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Be.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Ir({paths:[[[180,-180],[180,180]]],spatialReference:Be.WGS84}),minus180Line:new Ir({paths:[[[-180,-180],[-180,180]]],spatialReference:Be.WGS84})}};function sf(e,t){return Math.ceil((e-t)/(2*t))}function MG(e,t){const i=H0(e);for(const r of i)for(const n of r)n[0]+=t;return e}function H0(e){return tR(e)?e.rings:e.paths}function uve(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function EG(e){return typeof e=="string"?ss(e):ke(e)}function cve(e,t,i){const r={};for(const n in e){if(n==="declaredClass")continue;const s=e[n];if(s!=null&&typeof s!="function")if(Array.isArray(s))r[n]=s.map(a=>cve(a));else if(typeof s=="object")if(s.toJSON){const a=s.toJSON(i?.[n]);r[n]=t?a:JSON.stringify(a)}else r[n]=t?s:JSON.stringify(s);else r[n]=s}return r}function hve(e,t){return e?t&&ZP(e)?t:WP(e)??Mi?.findCredential(e)?.token:null}async function KOe(e,t,i){const r=hve(e,t);return r||(!Mi&&qt.request.useIdentity&&await Ne(()=>import("./IdentityManager-COXcBnHS.js"),__vite__mapDeps([0,1]),import.meta.url),(await Mi.getCredential(e,i))?.token)}async function dve(e,t,i,r){const n=EG(e),s=t[0].spatialReference,a={...r,responseType:"json",query:{...n.query,f:"json",sr:c2(s),target:JSON.stringify({geometryType:n1(t[0]),geometries:t}),cutter:JSON.stringify(i)}},u=await tr(n.path+"/cut",a),{cutIndexes:h,geometries:f=[]}=u.data;return{cutIndexes:h,geometries:f.map(v=>{const w=Ng(v);return w.spatialReference=s,w})}}function fve(e){return{geometryType:n1(e[0]),geometries:e.map(t=>t.toJSON())}}function $G(e,t,i){const r=yde(t);return e.map(n=>{const s=r.fromJSON(n);return s.spatialReference=i,s})}async function pve(e,t,i){const r=typeof e=="string"?ss(e):e,n=t[0].spatialReference,s=n1(t[0]),a={...i,query:{...r.query,f:"json",sr:c2(n),geometries:JSON.stringify(fve(t))}},{data:u}=await tr(r.path+"/simplify",a);return $G(u.geometries,s,n)}const CG=()=>ze.getLogger("esri.geometry.support.normalizeUtils");function mve(e){return e.type==="polygon"}function gve(e){return e[0].type==="polygon"}function yve(e){return e[0].type==="polyline"}function s6(e){const t=[];let i=0,r=0;for(let n=0;n<e.length;n++){const s=e[n];let a=null;for(let u=0;u<s.length;u++)a=s[u],t.push(a),u===0?(i=a[0],r=i):(i=Math.min(i,a[0]),r=Math.max(r,a[0]));a&&t.push([(i+r)/2,0])}return t}function vve(e,t){if(!(e instanceof Ir||e instanceof Hi)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw CG().error(n),new $e("internal:geometry",n)}const i=H0(e),r=[];for(const n of i){const s=[];r.push(s),s.push([n[0][0],n[0][1]]);for(let a=0;a<n.length-1;a++){const u=n[a][0],h=n[a][1],f=n[a+1][0],v=n[a+1][1],w=Math.sqrt((f-u)*(f-u)+(v-h)*(v-h)),x=(v-h)/w,M=(f-u)/w,P=w/t;if(P>1){for(let Y=1;Y<=P-1;Y++){const U=Y*t,C=M*U+u,E=x*U+h;s.push([C,E])}const O=(w+Math.floor(P-1)*t)/2,F=M*O+u,G=x*O+h;s.push([F,G])}s.push([f,v])}}return mve(e)?new Hi({rings:r,spatialReference:e.spatialReference}):new Ir({paths:r,spatialReference:e.spatialReference})}function o6(e,t,i){if(t){const r=vve(e,1e6);e=Gv(r,!0)}return i&&(e=MG(e,i)),e}function a6(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const n=sf(r,t);e[0]=r+n*(-2*t)}else if(r<i){const n=sf(r,i);e[0]=r+n*(-2*i)}}else{const r=e.x;if(r>t){const n=sf(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<i){const n=sf(r,i);e=e.clone().offset(n*(-2*i),0)}}return e}function _ve(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const n=t.cutIndexes[r],s=t.geometries[r],a=H0(s);for(let u=0;u<a.length;u++){const h=a[u];h.some(f=>{if(f[0]<180)return!0;{let v=0;for(let x=0;x<h.length;x++){const M=h[x][0];v=M>v?M:v}v=Number(v.toFixed(9));const w=-360*sf(v,180);for(let x=0;x<h.length;x++){const M=s.getPoint(u,x);s.setPoint(u,x,M.clone().offset(w,0))}return!0}})}if(n===i){if(gve(e))for(const u of H0(s))e[n]=e[n].addRing(u);else if(yve(e))for(const u of H0(s))e[n]=e[n].addPath(u)}else i=n,e[n]=s}return e}async function wve(e,t,i){if(!Array.isArray(e))return wve([e],t);t&&typeof t!="string"&&CG().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof t=="string"?t:t?.url??qt.geometryServiceUrl;let n,s,a,u,h,f,v,w,x=0;const M=[],P=[];for(const C of e)if(C!=null)if(n||(n=C.spatialReference,s=ns(n),a=n.isWebMercator,f=a?102100:4326,u=pb[f].maxX,h=pb[f].minX,v=pb[f].plus180Line,w=pb[f].minus180Line),s)if(C.type==="mesh")P.push(C);else if(C.type==="point")P.push(a6(C.clone(),u,h));else if(C.type==="multipoint"){const E=C.clone();E.points=E.points.map(A=>a6(A,u,h)),P.push(E)}else if(C.type==="extent"){const E=C.clone()._normalize(!1,!1,s);P.push(E.rings?new Hi(E):E)}else if(C.extent){const E=C.extent,A=sf(E.xmin,h)*(2*u);let k=A===0?C.clone():MG(C.clone(),A);E.offset(A,0);let{xmin:V,xmax:H}=E;V=Number(V.toFixed(9)),H=Number(H.toFixed(9)),E.intersects(v)&&H!==u?(x=H>x?H:x,k=o6(k,a),M.push(k),P.push("cut")):E.intersects(w)&&V!==h?(x=H*(2*u)>x?H*(2*u):x,k=o6(k,a,360),M.push(k),P.push("cut")):P.push(k)}else P.push(C.clone());else P.push(C);else P.push(C);let O=sf(x,u),F=-90;const G=O,Y=new Ir;for(;O>0;){const C=360*O-180;Y.addPath([[C,F],[C,-1*F]]),F*=-1,O--}if(M.length>0&&G>0){const C=_ve(M,await dve(r,M,Y,i)),E=[],A=[];for(let H=0;H<P.length;H++){const q=P[H];if(q!=="cut")A.push(q);else{const X=C.shift(),ue=e[H];ue!=null&&ue.type==="polygon"&&ue.rings&&ue.rings.length>1&&X.rings.length>=ue.rings.length?(E.push(X),A.push("simplify")):A.push(a?mh(X):X)}}if(!E.length)return A;const k=await pve(r,E,i),V=[];for(let H=0;H<A.length;H++){const q=A[H];q!=="simplify"?V.push(q):V.push(a?mh(k.shift()):k.shift())}return V}const U=[];for(let C=0;C<P.length;C++){const E=P[C];if(E!=="cut")U.push(E);else{const A=M.shift();U.push(a===!0?mh(A):A)}}return U}function bve(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&ns(e.spatialReference);if(!i)return t;const[r,n]=i.valid,s=2*n,{width:a}=t;let u,{xmin:h,xmax:f}=t;if([h,f]=[f,h],e.type==="extent"||a===0||a<=n||a>s||h<r||f>n)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;u=s6(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;u=s6(e.paths);break;case"multipoint":u=e.points}const v=t.clone();for(let w=0;w<u.length;w++){let x=u[w][0];x<0?(x+=n,f=Math.max(x,f)):(x-=n,h=Math.min(x,h))}return v.xmin=h,v.xmax=f,v.width<a?(v.xmin-=n,v.xmax-=n,v):t}function TR(e,t,i){const r=ns(i);if(r==null)return e;const[n,s]=r.valid,a=2*s;let u=0,h=0;t>s?u=Math.ceil(Math.abs(t-s)/a):t<n&&(u=-Math.ceil(Math.abs(t-n)/a)),e>s?h=Math.ceil(Math.abs(e-s)/a):e<n&&(h=-Math.ceil(Math.abs(e-n)/a));let f=e+(u-h)*a;const v=f-t;return v>s?f-=a:v<n&&(f+=a),f}function QOe(e,t){return MR(t)?.normalize(e)??e}function MR(e){const t=ns(e);if(t==null)return null;const[i,r]=t.valid;return new Ux(i,r)}const ePe=MR(Be.WGS84);MR(Be.WebMercator);const OG=96,PG=39.37,Sve=180/Math.PI;function AG(e){return e.wkid?e:e.spatialReference||Be.WGS84}function ER(e,t){return t.type?tn(e,t.x,t.y):Gm(e,t)}function RG(e){return Cl(e)}function Jx(e,t,i=0){let r=e.width,n=e.height;if(i!==0){const u=Q_(i),h=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));r=e.width*h+e.height*f,n=e.width*f+e.height*h}const s=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(r/s,n/a)*Pve(e.spatialReference)}async function m0(e,t,i,r){let n,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Fe.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const u=e.every(v=>"attributes"in v),h=e.some(v=>!v.geometry);let f=e;if(u&&h&&t&&t.allLayerViews){const v=new Map;for(const P of e){const O=P.layer,F=v.get(O)||[],G=P.attributes[O.objectIdField];G!=null&&F.push(G),v.set(O,F)}const w=[];v.forEach((P,O)=>{const F=t.allLayerViews?.find(G=>G.layer.id===O.id);if(F&&"queryFeatures"in F){const G=O.createQuery();G.objectIds=P,G.returnGeometry=!0,w.push(F.queryFeatures(G))}});const x=await Promise.all(w),M=[];for(const P of x)if(P&&P.features&&P.features.length)for(const O of P.features)O.geometry!=null&&M.push(O.geometry);f=M}for(const v of f)r=await m0(v,t,i,r);return r}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=new We(e);else if(e instanceof Fr)n=e;else if("geometry"in e){if(e.geometry)n=e.geometry;else if(e.layer){const u=e.layer,h=t.allLayerViews?.find(f=>f.layer.id===u.id);if(h&&"queryFeatures"in h){const f=u.createQuery();f.objectIds=[e.attributes[u.objectIdField]],f.returnGeometry=!0,n=(await h.queryFeatures(f))?.features?.[0]?.geometry}}}if(n==null)return null;switch(n.type){case"point":s=new It({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=bve(n);break;default:s=n.extent}if(!s)return null;Ol()||Ra(s.spatialReference,i)||await Du();const a=kh(s,i);if(!a)return null;if(r){const u=a.center,h=u.clone();h.x=TR(u.x,r.center.x,i),h.x!==u.x&&a.centerAt(h),r=r.union(a)}else r=a;return r}function xve(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer?.minScale!=null&&e.layer.maxScale!=null){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,i=0;for(const r of e){const n=r.layer;n?.minScale&&n.maxScale&&(t=n.minScale<t?n.minScale:t,i=n.maxScale>i?n.maxScale:i)}return t&&i?{min:t,max:i}:null}}}function l6(e,t){const i=AG(e);return Gr(i,t)||i.imageCoordinateSystem||t.imageCoordinateSystem?e:kh(e,t)}async function Tve(e,t){if(!e||!t)return new Wo({targetGeometry:new We,scale:0,rotation:0});let i=t.spatialReference;const{constraints:r,padding:n,viewpoint:s,size:a}=t,u=[n?a[0]-n.left-n.right:a[0],n?a[1]-n.top-n.bottom:a[1]];let h=null;e instanceof Wo?h=e:e.viewpoint?h=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(h=e.target);let f=null;h?.targetGeometry?f=h.targetGeometry:e instanceof It?f=e:e instanceof Fr?f=await m0(e,t,i):e&&(f=await m0(e.center,t,i)||await m0(e.target,t,i)||await m0(e,t,i)),!f&&s?.targetGeometry?f=s.targetGeometry:!f&&t.extent&&(f=t.extent),i||(i=AG(t.spatialReference||t.extent||f)),Ol()||Gr(f.spatialReference,i)||Ra(f.spatialReference,i)||await Du();const v=l6(f,i),w="center"in v?v.center:v;t.pickClosestTarget!==!1&&w.type==="point"&&s.targetGeometry?.type==="point"&&(w.x=TR(w.x,s.targetGeometry.x,w.spatialReference));let x=0;h?x=h.rotation:e.hasOwnProperty("rotation")?x=e.rotation:s&&(x=s.rotation);let M=0;M=h?.targetGeometry!=null&&h.targetGeometry.type==="point"?h.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(f)||f.type==="point"||f.type==="extent"&&f.width===0&&f.height===0?s.scale:Jx(l6(f.extent,i),u,x);const P=xve(e.target??e);P&&(P.min&&P.min<M?M=P.min:P.max&&P.max>M&&(M=P.max));let O=new Wo({targetGeometry:w,scale:M,rotation:x});return r&&(O=r.fit(O),r.constrainByGeometry(O),r.rotationEnabled||(O.rotation=s.rotation)),O}function kn(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function Mve(e,t,i){return i?tn(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):t1(e,t,.5)}const Eve=(function(){const e=ir();return function(t,i,r){const n=i.targetGeometry;ER(e,n);const s=.5*ay(i);return t.xmin=e[0]-s*r[0],t.ymin=e[1]-s*r[1],t.xmax=e[0]+s*r[0],t.ymax=e[1]+s*r[1],t.spatialReference=n.spatialReference,t}})();function $ve(e,t,i,r,n){return zO(e,t,i.center),e.scale=Jx(i,r),n?.constraints?.constrain(e),e}function Cve(e,t,i,r){return OR(e,t,i,r),SR(e,e)}const LG=(function(){const e=ir();return function(t,i,r){return VA(t,Ave(t,i),Mve(e,i,r))}})(),Ove=(function(){const e=vl(),t=ir();return function(i,r,n,s){const a=ay(r),u=$R(r);return tn(t,a,a),xG(e,t),f1(e,e,u),Ug(e,e,LG(t,n,s)),Ug(e,e,[0,s.top-s.bottom]),tn(i,e[4],e[5])}})();function ay(e){return e.scale*kG(e.targetGeometry?.spatialReference)}function kG(e){return so(e)?1/(RG(e)*PG*OG):1}function $R(e){return GA(e.rotation)||0}function Pve(e){return so(e)?RG(e)*PG*OG:1}function Ave(e,t){return t1(e,t,.5)}const CR=(function(){const e=ir(),t=ir(),i=ir();return function(r,n,s,a,u,h){return oF(e,n),t1(t,s,.5*h),tn(i,1/a*h,-1/a*h),xR(r,t),u&&f1(r,r,u),Yx(r,r,i),Ug(r,r,e),r}})(),OR=(function(){const e=ir();return function(t,i,r,n){const s=ay(i),a=$R(i);return ER(e,i.targetGeometry),CR(t,e,r,s,a,n)}})(),Rve=(function(){const e=ir();return function(t,i,r,n){const s=ay(i);return ER(e,i.targetGeometry),CR(t,e,r,s,0,n)}})();function IG(e){const t=ns(e);return t?t.valid[1]-t.valid[0]:0}function Lve(e,t){return Math.round(IG(e)/t)}const kve=(function(){const e=ir(),t=ir(),i=[0,0,0];return function(r,n,s){l_(e,r,n),H$(e,e),l_(t,r,s),H$(t,t),lF(i,e,t);let a=Math.acos(aF(e,t)/(w2(e)*w2(t)))*Sve;return i[2]<0&&(a=-a),isNaN(a)&&(a=0),a}})(),Ive=(function(){const e=ir();return function(t,i,r,n){const s=t.targetGeometry;return kn(t,i),Ove(e,i,r,n),s.x+=e[0],s.y+=e[1],t}})(),zO=function(e,t,i){kn(e,t);const r=e.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e},Nve=(function(){const e=ir();return function(t,i,r,n,s){s||(s="center"),VA(e,r,n),t1(e,e,.5);const a=e[0],u=e[1];switch(s){case"center":tn(e,0,0);break;case"left":tn(e,-a,0);break;case"top":tn(e,0,u);break;case"right":tn(e,a,0);break;case"bottom":tn(e,0,-u);break;case"top-left":tn(e,-a,u);break;case"bottom-left":tn(e,-a,-u);break;case"top-right":tn(e,a,u);break;case"bottom-right":tn(e,a,-u)}return Xx(t,i,e),t}})();function tPe(e,t,i){return kn(e,t),e.rotation+=i,e}function Dve(e,t,i){return kn(e,t),e.rotation=i,e}const jve=(function(){const e=ir();return function(t,i,r,n,s){return kn(t,i),isNaN(r)||r===0||(DG(e,n,i,s),t.scale=i.scale*r,jG(e,e,t,s),Xx(t,t,tn(e,e[0]-n[0],n[1]-e[1]))),t}})();function u6(e,t,i){return kn(e,t),e.scale=i,e}const NG=(function(){const e=ir();return function(t,i,r,n,s,a){return kn(t,i),isNaN(r)||r===0||(DG(e,s,i,a),t.scale=i.scale*r,t.rotation+=n,jG(e,e,t,a),Xx(t,t,tn(e,e[0]-s[0],s[1]-e[1]))),t}})(),iPe=(function(){const e=ir(),t=ir();return function(i,r,n,s,a,u,h){return LG(t,u,h),iF(e,a,t),s?NG(i,r,n,s,e,u):jve(i,r,n,e,u)}})(),DG=(function(){const e=vl();return function(t,i,r,n){return ul(t,i,Cve(e,r,n,1))}})(),jG=(function(){const e=vl();return function(t,i,r,n){return ul(t,i,OR(e,r,n,1))}})(),Xx=(function(){const e=ir(),t=vl();return function(i,r,n){kn(i,r);const s=ay(r),a=i.targetGeometry;return SG(t,$R(r)),Yx(t,t,d1(s,s)),ul(e,n,t),a.x+=e[0],a.y+=e[1],i}})();function zG(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function zve(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Uve(e,t,i,r,n,s){const a=new Float32Array(6);return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=n,a[5]=s,a}function UG(e,t,i,r){const n=t[r],s=t[r+1];e[r]=i[0]*n+i[2]*s+i[4],e[r+1]=i[1]*n+i[3]*s+i[5]}function Fve(e,t,i,r=0,n=0,s=2){const a=n||t.length/s;for(let u=r;u<a;u++)UG(e,t,i,u*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:zve,create:zG,fromValues:Uve,transform:UG,transformMany:Fve},Symbol.toStringTag,{value:"Module"}));function MS(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function Bve(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function qve(e,t,i,r,n,s,a,u,h){const f=new Float32Array(9);return f[0]=e,f[1]=t,f[2]=i,f[3]=r,f[4]=n,f[5]=s,f[6]=a,f[7]=u,f[8]=h,f}Object.freeze(Object.defineProperty({__proto__:null,clone:Bve,create:MS,fromValues:qve},Symbol.toStringTag,{value:"Module"}));function FG(){return new Float32Array(2)}function Gve(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Fg(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function BG(){return FG()}function qG(){return Fg(1,1)}function GG(){return Fg(1,0)}function VG(){return Fg(0,1)}const Vve=BG(),Hve=qG(),Wve=GG(),Zve=VG();Object.freeze(Object.defineProperty({__proto__:null,ONES:Hve,UNIT_X:Wve,UNIT_Y:Zve,ZEROS:Vve,clone:Gve,create:FG,fromValues:Fg,ones:qG,unitX:GG,unitY:VG,zeros:BG},Symbol.toStringTag,{value:"Module"}));function Yve(e){return e instanceof Float32Array&&e.length>=2}function Jve(e){return Array.isArray(e)&&e.length>=2}function f3(e){return Yve(e)||Jve(e)}var UO;const eu=[0,0];let pu=UO=class extends tt{constructor(e){super(e),this._viewpoint2D={center:ir(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new It,this.id=0,this.inverseTransform=vl(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=vl(),this.transformNoRotation=vl(),this.displayMat3=MS(),this.displayViewMat3=MS(),this.viewMat3=MS(),this.viewMat2d=zG(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=kn(i,e.viewpoint),this._set("size",Gm(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new UO({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return f3(t)?ul(e,t,this.inverseTransform):(eu[0]=t,eu[1]=i,ul(e,eu,this.inverseTransform))}toScreen(e,t,i){return f3(t)?ul(e,t,this.transform):(eu[0]=t,eu[1]=i,ul(e,eu,this.transform))}toScreenNoRotation(e,t,i){return f3(t)?ul(e,t,this.transformNoRotation):(eu[0]=t,eu[1]=i,ul(e,eu,this.transformNoRotation))}wrapMapCoordinate(e,t){Gm(e,t);const[i]=t,[r]=this.center,{extent:n,spatialReference:s}=this;let{xmin:a,xmax:u}=n;if(s.isWrappable){const h=IG(s)/2;a=Math.max(a,r-h),u=Math.min(u,r+h)}return(i<a||i>u)&&(e[0]=TR(i,r,s)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return CR(e,i,n,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),a=new Wo({targetGeometry:new We(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",a),!s||!t||!i)return;this.resolution=ay(a),this.rotation=r,this.scale=i,this.spatialReference=t,Gm(this.center,e);const u=s[0]!==0?2/s[0]:0,h=s[1]!==0?-2/s[1]:0;Vm(this.displayMat3,u,0,0,0,h,0,-1,1,1);const f=pF(this.viewMat3),v=Fg(s[0]/2,s[1]/2),w=Fg(-s[0]/2,-s[1]/2),x=GA(r);Z$(f,f,v),yF(f,f,x),Z$(f,f,w),c_(this.displayViewMat3,this.displayMat3,f);const M=xR(this.viewMat2d,v);return f1(M,M,x),Ug(M,M,w),Eve(this.extent,a,s),OR(this.transform,a,s,n),SR(this.inverseTransform,this.transform),Rve(this.transformNoRotation,a,s,n),this.worldScreenWidth=Lve(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};p([_({readOnly:!0})],pu.prototype,"id",void 0),p([_({value:1,json:{write:!0}})],pu.prototype,"pixelRatio",null),p([_({json:{write:!0}})],pu.prototype,"size",null),p([_()],pu.prototype,"spatialReference",void 0),p([_({type:Wo,json:{write:!0}})],pu.prototype,"viewpoint",null),p([_({readOnly:!0})],pu.prototype,"visibleArea",null),pu=UO=p([ie("esri.views.2d.ViewState")],pu);const c6=pu;var FO,BO;let Ou=FO=class extends et{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new FO({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};p([_()],Ou.prototype,"left",void 0),p([_()],Ou.prototype,"top",void 0),p([_()],Ou.prototype,"right",void 0),p([_()],Ou.prototype,"bottom",void 0),Ou=FO=p([ie("esri.views.2d.PaddedViewState.Padding")],Ou);let fm=BO=class extends c6{constructor(...e){super(...e),this.paddedViewState=new c6,this._updateContent=(()=>{const t=ir();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const n=this.paddedViewState;tn(t,r.left+r.right,r.top+r.bottom),l_(t,i,t),Gm(n.size,t);const s=n.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(ht(()=>[this.size,this.padding],()=>this._updateContent(),Ch)),this.padding=new Ou,this.size=[0,0]}set padding(e){this._set("padding",e||new Ou)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const i=this._get("padding");i&&(t=Ive(e.clone(),e,this._get("size"),i));const{targetGeometry:r,rotation:n,scale:s}=t,{x:a,y:u,spatialReference:h}=r,f=this._viewpoint2D;f.center[0]=a,f.center[1]=u,f.rotation=n,f.scale=s,f.spatialReference=h,this._update()}}clone(){return new BO({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};p([_()],fm.prototype,"paddedViewState",void 0),p([_({type:Ou})],fm.prototype,"padding",null),p([_()],fm.prototype,"viewpoint",null),fm=BO=p([ie("esri.views.2d.PaddedViewState")],fm);const PR=fm;let g0=class extends et{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};p([_()],g0.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),p([_()],g0.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),g0=p([ie("esri.views.support.debugFlags")],g0);const Xve=new g0,HG=Symbol("Yield");let Kve=class{constructor(){this._tasks=new Array,this._numPendingTasks=zg(0),this._readyToRun=zg(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get readyToRun(){return this._readyToRun.value}_updateReadyToRun(){this._readyToRun.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return HG;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,i,r){return this._addTask((n,s)=>new d6(n,s,t,i,r),Array.prototype.push)}unshift(t,i,r){return this._addTask((n,s)=>new d6(n,s,t,i,r),Array.prototype.unshift)}pushGenerator(t,i,r){return this._addTask((n,s)=>new Qve(n,s,t,i,r),Array.prototype.push)}_process(t){if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateReadyToRun();try{if(In(i.signal))this._cancelTask(i,ai());else switch(i.type){case 0:this._processSimple(i,t);break;case 1:this._processGenerator(i,t);break;case 2:this._processIterator(i,t);break;default:}}catch(r){i.reject(r)}return!0}cancelAll(){const t=ai();for(const i of this._tasks)this._cancelTask(i,t);this._tasks.length=0,this._updateReadyToRun()}_cancelTask(t,i){if(t.abortCallback){const r=t.abortCallback(i);t.type===2&&t.iterator.return&&h6(t.iterator.return()),Nn(r)?r.then(t.resolve,t.reject):t.resolve(r)}else t.type===2&&t.iterator.throw&&h6(t.iterator.throw(i)),t.reject(i)}_onIteratorResult(t,i){i.done?t.resolve(i.value):(this._tasks.unshift(t),this._updateReadyToRun())}_processSimple(t,i){const r=t.callback(i);Nn(r)?r.then(t.resolve,t.reject):t.resolve(r)}_processGenerator(t,i){const r=t.generatorFunction(i),n=new e0e(t.resolve,t.reject,r,t.signal,t.abortCallback);this._processIterator(n,i)}_processIterator(t,i){const r=t.iterator.next(i);Nn(r)?r.then(n=>this._onIteratorResult(t,n),t.reject):this._onIteratorResult(t,r)}_addTask(t,i){return new Promise((r,n)=>{const s=t(r,n);i.call(this._tasks,s),++this._numPendingTasks.value,this._updateReadyToRun()}).finally(()=>--this._numPendingTasks.value)}};function h6(e){Nn(e)?e.then(p3,p3):p3(e)}function p3(e){sn(e)||e instanceof Error||e instanceof $e||e!=null&&typeof e=="object"&&"done"in e&&e.done||ze.getLogger("esri.layers.support.PromiseQueue").warn("Generator iterator was aborted, but it is not done.")}let AR=class{constructor(t,i,r=void 0,n=void 0){this.resolve=t,this.reject=i,this.signal=r,this.abortCallback=n}},d6=class extends AR{constructor(t,i,r,n,s){super(t,i,n,s),this.callback=r,this.type=0}},Qve=class extends AR{constructor(t,i,r,n,s){super(t,i,n,s),this.generatorFunction=r,this.type=1}},e0e=class extends AR{constructor(t,i,r,n,s){super(t,i,n,s),this.iterator=r,this.type=2}};function t0e(){return new o0e}const Ot={RESOURCE_CONTROLLER_IMMEDIATE:"immediate",RESOURCE_CONTROLLER:"schedule",SLIDE:"slide",STREAM_DATA_LOADER:"stream loader",ELEVATION_QUERY:"elevation query",TERRAIN_SURFACE:"terrain",SURFACE_GEOMETRY_UPDATES:"surface geometry updates",LOD_RENDERER:"LoD renderer",GRAPHICS_CORE:"Graphics3D",I3S_CONTROLLER:"I3S",POINT_CLOUD_LAYER:"point cloud",FEATURE_TILE_FETCHER:"feature fetcher",STREAM_CONTROLLER:"stream controller",OVERLAY:"overlay",OVERLAY_RENDERER:"overlay renderer",STAGE:"stage",GRAPHICS_DECONFLICTOR:"graphics deconflictor",FILTER_VISIBILITY:"Graphics3D filter visibility",SCALE_VISIBILITY:"Graphics3D scale visibility",FRUSTUM_VISIBILITY:"Graphics3D frustum visibility",POINT_OF_INTEREST_FREQUENT:"POI frequent",POINT_OF_INTEREST_INFREQUENT:"POI infrequent",LABELER:"labeler",FEATURE_QUERY_ENGINE:"feature query",FEATURE_TILE_TREE:"feature tile tree",FEATURE_TILE_TREE_ACTIVE:"fast feature tile tree",ELEVATION_ALIGNMENT:"elevation alignment",ELEVATION_ALIGNMENT_SCENE:"elevation alignment scene",TEXT_TEXTURE_ATLAS:"text texture atlas",TEXTURE_UNLOAD:"texture unload",LINE_OF_SIGHT_TOOL:"line of sight tool",LINE_OF_SIGHT_TOOL_INTERACTIVE:"interactive line of sight tool",ELEVATION_PROFILE:"elevation profile",SNAPPING:"snapping",SHADOW_ACCUMULATOR:"shadow accumulator",CLOUDS_GENERATOR:"clouds generator",FLOW_GENERATOR:"flow generator",MAPVIEW_FETCH_QUEUE:"mapview fetch queue",MAPVIEW_LAYERVIEW_UPDATE:"mapview layerview update",MAPVIEW_VECTOR_TILE_PARSING_QUEUE:"mapview vector tile parsing queue",NONE:0,TEST_PRIO:1},No=0,f6=new Map([[Ot.RESOURCE_CONTROLLER_IMMEDIATE,No],[Ot.RESOURCE_CONTROLLER,4],[Ot.SLIDE,No],[Ot.STREAM_DATA_LOADER,No],[Ot.ELEVATION_QUERY,No],[Ot.TERRAIN_SURFACE,1],[Ot.SURFACE_GEOMETRY_UPDATES,1],[Ot.LOD_RENDERER,2],[Ot.GRAPHICS_CORE,2],[Ot.I3S_CONTROLLER,2],[Ot.POINT_CLOUD_LAYER,2],[Ot.FEATURE_TILE_FETCHER,2],[Ot.STREAM_CONTROLLER,2],[Ot.CLOUDS_GENERATOR,2],[Ot.OVERLAY,4],[Ot.OVERLAY_RENDERER,4],[Ot.STAGE,4],[Ot.GRAPHICS_DECONFLICTOR,4],[Ot.FILTER_VISIBILITY,4],[Ot.SCALE_VISIBILITY,4],[Ot.FRUSTUM_VISIBILITY,4],[Ot.POINT_OF_INTEREST_FREQUENT,6],[Ot.POINT_OF_INTEREST_INFREQUENT,30],[Ot.LABELER,8],[Ot.FEATURE_QUERY_ENGINE,8],[Ot.FEATURE_TILE_TREE,16],[Ot.FEATURE_TILE_TREE_ACTIVE,No],[Ot.ELEVATION_ALIGNMENT,12],[Ot.ELEVATION_ALIGNMENT_SCENE,14],[Ot.TEXT_TEXTURE_ATLAS,12],[Ot.TEXTURE_UNLOAD,12],[Ot.LINE_OF_SIGHT_TOOL,16],[Ot.LINE_OF_SIGHT_TOOL_INTERACTIVE,No],[Ot.SNAPPING,No],[Ot.SHADOW_ACCUMULATOR,30],[Ot.FLOW_GENERATOR,12],[Ot.MAPVIEW_FETCH_QUEUE,No],[Ot.MAPVIEW_LAYERVIEW_UPDATE,2],[Ot.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,No]]);function p6(e){return f6.has(e)?f6.get(e):typeof e=="number"?e:1}const i0e=6.5,m6=1,r0e=30,n0e=1e3/30,s0e=100,g6=.9;let o0e=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(t=>t.needsUpdate)}constructor(){this._updating=zg(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new M0("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new WG,this.state=1,this._tasks=new Array,this._runQueue=new Array,this._load=0,this._forceTask=!1,this._debug=!1,this._debugHandle=ht(()=>Xve.SCHEDULER_LOG_SLOW_TASKS,t=>this._debug=t,nn);for(const t of Object.keys(Ot))this.performanceInfo.tasks.set(Ot[t],new M0(String(Ot[t])))}destroy(){this._tasks.forEach(t=>t.remove()),this._tasks.length=0,this._runQueue.length=0,Oi(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(t){this._updatingChanged(),t&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(t,i){const r=new a0e(this,t,i);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(t)||this.performanceInfo.tasks.set(t,new M0(t)),r}get load(){return this._load}frame(t){if(this._startFrameTaskTimes(),this._updateBudget(t)){const i=this._budget.now();return this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-i),!0}return this._recordFrameTaskTimes(0),!1}_updateBudget(t){this._test&&(this._test.usedBudget=0),++this._frameNumber;let i=i0e,r=t.frameDuration,n=m6;switch(this.state){case 2:i=0,r=Math.max(s0e,t.frameDuration),n=r0e;break;case 1:r=Math.max(n0e,t.frameDuration)}return r=r-t.elapsedFrameTime-i,this.state!==2&&r<m6&&!this._forceTask?(this._forceTask=!0,!1):(r=Math.max(r,n),this._budget.reset(r),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}removeTask(t){V3(this._tasks,t),V3(this._runQueue,t),this._updatingChanged()}_updateTask(t){this._tasks.forEach(i=>{i.name===t&&i.setPriority(t)})}_getState(t){if(this._runQueue.some(r=>r.name===t))return"s";let i="i";return this._tasks.forEach(r=>{r.name===t&&r.needsUpdate&&(r.schedulePriority<=1?i="r":i!=="r"&&(i="w"))}),i}_getRuntime(t){let i=0;return this._tasks.forEach(r=>{r.name===t&&(i+=r.runtime)}),i}_resetRuntimes(){this._tasks.forEach(t=>t.runtime=0)}_getRunning(){const t=new Map;if(this._tasks.forEach(r=>{r.needsUpdate&&t.set(r.name,(t.get(r.name)||0)+1)}),t.size===0)return null;let i="";return t.forEach((r,n)=>{i+=r>1?` ${r}x ${n}`:` ${n}`}),i}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const t=this._tasks.reduce((i,r)=>r.needsUpdate?++i:i,0);this._load=this._load*g6+t*(1-g6)}_schedule(){for(lee(this._runQueue,t=>!!t.needsUpdate||(t.schedulePriority=t.basePriority,!1)),this._tasks.forEach(t=>{t.basePriority===No&&t.needsUpdate&&!this._runQueue.includes(t)&&t.blockFrame!==this._frameNumber&&this._runQueue.unshift(t)});this._runQueue.length===0;){let t=!1,i=0;if(this._tasks.forEach(r=>{r.needsUpdate&&r.schedulePriority!==0&&r.basePriority!==No&&r.blockFrame!==this._frameNumber&&(t=!0,i=Math.max(i,r.basePriority),r.schedulePriority===1?(r.schedulePriority=0,this._runQueue.push(r)):--r.schedulePriority)}),!t)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const t=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===HG&&(i.blockFrame=this._frameNumber)}catch(n){ze.getLogger("esri.views.support.Scheduler").error(`Exception in task "${i.name}"`,n),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const r=this._budget.now()-t;if(i.runtime+=r,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+r),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const t of Object.keys(Ot))this._frameTaskTimes.set(Ot[t],0)}_recordFrameTaskTimes(t){this._frameTaskTimes.forEach((i,r)=>this.performanceInfo.tasks.get(r).push(i)),this.performanceInfo.total.push(t)}get test(){return this._test}},a0e=class{get task(){return this._task.value}get readyToRun(){return this._queue.readyToRun}get updating(){return this._queue.updating}constructor(t,i,r){this._scheduler=t,this.name=i,this.blockFrame=0,this.runtime=0,this._queue=new Kve,this._handles=new Xg,this._basePriority=p6(i),this.schedulePriority=this._basePriority,this._task=zg(r??this._queue),this._handles.add(Ns(()=>this.task.readyToRun,n=>t.taskRunningChanged(n)))}remove(){this.processQueue(W0),this._scheduler.removeTask(this),this.schedule=m3.schedule,this.reschedule=m3.reschedule,this.scheduleGenerator=m3.scheduleGenerator,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(t){if(this.name===t)return;this.name=t;const i=p6(t);this._basePriority!==No&&this.schedulePriority===0||(this.schedulePriority=i),this._basePriority=i}get priority(){return this.name}set priority(t){this.setPriority(t)}get needsUpdate(){return this.readyToRun||!this.task.destroyed&&this.task.readyToRun}schedule(t,i,r){return this._queue.push(t,i,r)}reschedule(t,i,r){return this._queue.unshift(t,i,r)}scheduleGenerator(t,i,r){return this._queue.pushGenerator(t,i,r)}processQueue(t){return this._queue.runTask(t)}},WG=class{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(t){return!this.done&&(t()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(t){this._enabled=t}reset(t){this._begin=this.now(),this._budget=t,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}};const W0=new WG;W0.enabled=!1;let l0e=class{remove(){}processQueue(){}schedule(t,i,r){try{if(In(i)){const n=ai();return r?Promise.resolve(r(n)):Promise.reject(n)}return X3(t(W0))}catch(n){return Promise.reject(n)}}reschedule(t,i,r){return this.schedule(t,i,r)}async scheduleGenerator(t,i,r){if(In(i)){const s=ai();if(r)return r(s);throw s}const n=t(W0);for(;;){const s=n.next(W0),a=Nn(s)?await s:s;if(In(i)){const u=ai();if(r){const f=r(u),v=n.return(null);return Nn(v)&&await VS(v),f}const h=n.throw(u);throw Nn(h)&&await VS(h),u}if(a.done)return a.value}}};const m3=new l0e;let u0e=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=t0e(),this._schedulerHandle=Ns(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||Nn(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:s,state:{id:a}}=this.view;r?.forEach(this._updateLayerView,this),s!=null&&(s.lastUpdateId!==a&&(s.viewChange(),s.lastUpdateId=a),s.updateRequested&&s.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=0:this.view.interacting?this._scheduler.state=1:this._scheduler.state=2,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==2||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new PR,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=ht(()=>t.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=Eg(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();const i=this.view.state,r=t.lastUpdateId;r!=null&&(this.stationary||t.moving)||(t.moving=!0),r!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews?.forEach(this._updateLayerView,this)}};function c0e(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let n,s,a,u;const h=[0,0],f=h0e(e);for(let x=0;x<f.length;x++){const M=f[x];for(let P=0;P<M.length-1;P++){Ple(h,r,M,P);const O=Nx(r,h);(n==null||O<n)&&(n=O,s=[...h],a=x,u=P)}}if(n==null||!s||a==null||u==null)throw new $e("nearest-coordinate:failed","Failed to find the nearest coordinate");const[v,w]=s;return{coordinate:new We({x:v,y:w,spatialReference:i}),distance:n}}function h0e(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}var qO;let Xd=qO=class extends DA(et){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return kh(this.geometry,this.spatialReference)}catch(e){return ze.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?Z_(this.normalizedGeometry,i):_A(this.normalizedGeometry,i))return e;const{coordinate:r}=c0e(this.normalizedGeometry,i);return r&&(e.targetGeometry=r),e}clone(){return new qO({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};p([_({constructOnly:!0})],Xd.prototype,"geometry",void 0),p([_({readOnly:!0})],Xd.prototype,"normalizedGeometry",null),p([_({constructOnly:!0})],Xd.prototype,"spatialReference",void 0),Xd=qO=p([ie("esri.views.2d.constraints.GeometryConstraint")],Xd);var GO;let y0=GO=class extends DA(et){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new GO({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};p([_()],y0.prototype,"enabled",void 0),p([_()],y0.prototype,"rotationEnabled",void 0),y0=GO=p([ie("esri.views.2d.constraints.RotationConstraint")],y0);const ZG=y0;var VO;let xs=VO=class extends DA(et){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:n,maxZoom:s}=this,a=-1,u=-1,h=!1,f=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!t?.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map(v=>v.clone()),t.sort((v,w)=>w.scale-v.scale),t.forEach((v,w)=>v.level=w);for(const v of t)!h&&i>0&&i>=v.scale&&(a=v.level,h=!0),!f&&r>0&&r>=v.scale&&(u=e?e.level:-1,f=!0),e=v;n===-1&&(n=i===0?0:a),s===-1&&(s=r===0?t.length-1:u),n=Math.max(n,0),n=Math.min(n,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),n>s&&([n,s]=[s,n]),i=t[n].scale,r=t[s].scale,t.splice(0,n),t.splice(s-n+1),t.forEach((v,w)=>{this._lodByScale[v.scale]=v,this._scales[w]=v.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=e.targetGeometry,s=t&&t.targetGeometry,a=r!==0&&e.scale<r,u=i!==0&&e.scale>i;if(a||u){const h=u?i:r;if(t&&s){const f=(h-t.scale)/(e.scale-t.scale);n.x=s.x+(n.x-s.x)*f,n.y=s.y+(n.y-s.y)*f}e.scale=h}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),r=Math.ceil(e);return t[i]+(e-i)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(i=t[n],r=t[n+1],r===e)return n+this.effectiveMinZoom+1;if(i>e&&r<e)return n+this.effectiveMinZoom+1-(e-r)/(i-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new VO({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};p([_({readOnly:!0})],xs.prototype,"effectiveLODs",void 0),p([_({readOnly:!0})],xs.prototype,"effectiveMinZoom",void 0),p([_({readOnly:!0})],xs.prototype,"effectiveMaxZoom",void 0),p([_({readOnly:!0})],xs.prototype,"effectiveMinScale",void 0),p([_({readOnly:!0})],xs.prototype,"effectiveMaxScale",void 0),p([_()],xs.prototype,"lods",void 0),p([_()],xs.prototype,"minZoom",void 0),p([_()],xs.prototype,"maxZoom",void 0),p([_()],xs.prototype,"minScale",void 0),p([_()],xs.prototype,"maxScale",void 0),p([_()],xs.prototype,"snapToZoom",void 0),xs=VO=p([ie("esri.views.2d.constraints.ZoomConstraint")],xs);const YG=xs,d0e={base:null,key:"type",typeMap:{extent:It,polygon:Hi}};let cr=class extends et{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Fe}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const t=this._get("_geometry");return t&&this.geometry===t.geometry&&this.view?.constraintsInfo.spatialReference===t.spatialReference?t:new Xd({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new ZG({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),i=this.lods||this.view?.constraintsInfo.lods,r=this.minZoom,n=this.maxZoom,s=this.minScale,a=this.maxScale,u=this.snapToZoom;return t&&t.lods===i&&t.minZoom===r&&t.maxZoom===n&&t.minScale===s&&t.maxScale===a&&t.snapToZoom===u?t:new YG({lods:i,minZoom:r,maxZoom:n,minScale:s,maxScale:a,snapToZoom:u})}canZoomInTo(t){const i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){const i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),this.customConstraints.forEach(r=>r.constrain(t,i)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(i=>i.applyPanConstraint?.(t)),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};p([_({readOnly:!0})],cr.prototype,"effectiveLODs",null),p([_({readOnly:!0})],cr.prototype,"effectiveMinScale",null),p([_({readOnly:!0})],cr.prototype,"effectiveMaxScale",null),p([_({readOnly:!0})],cr.prototype,"effectiveMinZoom",null),p([_({readOnly:!0})],cr.prototype,"effectiveMaxZoom",null),p([_({types:d0e,value:null})],cr.prototype,"geometry",null),p([_({type:[yn]})],cr.prototype,"lods",void 0),p([_()],cr.prototype,"minScale",void 0),p([_()],cr.prototype,"maxScale",void 0),p([_()],cr.prototype,"minZoom",void 0),p([_()],cr.prototype,"maxZoom",void 0),p([_()],cr.prototype,"rotationEnabled",void 0),p([_()],cr.prototype,"snapToZoom",void 0),p([_({type:Fe})],cr.prototype,"customConstraints",void 0),p([_()],cr.prototype,"view",void 0),p([_({readOnly:!0})],cr.prototype,"version",null),p([_({type:Xd,readOnly:!0})],cr.prototype,"_geometry",null),p([_({type:ZG})],cr.prototype,"_rotation",null),p([_({readOnly:!0,type:YG})],cr.prototype,"_zoom",null),cr=p([ie("esri.views.2d.MapViewConstraints")],cr);const y6=cr;let En=class extends et{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([ht(()=>this.constraints?.version,i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Ch)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new We({x:t[0],y:t[1],spatialReference:i})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void ze.getLogger(this).error(new $e("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:n}))}const r=this.viewpoint;zO(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void ze.getLogger(this).error(new $e("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void ze.getLogger(this).error(new $e("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;$ve(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const i=this.viewpoint;Dve(i,i,t),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;u6(i,i,t),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?r=new $e("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(r=new $e("mapview:invalid-viewpoint","geometry not defined"))}catch(s){r=new $e("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:s})}if(r)return void ze.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const n=new Wo({targetGeometry:new We,scale:0,rotation:0});kn(n,i),this.constraints?.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const i=this.constraints?.zoomToScale(t)??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;u6(r,r,i),this.viewpoint=r,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,n=this._get("center"),s=this._get("extent"),a=this._get("scale"),u=this._get("rotation"),h=this._get("viewpoint"),f=this._get("zoom"),v=f!=null&&r!=null&&r.zoomToScale(f)||void 0;let w,x,M;const P=h?.rotation,O=h?.targetGeometry;O?.type==="extent"?w=O:O?.type==="point"&&(x=O,M=h?.scale);const F=s??w;return{center:n??x??F?.center,rotation:u??P,scale:(a??v??M??(F&&Jx(F,[t[0]-i.left-i.right,t[1]-i.top-i.bottom])))||void 0}}startup(t,i,r,n){const s=t.targetGeometry;try{this._project(t,r)}catch(a){ze.getLogger(this).warn(new bl("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:r,error:a})),t.targetGeometry=n||new We({x:0,y:0,spatialReference:r})}this.constraints?.fit(t),this._set("state",new PR({padding:this.padding,size:i,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,i],spatialReference:r,rotation:n,scale:s}=this.state.paddedViewState,a=new We({x:t,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",n),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const h=i.viewpoint.clone();h.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=h}const r=i.clone(),[n,s]=i.center;let a=null;try{a=this._project(new We({x:n,y:s,spatialReference:i.spatialReference}),t)}catch(h){dA()||ze.getLogger(this).warn(new bl("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a?.toJSON(),spatialReference:t,error:h}))}a||(a=new We({x:0,y:0,spatialReference:t}));const u=zO(new Wo({targetGeometry:new We,scale:0,rotation:0}),i.viewpoint,a);r.viewpoint=u;try{const f=[i.size[0]/2,i.size[1]/2],v=[f[0]+20,f[1]],w=i.toMap([0,0],v),{x,y:M}=this._project(new We({x:w[0],y:w[1],spatialReference:i.spatialReference}),t);w[0]=x,w[1]=M,r.toScreen(w,w);const P=kve(f,w,v),O=Math.hypot(w[0]-f[0],w[1]-f[1])/20;!Number.isFinite(O)||Math.abs(O)>4?(u.rotation=0,u.targetGeometry=new We({x:0,y:0,spatialReference:t})):(u.scale*=O,u.scale>pe("mapview-srswitch-adjust-rotation-scale-threshold")?u.rotation=0:u.rotation+=Number.isFinite(P)?P:0)}catch{}this._get("constraints")?.constrain(u,void 0),this._get("state").viewpoint=u}resize(t,i){if(!this.ready)return;const r=this.state;let n=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();r.size=[t,i],Nve(n,n,s,this.state.paddedViewState.size,this.resizeAlign),n=this.constraints?.constrain(n,void 0)??n,this.state.viewpoint=n}toMap(t){if(!this.ready)return null;const i=[0,0],[r,n]=this.state.toMap(i,[t.x,t.y]),s=this.state.spatialReference;return new We({x:r,y:n,spatialReference:s})}toScreen(t,i){if(!this.ready)return null;const r=this._project(t,this.state.spatialReference),n=[r.x,r.y];return i?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),Br(n[0],n[1])}_project(t,i){const r=t?.targetGeometry||t;if(!i)return t;if(!r)return null;if(i.imageCoordinateSystem||r.spatialReference?.imageCoordinateSystem||Gr(i,r.spatialReference))return t;const n=kh(r,i);if(!n)throw new $e("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return f0e(t)?(t.targetGeometry=n,t):n}};function f0e(e){return e?.declaredClass==="esri.Viewpoint"}p([_({type:We})],En.prototype,"center",null),p([_()],En.prototype,"constraints",void 0),p([_({type:It})],En.prototype,"extent",null),p([_({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],En.prototype,"padding",null),p([_()],En.prototype,"ready",void 0),p([_()],En.prototype,"resizeAlign",void 0),p([_({readOnly:!0})],En.prototype,"resolution",null),p([_({type:Number})],En.prototype,"rotation",null),p([_({type:Number})],En.prototype,"scale",null),p([_({readOnly:!0})],En.prototype,"state",void 0),p([_({type:Wo})],En.prototype,"viewpoint",null),p([_({readOnly:!0})],En.prototype,"visibleArea",null),p([_()],En.prototype,"zoom",null),En=p([ie("esri.views.2d.ViewStateManager")],En);const v6=160;let v0=class extends et{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=v6&&this.clear()},v6))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};p([_()],v0.prototype,"_timer",void 0),p([_()],v0.prototype,"stationary",null),v0=p([ie("esri.views.2d.support.StationaryManager")],v0);const p0e=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this.fullOpacity=1,this.stateManager=new En({constraints:new y6({view:this})}),this.stationaryManager=new v0,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new u0e(this),this.viewEvents=new rG(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([ht(()=>this.viewpoint,()=>this.stationaryManager.flip(),Ch)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(r){this.stateManager.extent=r}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(r){const n=this._get("animation");if(r===n)return;if(n&&n.stop(),r!==this.animationManager.animation&&this.animationManager.stop(),!r||r.isFulfilled())return void this._set("animation",null);this._set("animation",r);const s=()=>{this.destroyed||r===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};r.when(s,s)}get constraints(){return this.stateManager?.constraints}set constraints(r){r.view=this;const n=this.stateManager.constraints;this.stateManager.constraints=r,n?.destroy()}get padding(){return this.stateManager?.padding}set padding(r){this.stateManager&&(this.stateManager.padding=r)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(r){this.stateManager.resizeAlign=r}get rotation(){return this.stateManager.rotation??0}set rotation(r){const{rotationEnabled:n}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=r,this.constraints.rotationEnabled=n}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(r){this.stateManager.viewpoint=r,this.frameTask.requestFrame()}};return p([_({readOnly:!0})],i.prototype,"animationManager",void 0),p([_({readOnly:!0})],i.prototype,"fullOpacity",void 0),p([_()],i.prototype,"stateManager",void 0),p([_()],i.prototype,"constraintsInfo",null),p([_()],i.prototype,"extent",null),p([_({readOnly:!0})],i.prototype,"state",null),p([_({readOnly:!0})],i.prototype,"mapViewNavigation",void 0),p([_()],i.prototype,"renderingOptions",void 0),p([_({readOnly:!0})],i.prototype,"interacting",null),p([_()],i.prototype,"stationary",null),p([_()],i.prototype,"animation",null),p([_({type:y6})],i.prototype,"constraints",null),p([_()],i.prototype,"padding",null),p([_()],i.prototype,"resizeAlign",null),p([_()],i.prototype,"rotation",null),p([_({readOnly:!0})],i.prototype,"viewEvents",void 0),p([_({type:Wo})],i.prototype,"viewpoint",null),i=p([ie("esri.views.Viewport2DBaseMixin")],i),i},m0e=()=>qt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;var yg;let pm=(yg=class extends lA{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=uo(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new $e("view:animation-stopped","ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(t,i){i||(i=Nn(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}},yg.state={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"},yg);p([_({readOnly:!0})],pm.prototype,"done",null),p([_({readOnly:!0,type:String})],pm.prototype,"state",void 0),p([_()],pm.prototype,"target",void 0),pm=p([ie("esri.views.ViewAnimation")],pm);const HO=pm;let ES=class extends et{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,i){if(!t)return void ze.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new HO;this.view.animation=r,await IA(()=>this.view.ready,i);const n={...i,animate:i?.animate??(!m0e()&&this.view.animationsEnabled),animationMode:i?.animationMode??"auto"},{extent:s,spatialReference:a,size:u,viewpoint:h,constraints:f,padding:v,allLayerViews:w}=this.view,x=Tve(t,{extent:s,spatialReference:a,size:u,viewpoint:h,constraints:f,padding:v,allLayerViews:w,pickClosestTarget:i?.pickClosestTarget??!0});return r?.update(x),this._gotoTask={},n.animate?this._gotoAnimated(x,n):this._gotoImmediate(x,n)}_gotoImmediate(t,i){const r=this._gotoTask,n=this.view.animation,s=t.then(a=>{if(Li(i),r!==this._gotoTask)throw new $e("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=a,n.finish()});return this._cancellableGoTo(r,n,s,i)}_gotoAnimated(t,i){const r=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const s=t.then(a=>{if(Li(i),r!==this._gotoTask)throw new $e("view:goto-interrupted","Goto was interrupted");return n.update(a),this.view.animationManager.animate(n,this.view.viewpoint,i),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,s,i)}_cancellableGoTo(t,i,r,n){const s=()=>t===this._gotoTask;return ote(r,n).finally(()=>{s()&&(i.done||i.stop())})}};p([_({constructOnly:!0})],ES.prototype,"view",void 0),ES=p([ie("esri.views.2d.GoToManager")],ES);function JG(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}function XG(e,t){return t.some(i=>JG(e,i))}function _6(e,{dragPrimary:t,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:t},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(n=>n.value===e).map(n=>n.key)}let w6=class extends Vr{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(t,i){JG(t.data,"primary")&&(t.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},g0e=class extends Vr{constructor(t,i,r){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",r,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:r}=i;if(r!==this.pointerType)return;t.stopPropagation();const{action:n,delta:s}=i,{view:a}=this,{mapViewNavigation:u}=a;switch(n){case"begin":{const{scale:h}=a;this._startScale=h,this._currentScale=h,this._previousDelta=s,u.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const h=1.015**s.y,f=this._startScale*h,v=f/this._currentScale;u.setViewpointImmediate(v),this._currentScale=f;break}case"end":{const{constraints:h}=a,{effectiveLODs:f,snapToZoom:v}=h;if(!v||!f)return void u.end();const w=h.snapScale(this._currentScale),x=(s.y>0?Math.max(w,h.snapToPreviousScale(this._startScale)):Math.min(w,h.snapToNextScale(this._startScale)))/this._currentScale;u.zoom(x).then(()=>{u.end()});break}}}},Kx=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const i=t.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){this._startEvent=t,this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},y0e=class extends Vr{constructor(t,i,r){super(!0),this.view=t,this.pointerActions=i,this.registerIncoming("drag",r,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new Kx({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&XG(r.data,this.pointerActions)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},v0e=class extends Vr{constructor(t,i,r){super(!0),this._view=t,this.pointerActions=i;const n=this._view.mapViewNavigation;this._dragEventSeparator=new Kx({start:(s,a)=>{n.rotate.begin(this._view,a.data),a.stopPropagation()},update:(s,a)=>{n.rotate.update(this._view,a.data),a.stopPropagation()},end:(s,a)=>{n.rotate.end(),a.stopPropagation()},condition:(s,a)=>s===1&&XG(a.data,this.pointerActions)}),this.registerIncoming("drag",r,s=>this._dragEventSeparator.handle(s))}};function KG(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function _0e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function w0e(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function b0e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function QG(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function eV(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function tV(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function S0e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function x0e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function T0e(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function M0e(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function E0e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function $0e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function C0e(e,t=0,i=1){return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e}function O0e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function iV(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function P0e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function rV(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}function nV(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function sV(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function A0e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function R0e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function WO(e,t){const i=t[0],r=t[1],n=t[2];let s=i*i+r*r+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function oV(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function L0e(e,t,i){const r=t[0],n=t[1],s=t[2],a=i[0],u=i[1],h=i[2];return e[0]=n*h-s*u,e[1]=s*a-r*h,e[2]=r*u-n*a,e}function k0e(e,t,i){const r=t[0],n=t[1],s=t[2],a=i[0],u=i[1],h=i[2],f=n*h-s*u,v=s*a-r*h,w=r*u-n*a,x=Math.sqrt(f*f+v*v+w*w);return e[0]=f/x,e[1]=v/x,e[2]=w/x,e}function I0e(e,t,i,r){const n=t[0],s=t[1],a=t[2];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e[2]=a+r*(i[2]-a),e}function N0e(e,t,i,r,n,s){const a=s*s,u=a*(2*s-3)+1,h=a*(s-2)+s,f=a*(s-1),v=a*(3-2*s);return e[0]=t[0]*u+i[0]*h+r[0]*f+n[0]*v,e[1]=t[1]*u+i[1]*h+r[1]*f+n[1]*v,e[2]=t[2]*u+i[2]*h+r[2]*f+n[2]*v,e}function D0e(e,t,i,r,n,s){const a=1-s,u=a*a,h=s*s,f=u*a,v=3*s*u,w=3*h*a,x=h*s;return e[0]=t[0]*f+i[0]*v+r[0]*w+n[0]*x,e[1]=t[1]*f+i[1]*v+r[1]*w+n[1]*x,e[2]=t[2]*f+i[2]*v+r[2]*w+n[2]*x,e}function j0e(e,t=1){const i=qA,r=2*i()*Math.PI,n=2*i()-1,s=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*s,e[1]=Math.sin(r)*s,e[2]=n*t,e}function z0e(e,t,i){const r=t[0],n=t[1],s=t[2];return e[0]=i[0]*r+i[4]*n+i[8]*s+i[12],e[1]=i[1]*r+i[5]*n+i[9]*s+i[13],e[2]=i[2]*r+i[6]*n+i[10]*s+i[14],e}function U0e(e,t,i){const r=t[0],n=t[1],s=t[2];return e[0]=r*i[0]+n*i[3]+s*i[6],e[1]=r*i[1]+n*i[4]+s*i[7],e[2]=r*i[2]+n*i[5]+s*i[8],e}function F0e(e,t,i){const r=i[0],n=i[1],s=i[2],a=i[3],u=t[0],h=t[1],f=t[2],v=n*f-s*h,w=s*u-r*f,x=r*h-n*u,M=n*x-s*w,P=s*v-r*x,O=r*w-n*v,F=2*a;return e[0]=u+v*F+2*M,e[1]=h+w*F+2*P,e[2]=f+x*F+2*O,e}function B0e(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[0],s[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),s[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function q0e(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),s[1]=n[1],s[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function G0e(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),s[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),s[2]=n[2],e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function V0e(e,t){WO(b6,e),WO(S6,t);const i=oV(b6,S6);return i>1?0:i<-1?Math.PI:Math.acos(i)}const b6=Lh(),S6=Lh();function H0e(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function W0e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Z0e(e,t){if(e===t)return!0;const i=e[0],r=e[1],n=e[2],s=t[0],a=t[1],u=t[2],h=Is();return Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))}function Y0e(e,t,i){const r=i[0]-t[0],n=i[1]-t[1],s=i[2]-t[2];let a=r*r+n*n+s*s;return a>0?(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=s*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const J0e=QG,X0e=eV,K0e=tV,Q0e=rV,e_e=nV,t_e=KG,i_e=sV;Object.freeze(Object.defineProperty({__proto__:null,abs:T0e,add:b0e,angle:V0e,bezier:D0e,ceil:S0e,clamp:C0e,copy:_0e,cross:L0e,crossAndNormalize:k0e,direction:Y0e,dist:Q0e,distance:rV,div:K0e,divide:tV,dot:oV,equals:Z0e,exactEquals:W0e,floor:x0e,hermite:N0e,inverse:R0e,len:t_e,length:KG,lerp:I0e,max:$0e,min:E0e,mul:X0e,multiply:eV,negate:A0e,normalize:WO,random:j0e,rotateX:B0e,rotateY:q0e,rotateZ:G0e,round:O0e,scale:iV,scaleAndAdd:P0e,set:w0e,sign:M0e,sqrDist:e_e,sqrLen:i_e,squaredDistance:nV,squaredLength:sV,str:H0e,sub:J0e,subtract:QG,transformMat3:U0e,transformMat4:z0e,transformQuat:F0e},Symbol.toStringTag,{value:"Module"}));function ga(e){let t=e*e;return e<0&&(t*=-1),t}function r_e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function n_e(e,t,i){const r=i,n=e.state,s=e.device,a=t.tiltDirection==="forward-down"?1:-1,u=1;return s.deviceType==="standard"?(r.translation[0]=ga(n.axes[0]),r.translation[1]=ga(n.axes[1]),r.translation[2]=ga(n.buttons[7])-ga(n.buttons[6]),r.heading=ga(n.axes[2]),r.tilt=ga(n.axes[3])):s.deviceType==="spacemouse"&&(r.translation[0]=1.2*ga(n.axes[0]),r.translation[1]=1.2*ga(n.axes[1]),r.translation[2]=2*-ga(n.axes[2]),r.heading=1.2*ga(n.axes[5]),r.tilt=1.2*ga(n.axes[3])),r.tilt*=a,iV(r.translation,r.translation,u),r}function s_e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let o_e=class extends Vr{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Xg,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([ht(()=>this._view.navigation.gamepad?.enabled,i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=Eg({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},nn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,r_e(this._transformation)):(this._currentDevice=t.data.device,n_e(t.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(t){const i=this._transformation;if(s_e(i))return void this._frameTask?.pause();const r=this._view.viewpoint.clone(),n=this._view.navigation.gamepad.velocityFactor,s=l_e*n*t;Xx(r,r,[i.translation[0]*s,-i.translation[1]*s]);const a=1+i.translation[2]*u_e*t,u=this._view.constraints.rotationEnabled?-i.heading*a_e*t:0,h=this._view.size,f=[h[0]/2,h[1]];NG(r,r,a,u,f,h);const v=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=v}};const a_e=.06,l_e=.7,u_e=6e-4;function aV(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),jt(()=>document.removeEventListener("visibilitychange",t))}let c_e=class extends Vr{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=n=>{const s=this._keyMap[n.data.key];if(n.modifiers.has("Meta")||n.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;n.stopPropagation(),n.preventDefault();const a=n.type==="key-down";if(this._pressedKeys[a?"add":"delete"](s),a){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const u=this._timeout===void 0,h=this._pressedKeys.size>0;u||h?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=aV(n=>n?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(t){const i=this._currentDirection!=null;if(t!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},h_e=class extends Vr{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",r,n=>this._handleKeyUp(n)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=aV(n=>n?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,i){for(const r of t)this._keyToDirection.set(r,i)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const r=t.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection.get(t.data.key);if(this._pressed=n!=null,this._pressed){if(t.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}},d_e=class extends Vr{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),i.zoomIn.forEach(n=>this._keysToZoomAction[n]=0),i.zoomOut.forEach(n=>this._keysToZoomAction[n]=1)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=t.data;if(!(r in this._keysToZoomAction))return;const n=this._keysToZoomAction[r],{mapViewNavigation:s}=this.view;let a=null;switch(n){case 0:a=s.zoomIn();break;case 1:a=s.zoomOut();break;default:return}s.begin(),a.then(()=>s.end()),t.stopPropagation()}};const f_e=.6;let p_e=class extends Vr{constructor(t,i){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(t){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:n,deltaY:s}=t.data,a=1/f_e**(1/60*s),u=i.zoom(a,[r,n]);this._canZoom=!1,u.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()})}},m_e=class extends Vr{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new Kx({start:(r,n)=>{i.pinch.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{i.pinch.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{i.pinch.end(this.view),n.stopPropagation()},condition:r=>r>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function x6(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value||1:0),axes:t.axes.map(i=>v_e(i,e.axisThreshold))}:{buttons:[],axes:[]}}function g_e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function y_e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function v_e(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}let __e=class{constructor(t,i){this._element=t,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const a=s.gamepad,u=a.index,h=this._inputDevices[u];h&&(this._emitGamepadEvent(a,x6(h),!1),this._inputDevices.splice(u,1),this._latestUpdate.splice(u,1),this._input.gamepad.devices.remove(h),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=r&&n,this.supported&&(T6(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const i=new wR(t);i.deviceType!=="unknown"&&(this._inputDevices[t.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Eg({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!i;T6(n=>{const s=this._inputDevices[n.index];if(!s)return;const a=this._latestUpdate[n.index],u=x6(s),h=r||y_e(u);a&&(a.timestamp===n.timestamp||!a.active&&h||g_e(a.state,u))||this._emitGamepadEvent(n,u,!h)})}_emitGamepadEvent(t,i,r){const n=this._latestUpdate[t.index],s=n&&n.active;if(!s&&!r)return;const a=!s&&r?"start":s&&r?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[t.index],state:i,action:a})}};function w_e(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function T6(e){for(const t of navigator.getGamepads())w_e(t)&&e(t)}const M6=pe("edge"),b_e=pe("chrome"),S_e=pe("ff"),x_e=pe("safari"),E6="esri-view-surface",Gp={touchNone:`${E6}--touch-none`,touchPan:`${E6}--touch-pan`};var wf;let T_e=(wf=class{constructor(t,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new __e(t,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=er(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const r=this._active[i];this._element.removeEventListener(g3[i],r),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&g3[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(g3[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=t?.has("gamepad")??!1)}setPointerCapture(t,i){i?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Gp.touchNone:Gp.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Gp.touchPan:Gp.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Gp.touchNone),this._element.classList.remove(Gp.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const r=sG(this._element,t);return wf.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(t,i){const{key:r}=i;r&&t==="key-up"&&this._keyDownState.delete(r);const n={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&t==="key-down"&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,r)}_handlePointerPreventDefault(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,r)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&pe("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:M6&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}M6?r*=.7:b_e||x_e?r*=.6:S_e&&(r*=1.375);const n=100,s=Math.abs(r);s>n&&(r=r/s*200/(1+Math.exp(-.02*(s-n))));const a=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(t,a)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const r={native:i};i.preventDefault(),this._callback(t,r)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}},wf.test={disableSubpixelCoordinates:!1},wf);const g3={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let M_e=class extends Vr{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const lV=()=>({maximumClickDelay:300}),E_e=(e={})=>({...lV(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...e}),RR=(e={})=>({...lV(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...e});function C2(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function $_e(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}function C_e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Br()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[U,C]=e,[E,A]=[C.x-U.x,C.y-U.y];return t.radius=Math.sqrt(E*E+A*A)/2,t.center.x=(U.x+C.x)/2,t.center.y=(U.y+C.y)/2,t}let i=0,r=0;for(let U=0;U<e.length;U++)i+=e[U].x,r+=e[U].y;i/=e.length,r/=e.length;const n=e.map(U=>U.x-i),s=e.map(U=>U.y-r);let a=0,u=0,h=0,f=0,v=0,w=0,x=0;for(let U=0;U<n.length;U++){const C=n[U],E=s[U],A=C*C,k=E*E;a+=A,u+=k,h+=C*E,f+=A*C,v+=k*E,w+=C*k,x+=E*A}const M=.5*(f+w),P=.5*(v+x),O=a*u-h*h,F=(M*u-P*h)/O,G=(a*P-h*M)/O,Y=Br(F+i,G+r);return{radius:Math.sqrt(F*F+G*G+(a+u)/e.length),center:Y}}function gf(e){const{native:t}=e,{pointerId:i,button:r,pointerType:n}=t;return n==="mouse"?`${i}:${r}`:`${n}`}let O_e=class extends Vr{constructor(t={},i=Wg){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Br(0,0),this._pointerState=new Map,this._parameters=RR(t),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Kx({start:(r,n)=>this._dragStart(r,n),update:(r,n)=>this._dragUpdate(n),end:(r,n)=>this._dragEnd(n)}),this.registerIncoming("drag",r=>this._dragEventSeparator.handle(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Oi(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=Oi(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:n}=i,{center:s}=r;this._dragStartCenter=s;const a=y3("begin",Br(0,0),r);this._doubleTapDrag.emit(a,void 0,n),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:n}=i,s=y3("update",Br(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:n}=i,s=y3("end",Br(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,r=gf(i),n=this._pointerState.get(r),{pointerType:s}=i.native;if(n){const a=s==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(r),C2(n.event.data,i)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:i}=t,{pointerType:r}=i.native,n=gf(i),s=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(n),s);this._pointerState.set(n,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function y3(e,t,i){const{button:r,buttons:n,pointer:s,pointers:a,pointerType:u,timestamp:h}=i;return{action:e,delta:t,button:r,buttons:n,pointer:s,pointers:a,pointerType:u,timestamp:h}}let P_e=class extends Vr{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,r,n){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:n,pointers:A_e(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(t){const i=t.native.pointerId,r=mb(this._activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,n);const s=$S(n,uV(this._activePointerMap));n.initialAngle=s,n.lastAngle=s,this._updatePointerAngles(r)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,r=this._activePointerMap.get(i);r?r.event=t:this._addPointer(t)}_removePointer(t){const i=mb(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=mb(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=$S(r,i)-t,r.lastAngle=$S(r,i)-t})}_emitEvent(t,i,r){const n=mb(this._activePointerMap);this._drag.emit(this._createPayload(t,i,n,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,r=t.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,r=i.currentEvent,n=t.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,n)):(this._addPointer(r),this._emitEvent("added",r,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function uV(e){const t=[];return e.forEach(i=>{t.push(Br(i.event.x,i.event.y))}),C_e(t)}function mb(e){const t=uV(e);let i=0;return e.forEach(r=>{let n=$S(r,t),s=n-r.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;n=r.lastAngle+s,r.lastAngle=n;const a=n-r.initialAngle;i+=a}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function A_e(e){const t=new Map;return e.forEach((i,r)=>t.set(r,i.event)),t}function $S(e,t){const i=e.event,r=i.x-t.center.x,n=i.y-t.center.y;return Math.atan2(n,r)}let R_e=class extends Vr{constructor(t={},i=Wg){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=RR(t),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=gf(i);if(!this._pointerState.has(r)){const n={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(i.native)}}_handlePointerUp(t){const i=t.data,r=gf(i),n=this._pointerState.get(r);if(n&&n.downButton===i.native.button){const s=n.immediateDoubleClick,a=t.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),C2(s,t.data)>a?this._startImmediateDoubleClick(t,n):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(i))):C2(n,t.data)>a?this._removeState(i):this._startImmediateDoubleClick(t,n)}}_startImmediateDoubleClick(t,i){const r=t.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),r)}}_removeState(t){const i=gf(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},L_e=class extends Vr{constructor(t={},i=Wg){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=E_e(t),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",r=>this._handlePointerLoss(r,"pointer-up")),this.registerIncoming("pointer-capture-lost",r=>this._handlePointerLoss(r,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",r=>this._handlePointerLoss(r,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",r=>this._handlePointerMove(r)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Oi(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=i.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const a=this._pointerState.get(r);if(a){if(!a.isDragging){const u=a.previousEvent;this._pointerHold.emit(u,void 0,t.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._parameters.holdDelay));const s={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(r,s),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const i=t.data,r=i.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(gb("update",n,i),void 0,n.modifiers):$_e(i,n.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),n.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(t){const i=t.data,r=i.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,r===n.startEvent.native.pointerId?this._pointerDrag.emit(gb("start",n,i)):this._pointerDrag.emit(gb("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const r=t.data,n=r.native.pointerId,s=this._pointerState.get(n);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(gb("end",s,i==="pointer-up"?r:s.previousEvent),void 0,s.modifiers):i==="pointer-up"&&s.downButton===r.native.button&&t.timestamp-s.startTimestamp<=this._parameters.maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function gb(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}let k_e=class extends Vr{constructor(t={},i=Wg){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=RR(t),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",r=>this._handleImmediateClick(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Oi(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,i){const r=this._pointerState.get(t);r&&(r.doubleClickTimer=Oi(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const i=t.data,{pointerType:r}=i.native,n=I_e(i);if(!this._pointerState.has(n))return void this._startClick(t);const s=this._pointerState.get(n),{data:a,modifiers:u}=s.event,h=r==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;C2(a,i)>h?(this._clearDoubleClickTimer(n,!0),this._startClick(t)):(this._clearDoubleClickTimer(n,!1),s.pointerDownCount===2&&this._doubleClick.emit(a,void 0,u))}_handlePointerDown(t){const i=gf(t.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(t){const{data:i}=t,{native:{pointerType:r}}=i,n=gf(i),s=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),s);this._pointerState.set(n,{event:t,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function I_e(e){const{pointerId:t,pointerType:i,button:r}=e.native;return i==="mouse"?`${t}:${r}`:`${i}`}const yb={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},$6=Symbol("handles");let mm=class extends et{initialize(){const t=()=>this.view?.ready;this.addHandles([Ns(()=>!t(),()=>this._disconnect()),Ns(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerInfo(){return this._inputManager?.latestPointerInfo}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(t){return this._inputManager?.isModifierKeyDown(t)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles($6),this._inputManager=er(this._inputManager)}_connect(){const t=this.view.surface,i=new T_e(t,this.view.input),r=[new R_e,new L_e,new k_e,new P_e(this.view.navigation),new O_e],n=new _a({eventSource:i,recognizers:r}),s=new y0e(this.view,["primary"]),a=new v0e(this.view,["secondary"]);n.installHandlers("prevent-context-menu",[new M_e],Iu.INTERNAL),n.installHandlers("navigation",[new m_e(this.view),new o_e(this.view),new p_e(this.view),new w6(this.view),new w6(this.view,[yb.counter]),s,new c_e(this.view,yb.pan),new d_e(this.view,yb.zoom),new h_e(this.view,yb.rotate),a,new g0e(this.view,"touch")],Iu.INTERNAL),this.view.viewEvents.connect(n),this._source=i,this._inputManager=n,this.addHandles([ht(()=>this.view?.navigation?.browserTouchPanEnabled,u=>{this._source&&(this._source.browserTouchPanningEnabled=!u)},nn),ht(()=>{const{actionMap:u}=this.view.navigation;return{panActions:_6("pan",u),rotateActions:_6("rotate",u)}},({panActions:u,rotateActions:h})=>{s.pointerActions=u,a.pointerActions=h},On)],$6)}get test(){}};p([_()],mm.prototype,"view",void 0),p([_()],mm.prototype,"latestPointerInfo",null),p([_()],mm.prototype,"multiTouchActive",null),mm=p([ie("esri.views.2d.input.MapViewInputManager")],mm);const N_e=mm,D_e=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this.goToManager=new ES({view:this}),this.animationsEnabled=!0,this.inputManager=new N_e({view:this}),this.addHandles([this.on("resize",n=>this.stateManager.resize(n.width,n.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(r,n,s,a){return this.viewEvents.on(r,n,s,a)||super.on(r,n)}hasEventListener(r){return super.hasEventListener(r)||this.viewEvents.hasHandler(r)}goTo(r,n){return this.goToManager.goTo(r,n)}toMap(r){if(!this.ready)return null;const n=aG(r)?oG(this,r):r;return this.stateManager.toMap(n)}};return p([_()],i.prototype,"goToManager",void 0),p([_({readOnly:!0})],i.prototype,"interacting",null),p([_()],i.prototype,"stationary",null),p([_()],i.prototype,"animationsEnabled",void 0),p([_({readOnly:!0})],i.prototype,"inputManager",void 0),i=p([ie("esri.views.Viewport2DMixin")],i),i};let C6=class{constructor(t){this._view=t,this.viewpoint=new Wo({targetGeometry:new We,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,i]=this._view.size;return Math.sqrt(t*t+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return kG(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,i){i.pan=sU(this.center,t.center);let r=Math.abs(t.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=Q_(r),i.sourceZoom=this.scale,i.targetZoom=t.scale}interpolate(t,i,r){const{pan:n,rotate:s,zoom:a,zoomOffset:u}=r,{center:h}=this;h.spatialReference=t.center.spatialReference,h.x=Yv(t.center.x,i.center.x,n),h.y=Yv(t.center.y,i.center.y,n),this.viewpoint.scale=Yv(t.scale,i.scale+u,a);let f=t.rotation;const v=i.rotation;Math.abs(v-f)>=180&&(f+=360*(f<v?1:-1)),this.viewpoint.rotation=Yv(f,v,s)}copyFrom(t){kn(this.viewpoint,t.viewpoint),this._view=t.view}};function Av(e,t,i,r){const n=3*e,s=3*(i-e)-n,a=1-n-s,u=3*t,h=3*(r-t)-u,f=1-u-h;function v(P){return((a*P+s)*P+n)*P}function w(P){return((f*P+h)*P+u)*P}function x(P){return(3*a*P+2*s)*P+n}function M(P,O){let F,G,Y,U,C,E;for(Y=P,E=0;E<8;E++){if(U=v(Y)-P,Math.abs(U)<O)return Y;if(C=x(Y),Math.abs(C)<1e-6)break;Y-=U/C}if(F=0,G=1,Y=P,Y<F)return F;if(Y>G)return G;for(;F<G;){if(U=v(Y),Math.abs(U-P)<O)return Y;P>U?F=Y:G=Y,Y=.5*(G-F)+F}return Y}return function(P,O=1e-6){return w(M(P,O))}}const zo={};zo.ease=Av(.25,.1,.25,1),zo.linear=Av(0,0,1,1),zo.easeIn=zo["ease-in"]=Av(.42,0,1,1),zo.easeOut=zo["ease-out"]=Av(0,0,.58,1),zo.easeInOut=zo["ease-in-out"]=Av(.42,0,.58,1);const j_e=e=>e,T_=e=>e*e,O2=e=>1-T_(1-e),O6=e=>e<.5?T_(2*e)/2:(O2(2*(e-.5))+1)/2,P2=e=>e*e*e,ZO=e=>1-P2(1-e),P6=e=>e<.5?P2(2*e)/2:(ZO(2*(e-.5))+1)/2,A2=e=>e*e*e*e,YO=e=>1-A2(1-e),A6=e=>e<.5?A2(2*e)/2:(YO(2*(e-.5))+1)/2,R2=e=>e*e*e*e*e,JO=e=>1-R2(1-e),R6=e=>e<.5?R2(2*e)/2:(JO(2*(e-.5))+1)/2,L2=e=>1-Math.cos(e*Math.PI/2),XO=e=>1-L2(1-e),L6=e=>e<.5?L2(2*e)/2:(XO(2*(e-.5))+1)/2,k2=e=>2**(10*(e-1)),I2=e=>1-k2(1-e),k6=e=>e<.5?k2(2*e)/2:(I2(2*(e-.5))+1)/2,N2=e=>-(Math.sqrt(1-e*e)-1),KO=e=>1-N2(1-e),I6=e=>e<.5?N2(2*e)/2:(KO(2*(e-.5))+1)/2;function Jo(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return r=>r<i?e*r*r:t*r-t+1}function Xo(e,t){return(i,r)=>i<t?t*e(i/t,r):1-e((1-i)/(1-t),r)*(1-t)}const N6=Xo(Jo(1),1),D6=Xo(Jo(1),0),D2=Xo(Jo(1),.5),j6=Xo(Jo(2),1),z6=Xo(Jo(2),0),U6=Xo(Jo(2),.5),F6=Xo(Jo(3),1),B6=Xo(Jo(3),0),q6=Xo(Jo(3),.5),G6=Xo(Jo(4),1),V6=Xo(Jo(4),0),H6=Xo(Jo(4),.5),W6={linear:j_e,"in-quad":T_,"out-quad":O2,"in-out-quad":O6,"in-coast-quad":N6,"out-coast-quad":D6,"in-out-coast-quad":D2,"in-cubic":P2,"out-cubic":ZO,"in-out-cubic":P6,"in-coast-cubic":j6,"out-coast-cubic":z6,"in-out-coast-cubic":U6,"in-quart":A2,"out-quart":YO,"in-out-quart":A6,"in-coast-quart":F6,"out-coast-quart":B6,"in-out-coast-quart":q6,"in-quint":R2,"out-quint":JO,"in-out-quint":R6,"in-coast-quint":G6,"out-coast-quint":V6,"in-out-coast-quint":H6,"in-sine":L2,"out-sine":XO,"in-out-sine":L6,"in-expo":k2,"out-expo":I2,"in-out-expo":k6,"in-circ":N2,"out-circ":KO,"in-out-circ":I6,"quad-in":T_,"quad-out":O2,"quad-in-out":O6,"quad-in-coast":N6,"quad-out-coast":D6,"quad-in-out-coast":D2,"cubic-in":P2,"cubic-out":ZO,"cubic-in-out":P6,"cubic-in-coast":j6,"cubic-out-coast":z6,"cubic-in-out-coast":U6,"quart-in":A2,"quart-out":YO,"quart-in-out":A6,"quart-in-coast":F6,"quart-out-coast":B6,"quart-in-out-coast":q6,"quint-in":R2,"quint-out":JO,"quint-in-out":R6,"quint-in-coast":G6,"quint-out-coast":V6,"quint-in-out-coast":H6,"sine-in":L2,"sine-out":XO,"sine-in-out":L6,"expo-in":k2,"expo-out":I2,"expo-in-out":k6,"circ-in":N2,"circ-out":KO,"circ-in-out":I6,ease:e=>zo.ease(e),"ease-in":e=>zo.easeIn(e),"ease-out":e=>zo.easeOut(e),"ease-in-out":e=>zo.easeInOut(e)};let z_e=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const j2={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},cV={maxDuration:4e3};let U_e=class hV{constructor(t){this._createCamera=t,this.compared=new z_e,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:j2.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new hV(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,i,r){this.source!==t&&this.source.copyFrom(t),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??j2.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const i=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Is()}get hasFov(){return Math.abs(this.compared.fov)>Is()}get hasRotate(){return this.compared.rotate>Is()}},F_e=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},B_e=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,i)=>t+i.time,0)}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),t*=this.time;let r=0,n=0;const s=this.definition,a=this.segments.reduce((u,h)=>u||h.definition.hasZoom,!1);for(let u=0;u<this.segments.length;u++){const h=this.segments[u],f=h.definition;if(t<=h.time||u===this.segments.length-1){if(this.segmentInterpolateComponentsAt(h,h.time===0?0:t/h.time,i),s.hasPan&&!isNaN(i.pan)&&isFinite(s.compared.pan)?i.pan=(r+f.compared.pan*i.pan)/s.compared.pan:i.pan=1,s.hasRotate&&!isNaN(i.rotate)&&isFinite(s.compared.rotate)?i.rotate=(n+f.compared.rotate*i.rotate)/s.compared.rotate:i.rotate=1,a&&!isNaN(i.zoom)&&isFinite(f.compared.targetZoom)){const{sourceZoom:v,targetZoom:w}=f.compared,x=i.zoom*(w-v)+v,M=this.segments[0].definition.compared.sourceZoom,P=this.segments[this.segments.length-1].definition.compared.targetZoom,O=Math.abs(w-M)>Math.abs(v-M)?w:v;i.zoomOffset=O-P,i.zoom=(x-M)/(O-M)}else i.zoom=1;return i}t-=h.time,r+=f.compared.pan,n+=f.compared.rotate}}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r)}},v3=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,r=i.sourceZoom,n=i.targetZoom;this._zoomSign=r>n?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(r);const s=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*s}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:n,hasRotate:s}=this.definition;let a=0,u=0;r&&(n&&(a=(i/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(u=this._zoomSign*(Math.log(t/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const h=this.definition.desiredPixelFlow;if(r&&n&&s){const f=a+u+a*u;this._zoomPixelFlow=a*u/f*h,this._panPixelFlow=u/f*h,this._rotatePixelFlow=a/f*h}else if(r&&n){const f=1+a;this._zoomPixelFlow=a/f*h,this._panPixelFlow=1/f*h}else if(r&&s){const f=1+u;this._zoomPixelFlow=u/f*h,this._rotatePixelFlow=1/f*h}else if(n&&s){const f=this._panPixelsAtSource/this._rotatePixels,v=1+f;this._panPixelFlow=f/v*h,this._rotatePixelFlow=1/v*h}else n?this._panPixelFlow=h:r?this._zoomPixelFlow=h:s&&(this._rotatePixelFlow=h);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const f=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=f,this._panPixelFlow/=f,this._rotatePixelFlow/=f}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/q_e:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=t*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-t-i)/(r-i)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+t*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),i.zoom=this._interpolateComponentsZoom(t),i.pan=this._interpolateComponentsPan(t),i.rotate=this._interpolateComponentsRotate(t),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(t)}};const q_e=Q_(45);function G_e(e,t,i){const r=t-e.compared.sourceZoom,n=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+n)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*n)}function V_e(e,t,i){const r=1/t,n=Math.log(e.compared.sourceZoom*r),s=1/e.desiredPixelFlow,a=1/Math.LN2,u=t-e.compared.sourceZoom,h=1/u,f=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(u))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*s*a*h*f-e.halfWindowSize*n*s*a*h+e.halfWindowSize*n*s*a*f/(u*u)}function H_e(e,t,i){const r=t-e.compared.sourceZoom,n=1/r,s=1/t,a=Math.log(e.compared.sourceZoom*s),u=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*s*u+2*n*a+2*s-2*a*u/(r*r)-u/(t*t))/(e.desiredPixelFlow*Math.LN2)}function W_e(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Z_e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Y_e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function J_e(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function X_e(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function K_e(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function Q_e(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function e1e(e,t,i){const r=Math.log(t/e.compared.targetZoom),n=1/e.desiredPixelFlow,s=1/Math.LN2,a=-t+e.compared.targetZoom,u=1/a,h=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*n*s*u+e.halfWindowSize*r*n*s*h/(a*a)+e.halfWindowSize*n*s*u*h/t}function t1e(e,t,i){const r=t-e.compared.targetZoom,n=1/r,s=1/t,a=Math.log(t/e.compared.targetZoom),u=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*s*u-2*n*a+2*s+2*a*u/(r*r)-u/(t*t))/(e.desiredPixelFlow*Math.LN2)}function i1e(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function r1e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function n1e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function s1e(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,r=t,n=e.halfWindowPanAtZoom(r),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*n);return e.compared.sourceZoom<=e.compared.targetZoom?s*(i-n):s*(i+n)}function o1e(e,t){let i=a1e(e,t);const r={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},n=r.ascensionFactor===0,s=r.descensionFactor===0,a=n?W_e:G_e,u=n?Z_e:V_e,h=n?Y_e:H_e,f=s?i1e:Q_e,v=s?r1e:e1e,w=s?n1e:t1e,x=E=>a(e,E,r)+J_e(e,E,r)+f(e,E,r),M=E=>u(e,E,r)+X_e(e,E,r)+v(e,E,r),P=E=>h(e,E,r)+K_e(e,E,r)+w(e,E,r);let O=x(i);const F=s1e(e);let G;const Y=t.maximumIterations||20,U=t.maximumDistance!=null?t.maximumDistance:1/0;for(G=0;G<Y;G++){const E=t.desiredSlope??1e-6;let A=M(i);Math.abs(A)>E&&(A+=E);const k=A/P(i);if(isNaN(k)||i>=U&&k<0){if(!isFinite(U))return null;i=U,O=x(i);break}if(i-=k,i<=e.compared.sourceZoom||i<=e.compared.targetZoom)return null;const V=x(i);if(Math.abs(V-O)/O<=.005)break;O=V}return isNaN(O)||O>F*(1-.3)||i<=e.compared.sourceZoom||i<=e.compared.targetZoom?null:i}function a1e(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<i?t.maximumDistance!=null?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,r):r}let l1e=class extends B_e{constructor(t,i){super(),this._preallocSegments=[new v3,new v3,new v3],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,i)}update(t,i){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const r=i?.apex?o1e(t,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r),t===this._ascensionSegment?r.zoom=O2(r.zoom):t===this._descensionSegment&&(r.zoom=T_(r.zoom))}_updateWithApex(t,i){const[r,n,s]=this._preallocSegments,a=i?.ascensionFactor??.5,u=Math.min(1-a,i?.ascensionFactor!=null&&i.descensionFactor!=null?i.descensionFactor:.5),h=1-a-u;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=t,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentEnd=a,r.update(),this._ascensionSegment=r,this.segments.push(r),h>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=t,n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*h,n.definition.compared.rotate=this.definition.compared.rotate*h,n.definition.segmentStart=r.definition.segmentEnd,n.definition.segmentEnd=r.definition.segmentEnd+h,n.update(),this.segments.push(n)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=t,s.definition.compared.pan=this.definition.compared.pan*u,s.definition.compared.rotate=this.definition.compared.rotate*u,s.definition.segmentStart=a+h,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const u1e=new F_e;let c1e=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=D2,this.definition=new U_e(t),this.path=new l1e}update(t,i,r){this.definition.update(t,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(uie(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?D2:I2)}cameraAt(t,i){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const r=this.path.interpolateComponentsAt(t,u1e);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(t){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(r-i)}_applyTimeSettings(t,i){const r=i.speedFactor!=null?i.speedFactor:1,n=i.minDuration??j2.minDuration/r,s=i.maxDuration??j2.maxDuration/r;return t=i.duration!=null?i.duration:Math.min(Math.max(t/r,n),s)}};const h1e=2e3,d1e=64;let f1e=class{constructor(t){this._view=t,this._animation=new c1e(()=>new C6(this._view)),this._current=new C6(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,i,r={}){kn(this._current.viewpoint,t),kn(this._source.viewpoint,t),kn(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(t,i){this._animation.cameraAt(i,this._current),kn(t,this._current.viewpoint)}},gm=class extends et{constructor(t){super(t),this._animation=null,this._destinationViewState=new PR,this.updateFunction=null,this.easing=W6.ease,this.viewpoint=new Wo({targetGeometry:new We,scale:0,rotation:0}),this._updateTask=Eg({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new f1e(t.view)}destroy(){this._updateTask=Oi(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,i,r){this.stop();const n=this.viewpoint;kn(n,i);const s=t.target;this._transition.update(this.viewpoint,s,{apex:{maximumDistance:Math.min(Math.min(i.scale,s.scale)*d1e,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r?.duration,maxDuration:r?.animationMode==="auto"?1/0:r?.maxDuration??cV.maxDuration,speedFactor:r?.speedFactor,easing:(typeof r?.easing=="string"?W6[r.easing]:r?.easing)||this.easing}),r?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=s,p1e(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,s,{duration:0}));const a=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const r=new HO({target:t.clone()}),n=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){const i=this.animation;if(i&&i.state!==HO.state.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),this.animation?.update(this.viewpoint);else{const r=performance.now()-this._startTime,n=this._transition.duration,s=n>0?r/n:1,a=s>=1;this._transition.applyRatio(this.viewpoint,s),a&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function p1e(e,t,i,r){if(t?.duration!=null)return!0;const{time:n,isLinear:s}=e,a=t?.speedFactor||1;if(n>(t?.maxDuration??cV.maxDuration/a))return!1;if(s){const h=ir(),f=Br(...r.toScreen(h,...i.center)),v=Br(...i.toScreen(h,...r.center)),w=v!=null&&v.x>-1*i.size[0]&&v.x<(1.5+.5)*i.size[0]&&v.y>-1*i.size[1]&&v.y<(1.5+.5)*i.size[1],x=f!=null&&f.x>-1*r.size[0]&&f.x<(1.5+.5)*r.size[0]&&f.y>-1*r.size[1]&&f.y<(1.5+.5)*r.size[1];if(n>h1e/a&&!w&&!x)return!1}return!0}p([_()],gm.prototype,"easing",void 0),p([_()],gm.prototype,"view",void 0),p([_()],gm.prototype,"viewpoint",void 0),gm=p([ie("esri.views.2d.AnimationManager")],gm);const m1e=gm;function Ri(){return Promise.all([Ne(()=>import("./webglDeps-CefHllqG.js"),__vite__mapDeps([277,204,278,279,280,9,76]),import.meta.url),Ne(()=>import("./mapViewDeps-B63YcBo9.js"),__vite__mapDeps([281,155,36,37,120,121,111,47,9,122,113,114,119,123,107,124,69,282,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,287,125,126,288,66,61,109,59,60,289,34,277,290,138,291,292,173,293,193,194,294,93,105,110,112,104,54,53,295,127,296,118,28,29,30,297,129,134,102,298,299,300,301,200,234,302,303]),import.meta.url)])}const Rv=()=>Ri().then(()=>Ne(()=>import("./TileLayerView2D-BOl-y9CB.js"),__vite__mapDeps([304,119,114,120,121,111,47,9,122,113,123,107,124,69,288,155,36,37,66,61,109,59,60,289,34,286,231,285,106,75,279,280,76,203,204,143,174,177,49,50,290,283,278,195,284,115,138,291,292,173,93,282,108,14,116,128,125,126,193,194,297,105,110,112,104,54,53,129,134,102,305,306,307,301,308,263,309,299,300,310,311,312,234,313,314,315,316,317]),import.meta.url)),bd=()=>Ri().then(()=>Ne(()=>import("./FeatureLayerView2D-Q3PESlQo.js").then(e=>e.F),__vite__mapDeps([318,282,120,121,111,47,9,122,113,114,119,123,107,124,69,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,238,215,186,182,159,146,183,184,185,187,104,145,188,65,112,319,220,320,321,54,64,308,263,300,301,138,94,92,93,95,135,136,129,66,61,248,35,36,37,287,322,208,67,131,237,230,313,316,310,311,317]),import.meta.url)),Z6={"base-dynamic":()=>Ri().then(()=>Ne(()=>import("./BaseDynamicLayerView2D-ONZGRibv.js"),__vite__mapDeps([323,324,285,106,107,75,279,280,9,76,203,204,143,286,231,174,177,49,47,50,306,283,278,195,307,308,263,325,310,311]),import.meta.url)),"base-tile":Rv,"bing-maps":Rv,catalog:()=>Ri().then(()=>Ne(()=>import("./CatalogLayerView2D-C5Q1uKqF.js"),__vite__mapDeps([326,308,286,231,263,310]),import.meta.url)),"catalog-dynamic-group":()=>Ri().then(()=>Ne(()=>import("./CatalogDynamicGroupLayerView2D-DDC4z21m.js"),__vite__mapDeps([327,308,286,231,263,310]),import.meta.url)),"catalog-footprint":()=>Ri().then(()=>Ne(()=>import("./CatalogFootprintLayerView2D-D-mPQoQN.js"),__vite__mapDeps([328,318,282,120,121,111,47,9,122,113,114,119,123,107,124,69,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,238,215,186,182,159,146,183,184,185,187,104,145,188,65,112,319,220,320,321,54,64,308,263,300,301,138,94,92,93,95,135,136,129,66,61,248,35,36,37,287,322,208,67,131,237,230,313,316,310,311,317]),import.meta.url)),csv:bd,"geo-rss":()=>Ri().then(()=>Ne(()=>import("./GeoRSSLayerView2D-8xM9jX9s.js"),__vite__mapDeps([329,226,186,182,159,146,183,14,184,185,124,69,179,180,181,145,7,8,117,66,61,109,59,60,113,114,35,36,37,187,104,188,220,308,286,231,263,298,299,300,9,108,106,107,75,278,204,301,285,279,280,76,203,143,174,177,49,47,50,282,120,121,111,122,119,123,283,195,284,115,116,128,297,288,155,289,34,105,110,112,54,53,129,134,102,310]),import.meta.url)),feature:bd,geojson:bd,parquet:bd,graphics:()=>Ri().then(()=>Ne(()=>import("./GraphicsLayerView2D-DtTNkGa3.js"),__vite__mapDeps([330,308,286,231,263,298,299,300,9,108,106,107,75,278,204,301,285,279,280,76,203,143,174,177,49,47,50,282,120,121,111,122,113,114,119,123,124,69,283,195,284,115,14,116,128,297,66,61,288,155,36,37,109,59,60,289,34,105,110,112,104,54,53,129,134,102,310,317]),import.meta.url)),group:()=>Ri().then(()=>Ne(()=>import("./GroupLayerView2D-CnBIctPl.js"),__vite__mapDeps([331,308,286,231,263,310]),import.meta.url)),imagery:()=>Ri().then(()=>Ne(()=>import("./ImageryLayerView2D-D9jM-IDD.js"),__vite__mapDeps([332,333,280,9,76,203,204,75,161,285,106,107,279,143,286,231,174,177,49,47,50,154,152,308,263,297,66,61,120,121,111,122,113,114,119,123,124,69,288,155,36,37,109,59,60,289,34,105,108,110,112,104,115,54,53,282,283,278,195,284,14,116,128,129,134,102,309,299,300,301,324,306,307,325,158,273,319,316,310,311,317]),import.meta.url)),"imagery-tile":()=>Ri().then(()=>Ne(()=>import("./ImageryTileLayerView2D-COn1eWAR.js"),__vite__mapDeps([334,335,333,280,9,76,203,204,75,161,285,106,107,279,143,286,231,174,177,49,47,50,154,152,308,263,157,336,301,283,278,195,296,284,115,307,337,158,317,273,319,316,310,311]),import.meta.url)),kml:()=>Ri().then(()=>Ne(()=>import("./KMLLayerView2D-BB805aI0.js"),__vite__mapDeps([338,339,179,180,181,182,159,146,183,14,184,185,124,69,145,7,8,117,66,61,109,59,60,113,114,35,36,37,186,187,104,188,220,306,286,231,283,204,278,279,195,307,324,285,106,107,75,280,9,76,203,143,174,177,49,47,50,308,263,298,299,300,108,301,282,120,121,111,122,119,123,284,115,116,128,297,288,155,289,34,105,110,112,54,53,129,134,102,310,28,29,30,158,293,277,193,194,291,336]),import.meta.url)),"knowledge-graph":()=>Ri().then(()=>Ne(()=>import("./KnowledgeGraphLayerView2D-BY1YEZZV.js"),__vite__mapDeps([340,308,286,231,263,310]),import.meta.url)),"link-chart":()=>Ri().then(()=>Ne(()=>import("./KnowledgeGraphLayerView2D-BY1YEZZV.js"),__vite__mapDeps([340,308,286,231,263,310]),import.meta.url)),"knowledge-graph-sublayer":bd,"map-image":()=>Ri().then(()=>Ne(()=>import("./MapImageLayerView2D-CSEKSE46.js"),__vite__mapDeps([341,324,285,106,107,75,279,280,9,76,203,204,143,286,231,174,177,49,47,50,306,283,278,195,307,308,263,297,66,61,120,121,111,122,113,114,119,123,124,69,288,155,36,37,109,59,60,289,34,105,108,110,112,104,115,54,53,282,284,14,116,128,129,134,102,309,299,300,301,325,310,342,234,313,315,319,311,312,314,316,317]),import.meta.url)),"map-notes":()=>Ri().then(()=>Ne(()=>import("./MapNotesLayerView2D-DNG15oon.js"),__vite__mapDeps([343,308,286,231,263,298,299,300,9,108,106,107,75,278,204,301,285,279,280,76,203,143,174,177,49,47,50,282,120,121,111,122,113,114,119,123,124,69,283,195,284,115,14,116,128,297,66,61,288,155,36,37,109,59,60,289,34,105,110,112,104,54,53,129,134,102,310,317]),import.meta.url)),media:()=>Ri().then(()=>Ne(()=>import("./MediaLayerView2D-DlMbbEXH.js"),__vite__mapDeps([344,345,134,186,182,159,146,183,14,184,185,124,69,119,114,120,121,111,47,9,122,113,123,107,288,155,36,37,66,61,109,59,60,289,34,286,231,285,106,75,279,280,76,203,204,143,174,177,49,50,290,283,278,195,284,115,138,291,292,173,93,282,108,116,128,125,126,193,194,297,105,110,112,104,54,53,129,102,295,127,346,296,308,263,310]),import.meta.url)),"ogc-feature":()=>Ri().then(()=>Ne(()=>import("./OGCFeatureLayerView2D-l1YLDqjK.js"),__vite__mapDeps([347,318,282,120,121,111,47,9,122,113,114,119,123,107,124,69,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,238,215,186,182,159,146,183,184,185,187,104,145,188,65,112,319,220,320,321,54,64,308,263,300,301,138,94,92,93,95,135,136,129,66,61,248,35,36,37,287,322,208,67,131,237,230,313,316,310,311,317]),import.meta.url)),"open-street-map":Rv,"oriented-imagery":bd,route:()=>Ri().then(()=>Ne(()=>import("./RouteLayerView2D-CZnfA7uj.js"),__vite__mapDeps([348,349,350,308,286,231,263,298,299,300,9,108,106,107,75,278,204,301,285,279,280,76,203,143,174,177,49,47,50,282,120,121,111,122,113,114,119,123,124,69,283,195,284,115,14,116,128,297,66,61,288,155,36,37,109,59,60,289,34,105,110,112,104,54,53,129,134,102,310,317]),import.meta.url)),stream:()=>Ri().then(()=>Ne(()=>import("./StreamLayerView2D-9nYX2qL7.js"),__vite__mapDeps([351,220,318,282,120,121,111,47,9,122,113,114,119,123,107,124,69,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,238,215,186,182,159,146,183,184,185,187,104,145,188,65,112,319,320,321,54,64,308,263,300,301,138,94,92,93,95,135,136,129,66,61,248,35,36,37,287,322,208,67,131,237,230,313,316,310,311,317]),import.meta.url)),"subtype-group":()=>Ri().then(()=>Ne(()=>import("./SubtypeGroupLayerView2D-BU7mbuPL.js"),__vite__mapDeps([352,318,282,120,121,111,47,9,122,113,114,119,123,107,124,69,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,238,215,186,182,159,146,183,184,185,187,104,145,188,65,112,319,220,320,321,54,64,308,263,300,301,138,94,92,93,95,135,136,129,66,61,248,35,36,37,287,322,208,67,131,237,230,313,316,310,311,317]),import.meta.url)),tile:Rv,"vector-tile":()=>Ri().then(()=>Ne(()=>import("./VectorTileLayerView2D-DDUbtF14.js"),__vite__mapDeps([353,104,123,93,9,119,114,7,8,173,292,174,122,204,280,76,203,285,106,107,75,279,143,286,231,177,49,47,50,301,52,226,175,176,155,36,37,308,263,310,311]),import.meta.url)),video:()=>Ri().then(()=>Ne(()=>import("./VideoLayerView2D-VvsURxFK.js"),__vite__mapDeps([354,355,229,12,230,231,250,13,14,356,218,113,114,217,7,8,346,143,285,106,107,75,279,280,9,76,203,204,286,174,177,49,47,50,282,120,121,111,122,119,123,124,69,283,278,195,108,284,115,116,128,296,357,308,263,298,299,300,301,297,66,61,288,155,36,37,109,59,60,289,34,105,110,112,104,54,53,129,134,102,310]),import.meta.url)),wcs:()=>Ri().then(()=>Ne(()=>import("./ImageryTileLayerView2D-COn1eWAR.js"),__vite__mapDeps([334,335,333,280,9,76,203,204,75,161,285,106,107,279,143,286,231,174,177,49,47,50,154,152,308,263,157,336,301,283,278,195,296,284,115,307,337,158,317,273,319,316,310,311]),import.meta.url)),"web-tile":Rv,wfs:bd,wms:()=>Ri().then(()=>Ne(()=>import("./WMSLayerView2D-Ehz-2ipL.js"),__vite__mapDeps([358,324,285,106,107,75,279,280,9,76,203,204,143,286,231,174,177,49,47,50,306,283,278,195,307,308,263,325,310,311,359,319]),import.meta.url)),wmts:()=>Ri().then(()=>Ne(()=>import("./WMTSLayerView2D-CmUYZK7j.js"),__vite__mapDeps([360,305,306,286,231,283,204,278,279,195,307,285,106,107,75,280,9,76,203,143,174,177,49,47,50,301,308,263,310,311]),import.meta.url)),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function g1e(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new $e(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const Y6={hasLayerViewModule:e=>Z6[e.type]!=null,importLayerView:e=>{const t=Z6[e.type];if(t==null)throw g1e(e);return t(e)}};var to;let ly=(to=class{static getId(t,i,r,n){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${r}/${n}`}constructor(t,i,r,n){this.set(t,i,r,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|t<<8|r}acquire(t,i,r,n){this.set(t,i,r,n)}contains(t){const i=t.level-this.level;return i>=0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}containsChild(t){const i=t.level-this.level;return i>0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new to(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,r,n){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,a,u,h]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(a),this.col=parseFloat(u),this.world=parseFloat(h)}else this.level=+t,this.row=+i,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new to(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,i,r){const n=this.clone();return n.col+=t,n.row+=i,r.normalizeKey(n),n}getChildKeys(){const t=this.level+1,i=this.row<<1,r=this.col<<1,n=this.world;return[new to(t,i,r,n),new to(t,i,r+1,n),new to(t,i+1,r,n),new to(t,i+1,r+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}},to.pool=new Jg(()=>new to(""),null,null,25,50),to);function Vp(e,t){return[e,t]}function Sd(e,t,i){return e[0]=t,e[1]=i,e}function y1e(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}const ya=new ly("0/0/0/0");let v1e=class dV{static create(t,i,r=null){const n=ns(t.spatialReference),s=i.origin||Vp(t.origin.x,t.origin.y),a=Vp(t.size[0]*i.resolution,t.size[1]*i.resolution),u=Vp(-1/0,-1/0),h=Vp(1/0,1/0),f=Vp(1/0,1/0);r!=null&&(Sd(u,Math.max(0,Math.floor((r.xmin-s[0])/a[0])),Math.max(0,Math.floor((s[1]-r.ymax)/a[1]))),Sd(h,Math.max(0,Math.floor((r.xmax-s[0])/a[0])),Math.max(0,Math.floor((s[1]-r.ymin)/a[1]))),Sd(f,h[0]-u[0]+1,h[1]-u[1]+1));const{cols:v,rows:w}=i;let x,M,P,O;return!r&&v&&w&&(Sd(u,v[0],w[0]),Sd(h,v[1],w[1]),Sd(f,v[1]-v[0]+1,w[1]-w[0]+1)),t.isWrappable?(x=Vp(Math.ceil(Math.round((n.valid[1]-n.valid[0])/i.resolution)/t.size[0]),f[1]),M=!0,P=n.origin,O=n.valid):(x=f,M=!1),new dV(i.level,i.resolution,i.scale,s,u,h,f,a,x,M,P,O)}constructor(t,i,r,n,s,a,u,h,f,v,w,x){this.level=t,this.resolution=i,this.scale=r,this.origin=n,this.first=s,this.last=a,this.size=u,this.norm=h,this.worldSize=f,this.wrap=v,this._spatialReferenceOrigin=w,this._spatialReferenceValid=x}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}normalizeKey(t){if(!this.wrap)return;const i=this.worldSize[0],r=t.col;r<0?(t.col=r+i,t.world-=1):r>=i&&(t.col=r-i,t.world+=1)}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const i=this.origin[0]+t*this.norm[0],r=this._spatialReferenceOrigin,n=this._spatialReferenceValid;return this.wrap&&r&&n?i===r[0]?n[0]:this.origin[0]===r[0]&&t===this.worldSize[0]?n[1]:i:i}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,r=!1){ya.set(i);const n=r?ya.col:this.denormalizeCol(ya.col,ya.world),s=ya.row;return y1e(t,this.getXForColumn(n),this.getYForRow(s+1),this.getXForColumn(n+1),this.getYForRow(s)),t}getTileCoords(t,i,r=!1){ya.set(i);const n=r?ya.col:this.denormalizeCol(ya.col,ya.world);return Array.isArray(t)?Sd(t,this.getXForColumn(n),this.getYForRow(ya.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(ya.row)),t}};var bf;let LR=(bf=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:i,colFrom:r,colTo:n}of this.spans)for(let s=r;s<=n;s++){const a=t.getWorldForColumn(s);yield new ly(t.level,i,t.normalizeCol(s),a)}}forEach(t,i){const{spans:r,lodInfo:n}=this,{level:s}=n;if(r.length!==0)for(const{row:a,colFrom:u,colTo:h}of r)for(let f=u;f<=h;f++)t.call(i,s,a,n.normalizeCol(f),n.getWorldForColumn(f))}},bf.pool=new Jg(()=>new bf),bf),_3=class{constructor(t,i,r){this.row=t,this.colFrom=i,this.colTo=r}};const Ni=new ly("0/0/0/0");let _1e=class fV{static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[r,n]=t,[s,a]=i,u=s-r,h=a-n,f=h!==0?u/h:0,v=(Math.ceil(n)-n)*f,w=(Math.floor(n)-n)*f;return new fV(r,Math.floor(n),Math.ceil(a),f,u<0?v:w,u<0?w:v,u<0?s:r,u<0?r:s)}constructor(t,i,r,n,s,a,u,h){this.x=t,this.ymin=i,this.ymax=r,this.invM=n,this.leftAdjust=s,this.rightAdjust=a,this.leftBound=u,this.rightBound=h}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Ws=[[0,0],[0,0],[0,0],[0,0]],w1e=1e-6;let b1e=class{constructor(t,i=null,r=t.lods[0].level,n=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(u=>u.level>=r&&u.level<=n);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const a=this._lodInfos=s.map(u=>v1e.create(t,u,i));s.forEach((u,h)=>{this._infoByLevel[u.level]=a[h],this._infoByScale[u.scale]=a[h],this.scales[h]=u.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,r=!1){Ni.set(i);const n=this._infoByLevel[Ni.level];return n?n.getTileBounds(t,Ni,r):t}getTileCoords(t,i,r=!1){Ni.set(i);const n=this._infoByLevel[Ni.level];return n?n.getTileCoords(t,Ni,r):t}getTileCoverage(t,i=192,r=!0,n="closest"){if(!r&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=LR.pool.acquire(s),u=this._wrap;let h,f,v,w=1/0,x=-1/0;const M=a.spans;Ws[0][0]=Ws[0][1]=Ws[1][1]=Ws[3][0]=-i,Ws[1][0]=Ws[2][0]=t.size[0]+i,Ws[2][1]=Ws[3][1]=t.size[1]+i;for(const G of Ws)t.toMap(G,G),G[0]=s.getColumnForX(G[0]),G[1]=s.getRowForY(G[1]);const P=[];let O=3;for(let G=0;G<4;G++){if(Ws[G][1]===Ws[O][1]){O=G;continue}const Y=_1e.create(Ws[G],Ws[O]);w=Math.min(Y.ymin,w),x=Math.max(Y.ymax,x),P[Y.ymin]===void 0&&(P[Y.ymin]=[]),P[Y.ymin].push(Y),O=G}if(w==null||x==null||x-w>100)return null;let F=[];for(h=w;h<x;){P[h]!=null&&(F=F.concat(P[h])),f=1/0,v=-1/0;for(let G=F.length-1;G>=0;G--){const Y=F[G];f=Math.min(f,Y.getLeftCol()),v=Math.max(v,Y.getRightCol())}if(f=Math.floor(f),v=Math.floor(v),h>=s.first[1]&&h<=s.last[1])if(u)if(s.size[0]<s.worldSize[0]){const G=Math.floor(v/s.worldSize[0]);for(let Y=Math.floor(f/s.worldSize[0]);Y<=G;Y++)M.push(new _3(h,Math.max(s.getFirstColumnForWorld(Y),f),Math.min(s.getLastColumnForWorld(Y),v)))}else M.push(new _3(h,f,v));else f>s.last[0]||v<s.first[0]||(f=Math.max(f,s.first[0]),v=Math.min(v,s.last[0]),M.push(new _3(h,f,v)));h+=1;for(let G=F.length-1;G>=0;G--){const Y=F[G];Y.ymax>=h?Y.incrRow():F.splice(G,1)}}return a}getTileParentId(t){Ni.set(t);const i=this._infoByLevel[Ni.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(Ni,this._lodInfos[r],Ni),Ni.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){Ni.set(i);const r=this._infoByLevel[Ni.level],n=t.lodInfo;if(n.resolution>r.resolution){this._getTileIdAtLOD(Ni,n,Ni);const a=n.denormalizeCol(Ni.col,Ni.world);for(const u of t.spans)if(u.row===Ni.row&&u.colFrom<=a&&u.colTo>=a)return!0}if(n.resolution<r.resolution){const[a,u,h,f]=t.spans.reduce((O,F)=>(O[0]=Math.min(O[0],F.row),O[1]=Math.max(O[1],F.row),O[2]=Math.min(O[2],F.colFrom),O[3]=Math.max(O[3],F.colTo),O),[1/0,-1/0,1/0,-1/0]),v=r.denormalizeCol(Ni.col,Ni.world),w=n.getColumnForX(r.getXForColumn(v)),x=n.getRowForY(r.getYForRow(Ni.row)),M=n.getColumnForX(r.getXForColumn(v+1))-1,P=n.getRowForY(r.getYForRow(Ni.row+1))-1;return!(w>f||M<h||x>u||P<a)}const s=n.denormalizeCol(Ni.col,Ni.world);return t.spans.some(a=>a.row===Ni.row&&a.colFrom<=s&&a.colTo>=s)}normalizeBounds(t,i,r){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const n=ns(this.tileInfo.spatialReference),s=-r*(n.valid[1]-n.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(t>i[r]+w1e)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((r,n)=>Math.abs(n-t)<Math.abs(r-t)?n:r,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let r=i.length-1;r>=0;r--)if(t<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-t)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,i,r){const n=this._infoByLevel[r.level];return t.set(r),i.resolution<n.resolution?null:(i.resolution===n.resolution||(t.level=i.level,t.col=Math.floor(r.col*n.resolution/i.resolution+.01),t.row=Math.floor(r.row*n.resolution/i.resolution+.01)),t)}},S1e=class{constructor(t,i){this.item=t,this.controller=i,this.promise=null}},x1e=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new Km,this._controllers=new Km,this._processingItems=new Km,this._pausedSignal=zg(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new m_(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&i&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=Oi(this._schedule),this._task=Oi(this._task)}get updating(){return!!this._task?.updating||this.readyToRun}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,r)=>t(r))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,i){const r=this.get(t);if(r)return r;const n=new AbortController;let s=null;i&&(s=Yo(i,()=>n.abort()));const a=()=>{const v=this._processingItems.get(t);v&&v.controller.abort(),u(),f.reject(ai())},u=()=>{h.remove(),s?.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},h=GP(n.signal,a),f=uo();return this._deferreds.set(t,f),this._controllers.set(t,n),f.promise.then(u,u),this._queue.push(t),this._scheduleNext(),f.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){const t=this._queue.popLast();return t&&(this._deferreds.get(t)?.reject(ai()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get readyToRun(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Qg(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let i;const r=new AbortController,n=new S1e(t,r);this._processingItems.set(t,n);try{i=this.process(t,r.signal)}catch(s){this._processError(n,s)}Nn(i)?(n.promise=i,i.then(s=>this._processResult(n,s),s=>this._processError(n,s))):this._processResult(n,i)}get test(){}};const J6=[0,0];let mu=class extends et{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:i,scheduler:r,priority:n}=this;this._queue=new x1e({concurrency:t,scheduler:r,priority:n,process:(s,a)=>{const u=this._keyToItem.get(s);return i(u,{signal:a})},peeker:s=>this._peek(s)})}destroy(){this.clear(),this._queue=er(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const i=t.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),n=this.tileInfoView.getTileScale(t.key),s=U_(this._tilesByScale,n,()=>new Set),a=()=>{s.delete(t.key),s.size===0&&this._tilesByScale.delete(n),this._keyToItem.delete(i)};return s.add(t.key),this._keyToItem.set(i,t),r.then(a,a),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const i=new Set;for(const a of t)i.add(this._keyToItem.get(a).key);const r=this.state.scale;let n,s=Number.POSITIVE_INFINITY;for(const[a,u]of this._tilesByScale)if(d9(u,h=>i.has(h))){const h=Math.abs(a-r);h<s&&(n=u,s=h)}return this._getClosestTileKey(n,t).id}_getClosestTileKey(t,i){const r=this.tileInfoView,n=this.state.center;let s,a=Number.POSITIVE_INFINITY;for(const u of t)if(i.has(u.id)){r.getTileCoords(J6,u);const h=Nx(J6,n);h<a&&(a=h,s=u)}return s}};p([_({constructOnly:!0})],mu.prototype,"concurrency",void 0),p([_({constructOnly:!0})],mu.prototype,"priority",void 0),p([_({constructOnly:!0})],mu.prototype,"process",void 0),p([_({constructOnly:!0})],mu.prototype,"scheduler",void 0),p([_()],mu.prototype,"state",void 0),p([_({constructOnly:!0})],mu.prototype,"tileInfoView",void 0),mu=p([ie("esri.views.2d.tiling.TileQueue")],mu);const XPe=mu;let T1e=class{constructor(t,i,r){this.maxSize=t,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return;const r=i.key.level,n=this._tileKeysPerLevel[r];X6(this._tilePerId,t);for(let s=0;s<n.length;s++)if(n[s].id===t){n.splice(s,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,t);const n=i.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(i)}prune(t,i,r){let n=this._tilePerId.size;if(n<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&s>=0;)s!==t&&(n=this._pruneAroundCenterTile(n,i,r,s)),s--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,i,r,t))}_pruneAroundCenterTile(t,i,r,n){const s=this._tileKeysPerLevel[n];if(!s||s.length===0)return t;const{size:a,origin:u}=this._tileInfoView.tileInfo,h=r*a[0],f=r*a[1],v=[0,0],w=[0,0];for(s.sort((x,M)=>(v[0]=u.x+h*(x.col+.5),v[1]=u.y-f*(x.row+.5),w[0]=u.x+h*(M.col+.5),w[1]=u.y-f*(M.row+.5),u_(v,i)-u_(w,i)));s.length>0;){const x=s.pop();if(this._removeTile(x.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this._removedFunc&&i&&this._removedFunc(i),X6(this._tilePerId,t)}};function X6(e,t){e.delete(t)}const xd=new ly(0,0,0,0),tu=new Map,Lv=[],w3=[];let QPe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new T1e(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:i,tileIndex:r}=this,{scale:n,center:s,resolution:a}=t.state,{minScale:u,maxScale:h}=this.tileInfoView,f=!t.stationary&&n>this._previousScale;if(this._previousScale=n,!i&&(n>u||n<h))return this.tiles.length=0,void this.clear();const v=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!v)return this.tiles.length=0,void this.clear();const{spans:w,lodInfo:x}=v,{level:M}=x;this.tiles.length=0,r.forEach(G=>G.visible=!0);let P=0,O=0;if(w.length>0)for(const{row:G,colFrom:Y,colTo:U}of w)for(let C=Y;C<=U;C++){P++;const E=xd.set(M,G,x.normalizeCol(C),x.getWorldForColumn(C)).id;let A=r.get(E);if(A)A.isReady?(tu.set(E,A),O++):f||this._addParentTile(E,tu);else{if(this._tileCache?.has(E)){if(A=this._tileCache.pop(E),this.tileIndex.set(E,A),A.isReady){tu.set(E,A),O++;continue}}else A=this.acquireTile(xd),this.tileIndex.set(E,A);f||this._addParentTile(E,tu)}}const F=O===P;for(const[G,Y]of r){if(tu.has(G))continue;xd.set(G);const U=this.tileInfoView.intersects(v,xd),C=this.cachePolicy==="purge"?xd.level!==M:xd.level>M;!U||!f&&F?!C&&U||Lv.push(Y):Y.isReady?C&&this.cachePolicy==="purge"&&this._hasReadyAncestor(xd,M)?Lv.push(Y):w3.push(Y):C&&Lv.push(Y)}for(const G of w3)G.isReady&&tu.set(G.key.id,G);for(const G of Lv)this._tileCache?this._tileCache.add(G):this.releaseTile(G),r.delete(G.key.id);for(const G of tu.values())this.tiles.push(G);for(const G of r.values())tu.has(G.key.id)||(G.visible=!1);this._tileCache?.prune(M,s,a),LR.pool.release(v),w3.length=0,Lv.length=0,tu.clear()}clear(){const{tileIndex:t}=this;for(const i of t.values())this.releaseTile(i);t.clear()}refresh(t){for(const i of this.tileIndex.values())t(i);this._tileCache?.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){let r=t,n=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(n=this.tileIndex.get(r),n?.isReady){i.has(n.key.id)||i.set(n.key.id,n);break}}else if(this._tileCache?.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n?.isReady)){i.has(n.key.id)||i.set(n.key.id,n);break}}_hasReadyAncestor(t,i){const r=Ls();this.tileInfoView.getTileBounds(r,t,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=i&&n.key.level<t.level){const s=Ls();if(this.tileInfoView.getTileBounds(s,n.key,!0),Yle(s,r))return!0}return!1}};const M1e={"area-measurement":null,dimension:null,"direct-line-measurement":null,"elevation-profile":()=>Ne(()=>import("./ElevationProfileAnalysisView2D-BzUu9nvz.js"),__vite__mapDeps([361,155,36,37,211,355,229,12,230,231,250,13,14,362,303,363,364,365,366,367,368,30,369,370,371,372,373,141,142,7,8,374,375,376,27,377,378,168,86,149,150,164,213,84,379,133,177,192,163]),import.meta.url),"line-of-sight":null,slice:null,viewshed:null,"volume-measurement":null};function E1e(e){const t=M1e[e.type];if(!t)throw new $e("analysis-view-module-import-utils:analysis-not-supported",`Analysis "${e.type}" is not supported`);return t()}let $1e=class{constructor(t,i={}){this.events=new _re,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,t!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),t.contains(this._canvas)||t.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const r={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let n=this._canvas.getContext("webgl2",r);n||(n=this._canvas.getContext("webgl2",{...r,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=n,this._handles=Ff([Zg(this._canvas,"webglcontextlost",s=>this.events.emit("webgl-context-lost",s))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(t,i){if(this._hasMajorPerformanceCaveat||pe("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=pe("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=t.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[r,n,s,a,u,h]=this._computeViewTransform(this._lastRenderViewState,t.state);this._canvas.style.transform=`matrix(${r}, ${n}, ${s}, ${a}, ${u}, ${h})`}}else i()}resize(t){const i=this._canvas,r=i.style,{state:{size:n},pixelRatio:s}=t,a=n[0],u=n[1],h=Math.round(a*s),f=Math.round(u*s);i.width===h&&i.height===f||(i.width=h,i.height=f),r.width=a+"px",r.height=u+"px"}_computeViewTransform(t,i){const[r,n]=t.center,[s,a]=i.center,[u,h]=t.toScreen([0,0],s,a),[f,v]=t.toScreen([0,0],r,n),w=f-u,x=v-h,M=t.scale/i.scale,P=i.rotation-t.rotation,O=vl();return wG(O),Yx(O,O,[M,M]),f1(O,O,Q_(P)),Ug(O,O,[w,x]),O}};function C1e(e,t,i,r,n){pV(e,t,i||0,r||e.length-1,n||O1e)}function pV(e,t,i,r,n){for(;r>i;){if(r-i>600){var s=r-i+1,a=t-i+1,u=Math.log(s),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(s-h)/s)*(a-s/2<0?-1:1);pV(e,t,Math.max(i,Math.floor(t-a*h/s+f)),Math.min(r,Math.floor(t+(s-a)*h/s+f)),n)}var v=e[t],w=i,x=r;for(kv(e,i,t),n(e[r],v)>0&&kv(e,i,r);w<x;){for(kv(e,w,x),w++,x--;n(e[w],v)<0;)w++;for(;n(e[x],v)>0;)x--}n(e[i],v)===0?kv(e,i,x):kv(e,++x,r),x<=t&&(i=x+1),t<=x&&(r=x-1)}}function kv(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function O1e(e,t){return e<t?-1:e>t?1:0}function z2(e,t){if(!(this instanceof z2))return new z2(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function P1e(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function Hp(e,t){_0(e,0,e.children.length,t,e)}function _0(e,t,i,r,n){n||(n=ym(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,a=t;a<i;a++)s=e.children[a],w0(n,e.leaf?r(s):s);return n}function w0(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function K6(e,t){return e.minX-t.minX}function Q6(e,t){return e.minY-t.minY}function b3(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function vb(e){return e.maxX-e.minX+(e.maxY-e.minY)}function A1e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function R1e(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function S3(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function _b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function ym(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ej(e,t,i,r,n){for(var s,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=r||(s=t+Math.ceil((i-t)/r/2)*r,C1e(e,s,t,i,n),a.push(t,s,s,i))}z2.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!_b(e,t))return i;for(var n,s,a,u,h=[];t;){for(n=0,s=t.children.length;n<s;n++)a=t.children[n],_b(e,u=t.leaf?r(a):a)&&(t.leaf?i.push(a):S3(e,u)?this._all(a,i):h.push(a));t=h.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!_b(e,t))return!1;for(var r,n,s,a,u=[];t;){for(r=0,n=t.children.length;r<n;r++)if(s=t.children[r],_b(e,a=t.leaf?i(s):s)){if(t.leaf||S3(e,a))return!0;u.push(s)}t=u.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=ym([]),this},remove:function(e,t){if(e==null)return this;for(var i,r,n,s,a=this.data,u=this.toBBox(e),h=[],f=[];a||h.length;){if(a||(a=h.pop(),r=h[h.length-1],i=f.pop(),s=!0),a.leaf&&(n=P1e(e,a.children,t))!==-1)return a.children.splice(n,1),h.push(a),this._condense(h),this;s||a.leaf||!S3(a,u)?r?(i++,a=r.children[i],s=!1):a=null:(h.push(a),f.push(i),i=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:K6,compareMinY:Q6,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var n,s=i-t+1,a=this._maxEntries;if(s<=a)return Hp(n=ym(e.slice(t,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(n=ym([])).leaf=!1,n.height=r;var u,h,f,v,w=Math.ceil(s/a),x=w*Math.ceil(Math.sqrt(a));for(ej(e,t,i,x,this.compareMinX),u=t;u<=i;u+=x)for(ej(e,u,f=Math.min(u+x-1,i),w,this.compareMinY),h=u;h<=f;h+=w)v=Math.min(h+w-1,f),n.children.push(this._build(e,h,v,r-1));return Hp(n,this.toBBox),n},_chooseSubtree:function(e,t,i,r){for(var n,s,a,u,h,f,v,w;r.push(t),!t.leaf&&r.length-1!==i;){for(v=w=1/0,n=0,s=t.children.length;n<s;n++)h=b3(a=t.children[n]),(f=A1e(e,a)-h)<w?(w=f,v=h<v?h:v,u=a):f===w&&h<v&&(v=h,u=a);t=u||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,n=i?e:r(e),s=[],a=this._chooseSubtree(n,this.data,t,s);for(a.children.push(e),w0(a,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)},_split:function(e,t){var i=e[t],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),a=ym(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,Hp(i,this.toBBox),Hp(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=ym([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Hp(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,n,s,a,u,h,f,v;for(h=f=1/0,r=t;r<=i-t;r++)a=R1e(n=_0(e,0,r,this.toBBox),s=_0(e,r,i,this.toBBox)),u=b3(n)+b3(s),a<h?(h=a,v=r,f=u<f?u:f):a===h&&u<f&&(f=u,v=r);return v},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:K6,n=e.leaf?this.compareMinY:Q6;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,n)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var n,s,a=this.toBBox,u=_0(e,0,t,a),h=_0(e,i-t,i,a),f=vb(u)+vb(h);for(n=t;n<i-t;n++)s=e.children[n],w0(u,e.leaf?a(s):s),f+=vb(u);for(n=i-t-1;n>=t;n--)s=e.children[n],w0(h,e.leaf?a(s):s),f+=vb(h);return f},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)w0(t[r],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():Hp(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function L1e(e,{timeZone:t,timeExtent:i}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:i?.start,currentEnd:i?.end}}}}let tj=class mV{constructor(t,i){this.key=new ly(0,0,0,0),this.bounds=Ls(),this.objectIds=new Set,this.key.set(i);const r=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=t.zoomToScale(r.level-1),this.maxScale=t.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Hle(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return L1e(this.scale,t)}createChildTiles(){const t=this.key.getChildKeys(),i=ts.acquire();for(let r=0;r<t.length;r++)i[r]=new mV(this.tileInfoView,t[r]);return i}getQuantizationParameters(){return Xc.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Td={added:[],removed:[]},x3=new Set,k1e=new ly(0,0,0,0);function I1e(e,t){const i=ns(t);if(!i)return null;const[r,n]=i.valid;return e[2]>n?[Ls([e[0],e[1],n,e[3]]),Ls([r,e[1],r+e[2]-n,e[3]])]:e[0]<r?[Ls([r,e[1],e[2],e[3]]),Ls([n-(r-e[0]),e[1],n,e[3]])]:null}let N1e=class extends A9{constructor(t){super(),this._tiles=new Map,this._index=z2(9,pe("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||UA(t)===0||FA(t)===0)return[];const i=I1e(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const n=new tj(this.tileScheme,r);this._tiles.set(r,n),this._index.insert(n),i.added.push(n)}for(const r of t.removed)if(this.has(r)){const n=this.get(r);this._tiles.delete(r),this._index.remove(n),i.removed.push(n)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:n}=i,{level:s}=n;if(r.length>0)for(const{row:a,colFrom:u,colTo:h}of r)for(let f=u;f<=h;f++){const v=k1e.set(s,a,n.normalizeCol(f),n.getWorldForColumn(f)).id;if(x3.add(v),!this.has(v)){const w=new tj(this.tileScheme,v);this._tiles.set(v,w),this._index.insert(w),this.tiles.push(w),Td.added.push(w)}}for(let a=this.tiles.length-1;a>=0;a--){const u=this.tiles[a];x3.has(u.id)||(this._tiles.delete(u.id),this.tiles.splice(a,1),this._index.remove(u),Td.removed.push(u))}(Td.added.length||Td.removed.length)&&this.emit("update",Td),LR.pool.release(i),x3.clear(),Td.added.length=0,Td.removed.length=0}};const rAe=1e-30,ij=512,wb=16777216,nAe=8,sAe=29,oAe=24,aAe=4,lAe=0,uAe=0,cAe=0,hAe=1,dAe=2,fAe=3,pAe=4,mAe=5,gAe=6,yAe=12,vAe=13,_Ae=5,D1e=6,wAe=5,bAe=6,gV=6,j1e=1<<gV,SAe=j1e<<1,xAe=1.05,TAe=3,MAe=1,EAe=3,$Ae=3,CAe=5,OAe=6,PAe=1.15,z1e=4,AAe=128,U1e=256,RAe=U1e-2*z1e,LAe=2,kAe=128,IAe=1,NAe=10,DAe=1024,jAe=128,zAe=4,UAe=1,FAe=1<<20,BAe=.75,qAe=10,GAe=.75,VAe=256,HAe=32,WAe=512,ZAe=0,YAe=1,F1e=1,JAe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],XAe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Iv=256,B1e=()=>ze.getLogger("esri.views.webgl.checkWebGLError");function yV(e){switch(e.getError()){case e.NO_ERROR:return null;case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const vV=!!pe("enable-feature:webgl-debug");function _V(){return vV}function KAe(){return vV}function Md(e,t=_V()){if(t){const i=yV(e);if(i){const r=new Error().stack;B1e().error(new $e("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}const QAe={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ed={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},it={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},q1e=Object.values(it),U2={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},Z0={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},QO={FLOAT:Ed.FLOAT,UNSIGNED_BYTE:Ed.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:Ed.BYTE,UNSIGNED_SHORT:Ed.UNSIGNED_SHORT,SHORT:Ed.SHORT,UNSIGNED_INT:Ed.UNSIGNED_INT,INT:Ed.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269},eRe=33984,rj={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},tRe=1029,iRe=0,rRe=36064,nRe=36065,sRe=36066,oRe=36067,aRe=33306,lRe=36096,uRe=36128,$n={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497};function cRe(e,t,i,r=0){const n=e.gl;e.bindBuffer(i);for(const s of i.layout){const a=t.get(s.name);if(a==null){console.warn(`There is no location for vertex attribute '${s.name}' defined.`);continue}const u=r*s.stride;if(s.count<=4)n.vertexAttribPointer(a,s.count,s.type,s.normalized,s.stride,s.offset+u),n.enableVertexAttribArray(a),s.divisor>0&&n.vertexAttribDivisor(a,s.divisor);else if(s.count===9)for(let h=0;h<3;h++)n.vertexAttribPointer(a+h,3,s.type,s.normalized,s.stride,s.offset+12*h+u),n.enableVertexAttribArray(a+h),s.divisor>0&&n.vertexAttribDivisor(a+h,s.divisor);else if(s.count===16)for(let h=0;h<4;h++)n.vertexAttribPointer(a+h,4,s.type,s.normalized,s.stride,s.offset+16*h+u),n.enableVertexAttribArray(a+h),s.divisor>0&&n.vertexAttribDivisor(a+h,s.divisor);else console.error("Unsupported vertex attribute element count: "+s.count);if(_V()){const h=yV(e.gl);h&&console.error(`Unable to bind vertex attribute "${s.name}" with baseInstanceOffset ${u}:`,h,s)}}}function hRe(e){switch(e){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function G1e(e){switch(e){case 6406:case 6409:case 6403:case 36244:case it.R8:case it.R8I:case it.R8UI:case it.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case it.RGBA4:case it.R16F:case it.R16I:case it.R16UI:case it.RG8:case it.RG8I:case it.RG8UI:case it.RG8_SNORM:case it.RGB565:case it.RGB5_A1:case Z0.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case it.RGB8:case it.RGB8I:case it.RGB8UI:case it.RGB8_SNORM:case it.SRGB8:case Z0.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case it.RGBA8:case it.R32F:case it.R11F_G11F_B10F:case it.RG16F:case it.R32I:case it.R32UI:case it.RG16I:case it.RG16UI:case it.RGBA8I:case it.RGBA8UI:case it.RGBA8_SNORM:case it.SRGB8_ALPHA8:case it.RGB9_E5:case it.RGB10_A2UI:case it.RGB10_A2:case Z0.DEPTH_COMPONENT32F:case U2.DEPTH24_STENCIL8:return 4;case U2.DEPTH32F_STENCIL8:return 5;case it.RGB16F:case it.RGB16I:case it.RGB16UI:return 6;case it.RG32F:case it.RG32I:case it.RG32UI:case it.RGBA16F:case it.RGBA16I:case it.RGBA16UI:return 8;case it.RGB32F:case it.RGB32I:case it.RGB32UI:return 12;case it.RGBA32F:case it.RGBA32I:case it.RGBA32UI:return 16;case $n.COMPRESSED_RGB_S3TC_DXT1_EXT:case $n.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case $n.COMPRESSED_RGBA_S3TC_DXT3_EXT:case $n.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case $n.COMPRESSED_R11_EAC:case $n.COMPRESSED_SIGNED_R11_EAC:case $n.COMPRESSED_RGB8_ETC2:case $n.COMPRESSED_SRGB8_ETC2:case $n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case $n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case $n.COMPRESSED_RG11_EAC:case $n.COMPRESSED_SIGNED_RG11_EAC:case $n.COMPRESSED_RGBA8_ETC2_EAC:case $n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let wV=class{constructor(t=0,i=t){this.width=t,this.height=i,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=QO.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function V1e(e){return e.width<=0||e.height<=0||e.depth<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:G1e(e.internalFormat))*(e.target===34067?6:1))}const Nv=()=>ze.getLogger("esri/views/webgl/textureUtils");function Dv(e){const{width:t,height:i,depth:r}=e;(t!=null&&t<0||i!=null&&i<0||r!=null&&r<0)&&Nv().error("Negative dimension parameters are not allowed!");const{internalFormat:n}=e;if(n&&(bV(n)||SV(n))){const{linearFilterDepth:s,compareEnabled:a,samplingMode:u,hasMipmap:h}=e;h&&Nv().error("Depth textures cannot have mipmaps"),s?u!==9729&&u!==9728&&Nv().error("Depth textures cannot sample mipmaps"):(u!==9728&&Nv().error("Depth textures without filtering must use NEAREST filtering"),a&&Nv().error("Depth textures without filtering cannot use compare function"))}}function H1e(e){return q1e.includes(e)}function bV(e){return cx(Z0,e)}function SV(e){return cx(U2,e)}function W1e(e){return e!=null&&cx($n,e)}function vm(e){return e!=null&&"type"in e&&e.type==="compressed"}function Z1e(e){return e!=null&&"byteLength"in e}function nj(e){return e!=null&&!vm(e)&&!Z1e(e)}function Wp(e){return e===32879||e===35866}function sj(e,t,i,r=1){let n=Math.max(t,i);return e===32879&&(n=Math.max(n,r)),Math.floor(Math.log2(n))+1}function bb(e){if(e.internalFormat!=null)return e.internalFormat;switch(e.dataType){case QO.FLOAT:switch(e.pixelFormat){case 6408:return it.RGBA32F;case 6407:return it.RGB32F;default:throw new $e("texture:unknown-format","Unable to derive format")}case QO.UNSIGNED_BYTE:switch(e.pixelFormat){case 6408:return it.RGBA8;case 6407:return it.RGB8}}const{pixelFormat:t}=e;return e.internalFormat=t===34041?U2.DEPTH24_STENCIL8:t===6402?Z0.DEPTH_COMPONENT24:t,e.internalFormat}function Y1e(e){let t="width"in e?e.width:e.codedWidth,i="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,i=e.videoHeight),{width:t,height:i,depth:1}}let J1e=class xV extends wV{constructor(t,i){switch(super(),this.context=t,Object.assign(this,i),this.internalFormat){case it.R16F:case it.R32F:case it.R8_SNORM:case it.R8:this.pixelFormat=6403;break;case it.R8I:case it.R8UI:case it.R16I:case it.R16UI:case it.R32I:case it.R32UI:this.pixelFormat=36244}}static validate(t,i){return new xV(t,i)}};const X1e=!!pe("esri-tests-disable-gpu-memory-measurements"),iu=()=>ze.getLogger("esri/views/webgl/Texture");var Rr;let K1e=(Rr=class{constructor(t,i=null,r=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in t)this._descriptor=t,r=i;else{const n=J1e.validate(t,i);if(!n)throw new $e("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=n}this._descriptor.target===34067?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return X1e?0:V1e(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this.hasWebGLTextureObject&&this._descriptor.context?.gl&&(this._descriptor.context.instanceCounter.decrement(rj.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(t,i){const r=this._descriptor;if(r.width!==t||r.height!==i){if(this._wasImmutablyAllocated)throw new $e("texture:immutable-resize","Immutable textures can't be resized!");r.width=t,r.height=i,this._descriptor.target===34067?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.compress=t}disableCompression(){this._descriptor.compress=void 0}setData(t){this.abortCompression(),!vm(t)&&this._descriptor.internalFormat&&cx($n,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(t),!vm(t)&&this._descriptor.compress&&this._compressOnWorker(t)}updateData(t,i,r,n,s,a,u=0){a||iu().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||iu().error("An attempt to update uninitialized texture!");const h=this._descriptor;h.internalFormat=bb(h);const{context:f,pixelFormat:v,dataType:w,target:x,isImmutable:M}=h;if(M&&!this._wasImmutablyAllocated)throw new $e("texture:uninitialized","Cannot update immutable texture before allocation!");const P=f.bindTexture(this,Rr.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+n>h.width||r+s>h.height)&&iu().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:O}=f;u&&(n&&s||iu().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),O.pixelStorei(O.UNPACK_SKIP_ROWS,u)),nj(a)?O.texSubImage2D(x,t,i,r,n,s,v,w,a):vm(a)?O.compressedTexSubImage2D(x,t,i,r,n,s,h.internalFormat,a.levels[t]):O.texSubImage2D(x,t,i,r,n,s,v,w,a),u&&O.pixelStorei(O.UNPACK_SKIP_ROWS,0),f.bindTexture(P,Rr.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,i,r,n,s,a,u,h){h||iu().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||iu().error("An attempt to update an uninitialized texture!");const f=this._descriptor;f.internalFormat=bb(f);const{context:v,pixelFormat:w,dataType:x,isImmutable:M,target:P}=f;if(M&&!this._wasImmutablyAllocated)throw new $e("texture:uninitialized","Cannot update immutable texture before allocation!");Wp(P)||iu().warn("Attempting to set 3D texture data on a non-3D texture");const O=v.bindTexture(this,Rr.TEXTURE_UNIT_FOR_UPDATES);v.setActiveTexture(Rr.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||n<0||i+s>f.width||r+a>f.height||n+u>f.depth)&&iu().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:F}=v;if(vm(h))h=h.levels[t],F.compressedTexSubImage3D(P,t,i,r,n,s,a,u,f.internalFormat,h);else{const G=h;F.texSubImage3D(P,t,i,r,n,s,a,u,w,x,G)}v.bindTexture(O,Rr.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new $e("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,Dv(t)}t.samplingMode===9729?(this._samplingModeDirty=!0,t.samplingMode=9985):t.samplingMode===9728&&(this._samplingModeDirty=!0,t.samplingMode=9984);const i=this._descriptor.context.bindTexture(this,Rr.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Rr.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(i,Rr.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new $e("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,Dv(t)}t.samplingMode===9985?(this._samplingModeDirty=!0,t.samplingMode=9729):t.samplingMode===9984&&(this._samplingModeDirty=!0,t.samplingMode=9728)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,Dv(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(t){t!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=t,this.setSamplingMode(t?9729:9728),Dv(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=Mf(this._compressionAbortController)}_setData(t,i){const r=this._descriptor,n=r.context?.gl;if(!n)return;Md(n),this.hasWebGLTextureObject||(this._glName=n.createTexture(),r.context.instanceCounter.increment(rj.Texture,this)),Dv(r);const s=r.context.bindTexture(this,Rr.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(Rr.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Md(n);const a=i??r.target,u=Wp(a);if(nj(t))this._setDataFromTexImageSource(t,a);else{const{width:h,height:f,depth:v}=r;if(h==null||f==null)throw new $e("texture:missing-size","Width and height must be specified!");if(u&&v==null)throw new $e("texture:missing-depth","Depth must be specified!");if(r.internalFormat=bb(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(a,r.internalFormat,r.hasMipmap,h,f,v),vm(t)){if(!W1e(r.internalFormat))throw new $e("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,r.internalFormat,a)}else this._texImage(a,0,r.internalFormat,h,f,v,t),Md(n),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),Md(n),r.context.bindTexture(s,Rr.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let i=34069;i<=34074;i++)this._setData(t,i)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:n}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,i),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n?1:0)}_setDataFromTexImageSource(t,i){const{gl:r}=this._descriptor.context,n=this._descriptor;n.internalFormat=bb(n);const s=Wp(i),{width:a,height:u,depth:h}=Y1e(t);n.width&&n.height,n.width||(n.width=a),n.height||(n.height=u),s&&n.depth,s&&(n.depth=h),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,n.internalFormat,n.hasMipmap,a,u,h),this._texImage(i,0,n.internalFormat,a,u,h,t),Md(r),n.hasMipmap&&(this.generateMipmap(),Md(r))}_setDataFromCompressedSource(t,i,r){const n=this._descriptor,{width:s,height:a,depth:u}=n,h=t.levels,f=sj(r,s,a,u),v=Math.min(f,h.length)-1;this._descriptor.context.gl.texParameteri(n.target,33085,v),this._forEachMipmapLevel((w,x,M,P)=>{const O=h[Math.min(w,h.length-1)];this._compressedTexImage(r,w,i,x,M,P,O)},v)}_texStorage(t,i,r,n,s,a){const{gl:u}=this._descriptor.context;if(!H1e(i)&&!bV(i)&&!SV(i))throw new $e("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const h=r?sj(t,n,s,a):1;if(Wp(t)){if(a==null)throw new $e("texture:missing-depth","Missing depth dimension for 3D texture upload");u.texStorage3D(t,h,i,n,s,a)}else u.texStorage2D(t,h,i,n,s);this._wasImmutablyAllocated=!0}_texImage(t,i,r,n,s,a,u){const h=this._descriptor.context.gl,f=Wp(t),{isImmutable:v,pixelFormat:w,dataType:x}=this._descriptor;if(v){if(u!=null){const M=u;if(f){if(a==null)throw new $e("texture:missing-depth","Missing depth dimension for 3D texture upload");h.texSubImage3D(t,i,0,0,0,n,s,a,w,x,M)}else h.texSubImage2D(t,i,0,0,n,s,w,x,M)}}else{const M=u;if(f){if(a==null)throw new $e("texture:missing-depth","Missing depth dimension for 3D texture upload");h.texImage3D(t,i,r,n,s,a,0,w,x,M)}else h.texImage2D(t,i,r,n,s,0,w,x,M)}}_compressedTexImage(t,i,r,n,s,a,u){const h=this._descriptor.context.gl,f=Wp(t);if(this._descriptor.isImmutable){if(u!=null)if(f){if(a==null)throw new $e("texture:missing-depth","Missing depth dimension for 3D texture upload");h.compressedTexSubImage3D(t,i,0,0,0,n,s,a,r,u)}else h.compressedTexSubImage2D(t,i,0,0,n,s,r,u)}else if(f){if(a==null)throw new $e("texture:missing-depth","Missing depth dimension for 3D texture upload");h.compressedTexImage3D(t,i,r,n,s,a,0,u)}else h.compressedTexImage2D(t,i,r,n,s,0,u)}async _compressOnWorker(t){const{width:i,height:r,context:n,flipped:s,preMultiplyAlpha:a,hasMipmap:u}=this._descriptor,h=this._descriptor.compress?.compressionTracker,f=this._descriptor.compress?.compressionCallback,{compressedTextureETC:v,compressedTextureS3TC:w}=n.capabilities;if(!Rr.compressionWorkerHandle?.isCompressible(t,this._descriptor)||!v&&!w)return;this.abortCompression();const x=new AbortController;let M;this._compressionAbortController=x,h?.increment();try{t instanceof Uint8Array?M=t.buffer:(M=await createImageBitmap(t,{imageOrientation:s?"flipY":"none"}),Li(x));const P={data:M,width:i,height:r,needsFlip:t instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===6408?4:3,preMultiplyAlpha:a,hasMipmap:u,hasETC:!!v,hasS3TC:!!w},O=await Rr.compressionWorkerHandle.invoke(P,x.signal,"low");if(Li(x),O.compressedTexture&&this.hasWebGLTextureObject){const F=this.usedMemory;this._descriptor.internalFormat=O.internalFormat,this._setData(O.compressedTexture),f?.(F-this.usedMemory)}}catch(P){sn(P)||iu().error("Texture compression failed!")}finally{h?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null),M instanceof ImageBitmap&&M.close()}}_forEachMipmapLevel(t,i=1/0){let{width:r,height:n,depth:s,hasMipmap:a,target:u}=this._descriptor;const h=u===32879;if(r==null||n==null||h&&s==null)throw new $e("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let f=0;t(f,r,n,s),a&&(r!==1||n!==1||h&&s!==1)&&!(f>=i);++f)r=Math.max(1,r>>1),n=Math.max(1,n>>1),h&&(s=Math.max(1,s>>1))}_applySamplingMode(){const t=this._descriptor,i=t.context?.gl;let r=t.samplingMode,n=t.samplingMode;r===9985||r===9987?(r=9729,t.hasMipmap||(n=9729)):r!==9984&&r!==9986||(r=9728,t.hasMipmap||(n=9728)),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,n)}_applyWrapMode(){const t=this._descriptor,i=t.context?.gl;typeof t.wrapMode=="number"?(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode)):(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode.s),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode.t))}_applyShadowMode(){const t=this._descriptor,i=t.context?.gl,r=t.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(t.target,i.TEXTURE_COMPARE_MODE,r),t.compareEnabled&&i.texParameteri(t.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),Md(i)}_applyAnisotropicFilteringParameters(){const t=this._descriptor,i=t.context.capabilities.textureFilterAnisotropic;i&&t.context.gl.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}},Rr.TEXTURE_UNIT_FOR_UPDATES=0,Rr.compressionWorkerHandle=null,Rr);const T3=()=>ze.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function Q1e(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const ewe=[0,0,0,0];let TV=class{constructor(){this.type="single",this._highlightOptions=new vh,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*Iv),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,i){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,D1e),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<gV)-1,activeGradient:this}]}_updateGradientTexture(t){const i=twe(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,Q1e(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,n=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,s=r.outlinePosition-r.outlineWidth/2,a=r.outlinePosition+r.outlineWidth/2,u=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,h=Math.sqrt(Math.PI/2)*F1e,f=Math.abs(n)>h?Math.round(10*(Math.abs(n)-h))/10:0,v=Math.abs(u)>h?Math.round(10*(Math.abs(u)-h))/10:0;let w;f&&!v?T3().error("The outer rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!f&&v?T3().error("The inner rim of the highlight is "+v+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):f&&v&&T3().error("The highlight is "+Math.max(f,v)+"px away from the edge of the feature; consider reducing some width values.");const x=[void 0,void 0,void 0,void 0];function M(O,F,G){x[0]=(1-G)*O[0]+G*F[0],x[1]=(1-G)*O[1]+G*F[1],x[2]=(1-G)*O[2]+G*F[2],x[3]=(1-G)*O[3]+G*F[3]}const{_texelData:P}=this;for(let O=0;O<Iv;++O)w=n+O/(Iv-1)*(u-n),w<n?(x[0]=0,x[1]=0,x[2]=0,x[3]=0):w<s?M(ewe,r.outlineColor,(w-n)/(s-n)):w<a?[x[0],x[1],x[2],x[3]]=r.outlineColor:w<u?M(r.outlineColor,r.fillColor,(w-a)/(u-a)):[x[0],x[1],x[2],x[3]]=r.fillColor,P[4*O]=255*x[0],P[4*O+1]=255*x[1],P[4*O+2]=255*x[2],P[4*O+3]=255*x[3];if(this._minMaxDistance[0]=n,this._minMaxDistance[1]=u,!this._shadeTex){const O=new wV(Iv,1);O.wrapMode=33071,this._shadeTex=new K1e(t,O)}this._shadeTex.updateData(0,0,0,Iv,1,this._texelData)}};function twe(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}let iwe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let i=0;i<t.length;i++)this.gradients[i]||(this.gradients[i]=new TV),this.gradients[i].setHighlightOptions(t[i]);for(let i=t.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const i=[];for(let r=0;r<this.gradients.length;r++){const n=this.gradients[r];i.push({activeReasons:t,activeGradient:n}),t<<=1}return i}};const MV={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}},rwe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},nwe={...MV,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function swe({pixelRatio:e,state:t,displayLevel:i,requiredLevel:r},n){const s=1/2**(i-n.key.level),a=1/2**(r-n.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:n.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:n.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:a,tileOffset:[n.x,n.y],currentScale:t.scale,currentZoom:i,metersPerSRUnit:Cl(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function EV(e){return e.passOptions?.type==="highlight"}function $V(e){return e.passOptions?.type==="hittest"}function owe(e){if(!$V(e))return null;const{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}=e.passOptions;return{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}}function awe(e){if(!EV(e))return null;const{activeReasons:t,highlightAll:i}=e.passOptions;return{activeReasons:t,highlightAll:i?1:0}}function mRe(e,t,i){const r={};for(const n in i)typeof i[n]!="function"?r[n]=i[n]:r[n]=i[n](e,t);return r}function gRe(e,t){const{attributeView:i,context:r}=e;return{storage:i.getUniforms(r),view:swe(e,t),hittestRequest:owe(e),highlight:awe(e)}}function yRe(e){return{inside:e.selection===2,outside:e.selection===3}}function lwe(e){return $V(e)?rwe:EV(e)&&e.passOptions.stepType==="clear"?nwe:MV}function vRe(e){const{row:t,col:i}=e.key,r=i*ij,n=t*ij;return{tileOffsetFromLocalOrigin:[r%wb,n%wb],maxIntsToLocalOrigin:[Math.floor(r/wb),Math.floor(n/wb)]}}const uwe=new qr({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function _Re(e){return uwe.toJSON(e)}function wRe(e){const{bandCount:t,attributeTable:i,colormap:r,pixelType:n}=e.raster.rasterInfo;return t===1&&(i!=null||r!=null||n==="u8"||n==="s8")}function cwe(e,t){return t==null?(e?.destroy(),null):(e?.type==="single"&&Array.isArray(t)&&(e.destroy(),e=null),e?.type!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new iwe:new TV),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function bRe(e,t,i,r){const{painter:n,highlightGradient:s}=e,{highlight:a}=n.effects;if(!s)return;const u=e.passOptions,h=s.getReasonsWithGradients();for(let f=0;f<h.length;f++){const v={...e,passOptions:{type:"highlight",activeGradient:h[f].activeGradient,activeReasons:h[f].activeReasons,stepType:"burn",highlightAll:t}};if(a.bind(v),i(v),f<h.length-1){let x=0;for(let M=f+1;M<h.length;M++)x|=h[M].activeReasons;i({...e,passOptions:{type:"highlight",activeGradient:h[f].activeGradient,activeReasons:x,stepType:"clear",highlightAll:t}})}const w={...e,passOptions:{type:"highlight",activeGradient:h[f].activeGradient,activeReasons:h[f].activeReasons,stepType:"draw",highlightAll:t}};n.setPipelineState(lwe(e)),n.updatePipelineState(e.context),a.draw(w),a.unbind()}e.passOptions=u}const Sb=e=>parseFloat(e)/100;function hwe(e,t,i){const r=typeof e.left=="string"?Sb(e.left)*t:e.left,n=typeof e.right=="string"?Sb(e.right)*t:e.right,s=typeof e.top=="string"?Sb(e.top)*i:e.top,a=typeof e.bottom=="string"?Sb(e.bottom)*i:e.bottom,u=s;return{xmin:r,xmax:Math.max(t-n,r),ymin:u,ymax:Math.max(i-a,s)}}function CV(e,t,i,r){switch(t.type){case"rect":{const{width:n,height:s}=e,{xmin:a,xmax:u,ymin:h,ymax:f}=hwe(t,n,s),{x:v,y:w}=i;return v>a&&v<u&&w>h&&w<f}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||wA(t.path,[i.x,i.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?_A(t.geometry,r):Z_(t.geometry,r))}}function dwe(e){if(!e.highlights)return null;const t=e.highlights.findIndex(i=>i.name==="default");return t===-1?null:e.highlights.items[t]}function fwe(e,t){if(!e.highlights){if(!t)return;e.highlights=new Fe([new vh])}const i=e.highlights.findIndex(r=>r.name==="default");t?e.highlights.items[i].assignFrom(t):(e.highlights.removeAt(i),e.highlights.length===0&&(e.highlights=null))}async function pwe(e,t,i){const r=aG(t)?oG(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set;const s=new Set;let a=!1,u=null,h=null;i?.include?aj(i.include,oj(e,x=>{n.add(x),M3(x,M=>s.add(M))},(x,M)=>{s.add(x),n.add(M)},x=>{u||(u=new Set),u.add(x)},x=>n.add(x),()=>a=!0)):(a=!0,n=new Set(e.allLayerViews),n.forEach(x=>{M3(x,M=>s.add(M))})),i?.exclude&&aj(i.exclude,oj(e,x=>{n.delete(x),M3(x,M=>s.delete(M))},x=>s.delete(x),x=>{h||(h=new Set),h.add(x)}));const f=e.toMap(r),v=e.allLayerViews.filter(x=>!x.suspended&&n.has(x)&&x.clips.every(M=>CV(e,M,r,f))).reverse();let w=[...a?e.graphicsView.hitTest(f).map(x=>({type:"graphic",graphic:x,layer:null,mapPoint:f})):[],...await Promise.all(v.map(x=>x.hitTest(f,r)).toArray())].filter(bg).flat().filter(bg);return w=w.filter(x=>x.type!=="graphic"||x.layer?.type!=="subtype-group"||s.has(x.graphic.layer)),u&&(w=w.filter(x=>!("graphic"in x)||!x.graphic||u?.has(eP(x.graphic)))),h&&(w=w.filter(x=>!("graphic"in x)||!x.graphic||!h?.has(eP(x.graphic)))),{screenPoint:r,results:w}}function oj(e,t,i,r,n,s){return a=>{if(a instanceof wr){if(a.layer===e)s?.();else{const u=e.allLayerViews.find(h=>h.layer===a.layer);u&&n?.(u)}r(eP(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const u=e.allLayerViews.find(h=>h.layer===a.parent);u&&i(a,u)}else{const u=e.allLayerViews.find(h=>h.layer===a);u&&t(u)}}}function aj(e,t){if(e)if(YS(e))for(const i of e)if(YS(i))for(const r of i)t(r);else t(i);else t(e)}function eP(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function M3(e,t){const i=e.layer;i?.type==="subtype-group"&&i.sublayers.forEach(r=>{t(r)})}let jv=null,F2=!0;function mwe(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(F2)try{return new ImageData(e,t)}catch{F2=!1}return OV(e,t,i)}function SRe(e,t,i,r){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(F2)try{return new ImageData(e,t,i)}catch{F2=!1}const n=OV(t,i,r);return n.data.set(e,0),n}function gwe(){return jv||(jv=document.createElement("canvas"),jv.width=1,jv.height=1),jv}function OV(e,t,i){return i||(i=gwe()),i.getContext("2d").createImageData(e,t)}async function ywe(e,t){const i=window.URL.createObjectURL(e);try{const{data:r}=await tr(i,{...t,responseType:"image"});return r}catch(r){throw sn(r)?r:new $e("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function xRe(e,t){const{arrayBuffer:i,mediaType:r}=await vwe(e,t),n=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:s,parseGif:a}=await Ne(()=>import("./gif-BEc13_nX.js"),[],import.meta.url);if(s(i))return a(i,t)}if(n){const{isAnimatedPNG:s,parseApng:a}=await Ne(()=>import("./apng-DwlJEpwv.js"),__vite__mapDeps([380,44]),import.meta.url);if(s(i))return a(i,t)}return ywe(new Blob([i],{type:r}),t)}async function vwe(e,t){const i=Sg(e);if(i?.isBase64)return{arrayBuffer:g8(i.data),mediaType:i.mediaType};const r=await tr(e,{responseType:"array-buffer",...t});return{arrayBuffer:r.data,mediaType:r.getHeader?.("Content-Type")??""}}function PV(e,t,i){const{ctx:r,canvas:n}=RV(e,i),s=r.getImageData(0,0,e.width,e.height),a=kV(n,t);return LV(n),{dataUrl:a,data:s}}function AV(e,t){const{ctx:i,canvas:r}=RV(e,t),n=i.getImageData(0,0,e.width,e.height);return LV(r),n}function RV(e,t){const i=_we();t.premultipliedAlpha&&xwe(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&Swe(r),{ctx:r,canvas:i}}function LV(e){e.width=0,e.height=0}function _we(){return E3==null&&(E3=document.createElement("canvas")),E3}let E3=null;function kV(e,t){const i=Twe[t.format],r=t.quality/100;return e.toDataURL(i,r)}function IV(e,t){const i=bwe(e),r=Ewe[i];return{format:i,quality:co(t??r,0,100)}}function NV(e,t){return t/Math.max(e[0],e[1])}function wwe(e,t,i,r=0,n=0,s=e.width-r,a=e.height-n,u=!1){const{data:h}=e,{width:f,height:v,data:w}=t,x=s/f,M=a/v,P=Math.ceil(x/2),O=Math.ceil(M/2),F=e.width;for(let G=0;G<v;G++)for(let Y=0;Y<f;Y++){const U=4*(Y+(u?v-G-1:G)*f);let C=0,E=0,A=0,k=0,V=0,H=0;const q=(G+.5)*M;for(let X=Math.floor(G*M);X<(G+1)*M;X++){const ue=Math.abs(q-(X+.5))/O,ne=(Y+.5)*x,se=ue*ue;for(let we=Math.floor(Y*x);we<(Y+1)*x;we++){const Q=Math.abs(ne-(we+.5))/P,N=Math.sqrt(se+Q*Q);if(N>=1)continue;let ge=2*N*N*N-3*N*N+1;const ee=4*(r+we+(n+X)*F);H+=ge*h[ee+3],E+=ge,!i&&h[ee+3]<255&&(ge=ge*h[ee+3]/255),A+=ge*h[ee],k+=ge*h[ee+1],V+=ge*h[ee+2],C+=ge}}w[U]=A/C,w[U+1]=k/C,w[U+2]=V/C,w[U+3]=H/E}return t}function bwe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return Mwe}}function Swe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function xwe(e){const t=e.data,i=t.length;for(let r=0;r<i;r+=4){const n=t[r+3];if(n!==255&&n>0){const s=255/n;t[r]=t[r]*s,t[r+1]=t[r+1]*s,t[r+2]=t[r+2]*s}}}const Twe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},lj=98,Mwe="png",Ewe={png:100,jpg:lj,jpeg:lj},TRe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:mwe,encode:PV,encodeData:AV,getFormatAndQuality:IV,getMaximumResolutionScale:NV,resampleHermite:wwe,toDataUrl:kV},Symbol.toStringTag,{value:"Module"})),DV={flipY:!0,premultipliedAlpha:!0};async function $we(e,t){const i=await jV(e,t),{format:r,quality:n}=IV(t?.format,t?.quality);return PV(i,{format:r,quality:n},DV)}async function Cwe(e,t){const i=await jV(e,t);return AV(i,DV)}function jV(e,t){const i=Awe(t||{},Pwe(e.stage,e.size),e.size,e.padding),r=Owe(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t?.rotation)}function Owe(e={},t){if(!e.layers)return;const i=[];return e.layers.forEach(r=>{const n=t.find(s=>s.layer.id===r.id);n?.container&&i.push(n.container)}),i}function Pwe(e,t){return Math.min(4,NV(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function Awe(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let n=null;e.width!=null&&e.height!=null?n=[e.width,e.height]:e.width==null&&e.height!=null?n=[e.height,e.height]:e.width!=null&&e.height==null?n=[e.width,e.width]:e.width==null&&e.height==null&&(n=null);const s=i[0]-(r.left+r.right),a=i[1]-(r.top+r.bottom);let u,h,f=e.area||{x:0,y:0,width:s,height:a};if(n){const v=s/a,w=n[0]/n[1];if(w>v){const x=f.width/w;f={x:f.x,y:Math.round(f.y+(f.height-x)/2),width:f.width,height:Math.round(x)}}else{const x=f.height*w;f={x:Math.round(f.x+(f.width-x)/2),y:f.y,width:Math.round(x),height:f.height}}}else n=[f.width,f.height];return n[0]>f.width?(u=Math.min(n[0]/f.width,t),h=n[0]/f.width/u):(u=1,h=n[0]/f.width),{cropArea:{x:Math.round((f.x+r.left)*u),y:Math.round((f.y+r.top)*u),width:Math.round(f.width*u),height:Math.round(f.height*u)},outputScale:h,resolutionScale:u}}const Rwe=e=>e.includes("Brush");let zV=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),Rwe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};const uj=Symbol("analyses-owner-handles");let Gc=class extends et{constructor(t){super(t),this._allAnalysisViews=new Fe,this._creatingViewCount=0,this._attachedToViewResolver=cj(),this._items=new Map,this._moduleMap=new Map,this._scheduledUpdateHandle=null,this._emitOnView=(i,r)=>this.view.emit(i,r)}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(ai("AnalysisViewManager was destroyed")),this._set("view",null)}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(ai()),this._attachedToViewResolver=cj()}get updating(){return!this.view.ready||this._creatingViewCount!==0||this._allAnalysisViews.some(t=>t.updating)}get testInfo(){}async whenAnalysisView(t){await this._attachedToViewResolver.promise;const i=this._items.get(t);if(i==null||i.state.list===1)throw new $e("AnalysisViewManager:no-analysis-view-for-analysis","The analysis does not exist in view.analyses",{analysis:t});return i.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),uj)}_disconnectOwners(){this.removeHandles(uj),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(t){for(const n of t)this._addAnalysis(n);const i=t.on("after-add",n=>this._addAnalysis(n.item)),r=t.on("after-remove",n=>this._removeAnalysis(n.item));return jt(()=>{i.remove(),r.remove();for(const n of t)this._removeAnalysis(n)})}_addAnalysis(t){const i=this._items.get(t);if(i==null){const r={state:{view:0,list:0},analysis:t,view:null,createAnalysisViewTask:null};this._items.set(t,r),r.createAnalysisViewTask=wx(n=>this._createAnalysisViewPromise(r,n).then(s=>(this._emitOnView("analysis-view-create",{analysis:t,analysisView:s}),s),s=>{throw this._emitOnView("analysis-view-create-error",{analysis:t,error:s}),s}))}else i.state.list=0}_removeAnalysis(t){const i=this._items.get(t);i!=null?(i.state.list=1,this._scheduleUpdate()):ze.getLogger(this).error("Trying to remove analysis which was not added")}_scheduleUpdate(){this._scheduledUpdateHandle==null&&(this._scheduledUpdateHandle=Qg(()=>this._update()))}_update(){this._scheduledUpdateHandle=Oi(this._scheduledUpdateHandle),this._items.forEach(t=>{if(t.state.list!==1)return;const{analysis:i,view:r}=t;switch(this._items.delete(i),t.state.view){case 0:t.createAnalysisViewTask=Mf(t.createAnalysisViewTask);break;case 1:r!=null&&(this._allAnalysisViews.remove(r),t.view=er(r),t.createAnalysisViewTask=null,this._emitOnView("analysis-view-destroy",{analysis:i,analysisView:r}))}})}async _createAnalysisViewPromise(t,i){const{analysis:r}=t;if(this._creatingViewCount+=1,!this._moduleMap.has(r.type))try{this._moduleMap.set(r.type,await this.importAnalysisViewModule(r))}catch{throw this._creatingViewCount-=1,new $e("AnalysisViewManager:no-analysis-view-for-analysis",`Analysis of type "${r.type}" is not supported`)}if(In(i))throw this._creatingViewCount-=1,ai("AnalysisView creation aborted");const n=new(this._moduleMap.get(r.type)).default({analysis:r,view:this.view});let s=!0;Yo(i,()=>{s&&this._destroyAnalysisView(r,n)});try{await n.when()}catch(a){throw s=!1,this._destroyAnalysisView(r,n),a}if(In(i))throw ai();return s=!1,t.view=n,t.state.view=1,this._allAnalysisViews.add(n),this._creatingViewCount-=1,n}_destroyAnalysisView(t,i){i.destroyed||(this._creatingViewCount-=1,i.destroy(),this._emitOnView("analysis-view-destroy",{analysis:t,analysisView:i}))}};p([_()],Gc.prototype,"updating",null),p([_({constructOnly:!0})],Gc.prototype,"importAnalysisViewModule",void 0),p([_({constructOnly:!0})],Gc.prototype,"view",void 0),p([_()],Gc.prototype,"_allAnalysisViews",void 0),p([_()],Gc.prototype,"_creatingViewCount",void 0),Gc=p([ie("esri.views.support.AnalysisViewManager")],Gc);const Lwe=Gc;function cj(){const e=uo();return e.promise.catch(()=>{}),e}let kwe=class{constructor(t){this.getUnmaskedRenderer=t}};function Iwe(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t?new kwe(()=>e.getParameter(t.UNMASKED_RENDERER_WEBGL)):null}let hj;function Nwe(){return hj??=zwe(),hj}let Dwe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function jwe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let i=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=t.getContext("webgl2"),i!=null&&(e.majorPerformanceCaveat=!0,e.unmaskedRenderer=Iwe(i)?.getUnmaskedRenderer()??"unknown")),i==null)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),i}function zwe(){const e=new Dwe,t=jwe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function Uwe(e){const t=Nwe();return t.available?e==="3d"&&t.majorPerformanceCaveat?new $e("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new $e("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new $e("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new $e("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function Fwe(e){return e&&"nodeType"in e}function Bwe(e){return e&&typeof e.render=="function"}const dj={component:"esri-component"};let qd=class extends et{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(t){this._set("id",t)}set node(t){const i=this._get("node");t!==i&&(t&&t.classList.add(dj.component),i&&i.classList.remove(dj.component),this._set("node",t))}castNode(t){return this.widget?.destroy(),t?typeof t=="string"||Fwe(t)?(this._set("widget",null),rR(t)):(Bwe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};p([_()],qd.prototype,"id",null),p([_()],qd.prototype,"node",null),p([xr("node")],qd.prototype,"castNode",null),p([_({readOnly:!0})],qd.prototype,"widget",void 0),qd=p([ie("esri.views.ui.Component")],qd);const CS=qd,qwe=(e,t)=>{let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},PRe=(e,t,i)=>{const r=Gwe(t).subscribe;return r(n=>{n.some(a=>qwe(e,a.target))&&i()})},$3={},Gwe=e=>{const t=e.join(","),i=$3[t];if(i!==void 0)return i;const r=new Set,n=new MutationObserver(a=>r.forEach(u=>u(a)));globalThis.document&&n.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe:a=>(r.add(a),()=>{r.delete(a),r.size===0&&(n.disconnect(),$3[t]=void 0)})};return $3[t]=s,s},UV=(e,t)=>{let i=e;for(;i;){const r=i.closest?.(t);if(r)return r;const n=i.getRootNode?.();if(n===globalThis.document)return;i=n.host}};function Vwe(e){const t=UV(e,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return t?.classList.contains("calcite-mode-dark")||t?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const ARe=(e,t,i)=>UV(e,`[${t}]`)?.getAttribute(t)??i,Hwe="--esri-calcite-mode-name";function Wwe(){const e=getComputedStyle(document.body).getPropertyValue(Hwe).replaceAll(/\W/g,"").toLowerCase();return e==="dark"||e==="light"?e:void 0}const FV="calcite-mode-";function BV(e){return Wwe()??Vwe(e??document.body)}function RRe(e){return BV(e)==="dark"}function Zwe(e){return`${FV}${BV(e)}`}function Ywe(e){const t=Zwe(e);Jwe(e),e.classList.add(t)}function Jwe(e){Array.from(e.classList).forEach(t=>{t.startsWith(FV)&&e.classList.remove(t)})}const Qx=new Map;function qV(){Qx.clear()}function Xwe(e){return Qx.get(e)}function Kwe(e,t){Qx.set(e,t)}function C3(e){Qx.delete(e)}function GV(...e){const t=ts.acquire();for(let r=0;r<e.length;r++){const n=e[r],s=typeof n;if(s==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(s==="object")for(const a in n)n[a]&&t.push(a)}const i=t.join(" ");return ts.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(r=>{qV();for(const n of r)e.get(n.target)?.(n)}),i=(r,n,s)=>(e.set(r,n),t.observe(r,s),jt(()=>{t.unobserve(r),e.delete(r)}));return(r,n,s)=>{let a=null;return Ff([ht(()=>typeof r=="function"?r():r,u=>{a?.remove(),u&&(a=i(u,n,s))},On),jt(()=>a?.remove())])}})();function tP(e){const t=e?.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function LRe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function Qwe(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function ebe(e){return e==="Enter"||e===" "}async function tbe(e,t){await vie(F_(t));const i=typeof e=="function"?e():e;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const ibe={left:0,top:0,bottom:0,right:0},VV={bottom:30,top:15,right:15,left:15},ru="esri-ui",ws={ui:ru,corner:`${ru}-corner`,innerContainer:`${ru}-inner-container`,manualContainer:`${ru}-manual-container`,cornerContainer:`${ru}-corner-container`,topLeft:`${ru}-top-left`,topRight:`${ru}-top-right`,bottomLeft:`${ru}-bottom-left`,bottomRight:`${ru}-bottom-right`};function rbe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function xb(e){return e===0?"0":`${e}px`}function O3(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function P3(e,{top:t,bottom:i,left:r,right:n}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=n}let nl=class extends Bf{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Dn(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&P3(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&P3(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([ht(()=>[this.view?.padding,this.container],this._applyViewPadding,nn),ht(()=>this.padding,this._applyUIPadding,nn),ht(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},nn),Mx(t=>{this._locale=t})])}destroy(){this.removeAllHandles(),this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear(),this.view=null,this._set("view",null)}set container(t){const i=this._get("container");t!==i&&(t&&(t.classList.add(ws.ui),Ywe(t),this._attachContainers(t)),i&&(i.classList.remove(ws.ui),P3(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",t))}get height(){const t=this.view?.height??0;if(t===0)return t;const i=this._getViewPadding(),{top:r,bottom:n}=i;return Math.max(t-r-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...VV,...t}}get width(){const t=this.view?.width??0;if(t===0)return t;const i=this._getViewPadding(),{left:r,right:n}=i;return Math.max(t-r-n,0)}add(t,i){let r,n,s;if(Array.isArray(t))return void t.forEach(u=>this.add(u,i));const a=O3(t);a&&({index:r,position:i,component:t,key:n}=a),i&&typeof i=="object"&&({index:r,key:n,position:i,internal:s}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,r??this._getNumComponentsAtPosition(i),n,s)}remove(t,i){if(!t)return;if(Array.isArray(t))return t.map(n=>this.remove(n,i));const r=this._find(t);if(r){const n=this._componentMap.get(r);if(!n||n.key!==i)return;const s=this._components.indexOf(r);return r.node.parentNode?.removeChild(r.node),this._componentMap.delete(r),r.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(u=>{const h=this._componentMap.get(u);h&&h.position===n.position&&h.index>n.index&&h.index--}),this._components.splice(s,1)[0]}}empty(t,i={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,i);return}const r=this._positionNameToContainerLookup[t??"manual"],n=Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(s=>s==null?!1:!(this._componentMap.get(s)?.internal??!1)||i.removeInternal);for(const s of n)this.remove(s)}move(t,i){if(Array.isArray(t)&&t.forEach(a=>this.move(a,i)),!t)return;let r;const n=O3(t)||O3(i);if(n&&(r=n.index,i=n.position,t=n.component||t),i&&!this._isValidPosition(i))return;const s=this.remove(t);s&&this.add(s,{position:i,index:r})}find(t){if(!t)return null;const i=this._findById(t);return i&&(i.widget||i.node)}getComponents(t,i={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(t,i):this._components.filter(r=>i.includeInternal||!this._componentMap.get(r)?.internal).map(({widget:r,node:n})=>r??n)}getPosition(t){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,r,n,s){t instanceof CS||(t=new CS({node:t}));const{widget:a}=t;a!=null&&a instanceof et&&a.addHandles(jt(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey);const u=this._positionNameToContainerLookup[i];this._components.some(h=>{const f=this._componentMap.get(h)?.position,v=f?this._positionNameToContainerLookup[f]:null;return u===v&&this._componentMap.get(h)?.index===r})&&this._components.forEach(h=>{const f=this._componentMap.get(h),v=f?.position,w=v?this._positionNameToContainerLookup[v]:null;f&&w===u&&f.index>=r&&f.index++}),this._place({component:t,position:i,index:r}),this._components.push(t),this._componentMap.set(t,{key:n,position:i,internal:s,index:r})}_find(t){return t?t instanceof CS?this._findByComponent(t):typeof t=="string"?this._findById(t):"domNode"in t?this._findByNode(t.domNode):this._findByNode(t):null}_getViewPadding(){return this.view?.padding??ibe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(ws.innerContainer,ws.cornerContainer);const i=document.createElement("div");i.classList.add(ws.innerContainer,ws.manualContainer);const r=document.createElement("div");r.classList.add(ws.topLeft,ws.corner),t.appendChild(r);const n=document.createElement("div");n.classList.add(ws.topRight,ws.corner),t.appendChild(n);const s=document.createElement("div");s.classList.add(ws.bottomLeft,ws.corner),t.appendChild(s);const a=document.createElement("div");a.classList.add(ws.bottomRight,ws.corner),t.appendChild(a),this._innerContainer=t,this._manualContainer=i;const u=tP();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":s,"bottom-right":a,"top-leading":u?n:r,"top-trailing":u?r:n,"bottom-leading":u?a:s,"bottom-trailing":u?s:a},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const i=t.position??"manual",{component:r,index:n}=t,s=this._positionNameToContainerLookup[i],a=n!=null&&n>-1;if(rbe(r.widget)&&r.widget.startup(),!a)return void s.appendChild(r.node);const u=Array.from(s.children);if(u.length!==0){for(const h of u){const f=this._findByNode(h);if(f&&n<(this._componentMap.get(f)?.index??0))return void h.parentNode?.insertBefore(r.node,h)}s.appendChild(r.node)}else s.appendChild(r.node)}_toPixelPosition(t){return{top:xb(t.top),left:xb(t.left),right:xb(t.right),bottom:xb(t.bottom)}}_findByComponent(t){return this._components.find(i=>i===t)??null}_findById(t){return this._components.find(({id:i})=>i===t)??null}_findByNode(t){return t?this._components.find(({node:i})=>i===t):null}_getComponentsAtPosition(t,i){const r=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(bg).filter(n=>i.includeInternal||!this._componentMap.get(n)?.internal).map(({widget:n,node:s})=>n??s)}_getNumComponentsAtPosition(t){return this._positionNameToContainerLookup[t]?.children.length??0}};p([_()],nl.prototype,"_locale",void 0),p([_()],nl.prototype,"container",null),p([_()],nl.prototype,"height",null),p([_({value:VV})],nl.prototype,"padding",null),p([xr("padding")],nl.prototype,"castPadding",null),p([_()],nl.prototype,"view",void 0),p([_()],nl.prototype,"width",null),nl=p([ie("esri.views.ui.UI")],nl);const nbe=nl,sbe={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},obe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.startsWith("-")?e.style.setProperty(t,i):e.style[t]=i}},abe=e=>({...obe,...e}),lbe=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},ube=(e,t)=>e.find(t),fj=(e,t,i=!1)=>{let r=e;return t.forEach((n,s)=>{const a=r?.children?ube(r.children,u=>u.domNode===n):void 0;i&&!a&&s!==t.length-1||(r=a)}),r},cbe=e=>{let t;const i={...sbe,...e},r=abe(i),n=r.performanceLogger;let s,a=!0,u=!1;const h=[],f=[],v=(x,M,P)=>{let O;r.eventHandlerInterceptor=(G,Y,U,C)=>function(E){let A;n("domEvent",E);const k=lbe(E.currentTarget,O.domNode),V=k.some(q=>customElements.get(q?.tagName?.toLowerCase()));if(E.eventPhase===Event.CAPTURING_PHASE||!V)k.reverse(),A=fj(O.getLastRender(),k);else{const q=E.composedPath(),X=q.slice(q.indexOf(E.currentTarget),q.indexOf(O.domNode)).reverse();A=fj(O.getLastRender(),X,!0)}let H;return A&&(H=i.handleInterceptedEvent(t,A,this,E)),n("domEventProcessed",E),H},i.postProcessProjectionOptions?.(r);const F=P();O=x(M,F,r),r.eventHandlerInterceptor=void 0,h.push(O),f.push(P),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(O,F)};let w=()=>{if(s=void 0,a){a=!1,n("renderStart",void 0);for(let x=0;x<h.length;x++){const M=f[x]();n("rendered",void 0);try{h[x].update(M)}catch(P){console.error(P)}n("patched",void 0)}n("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(w=i.modifyDoRenderImplementation(w,h,f)),t={renderNow:w,scheduleRender:()=>{s||u||(s=requestAnimationFrame(w))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),u=!0},resume:()=>{u=!1,a=!0,t.scheduleRender()},append:(x,M)=>{v(ch.append,x,M)},insertBefore:(x,M)=>{v(ch.insertBefore,x,M)},merge:(x,M)=>{v(ch.merge,x,M)},replace:(x,M)=>{v(ch.replace,x,M)},detach:x=>{for(let M=0;M<f.length;M++)if(f[M]===x)return f.splice(M,1),h.splice(M,1)[0];throw new Error("renderFunction was not found")}},t},Qi=(e,t,...i)=>{try{return e?.call(t,...i)}catch(r){console.error(r,e)}},iP=async(e,t,...i)=>{try{return await e?.call(t,...i)}catch(r){console.error(r,e)}},kR=Symbol.for("controller"),hbe=e=>typeof e=="object"&&e!==null&&(kR in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),IRe=e=>typeof e?.then=="function";let b0;const S0=e=>{b0!==e&&(b0=e,queueMicrotask(()=>b0===e?b0=void 0:0))},eT=e=>b0;let Gd=[];const dbe=e=>{if(e===void 0){Gd=[];return}const t=Gd.indexOf(e);Gd=t===-1?[...Gd,e]:Gd.slice(0,t+1),queueMicrotask(()=>Gd=[])},fbe=()=>Gd;let km;const NRe=e=>{km!==e&&(km=e,queueMicrotask(()=>km===e?km=void 0:0))},pbe=()=>{const e=km;return km=void 0,e},mbe=async(e,t)=>{const i=IR(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const r=i.watchExports(n=>t(n,r))}return i.exports},gbe=async e=>{const t=IR(e);return await t.ready,t},IR=e=>{const i=eT().manager.X(e);if(i!==void 0)return i;if(hbe(e))return e;const r=pbe();if(r!==void 0)return r};let rP=!1;const DRe=e=>{rP=!0;try{return e()}finally{rP=!1}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const OS=globalThis,NR=OS.ShadowRoot&&(OS.ShadyCSS===void 0||OS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,DR=Symbol(),pj=new WeakMap;let HV=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==DR)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(NR&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=pj.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&pj.set(i,t))}return t}toString(){return this.cssText}};const ybe=e=>new HV(typeof e=="string"?e:e+"",void 0,DR),zRe=(e,...t)=>{const i=e.length===1?e[0]:t.reduce(((r,n,s)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[s+1]),e[0]);return new HV(i,e,DR)},vbe=(e,t)=>{if(NR)e.adoptedStyleSheets=t.map((i=>i instanceof CSSStyleSheet?i:i.styleSheet));else for(const i of t){const r=document.createElement("style"),n=OS.litNonce;n!==void 0&&r.setAttribute("nonce",n),r.textContent=i.cssText,e.appendChild(r)}},mj=NR?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return ybe(i)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:_be,defineProperty:wbe,getOwnPropertyDescriptor:bbe,getOwnPropertyNames:Sbe,getOwnPropertySymbols:xbe,getPrototypeOf:Tbe}=Object,tT=globalThis,gj=tT.trustedTypes,Mbe=gj?gj.emptyScript:"",Ebe=tT.reactiveElementPolyfillSupport,Y0=(e,t)=>e,nP={toAttribute(e,t){switch(t){case Boolean:e=e?Mbe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},jR=(e,t)=>!_be(e,t),yj={attribute:!0,type:String,converter:nP,reflect:!1,useDefault:!1,hasChanged:jR};Symbol.metadata??=Symbol("metadata"),tT.litPropertyMetadata??=new WeakMap;let _m=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=yj){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(t,r,i);n!==void 0&&wbe(this.prototype,t,n)}}static getPropertyDescriptor(t,i,r){const{get:n,set:s}=bbe(this.prototype,t)??{get(){return this[i]},set(a){this[i]=a}};return{get:n,set(a){const u=n?.call(this);s?.call(this,a),this.requestUpdate(t,u,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??yj}static _$Ei(){if(this.hasOwnProperty(Y0("elementProperties")))return;const t=Tbe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Y0("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Y0("properties"))){const i=this.properties,r=[...Sbe(i),...xbe(i)];for(const n of r)this.createProperty(n,i[n])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,n]of i)this.elementProperties.set(r,n)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const n=this._$Eu(i,r);n!==void 0&&this._$Eh.set(n,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const n of r)i.unshift(mj(n))}else t!==void 0&&i.push(mj(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return vbe(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$ET(t,i){const r=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,r);if(n!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:nP).toAttribute(i,r.type);this._$Em=t,s==null?this.removeAttribute(n):this.setAttribute(n,s),this._$Em=null}}_$AK(t,i){const r=this.constructor,n=r._$Eh.get(t);if(n!==void 0&&this._$Em!==n){const s=r.getPropertyOptions(n),a=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:nP;this._$Em=n;const u=a.fromAttribute(i,s.type);this[n]=u??this._$Ej?.get(n)??u,this._$Em=null}}requestUpdate(t,i,r){if(t!==void 0){const n=this.constructor,s=this[t];if(r??=n.getPropertyOptions(t),!((r.hasChanged??jR)(s,i)||r.useDefault&&r.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(n._$Eu(t,r))))return;this.C(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,i,{useDefault:r,reflect:n,wrapped:s},a){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,a??i??this[t]),s!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(i=void 0),this._$AL.set(t,i)),n===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[n,s]of this._$Ep)this[n]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[n,s]of r){const{wrapped:a}=s,u=this[n];a!==!0||this._$AL.has(n)||u===void 0||this.C(n,void 0,s,u)}}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(i)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(i)}willUpdate(t){}_$AE(t){this._$EO?.forEach((i=>i.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((i=>this._$ET(i,this[i]))),this._$EM()}updated(t){}firstUpdated(t){}};_m.elementStyles=[],_m.shadowRootOptions={mode:"open"},_m[Y0("elementProperties")]=new Map,_m[Y0("finalized")]=new Map,Ebe?.({ReactiveElement:_m}),(tT.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zR=globalThis,B2=zR.trustedTypes,vj=B2?B2.createPolicy("lit-html",{createHTML:e=>e}):void 0,WV="$lit$",nh=`lit$${Math.random().toFixed(9).slice(2)}$`,ZV="?"+nh,$be=`<${ZV}>`,Df=document,M_=()=>Df.createComment(""),E_=e=>e===null||typeof e!="object"&&typeof e!="function",UR=Array.isArray,Cbe=e=>UR(e)||typeof e?.[Symbol.iterator]=="function",A3=`[ 	
\f\r]`,zv=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_j=/-->/g,wj=/>/g,$d=RegExp(`>|${A3}(?:([^\\s"'>=/]+)(${A3}*=${A3}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),bj=/'/g,Sj=/"/g,YV=/^(?:script|style|textarea|title)$/i,JV=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),FRe=JV(1),BRe=JV(2),Oh=Symbol.for("lit-noChange"),pr=Symbol.for("lit-nothing"),xj=new WeakMap,of=Df.createTreeWalker(Df,129);function XV(e,t){if(!UR(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return vj!==void 0?vj.createHTML(t):t}const Obe=(e,t)=>{const i=e.length-1,r=[];let n,s=t===2?"<svg>":t===3?"<math>":"",a=zv;for(let u=0;u<i;u++){const h=e[u];let f,v,w=-1,x=0;for(;x<h.length&&(a.lastIndex=x,v=a.exec(h),v!==null);)x=a.lastIndex,a===zv?v[1]==="!--"?a=_j:v[1]!==void 0?a=wj:v[2]!==void 0?(YV.test(v[2])&&(n=RegExp("</"+v[2],"g")),a=$d):v[3]!==void 0&&(a=$d):a===$d?v[0]===">"?(a=n??zv,w=-1):v[1]===void 0?w=-2:(w=a.lastIndex-v[2].length,f=v[1],a=v[3]===void 0?$d:v[3]==='"'?Sj:bj):a===Sj||a===bj?a=$d:a===_j||a===wj?a=zv:(a=$d,n=void 0);const M=a===$d&&e[u+1].startsWith("/>")?" ":"";s+=a===zv?h+$be:w>=0?(r.push(f),h.slice(0,w)+WV+h.slice(w)+nh+M):h+nh+(w===-2?u:M)}return[XV(e,s+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class $_{constructor({strings:t,_$litType$:i},r){let n;this.parts=[];let s=0,a=0;const u=t.length-1,h=this.parts,[f,v]=Obe(t,i);if(this.el=$_.createElement(f,r),of.currentNode=this.el.content,i===2||i===3){const w=this.el.content.firstChild;w.replaceWith(...w.childNodes)}for(;(n=of.nextNode())!==null&&h.length<u;){if(n.nodeType===1){if(n.hasAttributes())for(const w of n.getAttributeNames())if(w.endsWith(WV)){const x=v[a++],M=n.getAttribute(w).split(nh),P=/([.?@])?(.*)/.exec(x);h.push({type:1,index:s,name:P[2],strings:M,ctor:P[1]==="."?Abe:P[1]==="?"?Rbe:P[1]==="@"?Lbe:iT}),n.removeAttribute(w)}else w.startsWith(nh)&&(h.push({type:6,index:s}),n.removeAttribute(w));if(YV.test(n.tagName)){const w=n.textContent.split(nh),x=w.length-1;if(x>0){n.textContent=B2?B2.emptyScript:"";for(let M=0;M<x;M++)n.append(w[M],M_()),of.nextNode(),h.push({type:2,index:++s});n.append(w[x],M_())}}}else if(n.nodeType===8)if(n.data===ZV)h.push({type:2,index:s});else{let w=-1;for(;(w=n.data.indexOf(nh,w+1))!==-1;)h.push({type:7,index:s}),w+=nh.length-1}s++}}static createElement(t,i){const r=Df.createElement("template");return r.innerHTML=t,r}}function Bg(e,t,i=e,r){if(t===Oh)return t;let n=r!==void 0?i._$Co?.[r]:i._$Cl;const s=E_(t)?void 0:t._$litDirective$;return n?.constructor!==s&&(n?._$AO?.(!1),s===void 0?n=void 0:(n=new s(e),n._$AT(e,i,r)),r!==void 0?(i._$Co??=[])[r]=n:i._$Cl=n),n!==void 0&&(t=Bg(e,n._$AS(e,t.values),n,r)),t}let Pbe=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,n=(t?.creationScope??Df).importNode(i,!0);of.currentNode=n;let s=of.nextNode(),a=0,u=0,h=r[0];for(;h!==void 0;){if(a===h.index){let f;h.type===2?f=new FR(s,s.nextSibling,this,t):h.type===1?f=new h.ctor(s,h.name,h.strings,this,t):h.type===6&&(f=new kbe(s,this,t)),this._$AV.push(f),h=r[++u]}a!==h?.index&&(s=of.nextNode(),a++)}return of.currentNode=Df,n}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}},FR=class KV{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,r,n){this.type=2,this._$AH=pr,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&t?.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=Bg(this,t,i),E_(t)?t===pr||t==null||t===""?(this._$AH!==pr&&this._$AR(),this._$AH=pr):t!==this._$AH&&t!==Oh&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Cbe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==pr&&E_(this._$AH)?this._$AA.nextSibling.data=t:this.T(Df.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:r}=t,n=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=$_.createElement(XV(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===n)this._$AH.p(i);else{const s=new Pbe(n,this),a=s.u(this.options);s.p(i),this.T(a),this._$AH=s}}_$AC(t){let i=xj.get(t.strings);return i===void 0&&xj.set(t.strings,i=new $_(t)),i}k(t){UR(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,n=0;for(const s of t)n===i.length?i.push(r=new KV(this.O(M_()),this.O(M_()),this,this.options)):r=i[n],r._$AI(s),n++;n<i.length&&(this._$AR(r&&r._$AB.nextSibling,n),i.length=n)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}},iT=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,n,s){this.type=1,this._$AH=pr,this._$AN=void 0,this.element=t,this.name=i,this._$AM=n,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=pr}_$AI(t,i=this,r,n){const s=this.strings;let a=!1;if(s===void 0)t=Bg(this,t,i,0),a=!E_(t)||t!==this._$AH&&t!==Oh,a&&(this._$AH=t);else{const u=t;let h,f;for(t=s[0],h=0;h<s.length-1;h++)f=Bg(this,u[r+h],i,h),f===Oh&&(f=this._$AH[h]),a||=!E_(f)||f!==this._$AH[h],f===pr?t=pr:t!==pr&&(t+=(f??"")+s[h+1]),this._$AH[h]=f}a&&!n&&this.j(t)}j(t){t===pr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Abe=class extends iT{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===pr?void 0:t}},Rbe=class extends iT{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==pr)}},Lbe=class extends iT{constructor(t,i,r,n,s){super(t,i,r,n,s),this.type=5}_$AI(t,i=this){if((t=Bg(this,t,i,0)??pr)===Oh)return;const r=this._$AH,n=t===pr&&r!==pr||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==pr&&(r===pr||n);n&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}},kbe=class{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Bg(this,t)}};const Ibe=zR.litHtmlPolyfillSupport;Ibe?.($_,FR),(zR.litHtmlVersions??=[]).push("3.3.1");const Nbe=(e,t,i)=>{const r=i?.renderBefore??t;let n=r._$litPart$;if(n===void 0){const s=i?.renderBefore??null;r._$litPart$=n=new FR(t.insertBefore(M_(),s),s,void 0,i??{})}return n._$AI(e),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const BR=globalThis;let Qm=class extends _m{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Nbe(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Oh}};Qm._$litElement$=!0,Qm.finalized=!0,BR.litElementHydrateSupport?.({LitElement:Qm});const Dbe=BR.litElementPolyfillSupport;Dbe?.({LitElement:Qm});(BR.litElementVersions??=[]).push("4.2.1");class C_{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}const jbe=(e,t)=>{const i=t/zbe;let r=0;const n=setInterval(()=>{r+=i,r>=t&&(clearInterval(n),e())},i);return n},zbe=4,Ube=(e,t,i)=>{const r=Object.keys(e),n=r.length;Im===void 0&&queueMicrotask(rT),Im??=new Map;let s=Im.get(e);return s===void 0&&(s={callbacks:[],keyCount:n},Im.set(e,s)),s.keyCount!==n&&(s.callbacks.forEach(a=>a(r)),s.callbacks=[],s.keyCount=n),s.callbacks.push(a=>{const u=f=>Qi(t,null,f),h=a[n];h===void 0?u(void 0):e[h]===i?u(h):u(void 0)}),i};let Im;const rT=()=>{Im?.forEach(({callbacks:e},t)=>{const i=Object.keys(t);e.forEach(r=>r(i))}),Im=void 0},Fbe=(e,t,i)=>{const r=e.manager;return r.V!==pr&&r.V!==i&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=i,r.T.push((n,s)=>Qi(t,void 0,i===s?n:void 0)),i},Bbe=(e=[eT(),...fbe()],t,i)=>{const r=Array.isArray(e)?e:[e];let n=r.length+1;const s=a=>{n-=1,a!==void 0&&(n=Math.min(n,0)),n===0&&t(a)};r.forEach(a=>Ube(a,u=>s(u===void 0?void 0:{key:u,host:a,isReactive:!1}),i));for(const a of r)if("manager"in a&&a.manager.component===a){Fbe(a,u=>s(u===void 0?void 0:{key:u,host:a,isReactive:!0}),i);break}return i},qbe=(e="",t={},i=eT())=>{const r={emit:n=>{e===""&&rT();const s=new CustomEvent(e,{detail:n,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(s),s}};return e===""&&Bbe(void 0,n=>e=n.key,r),r},JRe=qbe.bind(null,"");var QV;QV=kR;class Gbe{constructor(t){this.#i=[],this.#e=[],this.#r=[],this.#l=[],this.#u=[],this.#c=[],this.#h=[],this.#d=[],this.#o=[],this.#a=!1,this.P=new C_,this.connectedCalled=!1,this.loadedCalled=!1,this[QV]=!0,this.#s=[];const i=this,r=t??eT();i.#t=r,i.ready=i.P.promise,i.#n=Mj(i),i.component=r,i.#t.addController(i),i.#t.manager===void 0||(dbe(i),queueMicrotask(()=>i.catchUpLifecycle()))}#i;#e;#r;#l;#u;#c;#h;#d;#o;#a;#t;catchUpLifecycle(){const{manager:t}=this.#t;t.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),t.#a&&this.triggerLoad().then(()=>t.loadedCalled&&this.triggerLoaded()).catch(console.error)}#n;get exports(){return this.#n}set exports(t){const i=this.#n;i!==t&&(this.#n=t,this.#s.forEach(Qi),this.connectedCalled&&this.O!==!1&&this.#t.requestUpdate(this.O,i)),this.P.resolve(t)}setProvisionalExports(t,i=!0){this.#n=i?Mj(t):t,this.#s.forEach(Qi)}#s;watchExports(t){const i=()=>t(this.#n);return this.#s.push(i),()=>void this.#s.splice(this.#s.indexOf(i),1)}get use(){return S0(this.#t),mbe}get useRef(){return S0(this.#t),gbe}get useRefSync(){return S0(this.#t),IR}controllerRemoved(){this.#t.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(t){this.#i.push(t)}onDisconnected(t){this.#e.push(t)}onLoad(t){this.#r.push(t)}onLoaded(t){this.#l.push(t)}onUpdate(t){this.#u.push(t)}onUpdated(t){this.#c.push(t)}onDestroy(t){this.#h.push(t)}onLifecycle(t){this.#d.push(t),this.connectedCalled&&this.#t.el.isConnected&&this.#f(t)}triggerConnected(){const t=this;t.hostConnected&&Qi(t.hostConnected,t),t.#i.forEach(Qi),t.triggerLifecycle(),t.connectedCalled=!0}triggerDisconnected(){const t=this;t.hostDisconnected&&Qi(t.hostDisconnected,t),t.#e.forEach(Qi),t.#o.forEach(Qi),t.#o=[]}async triggerLoad(){if(this.#a)return;this.#a=!0;const t=this;t.hostLoad&&await iP(t.hostLoad,t),this.#r.length>0&&await Promise.allSettled(this.#r.map(iP)),this.P.resolve(this.#n)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&Qi(this.hostLoaded,this),this.#l.forEach(Qi),this.loadedCalled=!0)}triggerUpdate(t){this.hostUpdate&&Qi(this.hostUpdate,this,t),this.#u.forEach(Tj,t)}triggerUpdated(t){this.hostUpdated&&Qi(this.hostUpdated,this,t),this.#c.forEach(Tj,t)}triggerDestroy(){this.hostDestroy&&Qi(this.hostDestroy,this),this.#h.forEach(Qi)}triggerLifecycle(){this.hostLifecycle&&this.#f(()=>this.hostLifecycle()),this.#d.forEach(this.#f,this)}#f(t){S0(this.#t);const i=Qi(t);(Array.isArray(i)?i:[i]).forEach(n=>{typeof n=="function"?this.#o.push(n):typeof n=="object"&&typeof n.remove=="function"&&this.#o.push(n.remove)})}}function Tj(e){Qi(e,void 0,this)}const Vbe=Gbe,Mj=e=>{if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t={get(r,n,s){if(!((n==="exports"||n==="_exports")&&n in r&&r[n]===i)&&(n in r||n in Promise.prototype||typeof n=="symbol"))return typeof r=="function"?r[n]:Reflect.get(r,n,s)}},i=new Proxy(e,t);return i},Hbe=e=>e.replace(Wbe,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),Wbe=/[A-Z]+(?![a-z])|[A-Z]/gu,Zbe=1,Ybe=2,Jbe=4,Xbe=8,Kbe=16,Qbe=32,eSe=64,eH=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const i=t;return i.manager?.loadedCalled||(i.J??i._offspring).push(e),(i.I??i._postLoad).promise}return!1},Ej={};function tH(){}const PS=Object.defineProperty,tSe=globalThis.HTMLElement??tH;var Es,Pu,vg,A_,sP;const GR=class GR extends tSe{constructor(){var n;super();ua(this,A_);ua(this,Es);ua(this,Pu);ua(this,vg);ca(this,Pu,{}),ca(this,vg,[]),this.I=new C_,this.H=new C_,this.J=[];const i=this,r=i.constructor;i._offspring=i.J,i._postLoad=i.I,r.C?.forEach(s=>{Object.hasOwn(i,s)&&(ui(i,Pu)[s]=i[s],delete i[s])}),r.A?av(n=i,A_,sP).call(n,{a:r.A}):r.B.then(async s=>{var a;await r.K.p,av(a=i,A_,sP).call(a,await(s.default?.then(u=>typeof u=="function"?{a:u}:u)??s))}).catch(s=>{i.H.reject(s),setTimeout(()=>{throw s})})}static F(){for(const i of this.C??[])PS(this.prototype,i,{configurable:!0,enumerable:!0,get(){return ui(this,Pu)[i]},set(r){ui(this,Pu)[i]=r}});for(const i of this.E??[])PS(this.prototype,i,{async value(...r){return ui(this,Es)||await this.H.promise,await ui(this,Es)[i](...r)},configurable:!0});for(const i of this.D??[])PS(this.prototype,i,{value(...r){return ui(this,Es)[i](...r)},configurable:!0})}get manager(){return ui(this,Es)?.manager}attributeChangedCallback(i,r,n){ui(this,Es)?.attributeChangedCallback(i,r,n),ui(this,Es)||ui(this,vg).push(i)}connectedCallback(){ui(this,Es)?ui(this,Es).connectedCallback?.():queueMicrotask(()=>this.G=eH(this))}disconnectedCallback(){ui(this,Es)?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){ui(this,Es)?.requestUpdate()}};Es=new WeakMap,Pu=new WeakMap,vg=new WeakMap,A_=new WeakSet,sP=function(i){const r=this.constructor,n=r.L,s=ui(this,Pu),a=Object.values(i).find(x=>x.L===n),u=`${n}--lazy`;let h=a;for(;h&&!Object.hasOwn(h,"lumina");)h=Object.getPrototypeOf(h);rSe(h),!r.A&&(r.A=a,customElements.define(u,a)),a.N=this;const v=document.createElement(u);a.N=void 0,ca(this,Es,v),ca(this,Pu,v),ui(this,vg).forEach(x=>v.attributeChangedCallback(x,null,this.getAttribute(x))),Object.entries(s).forEach(iSe,v);const w=this.isConnected;(w||this.G)&&(v.connectedCallback?.(),w||v.disconnectedCallback())},GR.lumina=!0;let $j=GR;function iSe([e,t]){this[e]=t}const rSe=e=>{const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(n,s){i.setAttribute.call(this.el,n,s)},t.removeAttribute=function(n){i.removeAttribute.call(this.el,n)},PS(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iH={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},rH=e=>(...t)=>({_$litDirective$:e,values:t});let nH=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nSe=rH(class extends nH{constructor(e){if(super(e),e.type!==iH.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((r=>r!==""))));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const i=e.element.classList;for(const r of this.st)r in t||(i.remove(r),this.st.delete(r));for(const r in t){const n=!!t[r];n===this.st.has(r)||this.nt?.has(r)||(n?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return Oh}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sH="important",sSe=" !"+sH,oSe=rH(class extends nH{constructor(e){if(super(e),e.type!==iH.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,i)=>{const r=e[i];return r==null?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`}),"")}update(e,[t]){const{style:i}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const n=t[r];if(n!=null){this.ft.add(r);const s=typeof n=="string"&&n.endsWith(sSe);r.includes("-")||s?i.setProperty(r,s?n.slice(0,-11):n,s?sH:""):i[r]=n}}return Oh}});class aSe extends Vbe{constructor(t){super(t),this.destroyed=!1,this.R=!1,this.V=pr,this.T=[],this.#r=new WeakMap,this.#e=t,this.exports=void 0,this.hasDestroy=oP in t&&typeof t.destroy=="function",Qm.prototype.addController.call(t,{hostConnected:()=>{if(this.destroyed){const i=t.el.localName;throw t.el.remove(),new Error(`The ${i} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${oP} prop.`)}this.#i!==void 0&&clearTimeout(this.#i),rT();for(const i of t.M)"triggerConnected"in i?i.triggerConnected():Qi(i.hostConnected,i)},hostDisconnected:()=>{for(const i of t.M)"triggerDisconnected"in i?i.triggerDisconnected():Qi(i.hostDisconnected,i);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const i of t.M)"triggerUpdate"in i?i.triggerUpdate(this.Q):Qi(i.hostUpdate,i,this.Q)},hostUpdated:()=>{for(const i of t.M)"triggerUpdated"in i?i.triggerUpdated(this.Q):Qi(i.hostUpdated,i,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),S0(t)}#i;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#i=void 0,this.destroyed=!0;for(const t of this.#e.M)"triggerDestroy"in t?t.triggerDestroy():Qi(t.hostDestroy,t);this.#e.M.splice(0)}}U(){if(this.#i!==void 0&&clearTimeout(this.#i),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const t=()=>void this.#e.destroy();this.#i=jbe(t,lSe)}}S(t,i){const r=this.T;this.V=pr,this.T=[],r.forEach(n=>n(t,i))}#r;W(t,i){(typeof i=="object"&&i!==null||typeof i=="function")&&this.#r.set(i,t)}X(t){if(typeof t=="object"&&t!==null||typeof t=="function")return this.#r.get(t)}}let lSe=1e3;const oP="autoDestroyDisabled";var lf,R_,L_,uf,ll,qg,oH,aH;const X0=class X0 extends Qm{constructor(){super();ua(this,qg);ua(this,lf);ua(this,R_);ua(this,L_);ua(this,uf);ua(this,ll);this.M=[],this.manager=new aSe(this);const i=this,r=i.constructor,n=r.N,s=r.K.o,a=X0.prototype.shouldUpdate;ca(i,uf,n?.H??new C_),i.I=n?.I??new C_,i.J=n?.J??[],i._offspring=i.J,i._postLoad=i.I,i.el=n??i,ca(i,L_,i.enableUpdating),i.enableUpdating=tH,i.shouldUpdate!==a&&(ca(i,R_,i.shouldUpdate),i.shouldUpdate=a),s&&(ca(i,lf,new Map),r.elementProperties.forEach((u,h)=>ui(i,lf).set(h,s())))}static finalizeStyles(i){const r=super.finalizeStyles(i),n=this.shadowRootOptions===Ej;return this.K?.commonStyles===void 0||n?r:[this.K.commonStyles,...r]}static createProperty(i,r){const n=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0,a=s?.hasChanged??jR,u={attribute:n&Zbe&&typeof i=="string"?Hbe(i):!1,reflect:!!(n&Ybe),type:n&Jbe?Boolean:n&Xbe?Number:void 0,state:!!(n&Kbe),readOnly:!!(n&Qbe),noAccessor:!!(n&eSe),c:!1,...s,hasChanged(h,f){const v=a(h,f);return u.c=v,v}};super.createProperty(i,u)}static getPropertyDescriptor(i,r,n){const s=this.K,a=super.getPropertyDescriptor(i,r,n);return n.d=a,{...a,get(){return s.t?.(ui(this,lf).get(i)),a.get?.call(this)},set(u){const h=this.manager;if(n.readOnly&&!rP&&(h.R||h.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${u}"`);a.set.call(this,u??void 0),n.c&&ui(this,lf)?.get(i)?.notify(),h.T.length>0&&(rT(),h?.S(i,u))}}}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const i=this.constructor.K.c?.(()=>this.requestUpdate());ca(this,ll,i);const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>av(this,qg,aH).call(this).catch(n=>{ui(this,uf).reject(n),setTimeout(()=>{throw n})})):i&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),ui(this,ll)?.destroy(),ca(this,ll,void 0)}createRenderRoot(){const i=this.el.shadowRoot,r=this.constructor,n=r.shadowRootOptions,a=i??(n===Ej?this.el:this.el.attachShadow(n));if(this.isConnected){const u=a.getRootNode();u.adoptedStyleSheets=[...u.adoptedStyleSheets,...r.elementStyles.map(h=>"styleSheet"in h?h.styleSheet:h)]}return a}shouldUpdate(i){var r;return this.manager.Q=i,((r=ui(this,R_))==null?void 0:r.call(this,i))??!0}update(i){ui(this,ll)?av(this,qg,oH).call(this,i):super.update(i)}listen(i,r,n){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(i,s,n),()=>this.el.removeEventListener(i,s,n)))}listenOn(i,r,n,s){const a=n?.bind(this)??n;this.manager.onLifecycle(()=>(i.addEventListener(r,a,s),()=>i.removeEventListener(r,a,s)))}async componentOnReady(){return await ui(this,uf).promise,this}addController(i){this.M.push(i),!(kR in i)&&this.renderRoot&&this.el.isConnected&&i.hostConnected?.()}removeController(i){this.M.splice(this.M.indexOf(i),1),i.controllerRemoved?.()}};lf=new WeakMap,R_=new WeakMap,L_=new WeakMap,uf=new WeakMap,ll=new WeakMap,qg=new WeakSet,oH=function(i){try{ui(this,ll).clear(),this.constructor.K.r(ui(this,ll),()=>UI(X0.prototype,this,"update").call(this,i))}catch(r){throw ui(this,ll).clear(),r}},aH=async function(){const i=this.el.G??eH(this.el);i&&await i;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push(iP(s.hostLoad,s));await Promise.all(r),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(s=>s.has(oP)&&this.manager.U()),ui(this,L_).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const n=this.J.filter(s=>!s.manager?.loadedCalled);n.length&&await Promise.allSettled(n.map(async s=>await s.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():Qi(s.hostLoaded,s);this.loaded?.(),ui(this,uf).resolve()},X0.lumina=!0;let Cj=X0;const uSe=e=>{let t;const i=n=>{t=new URL(n,globalThis.location?.href||void 0).href},r={...e,getAssetPath(n){const s=new URL(n,t);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:i,customElement(n,s){s.K=r,s.L=n,customElements.get(n)||customElements.define(n,s)}};return i(e.defaultAssetPath),r},KRe=e=>typeof e=="object"&&e!=null?nSe(e):e,QRe=e=>typeof e=="object"&&e!=null?oSe(e):e,eLe=pr;function tLe(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)}const iLe={toAttribute:e=>e===!0?"":e===!1?null:e},cSe="calcite-mode-auto",hSe="calcite-mode-dark",rLe={rtl:"calcite--rtl"},nLe={filter:250,nextTick:0,resize:150,reposition:100},sLe=25;function Oj(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(hSe)||e.contains(cSe)&&t?"dark":"light",r=a=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:a}})),n=a=>{s!==a&&r(a),s=a};let s=i();r(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>n(a.matches?"dark":"light")),new MutationObserver(()=>n(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const J0=globalThis.calciteConfig,oLe=J0?.focusTrapStack||[],aLe=J0?.logLevel||"info",Pj="3.3.3",dSe="2025-10-08",fSe="7391af08e";function pSe(){if(J0&&J0.version)return;console.info(`Using Calcite Components ${Pj} [Date: ${dSe}, Revision: ${fSe}]`);const e=J0||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:Pj,writable:!1}),globalThis.calciteConfig=e}document.readyState==="interactive"?Oj():document.addEventListener("DOMContentLoaded",Oj,{once:!0});queueMicrotask(pSe);const mSe=uSe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:lLe,getAssetPath:uLe,setAssetPath:gSe}=mSe;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */let lH=!1;const ySe=e=>{lH=!0,gSe(e)};let uH;function vSe(){lH||ySe(qo(Ki(uH)))}function p1(e){const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push(e[i]?.());return t.length>0?Promise.all(t):null}uH="components/assets";const cH=Symbol("widget"),hH=Symbol("widget-test-data"),_Se=[],wSe={},q2=new WeakMap;function dH(e,t){let i=t.children;if(i?.length)for(let n=0;n<i.length;++n)i[n]=dH(e,i[n]);else i=_Se;const r=t.vnodeSelector;if(G2(r)){const n=t.properties||wSe,s=n.key||r,a={key:s,afterCreate:bSe,afterUpdate:SSe,afterRemoved:fH,parentWidget:e,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function bSe(e,t,i,{parentWidget:r,widgetConstructor:n,widgetProperties:s}){const a=new n(s);a.container=e,q2.set(e,a),a.afterCreate?.(a,e),r.addHandles(jt(()=>fH(e))),queueMicrotask(()=>{a[hH].projector?.renderNow()})}function SSe(e,t,i,{widgetProperties:r}){const n=q2.get(e);n&&(n.set(r),n.afterUpdate?.(n,e))}function fH(e){const t=q2.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),q2.delete(e))}function G2(e){return typeof e=="function"&&e[cH]}const Aj=new Set;function xSe(e){Aj.add(e),e.finally(()=>Aj.delete(e))}function TSe(e){return jt()}var Rj;let MSe=0;function pH(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(e[r]!=null&&t[r]!=null&&typeof e[r]=="object"&&typeof t[r]=="object"?pH(e[r],t[r]):e[r]=t[r]);return e}const ESe=cbe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(r,n,s,a)=>{const u=t?.(r,n,s,a),h=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in s)||h){const f=r[2].toLowerCase()+r.slice(3),v=M=>u?.call(s,M);s.addEventListener(f,v,h);const w=()=>s.removeEventListener(f,v,h),x=a.afterRemoved;a.afterRemoved=M=>{x?.(M),w()}}return u}},handleInterceptedEvent(e,t,i,r){const{eventPhase:n,type:s}=r,a=n===Event.CAPTURING_PHASE;let u=`on${s}${a?"capture":""}`;const h=t.properties;(h&&u in h||(u=`on${s[0].toUpperCase()}${s.slice(1)}${a?"Capture":""}`,h&&u in h))&&(qV(),e.scheduleRender(),h[u].call(h.bind||i,r))}});let R3=!1;var Sf;let Kr=(Sf=class extends j9(Bf){constructor(t,i){super(t,i),this._attached=!1,this._projector=ESe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=ute(async()=>{if(this._messageBundleProps?.length){const h=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:f,propertyName:v})=>{if(this.destroyed)return;let w=await Ex(f);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(w=pH(ke(w),this.uiStrings)),this[v]=w)}));if(this.destroyed)return;for(const f of h)f.status==="rejected"&&ze.getLogger(this).error("widget-intl:locale-error",this.declaredClass,f.reason)}await this.loadLocale()}),this.addHandles(TSe()),vSe();const r="esri-widget-uid-"+e1(),n=this.render.bind(this);this._trackingTarget=new gx(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),a=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const h=n()??s(),f=h.properties??={};if(f.key??=r,G2(h.vnodeSelector)){if(!this.visible)return s()}else this.visible?f.styles||(f.styles={}):(f.class="",f.styles={display:"none"}),f.styles.display??="";let v=0;return h.children?.forEach(w=>{G2(w.vnodeSelector)||(w.properties??={},w.properties.key??=`${this.id}--${v++}`)}),dH(this,h)};this.render=()=>{if(R3)return a();let h=Xwe(this)??null;if(h)return h;this._trackingTarget.clear(),R3=!0;try{h=Nu(this._trackingTarget,a)}catch(f){throw ze.getLogger(this).error(f),f}finally{R3=!1}return h&&Kwe(this,h),h};const u=this.beforeFirstRender();u?this._resourcesFetch=u.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),xSe(this._resourcesFetch)}normalizeCtorArgs(t,i){const r={...t};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){const t=this.loadDependencies();return this._messageBundleProps?.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(e4):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(er(this._trackingTarget),er(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,C3(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return rR(t)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+MSe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(Rj=cH,hH)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(C3(this),this._projector.scheduleRender())}classes(...t){return GV.apply(this,t)}renderNow(){C3(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(ht(()=>this.viewModel,(i,r)=>{r&&this.removeHandles("delegated-events"),i&&dx(i)&&this.addHandles(this._delegatedEventNames.map(n=>Zg(i,n,s=>{this.emit(n,s)})),"delegated-events")},On)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(e4),this.scheduleRender()};this.addHandles([Mx(t),ht(()=>this.uiStrings,t)]),this.addHandles(Ns(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0}))}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){this._attached&&(this._projector.detach(this.render),this._attached=!1),t?.parentNode?.removeChild(t)}},Sf[Rj]=!0,Sf.vnodeSelector="div",Sf);p([_()],Kr.prototype,"_readyForTrueRender",void 0),p([_({value:null})],Kr.prototype,"container",null),p([xr("container")],Kr.prototype,"castContainer",null),p([_()],Kr.prototype,"icon",null),p([_()],Kr.prototype,"id",null),p([_()],Kr.prototype,"label",null),p([_()],Kr.prototype,"renderable",null),p([_()],Kr.prototype,"uiStrings",void 0),p([_()],Kr.prototype,"viewModel",void 0),p([_({value:!0})],Kr.prototype,"visible",null),p([_()],Kr.prototype,"key",void 0),p([_()],Kr.prototype,"children",void 0),p([_()],Kr.prototype,"afterCreate",void 0),p([_()],Kr.prototype,"afterUpdate",void 0),p([_()],Kr.prototype,"afterRemoved",void 0),Kr=p([ie("esri.widgets.Widget")],Kr);const uy=Kr,$Se=new Map;function CSe(e){return $Se.get(e)}function Lj(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function OSe(e,t){return e.length!==t.length||e.some((i,r)=>i.text!==t[r].text)}function Tb(e,t,i){!i||!t||e.find(r=>r.layerView===t&&r.text===i)||e.push({text:i,layerView:t})}function PSe(e){return e.type==="bing-maps"}const Ja=[];let wm=class extends et{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Fe,this.view=null,this._allLayerViewsChange=i=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=this.view?.allLayerViews;r&&(this.addHandles(r.map(n=>ht(()=>[n.suspended,n.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(n=>{n.declaredClass==="esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i?.removed&&i.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.addHandles([kf(()=>this.view?.allLayerViews,"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Ns(()=>this.view?.stationary===!0,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,i=t?.allLayerViews;Ja.length=0;let r=!1,n=null;if(!t||!i)return void this._clear();i.forEach(a=>{if(a.suspended||!a.layer?.attributionVisible)return;const u=a.layer;if(Lj(u,"user"))return void Tb(Ja,a,u.copyright);if(u.type==="integrated-mesh-3dtiles"&&u.hasGoogleUrl&&(r=!0,n=a),u.hasAttributionData){if(this._fetchedAttributionData.has(a)){const f=this._fetchedAttributionData.get(a);return void(f?Tb(Ja,a,this._getDynamicAttribution(f,t,u)):Lj(u)&&Tb(Ja,a,u.copyright))}return void this._fetchAttributionData(a)}const h="portalItem"in u?u.portalItem?.accessInformation:void 0;Tb(Ja,a,h||u.copyright)});const s=i.find(a=>a.layer?.type==="integrated-mesh-3dtiles");if(this.view&&s){const a=CSe(this.view);if(a){const u=a.getAttributionText();for(let h=u.length-1;h>-1;--h)Ja.unshift({text:u[h],layerView:s})}}r&&n&&Ja.unshift({text:"Google Maps",layerView:n}),OSe(this.items,Ja)&&(this.items.removeAll(),this.items.addMany(Ja)),Ja.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const i=await z9(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const r=i.ok?this._createContributionIndex(i.value,PSe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,r)}this._updateAttributionItems()}_createContributionIndex(t,i){const r=t.contributors,n={};if(!r)return n;for(let s=0;s<r.length;s++){const a=r[s],u=a.coverageAreas;if(!u)return;for(const h of u){const f=h.bbox,v=h.zoomMin-(i&&h.zoomMin?1:0),w=h.zoomMax-(i&&h.zoomMax?1:0),x=new It({xmin:f[1],ymin:f[0],xmax:f[3],ymax:f[2],spatialReference:Be.WGS84}),M={extent:mh(x),attribution:a.attribution||"",score:h.score!=null?h.score:100,id:s};for(let P=v;P<=w;P++)n[P]??=[],n[P].push(M)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,i,r){const{extent:n,scale:s}=i;let a=r.tileInfo?.scaleToZoom(s)??0;if(a=Math.min(t.maxKey??0,Math.round(a)),!n||a==null||a<=-1)return"";const u=t[a],h=W_(n.center.clone().normalize(),Be.WebMercator),f=new Set;return u?u.filter(v=>{const w=v.id,x=!f.has(w)&&h&&v.extent&&Z_(v.extent,h);return x&&f.add(w),x}).sort((v,w)=>w.score-v.score||v.objectId-w.objectId).map(v=>v.attribution).join(", "):""}};p([_({readOnly:!0,type:Fe})],wm.prototype,"items",void 0),p([_({readOnly:!0})],wm.prototype,"state",null),p([_()],wm.prototype,"view",void 0),wm=p([ie("esri.widgets.Attribution.AttributionViewModel")],wm);const mH=wm,rn={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function Vc(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:RSe(e[t])}}}function ASe(e){const t=e?.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function RSe(e){return function(t,...i){ASe(t)?ebe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function Ph(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var LSe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},gH=function(e,t){for(var i=0,r=e.length;i<r;i++){var n=e[i];Array.isArray(n)?gH(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=LSe(n)),t.push(n))}},kSe=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var n=[];return gH(i,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function He(e,t,...i){return typeof e!="function"||G2(e)?kSe(e,t??null,...i):e(t,...i)}function hLe(...e){return e}const Zp="esri-attribution",Yp={base:Zp,poweredBy:`${Zp}__powered-by`,sources:`${Zp}__sources`,open:`${Zp}--open`,sourcesOpen:`${Zp}__sources--open`,link:`${Zp}__link`};let Hn=class extends uy{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._sourcesNode=null,this._overflowRequestAnimationFrame=null,this._resizeObserver=new ResizeObserver(r=>{r.forEach(({target:n})=>{this._scheduleOverflowCheck(n)})}),this._mutationObserver=new MutationObserver(r=>{let n=!1;for(const s of r)if(s.type==="childList"||s.type==="characterData"||s.type==="attributes"){n=!0;break}n&&this._sourcesNode&&this._scheduleOverflowCheck(this._sourcesNode)}),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new mH}initialize(){this.addHandles(kf(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect(),this._mutationObserver?.disconnect(),this._overflowRequestAnimationFrame!=null&&(cancelAnimationFrame(this._overflowRequestAnimationFrame),this._overflowRequestAnimationFrame=null)}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}_scheduleOverflowCheck(t){this._overflowRequestAnimationFrame==null&&(this._overflowRequestAnimationFrame=requestAnimationFrame(()=>{this._overflowRequestAnimationFrame=null,this._checkSourceTextOverflow(t)}))}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[Yp.open]:this._isOpen};return He("div",{bind:this,class:this.classes(Yp.base,rn.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return He("div",{class:Yp.poweredBy},"Powered by"," ",He("a",{class:Yp.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:n}=this,s={[Yp.sourcesOpen]:t,[rn.interactive]:i};return He("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Yp.sources,s),innerHTML:n,tabIndex:r})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._sourcesNode=t,this._resizeObserver.observe(t),this._mutationObserver.observe(t,{subtree:!0,childList:!0,characterData:!0,attributes:!0}),this._scheduleOverflowCheck(t)}_checkSourceTextOverflow(t){let i=!1;const{clientHeight:r,clientWidth:n,scrollWidth:s}=t,a=s>n,u=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,u&&(i=!0),this._isOpen){const h=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,h&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};p([_()],Hn.prototype,"_isOpen",void 0),p([_()],Hn.prototype,"_isInteractive",null),p([_()],Hn.prototype,"_attributionTextOverflowed",void 0),p([_()],Hn.prototype,"_prevSourceNodeHeight",void 0),p([_({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Hn.prototype,"attributionText",null),p([_()],Hn.prototype,"icon",null),p([_()],Hn.prototype,"itemDelimiter",void 0),p([_()],Hn.prototype,"label",null),p([_(),Ph("esri/widgets/Attribution/t9n/Attribution")],Hn.prototype,"messages",void 0),p([_()],Hn.prototype,"view",null),p([_({type:mH})],Hn.prototype,"viewModel",void 0),p([Vc()],Hn.prototype,"_toggleState",null),Hn=p([ie("esri.widgets.Attribution")],Hn);const ISe=Hn;function NSe(){const e=pe("mapview-essential-goto-duration");return e==null?e:e}function DSe(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}function jSe(e,t,i){return e.goTo(t,i)}const qR=e=>{const t=e;let i=class extends t{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return R8(n),this.goToOverride?this.goToOverride(n,r):jSe(n,r.target,r.options)}};return p([_()],i.prototype,"goToOverride",void 0),p([_()],i.prototype,"view",void 0),i=p([ie("esri.widgets.support.GoTo")],i),i};let Vd=class extends qR(et){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(nn)}destroy(){this.view=null}get canShowNorth(){return DSe(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:NSe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?ht(()=>t?.rotation,this._updateForRotation,nn):ht(()=>t?.camera,this._updateForCamera,nn))}_watchForView(t){this.addHandles(ht(()=>this.view,this._updateRotationWatcher,t))}};p([_({readOnly:!0})],Vd.prototype,"canShowNorth",null),p([_({readOnly:!0})],Vd.prototype,"orientation",void 0),p([_({readOnly:!0})],Vd.prototype,"state",null),p([_()],Vd.prototype,"view",void 0),Vd=p([ie("esri.widgets.Compass.CompassViewModel")],Vd);const yH=Vd,kj="esri-compass",Ij={base:kj,iconContainer:`${kj}__icon-container`};let gu=class extends uy{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new yH,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return p1({button:()=>Ne(()=>import("./index-CihYIzjX.js"),__vite__mapDeps([381,382,383,384,385,386,387,388,389,390,391,392,393,394]),import.meta.url),icon:()=>Ne(()=>import("./index-BG8_5JDe.js").then(t=>t.i),__vite__mapDeps([386,387,388]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:i}=this.viewModel,{messages:r}=this;return He("div",{class:this.classes(Ij.base,rn.widget)},He("calcite-button",{class:rn.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},He("div",{"aria-hidden":"true",class:Ij.iconContainer,title:r.reset},He("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};p([_()],gu.prototype,"goToOverride",null),p([_()],gu.prototype,"icon",null),p([_()],gu.prototype,"label",null),p([_(),Ph("esri/widgets/Compass/t9n/Compass")],gu.prototype,"messages",void 0),p([_()],gu.prototype,"view",null),p([_({type:yH})],gu.prototype,"viewModel",void 0),gu=p([ie("esri.widgets.Compass")],gu);const zSe=gu,Nj="esri-navigation-toggle",Dj={base:Nj,isLayoutHorizontal:`${Nj}--horizontal`};let bm=class extends et{constructor(t){super(t),this._navigationMode="pan",this.view=null,t?.isDefaultViewModel||W8(ze.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(t={}){const{isDefaultViewModel:i,...r}=t;return r}initialize(){this.addHandles(Ns(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){const t=this.view?.navigation?.actionMap;if(!t)return;const i=this._navigationMode==="pan";t.dragPrimary=i?"pan":"rotate",t.dragSecondary=i?"rotate":"pan"}};p([_({readOnly:!0})],bm.prototype,"state",null),p([_()],bm.prototype,"_navigationMode",void 0),p([_()],bm.prototype,"view",void 0),bm=p([ie("esri.widgets.NavigationToggle.NavigationToggleViewModel")],bm);const vH=bm;let yu=class extends uy{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new vH({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const r=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;tbe(r),this.toggle()},t?.isDefaultUI||YP(ze.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(t={}){const{isDefaultUI:i,...r}=t;return r}loadDependencies(){return p1({button:()=>Ne(()=>import("./index-CihYIzjX.js"),__vite__mapDeps([381,382,383,384,385,386,387,388,389,390,391,392,393,394]),import.meta.url)})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t=this.viewModel?.state==="disabled",i=this.viewModel?.navigationMode==="pan",r=this.messages.toggle;return He("div",{class:this.classes(Dj.base,rn.widget,{[Dj.isLayoutHorizontal]:this.layout==="horizontal"})},He("calcite-button",{afterCreate:n=>{this._panButton=n},appearance:i?"outline-fill":"solid",class:rn.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),He("calcite-button",{afterCreate:n=>{this._rotateButton=n},appearance:i?"solid":"outline-fill",class:rn.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};p([_()],yu.prototype,"icon",null),p([_()],yu.prototype,"label",null),p([_({value:"vertical"})],yu.prototype,"layout",null),p([_(),Ph("esri/widgets/NavigationToggle/t9n/NavigationToggle")],yu.prototype,"messages",void 0),p([_()],yu.prototype,"view",null),p([_({type:vH})],yu.prototype,"viewModel",void 0),yu=p([ie("esri.widgets.NavigationToggle")],yu);const USe=yu;let Hd=class extends et{get canZoomIn(){if(!this.view?.ready)return!1;const i=this.view?.constraints?.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){const{view:t}=this;if(!t?.ready)return!1;const r=t.constraints?.effectiveMinScale;return r===0||this._scale<r}get _scale(){const t=this.view?.animation?.target;return(t&&"then"in t?void 0:t?.scale)??this.view?.scale??0}};p([_({readOnly:!0})],Hd.prototype,"canZoomIn",null),p([_({readOnly:!0})],Hd.prototype,"canZoomOut",null),p([_()],Hd.prototype,"view",void 0),p([_()],Hd.prototype,"_scale",null),Hd=p([ie("esri.widgets.Zoom.ZoomConditions2D")],Hd);const FSe=Hd;let Sm=class extends et{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};p([_({readOnly:!0})],Sm.prototype,"canZoomIn",null),p([_({readOnly:!0})],Sm.prototype,"canZoomOut",null),p([_()],Sm.prototype,"view",void 0),Sm=p([ie("esri.widgets.Zoom.ZoomConditions3D")],Sm);const BSe=Sm;let Hc=class extends et{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new FSe({view:t}):t.type==="3d"&&(this._zoomConditions=new BSe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){const t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():VS(t.goTo({zoomFactor:2})))}zoomOut(){const t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():VS(t.goTo({zoomFactor:.5})))}};p([_()],Hc.prototype,"_zoomConditions",void 0),p([_()],Hc.prototype,"canZoomIn",null),p([_()],Hc.prototype,"canZoomOut",null),p([_({readOnly:!0})],Hc.prototype,"state",null),p([_()],Hc.prototype,"view",null),Hc=p([ie("esri.widgets.Zoom.ZoomViewModel")],Hc);const _H=Hc,jj={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let vu=class extends uy{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new _H,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return p1({button:()=>Ne(()=>import("./index-CihYIzjX.js"),__vite__mapDeps([381,382,383,384,385,386,387,388,389,390,391,392,393,394]),import.meta.url)})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[jj.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:n,zoomOut:s}=this.messages;return He("div",{class:this.classes(jj.base,rn.widget,t)},He("calcite-button",{class:rn.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),He("calcite-button",{class:rn.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};p([_()],vu.prototype,"icon",null),p([_()],vu.prototype,"label",null),p([_({value:"vertical"})],vu.prototype,"layout",null),p([_(),Ph("esri/widgets/Zoom/t9n/Zoom")],vu.prototype,"messages",void 0),p([_()],vu.prototype,"view",null),p([_({type:_H})],vu.prototype,"viewModel",void 0),vu=p([ie("esri.widgets.Zoom")],vu);const qSe=vu;function GSe(e){return e?.view!==void 0}let AS=class extends nbe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const n=this._find(r),s=n?.widget;GSe(s)&&(s.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([ht(()=>this.components,this._componentsWatcher,nn),ht(()=>this.view,this._updateViewAwareWidgets,nn)])}_add(t,i,r,n,s){let a=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;a=this._createComponent(t)}super._add(a,i,r,n,s)}_removeComponents(t){t.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(t){this.constructed&&t.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(t){const i=this._createWidget(t);return new CS({id:t,node:i})}_createWidget(t){const i=this.view;switch(t){case"attribution":return new ISe({view:i});case"compass":return new zSe({view:i});case"navigation-toggle":return new USe({view:i,isDefaultUI:!0});case"zoom":return new qSe({view:i})}}};p([_()],AS.prototype,"components",void 0),AS=p([ie("esri.views.ui.DefaultUI")],AS);const wH=AS;let RS=class extends wH{constructor(t){super(t),this.components=["attribution","zoom"]}};p([_()],RS.prototype,"components",void 0),RS=p([ie("esri.views.ui.2d.DefaultUI2D")],RS);const bH=RS;let VSe=class{constructor(t={},i={},r=8,n=1/0){this.disabledExtensions=t,this.debugWebGLExtensions=i,this.maxAnisotropy=r,this.maxPreferredTexturePixels=n}},HSe=class aP{constructor(t,i,r=""){this.major=t,this.minor=i,this._context=r}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}greaterEqual(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new $e(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new aP(this.major,this.minor,this._context)}static parse(t,i=""){const[r,n]=t.split("."),s=/^\s*\d+\s*$/;if(!r?.match||!s.test(r))throw new $e((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!n?.match||!s.test(n))throw new $e((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(r,10),u=parseInt(n,10);return new aP(a,u,i)}},WSe=class extends HSe{constructor(t,i){super(t,i,"webmap")}};function L3(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}new WSe(2,35);var lP;let LS=lP=class extends tt{constructor(e){super(e),this.color=new zt([0,0,0,1])}clone(){return new lP(ke({color:this.color}))}};p([_({type:zt,json:{write:!0}})],LS.prototype,"color",void 0),LS=lP=p([ie("esri.webmap.background.ColorBackground")],LS);const ZSe=LS;let SH,xH,TH,MH,EH,$H,CH;async function YSe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:n,GridView2D:s,Stage:a}]=await Promise.all([Ne(()=>import("./webglDeps-CefHllqG.js"),__vite__mapDeps([277,204,278,279,280,9,76]),import.meta.url),Ne(()=>import("./mapViewDeps-B63YcBo9.js"),__vite__mapDeps([281,155,36,37,120,121,111,47,9,122,113,114,119,123,107,124,69,282,283,204,278,279,195,108,284,115,280,76,203,75,285,106,143,286,231,174,177,49,50,14,116,128,287,125,126,288,66,61,109,59,60,289,34,277,290,138,291,292,173,293,193,194,294,93,105,110,112,104,54,53,295,127,296,118,28,29,30,297,129,134,102,298,299,300,301,200,234,302,303]),import.meta.url)]);xH=e,TH=t,MH=i,EH=r,$H=n,CH=s,SH=a}var _g;let Nt=(_g=class extends D_e(p0e(Gde(mpe(Qfe(zye))))){get timeZone(){return super.timeZone}set timeZone(t){super.timeZone=t}constructor(t){super(t),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Ma({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new Zx({actionMap:new bR({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.analyses=new jg,this.analysisViewManager=new Lwe({importAnalysisViewModule:i=>E1e(i),view:this}),this.floors=new Fe,this.grid=null,this.map=null,this.timeline=new zV,this.type="2d",this.view2dType=null,this.ui=new bH,this.animationsEnabled=!0,this.test={takeScreenshot:async i=>Cwe(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},Fde()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=er(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new N1e(this.featuresTilingScheme)}get constraintsInfo(){const t=this.defaultsFromMap?.tileInfo,i=this.spatialReference;return{lods:t?.spatialReference?.equals(i)?t.lods:null,spatialReference:i}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:t,constraints:i,center:r,viewpoint:n,extent:s}=this;let a=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!s&&(i?.effectiveLODs||(a=-1),(!r||t===0&&a===-1)&&(n?.targetGeometry==null||n.targetGeometry.type!=="extent"&&!n.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const i=t.targetGeometry,r=this.spatialReference;return qF(i.spatialReference,r)}get background(){return L3(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){return this.stateManager?.center??null}set center(t){this.stateManager.center=t}get constraints(){return super.constraints}set constraints(t){super.constraints=t}get highlightOptions(){return dwe(this)}set highlightOptions(t){fwe(this,t)}get padding(){return this.stateManager?.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return super.resizeAlign}set resizeAlign(t){super.resizeAlign=t}get resolution(){return this.stateManager.resolution??0}get rotation(){return super.rotation}set rotation(t){super.rotation=t}get scale(){return this.stateManager?.scale??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get spatialReference(){return super.spatialReference}set spatialReference(t){super.spatialReference=t}get spatialReferenceLocked(){return this._get("spatialReferenceLocked")}set spatialReferenceLocked(t){this.stage&&ze.getLogger(this).warn("spatialReferenceLocked cannot be changed after the view has become ready"),this._set("spatialReferenceLocked",t)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const t=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),i=!this.destroyed&&(!this.analysisViewManager||!this.layerViewManager||!this.labelManager||!this.graphicsView||this.analysisViewManager.updating===!0||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(r=>!r.destroyed&&!("layerViews"in r)&&r.updating===!0)||t);if(pe("esri-2d-log-updating")){const r=this.allLayerViews.reduce((n,s)=>({...n,[`${s.layer.id}(${s.layer.type})`]:!s.destroyed&&!("layerViews"in s)&&s.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(r)}
-> updatingMagnifier: ${t}
`)}return i}get viewpoint(){return super.viewpoint}set viewpoint(t){super.viewpoint=t}get visibleArea(){const t=this.stateManager.visibleArea;return t&&new Hi({rings:[t.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(t,i){return pwe(this,t,i)}async takeScreenshot(t){return $we(this._getScreenshotView(t),t)}toScreen(t,i){return this.stateManager.toScreen(t,i)}async whenAnalysisView(t){if(t.parent==null)throw new $e("view:no-analysisview-for-analysis","The analysis does not exist in view.analyses",{analysis:t});return this.analysisViewManager.whenAnalysisView(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return L3(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return L3(this.map)?this.map.initialViewProperties.timeExtent:null}getSurface(){return this.surface}hasLayerViewModule(t){return Y6.hasLayerViewModule(t)}importLayerView(t){return Y6.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(ze.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){const i=this.toMap(t),r=await this.hitTest(t),n=this.allLayerViews.toArray().filter(f=>f.clips.every(v=>CV(this,v,t,i))).reverse(),s=new globalThis.Map(n.map(f=>[f.layer.uid,f])),a=[];let u=0,h=0;for(;u<r.results.length||h<n.length;){const f=r.results.at(u);if(f&&f.type!=="graphic"){++u;continue}const v=s.get((f?.layer??f?.graphic.layer)?.uid);if((!f||v)&&h<n.length&&n.at(h)!==v){const w=n.at(h);"fetchPopupFeaturesAtLocation"in w&&a.push({mapPoint:i,layerView:w}),++h}else f&&(a.push({graphic:f.graphic,layerView:v}),++u)}return{hits:a,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=Uwe(this.type);if(pe("safari")&&pe("safari")<9&&(t=new $e("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:pe("safari")})),t!=null)throw ze.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return YSe()}_getDefaultViewpoint(){const{constraints:t,initialExtent:i,map:r,padding:n,size:s}=this;if(!t)return null;const a=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,u=this.stateManager.getUserStartupOptions(this.size),h=a?.viewpoint,f=h?.targetGeometry?.extent??i,v=f?.center,w=h?.rotation??0,x=h?.scale||f&&Jx(f,[s[0]-n.left-n.right,s[1]-n.top-n.bottom]),M=u.center??v,P=u.rotation??w,O=u.scale??x;return M&&O?new Wo({targetGeometry:M,scale:O,rotation:P}):null}_startup(){this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const i=new $1e(this.surface),r=new SH(this.surface,{canvas:this.renderCanvas,contextOptions:new VSe(this.deactivatedWebGLExtensions,this.debugWebGLExtensions),renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=r,this._magnifierView=new $H,this._magnifierView.magnifier=this.magnifier,this._gridView=new CH;const n=new MH({view:this});this._set("labelManager",n);const s=new m1e({view:this});this._set("animationManager",s);const a=new EH({view:this,animationManager:s});this._set("mapViewNavigation",a),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",h=>this.fatalError=h.error),ht(()=>this.stationary,h=>r.stationary=h,On),ht(()=>this.background,h=>{r.backgroundColor=h?.color,this._magnifierView.backgroundColor=h?.color},On),ht(()=>this.magnifier,h=>this._magnifierView.magnifier=h,On),ht(()=>this.grid,h=>this._gridView.grid=h,On),ht(()=>this.renderingOptions,h=>r.renderingOptions=h,On),ht(()=>this.highlights.items.map(h=>({name:h.name,options:{fillColor:h.color,haloColor:h.haloColor,fillOpacity:h.fillOpacity,haloOpacity:h.haloOpacity,haloWidth:h.haloWidth,haloBlur:h.haloBlur}})),()=>{r.highlightGradient=cwe(r.highlightGradient,this.highlights.items)},On),ht(()=>this.state.id,()=>r.state=this.state,On),ht(()=>this.animationsEnabled,h=>{this.stage.animationsEnabled=h},On)],"map-view"),this._updateStageChildren();const u=this._resolveWhenReady;this._resolveWhenReady=[],u.forEach(h=>h(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const t=new b1e(Vn.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const i=new xH({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new TH(t)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){const{allLayerViews:i,padding:r,size:n,stage:s}=this;return{allLayerViews:i,backgroundColor:t?.ignoreBackground?null:this.background?.color,padding:r,size:n,stage:s}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},_g.type="2d",_g);p([_({constructOnly:!0})],Nt.prototype,"deactivatedWebGLExtensions",void 0),p([_({constructOnly:!0})],Nt.prototype,"debugWebGLExtensions",void 0),p([_({readOnly:!0})],Nt.prototype,"featuresTilingScheme",void 0),p([_({readOnly:!0})],Nt.prototype,"graphicsTileStore",null),p([_()],Nt.prototype,"graphicsView",void 0),p([_()],Nt.prototype,"constraintsInfo",null),p([_()],Nt.prototype,"initialExtentRequired",null),p([_()],Nt.prototype,"labelManager",void 0),p([_({type:Zx,nonNullable:!0})],Nt.prototype,"navigation",void 0),p([_({constructOnly:!0})],Nt.prototype,"renderCanvas",void 0),p([_()],Nt.prototype,"renderingOptions",void 0),p([_({constructOnly:!0})],Nt.prototype,"supersampleScreenshotsEnabled",void 0),p([_()],Nt.prototype,"defaultsFromMapSettings",null),p([_({readOnly:!0})],Nt.prototype,"typeSpecificPreconditionsReady",null),p([_(lC(jg,"analyses"))],Nt.prototype,"analyses",void 0),p([_()],Nt.prototype,"analysisViewManager",void 0),p([_({type:ZSe})],Nt.prototype,"background",null),p([_()],Nt.prototype,"center",null),p([_({type:Fe})],Nt.prototype,"floors",void 0),p([_()],Nt.prototype,"grid",void 0),p([_({type:vh})],Nt.prototype,"highlightOptions",null),p([_()],Nt.prototype,"map",void 0),p([_()],Nt.prototype,"padding",null),p([_({readOnly:!0})],Nt.prototype,"rendering",null),p([_({readOnly:!0})],Nt.prototype,"resolution",null),p([_()],Nt.prototype,"scale",null),p([_({type:Boolean,value:!1})],Nt.prototype,"spatialReferenceLocked",null),p([_({readOnly:!0})],Nt.prototype,"tileInfo",null),p([_({type:zV,readOnly:!0})],Nt.prototype,"timeline",void 0),p([_({readOnly:!0})],Nt.prototype,"type",void 0),p([_({readOnly:!0})],Nt.prototype,"updating",null),p([_({readOnly:!0})],Nt.prototype,"view2dType",void 0),p([_({readOnly:!0})],Nt.prototype,"visibleArea",null),p([_()],Nt.prototype,"zoom",null),p([_({readOnly:!0})],Nt.prototype,"navigating",null),p([_(),xr(e=>e instanceof wH?e:yx(bH,e))],Nt.prototype,"ui",void 0),p([_()],Nt.prototype,"animationsEnabled",void 0),Nt=p([ie("esri.views.View2D")],Nt);const JSe=Nt;let kS=class extends JSe{constructor(t){super(t),this.view2dType="map"}};p([_({readOnly:!0})],kS.prototype,"view2dType",void 0),kS=p([ie("esri.views.MapView")],kS);const XSe=kS,m1={duplicate:"esri-icon-duplicate",left:"esri-icon-left",plus:"esri-icon-plus",right:"esri-icon-right",table:"esri-icon-table",trash:"esri-icon-trash",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass"},ELe=Fe.ofType({key:"type",defaultKeyValue:"button",base:Wx,typeMap:{button:o1,toggle:fR}}),$Le=new o1({icon:"magnifying-glass-plus",id:"zoom-to-feature",title:"{messages.zoom}",className:m1.zoomInMagnifyingGlass}),KSe=new o1({icon:"trash",id:"remove-selected-feature",title:"{messages.remove}",className:m1.trash}),CLe=new o1({icon:"magnifying-glass-plus",id:"zoom-to-clustered-features",title:"{messages.zoom}",className:m1.zoomInMagnifyingGlass}),OLe=new fR({icon:"table",id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:m1.table,value:!1});let Kc=class extends tt{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(n=>n.toJSON()),i=this.geometries[0],r={};return r.outSR=c2(this.outSpatialReference),r.inSR=c2(i.spatialReference),r.geometries=JSON.stringify({geometryType:n1(i),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};p([_()],Kc.prototype,"geometries",void 0),p([_({type:Be,json:{read:{source:"outSR"}}})],Kc.prototype,"outSpatialReference",void 0),p([_()],Kc.prototype,"transformation",void 0),p([_()],Kc.prototype,"transformForward",void 0),Kc=p([ie("esri.rest.support.ProjectParameters")],Kc);const QSe=jn(Kc);async function e2e(e,t,i){t=QSe(t);const r=EG(e),n={...r.query,f:"json",...t.toJSON()},s=t.outSpatialReference,a=n1(t.geometries[0]),u=uve(n,i);return tr(r.path+"/project",u).then(({data:{geometries:h}})=>$G(h,a,s))}const OH=()=>ze.getLogger("esri.widgets.support.geolocationUtils"),t2e={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function i2e(){const e=!!pe("esri-geolocation");return e||OH().warn("geolocation-unsupported","Geolocation unsupported."),e}function r2e(){const e=window.isSecureContext;return e||OH().warnOnce("insecure-context","Geolocation requires a secure origin."),e}function n2e(){return i2e()&&r2e()}function s2e(e){return e??=t2e,new Promise((i,r)=>{setTimeout(()=>r(new $e("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(i,r,e??void 0)})}function o2e(e,t){const{position:i,view:r}=e,n=a2e(i),s=n?.coords;if(!s)throw new $e("geometry-service:no-coords","Geolocation has no coordinates");return u2e(l2e(s),r,t)}function a2e(e){const t=e&&e.coords||{},i={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed,toJSON:()=>({})};return e&&{coords:i,timestamp:e.timestamp,toJSON:()=>({})}}function l2e({longitude:e,latitude:t,altitude:i}){return new We({longitude:e,latitude:t,z:i||void 0,spatialReference:{wkid:4326}})}function u2e(e,t,i){if(!t)return Promise.resolve(e);const r=t.spatialReference;return r.isWGS84?Promise.resolve(e):r.isWebMercator?Promise.resolve(mh(e)):c2e(i).then(n=>{if(!n)throw new $e("geometry-service:missing-url","Geometry service URL is missing");const s=new Kc({geometries:[e],outSpatialReference:r});return e2e(n,s,i).then(a=>a[0])})}function c2e(e){if(qt.geometryServiceUrl)return Promise.resolve(qt.geometryServiceUrl);const t=Ie.getDefault();return t.load(e).catch(()=>{}).then(()=>t.helperServices?.geometry?.url)}const h2e=2500,PH={type:"CIMPictureMarker",primitiveName:"headingOverride",enable:!0,anchorPoint:{x:0,y:-.5},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:36,billboardMode3D:"FaceNearPlane",invertBackfaceTexture:!0,scaleX:1,textureFilter:"Picture",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYaSURBVHgBvVfNb1VFFD/nzP16xRYJKYREEiJoDLLShQkrSNzoHv8I2QgxwY8FJWHhxoVxISEu2AordWNiQjAxEBeEsKAmhCCwkPDRAn1t33v33jnH37n3Fam0pa8kTjOde+/MnN/5+J0z85jW08yYTpxgfzx0bS+fO0R0YHqyeb9w7YEtLTv+9rSdOH7ciNleJJJX/Do1JQ3AltdlT35fiN6gG8kD8akdmzO+6w/zM7wdw725rUY78DBXtmATA6PZntFgm9Kjm6o/HFJpdi5Xhp+16sDBC+H+gUmZfjIXHKC+35U42ZHZfpe30BZS7okNFnhu8wTRk2ek5LEV2q+N8nEj6yuNVRjHddftrt4ahyJbOxF+Uppi/Rf47NlA05Pp9vkyRNkkD8sqUJHwOGfSpYFQFXhTJryQBaZSeAxbFus+U1K0gJm2oy3QKwuZzqeuSK5kpW6BEsE6+nCsAHDXQWuaOljzU8uP/ToxUW4KcwKg8QzOSdFL6Swm0hurAC7N2qIW7ncwNgYKF4la3/w7RnzrUK29KseXWqmTKXGl45Zrd9CLrsSjr96fcw4kS46mTsJznSTrVBR6VQJQdDbpZTWexxgCYCFz30cquD8oYVQgtUAUzfo8wGtqGoNRFmFZ1KKulJMQu3Vpm/I8Pup3ekvES57GaabXo4lsszEA6zrkhcmAAkBNshi59O9wVsokBLZUCQAxllXVBkyCDRQuTlLLiLSEqw3gfUqU0kVdsKymsnzyPLm8fXZxDxVZgvUhg9QyaKDI7AhpSlRVEaA83JM+/V8pGO0PMTHyZwra9FQVk4i1e0D6dPK9v5agkmXAhc0Bw5MjlAQQE0lSDbUmbBX4kGfsiiQWuSZtdle1S4F73cUKJgviyw4mmmqlVSoR/FAK2d1noWQZ8N79MySw0tgNzhN00jRFaPM6y3IyLWBxXuOdvMfhaIy1MQctmvnEMGrMq2Y/ekC3dHF14I84gmZP2s0pgiJFHVwYhIIrMC1zgT4fQgsS0CG48LWtslAsgeKZK5U1c5Slj+nEvvJZqOWubr5ks8iE3bVqCMQCz4p5aiUqpMrOdHz2qLFTxAMSPLwY8WpmntNwrXIMCWvESGH+7n9hVi6ZJ6/sR5gnycFFQgsCQEEB8T9TbsCGy4PrZrEBjGyIt4EApoGRXWKP6Mt3fnvOvhWBjR4gdjtJEDmGQQkBSCS6Teys5qECABTPWOBwcPWgAPIU+E2+Rq3J8lsrQawMHNPbqAXvRqasWcMB/mK42N3twM6/FsbJTZK2Fru15K7niPVIp6RHn++9vRKErAg8ta+MFq4LBxAJKY1EajpxLj5KUzFzOMTni4btxoUzXPzIIOwLnEPxGVqlyWoTdO/WNRUXJhDmAgNAJVd0eABj8FTCvLbpEnxdOycJlFNXVq6MDvzthwOQ654LaMGGVofQWIWtXhM9xaCQp85QIZFMPXcpuUPH3uquJj6htVonvySD+KY6c2AulPAzHdVaZElvPCGBgvkIRUECr1J4qmV6LdGyJvAnu+94HZMla1Eg1AuGVyQWnNCwzqsUXK5+AIsUyPRc1Rbpi93X1xK9tsXtkj9U7INWSWvU0DaZ6OlVAmUDiqgbrwY2Z3ThRVKFXrgi/R0x9GMplxAyER6ynAtZin1DQoLVznLMU+/mywMf3dlDpbyMlbjLQDhLw/Sh24sm5dhTrlHKgS/T0X2zLw/sLeGr5OlEbg2uHwAFw5reKuKsJj8kcIj0zq9H5PqAj+z6E8y+YRIaUhnAEOrcWgv9m3shQ1H7mz5duVJtDLhZqZcNlrEDwXKwCzncdFg+PJeVf1m3uPUupLR7Hq6tHNyLhw1TCmdGbm0BmaUjr63LzaMBH943D9f+yO5uZ7HfcLktqdwqMU0jtPUDN6vDOfzgKFrXtta6q83vfHU4M5KoURbT4W3zsPIqrgQFO8GozV8ocZGOTN4dRdRowN6CnOLmKkk5t7H1i+HPNGJj2kj7buYajoRXh2+36eOt+2nENrrF3ozODEmFC0D4hjbQNgYc+DSYjd9qqGSJXqL/tZ16/DWdfvw9bbCt41hcpYn9RAEX9Q22fwC74ny5v9iplQAAAABJRU5ErkJggg=="},d2e=new es({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:2,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,122,194,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:16,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,0,0,66]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetX:0,offsetY:-1},PH],angleAlignment:"Map"},primitiveOverrides:[{type:"CIMPrimitiveOverride",primitiveName:"headingOverride",propertyName:"Rotation",valueExpressionInfo:{type:"CIMExpressionInfo",title:"Rotation override",expression:"360 - $feature.heading",returnType:"Default"}},{type:"CIMPrimitiveOverride",primitiveName:"headingOverride",propertyName:"TintColor",valueExpressionInfo:{type:"CIMExpressionInfo",title:"TintColor override",expression:"IIF(IsEmpty($feature.heading), [255, 255, 255, 0], [255, 255, 255, 1])",returnType:"Default"}}]}});let sl=class extends qR(Bf){constructor(){super(...arguments),this._geolocationUsable=!0,this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new wr({symbol:d2e}),this.scale=null,this.rotationEnabled=!0,this.view=null}initialize(){n2e()||(this._geolocationUsable=!1),this.addHandles([ht(()=>this.view?.type,()=>this._handleViewTypeChange(),nn)])}destroy(){this._clearGraphic(),this.view=null}_clearGraphic(){const{view:t,graphic:i}=this;t&&i&&t.graphics.remove(i)}_addGraphic(){const{view:t,graphic:i}=this;t?.graphics&&i&&!t.graphics.includes(i)&&t.graphics.push(i)}_handleViewTypeChange(){PH.enable=this.view?.type==="2d"}_getScaleWithinConstraints(t,i){if(!i)return t;if(i.type==="2d"){const{effectiveMaxScale:r,effectiveMinScale:n}=i.constraints;return Math.min(n,Math.max(r,t))}return t}_getScale(t){const{scale:i}=this,r=typeof i=="number"?i:h2e;return this._getScaleWithinConstraints(r,t)}_getHeading(t,i){const r=i?.spatialReference,n=r?.isWebMercator||r?.isGeographic,s=t.coords?.heading;return!n||typeof s!="number"||isNaN(s)||s<0||s>360?null:s}_addHeading(t){const{heading:i,target:r,view:n}=t;n&&i!==null&&(n.type!=="3d"?n.type==="2d"&&(r.rotation=360-i):r.heading=i)}async _animatePoint(t,i,r,n){const{view:s}=this;if(!this.goToLocationEnabled||!s)return;const a={target:t,scale:i};this.rotationEnabled&&this._addHeading({heading:r,target:a,view:s});const u={signal:n.signal};Li(u),await this.callGoTo({target:a,options:u})}async updatePosition(t,i){try{const r=this.view,n=await o2e({position:t,view:r},{signal:i.signal}),{graphic:s}=this,{timestamp:a,coords:u}=t,{accuracy:h,altitude:f,altitudeAccuracy:v,latitude:w,longitude:x,speed:M}=u,P=this._getHeading(t,r),O={timestamp:a,accuracy:h,altitude:f,altitudeAccuracy:v,heading:P,latitude:w,longitude:x,speed:M};s&&(s.geometry=n,s.attributes=O);const F=this._getScale(r);await this._animatePoint(n,F,P,i)}catch(r){if(!sn(r))throw new $e("geolocation-positioning:invalid-point","Cannot position invalid point",{error:r})}return t}};p([_()],sl.prototype,"_geolocationUsable",void 0),p([_()],sl.prototype,"geolocationOptions",void 0),p([_()],sl.prototype,"goToLocationEnabled",void 0),p([_({type:wr,nonNullable:!0})],sl.prototype,"graphic",void 0),p([_()],sl.prototype,"scale",void 0),p([_()],sl.prototype,"rotationEnabled",void 0),p([_()],sl.prototype,"view",void 0),sl=p([ie("esri.widgets.support.GeolocationPositioning")],sl);const f2e=sl;async function p2e(){const e=await Ex("esri/widgets/Locate/t9n/Locate");return new Pq({title:e.currentLocation,fieldInfos:[{fieldName:"timestamp",label:e.timestamp,format:{dateFormat:"short-date-short-time"}},{fieldName:"latitude",label:e.latitude,format:{places:4,digitSeparator:!0}},{fieldName:"longitude",label:e.longitude,format:{places:4,digitSeparator:!0}},{fieldName:"accuracy",label:e.accuracy,format:{places:0,digitSeparator:!0}},{fieldName:"altitude",label:e.altitude,format:{places:0,digitSeparator:!0}},{fieldName:"altitudeAccuracy",label:e.altitudeAccuracy,format:{places:0,digitSeparator:!0}},{fieldName:"heading",label:e.heading,format:{places:0,digitSeparator:!0}},{fieldName:"speed",label:e.speed,format:{places:0,digitSeparator:!0}}],actions:[KSe.clone()],content:[{type:"fields"}]})}let _u=class extends f2e{constructor(e){super(e),this._locateController=null,this.error=void 0,this.popupEnabled=!0,this.locate=this.locate.bind(this),e?.isDefaultViewModel||W8(ze.getLogger(this),"LocateViewModel","arcgis-locate",{version:"4.34"})}initialize(){this.addHandles([Mx(()=>{const{graphic:e,view:t}=this;if(!e)return;t?.graphics?.includes(e)&&this._updatePopupTemplate(e)})])}destroy(){this.cancelLocate()}get state(){return this._geolocationUsable?this.view?.ready?this._locateController?"locating":this.error!=null?"error":"ready":"disabled":"feature-unsupported"}async locate(){if(this.cancelLocate(),this.state==="disabled")throw new $e("locate:disabled-state","Cannot locate when disabled.");if(this.state==="feature-unsupported")throw new $e("locate:feature-unsupported-state","Cannot locate in unsecure domain.");const e=new AbortController;this._locateController=e,this.error=void 0;try{const t=await s2e(this.geolocationOptions);if(await this.updatePosition(t,e),this._locateController!==e)return null;const{graphic:i}=this;return i&&await this._updatePopupTemplate(i),this._addGraphic(),this.emit("locate",{position:t}),this._locateController=null,t}catch(t){if(sn(t))return null;throw e===this._locateController&&(this._locateController=null),this.error=t,this.emit("locate-error",{error:t}),t}}cancelLocate(){this._clearGraphic(),this._locateController&&this._locateController.abort(),this._locateController=null}async _updatePopupTemplate(e){if(!this.popupEnabled)return;const t=await p2e(),i=e!==this.graphic;this.destroyed||i||(e.popupTemplate=t)}};p([_()],_u.prototype,"_locateController",void 0),p([_()],_u.prototype,"error",void 0),p([_()],_u.prototype,"popupEnabled",void 0),p([_({readOnly:!0})],_u.prototype,"state",null),p([_()],_u.prototype,"locate",null),p([_()],_u.prototype,"cancelLocate",null),_u=p([ie("esri.widgets.Locate.LocateViewModel")],_u);const AH=_u;function m2e(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames;e=Array.isArray(e)?e:g2e(e),i.push(...e)}}function g2e(e){return e.split(",").map(t=>t.trim())}const y2e={base:"esri-locate"};let Wn=class extends uy{constructor(t,i){super(t,i),this.messages=null,this.messagesCommon=null,this.viewModel=new AH,this._locate=()=>{const{viewModel:r}=this;r.state==="locating"?r.cancelLocate():r.locate().catch(()=>{})},YP(ze.getLogger(this),"Locate","arcgis-locate",{version:"4.32"})}loadDependencies(){return p1({button:()=>Ne(()=>import("./index-CihYIzjX.js"),__vite__mapDeps([381,382,383,384,385,386,387,388,389,390,391,392,393,394]),import.meta.url),loader:()=>Ne(()=>import("./index-CpHnoU9P.js"),__vite__mapDeps([382,383,384,385]),import.meta.url),tooltip:()=>Ne(()=>import("./index-i0cmArWL.js"),__vite__mapDeps([395,389,396,387,397,383,398,399,400]),import.meta.url)})}get geolocationOptions(){return this.viewModel.geolocationOptions}set geolocationOptions(t){this.viewModel.geolocationOptions=t}get goToLocationEnabled(){return this.viewModel.goToLocationEnabled}set goToLocationEnabled(t){this.viewModel.goToLocationEnabled=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get icon(){return"gps-off"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get scale(){return this.viewModel.scale}set scale(t){this.viewModel.scale=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}cancelLocate(){this.viewModel.cancelLocate()}locate(){return this.viewModel.locate()}render(){const{viewModel:t,icon:i}=this,{state:r}=t,n=r==="locating",s=n?this.messagesCommon.cancel:this.messages.title,a=r==="feature-unsupported",u=this._localizeError(this.viewModel?.error);return He("div",{class:this.classes(y2e.base,rn.widget)},!a&&He("calcite-button",{class:rn.widgetButton,disabled:r==="disabled",iconStart:n?void 0:i,kind:"neutral",label:s,onclick:this._locate,title:s},n?He("calcite-loader",{inline:!0,label:""}):null),u?He("calcite-tooltip",{open:!0,overlayPositioning:"fixed",placement:this._getPlacement(),referenceElement:this.container},u):null)}_getPlacement(){const{container:t,view:i}=this,r=t&&i?i.ui.getPosition(t):null;if(!r||r==="manual")return"auto";const[n,s]=r.split("-");return`${s==="right"?"left":"right"}-${n==="bottom"?"end":"start"}`}_localizeError(t){return t instanceof GeolocationPositionError?t.code===GeolocationPositionError.PERMISSION_DENIED?this.messages?.permissionError:t.code===GeolocationPositionError.TIMEOUT?this.messages?.timeoutError:this.messages?.positionUnavailable:t instanceof Error?t.message:void 0}};p([_()],Wn.prototype,"geolocationOptions",null),p([_()],Wn.prototype,"goToLocationEnabled",null),p([_()],Wn.prototype,"goToOverride",null),p([_()],Wn.prototype,"graphic",null),p([_()],Wn.prototype,"icon",null),p([_()],Wn.prototype,"label",null),p([_(),Ph("esri/widgets/Locate/t9n/Locate")],Wn.prototype,"messages",void 0),p([_(),Ph("esri/t9n/common")],Wn.prototype,"messagesCommon",void 0),p([_()],Wn.prototype,"popupEnabled",null),p([_()],Wn.prototype,"scale",null),p([_()],Wn.prototype,"view",null),p([_({type:AH}),m2e(["locate","locate-error"])],Wn.prototype,"viewModel",void 0),Wn=p([ie("esri.widgets.Locate")],Wn);const v2e=Wn;function RH(){return dA()}function LLe(){return F9()}function O_(e,t){const i=Nh(t),r=e.replaceAll(/[\u00B0\u00BA]/g,"^").replaceAll("","'").replaceAll("",'"'),n=[];return E0.dmsToGeog(i,1,[r],n)?new We(n[0][0],n[0][1],t||Be.WGS84):null}function kLe(e){return e&&RH()?T7(e)??O_(`0 0' 0" N | ${e}`)?.longitude??O_(`0 N | ${e}`)?.longitude??null:null}function ILe(e){return e&&RH()?T7(e)??O_(`${e} | 0 0' 0" E`)?.latitude??O_(`${e} | 0 E`)?.latitude??null:null}function _2e(e,t,i){const r=[],n=LH(i);if(n===-1)return console.warn(`invalid conversionMode: ${i}`),null;const s=Nh(t);return Fo.mgrsToGeogExtended(s,1,[e],n,r)?new We(r[0][0],r[0][1],t||Be.WGS84):null}function w2e(e,t){const i=[];!t&&/\(.+27/.test(e)&&(t=Be.GCS_NAD_1927);const r=Nh(t);return pA.usngToGeog(r,1,[e],i)?new We(i[0][0],i[0][1],t||Be.WGS84):null}function b2e(e,t,i){const r=[],n=kH(i);if(n===-1)return console.warn(`invalid conversionMode: ${i}`),null;const s=Nh(t);return $f.utmToGeog(s,1,[e],n,r)?new We(r[0][0],r[0][1],t||Be.WGS84):null}function S2e(e,t,i=0){const r=[[e.x,e.y]],n=[],s=Nh(e.spatialReference);let a=0;switch(t){case"dd":a=E0.geogToDd(s,1,r,i,n);break;case"ddm":a=E0.geogToDdm(s,1,r,i,n);break;case"dms":a=E0.geogToDms(s,1,r,i,n);break;default:return console.warn(`invalid format: ${t}`),null}return a?n[0]:null}function x2e(e,t,i=0,r=!1){const n=[[e.x,e.y]],s=[],a=Nh(e.spatialReference);let u=LH(t);return u===-1?(console.warn(`invalid conversionMode: ${t}`),null):(r&&(u|=Fo.PE_MGRS_ADD_SPACES),Fo.geogToMgrsExtended(a,1,n,i,!1,u,s)?s[0]:null)}function T2e(e,t=0,i=!1){const r=[[e.x,e.y]],n=[],s=Nh(e.spatialReference);return pA.geogToUsng(s,1,r,t,!1,i,n)?n[0]:null}function M2e(e,t,i=!1){const r=[[e.x,e.y]],n=[],s=Nh(e.spatialReference);let a=kH(t);return a===-1?(console.warn(`invalid conversionMode: ${t}`),null):(i&&(a|=$f.PE_UTM_OPTS_ADD_SPACES),$f.geogToUtm(s,1,r,a,n)?n[0]:null)}function Nh(e){if(e??=Be.WGS84,e.wkid){const i=th.geogcs(e.wkid);if(!i)throw new $e("coordinate-formatter:invalid-spatial-reference","wkid is not valid");return i}const t=e.wkt2??e.wkt;if(t){const i=th.fromString(Wi.PE_TYPE_GEOGCS,t);if(!i)throw new $e("coordinate-formatter:invalid-spatial-reference","wkt is not valid");return i}throw new $e("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing")}function LH(e){switch(e){case"automatic":return Fo.PE_MGRS_STYLE_AUTO;case"new-180-in-zone-01":return Fo.PE_MGRS_STYLE_NEW|Fo.PE_MGRS_180_ZONE_1_PLUS;case"new-180-in-zone-60":return Fo.PE_MGRS_STYLE_NEW;case"old-180-in-zone-01":return Fo.PE_MGRS_STYLE_OLD|Fo.PE_MGRS_180_ZONE_1_PLUS;case"old-180-in-zone-60":return Fo.PE_MGRS_STYLE_OLD;default:return-1}}function kH(e){switch(e){case"latitude-band-indicators":return $f.PE_UTM_OPTS_NONE;case"north-south-indicators":return $f.PE_UTM_OPTS_NS;default:return-1}}function E2e(e,t){const i=IH(t);return[e[0].toFixed(i),e[1].toFixed(i)]}function IH(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function $2e(e,t){const i=e.includes(",")?",":" ",[r,n,s]=e.split(i).map(u=>{const h=u.trim();return h?Number(h):null});if(!V2(r)||!V2(n))return null;const a=new We({x:r,y:n,spatialReference:t||Be.WGS84});return s&&(a.z=s,a.hasZ=!0),a}function V2(e){return typeof e=="number"&&isFinite(e)}function uP(e){return!!e&&V2(e.x)&&V2(e.y)}function zj(e,t){if(e.spatialReference.isGeographic&&t){const[i,r]=E2e([e.x,e.y],t);return`${i}, ${r}`}return`${e.x.toFixed(3)}, ${e.y.toFixed(3)}`}const C2e=["dd","dms","ddm","mgrs","usng","utm"];function O2e(e){return C2e.includes(e)}let Zn=class extends et{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this._currentPattern=void 0,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){return(this._currentPattern||this.defaultPattern)??""}set currentPattern(e){this._currentPattern=e}get label(){return this.name??""}set label(e){this._overrideIfSome("label",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){return this.name==="basemap"?this._viewSpatialReference:this.conversionInfo?.spatialReference??Be.WGS84}set spatialReference(e){this._overrideIfSome("spatialReference",e)}get _viewSpatialReference(){return this.viewModel?.view?.spatialReference??Be.WGS84}get _additionalCharactersPattern(){const e=this.coordinateSegments;if(!e)return null;const t=e.map(r=>r.alias),i=this.currentPattern.replaceAll(new RegExp(`["nsew${t.join()}]`,"gi"),"").replaceAll(" ","");return new RegExp(`[${i}]`,"g")}get test(){}async convert(e){if(!uP(e))throw new $e("format:invalid-point","Could not convert invalid point.",{point:e});const t=this.conversionInfo?.convert;if(t)return Promise.resolve().then(()=>t(e));const i=this._project(e,this.spatialReference);return{location:i,coordinate:this._getCoordinate(i)}}getConversionStrategy(){const e=this._viewSpatialReference;return this.conversionInfo?.convert||this.viewModel?.formatterAvailable||this.name==="xy"&&(e.isWebMercator||e.isWGS84)||this.name==="basemap"?"client":"server"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;let t=this.currentPattern;const i=this._getSegmentMatches(e,!1);for(let r=this.coordinateSegments.length-1;r>=0;r--){const n=this.coordinateSegments[r];t=t.replace(n.alias,i[r])}return t}_parseUserInput(e){const{defaultPattern:t,_additionalCharactersPattern:i,coordinateSegments:r}=this;if(!t||!i)return"";let n=t.replace(i,"");e=e.replace(i,"");const s=this._getSegmentMatches(e,!0);if(r)for(let a=r.length-1;a>=0;a--){const u=r[a];n=n.replace(u.alias,s[a])}return n}_getSegmentMatches(e,t){const i=new Array,{coordinateSegments:r}=this;if(!r)return i;for(let n=0;n<r.length;n++){const s=r[n],a=e.match(s.searchPattern);if(!a){i.push("");continue}let u=a[0];if(e=e.replace(u,"").trim(),s.substitution){const h=t?s.substitution.input(u):s.substitution.output(u);h&&(u=`${h}`)}i.push(u)}return i}async reverseConvert(e){const t=this._parseUserInput(e),i=this.conversionInfo?.reverseConvert;let r;if(i)r=i(t);else if(this.name==="xy"||this.name==="basemap")r=$2e(t,this.spatialReference);else if(this.viewModel?.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":r=O_(t,this.spatialReference);break;case"mgrs":{r=_2e(t,this.spatialReference,"automatic");break}case"utm":{r=b2e(t,this.spatialReference,"latitude-band-indicators");break}case"usng":r=w2e(t,this.spatialReference);break;default:r=null}if(!r)throw new $e("format:invalid-input","Could not parse input into point.",{coordinate:e});return this._project(r,this._viewSpatialReference)}_getCoordinate(e){const t=this.viewModel?.view?.scale??0;if(!uP(e))throw new $e("format:invalid-point","Could not transform invalid point into coordinate.",{point:e});if(this.viewModel?.formatterAvailable||this.name==="basemap"||this.name==="xy")switch(this.name){case"dd":case"ddm":case"dms":{const i=IH(t);return S2e(e,this.name,i)}case"mgrs":return x2e(e,"automatic",5,!1);case"usng":return T2e(e,5,!1);case"utm":return M2e(e,"latitude-band-indicators",!0);default:return zj(e,t)}return zj(e,t)}_project(e,t){if(Gr(e.spatialReference,t)||!t)return e;if(this.viewModel?.formatterAvailable&&Ol())return kh(e,t);if(!this.viewModel?.formatterAvailable){const i=W_(e,t);if(i!=null)return i}return null}};p([_()],Zn.prototype,"conversionInfo",void 0),p([_()],Zn.prototype,"coordinateSegments",void 0),p([_()],Zn.prototype,"currentPattern",null),p([_()],Zn.prototype,"_currentPattern",void 0),p([_()],Zn.prototype,"label",null),p([_()],Zn.prototype,"defaultPattern",void 0),p([_({readOnly:!0})],Zn.prototype,"hasDisplayProperties",null),p([_()],Zn.prototype,"name",void 0),p([_({type:Be})],Zn.prototype,"spatialReference",null),p([_()],Zn.prototype,"viewModel",void 0),p([_({readOnly:!0})],Zn.prototype,"_viewSpatialReference",null),p([_({readOnly:!0})],Zn.prototype,"_additionalCharactersPattern",null),Zn=p([ie("esri.widgets.CoordinateConversion.support.Format")],Zn);const ol=Zn;let xm=class extends et{constructor(t){super(t),this.format=null,this.position={coordinate:null,location:null}}get displayCoordinate(){return this.format?.getDisplayCoordinate(this.position?.coordinate)}};p([_({readOnly:!0})],xm.prototype,"displayCoordinate",null),p([_({type:ol})],xm.prototype,"format",void 0),p([_()],xm.prototype,"position",void 0),xm=p([ie("esri.widgets.CoordinateConversion.support.Conversion")],xm);const af=xm,k3={ar:[".",","],bg:[",",""],bs:[",","."],ca:[",","."],cs:[",",""],da:[",","."],de:[",","."],"de-ch":[".",""],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",",""],fi:[",",""],fr:[",",""],"fr-ch":[",",""],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",",""],id:[",","."],it:[",","."],"it-ch":[".",""],ja:[".",","],ko:[".",","],lt:[",",""],lv:[",",""],mk:[",","."],nb:[",",""],nl:[",","."],no:[",",""],pl:[",",""],pt:[",","."],"pt-pt":[",",""],ro:[",","."],ru:[",",""],sk:[",",""],sl:[",","."],sr:[",","."],sv:[",",""],th:[".",","],tr:[",","."],uk:[",",""],vi:[",","."],zh:[".",","]};function nT(e=Dn()){let t=(e=e.toLowerCase())in k3;if(!t){const s=e.split("-");s.length>1&&s[0]in k3&&(e=s[0],t=!0),t||(e="en")}const[i,r,n="#,##0.###"]=k3[e];return{decimal:i,group:r,pattern:n}}function P2e(e,t){const i=nT((t={...t}).locale);t.customs=i;const r=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:A2e(e,r,t)}const NH=/[#0,]*[#0](?:\.0*#*)?/;function A2e(e,t,i){const r=(i=i||{}).customs.group,n=i.customs.decimal,s=t.split(";"),a=s[0];if((t=s[e<0?1:0]||"-"+a).includes("%"))e*=100;else if(t.includes(""))e*=1e3;else{if(t.includes(""))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}const u=NH,h=a.match(u);if(!h)throw new Error("unable to find a number expression in pattern: "+t);return i.fractional===!1&&(i.places=0),t.replace(u,R2e(e,h[0],{decimal:n,group:r,places:i.places,round:i.round}))}function R2e(e,t,i){(i=i||{}).places===!0&&(i.places=0),i.places===1/0&&(i.places=6);const r=t.split("."),n=typeof i.places=="string"&&i.places.indexOf(",");let s=i.places;n?s=i.places.slice(n+1):+s>=0||(s=(r[1]||[]).length),i.round<0||(e=Number(e.toFixed(Number(s))));const a=String(Math.abs(e)).split("."),u=a[1]||"";if(r[1]||i.places){n&&(i.places=i.places.slice(0,Math.max(0,n)));const P=i.places!==void 0?i.places:r[1]&&r[1].lastIndexOf("0")+1;+P>u.length&&(a[1]=u.padEnd(Number(P),"0")),+s<u.length&&(a[1]=u.slice(0,Math.max(0,Number(s))))}else a[1]&&a.pop();const h=r[0].replace(",","");let f=h.indexOf("0");f!==-1&&(f=h.length-f,f>a[0].length&&(a[0]=a[0].padStart(f,"0")),h.includes("#")||(a[0]=a[0].slice(-f)));let v,w,x=r[0].lastIndexOf(",");if(x!==-1){v=r[0].length-x-1;const P=r[0].slice(0,x);x=P.lastIndexOf(","),x!==-1&&(w=P.length-x-1)}const M=[];for(let P=a[0];P;){const O=P.length-v;M.push(O>0?P.slice(Math.max(0,O)):P),P=O>0?P.slice(0,O):"",w&&(v=w,w=void 0)}return a[0]=M.reverse().join(i.group||","),a.join(i.decimal||".")}function L2e(e){const t=nT((e=e||{}).locale),i=e.pattern||t.pattern,r=t.group,n=t.decimal;let s=1;if(i.includes("%"))s/=100;else if(i.includes(""))s/=1e3;else if(i.includes(""))throw new Error("currency notation not supported");const a=i.split(";");return a.length===1&&a.push("-"+a[0]),{regexp:P_(a,h=>(h="(?:"+c8(h,".")+")").replace(NH,f=>{const v={signed:!1,separator:e.strict?r:[r,""],fractional:e.fractional,decimal:n,exponent:!1},w=f.split(".");let x=e.places;w.length===1&&s!==1&&(w[1]="###"),w.length===1||x===0?v.fractional=!1:(x===void 0&&(x=e.pattern?w[1].lastIndexOf("0")+1:1/0),x&&e.fractional==null&&(v.fractional=!0),!e.places&&+x<w[1].length&&(x+=","+w[1].length),v.places=x);const M=w[0].split(",");return M.length>1&&(v.groupSize=M.pop().length,M.length>1&&(v.groupSize2=M.pop().length)),"("+I2e(v)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:n,factor:s}}function k2e(e,t){const i=L2e(t),r=new RegExp("^"+i.regexp+"$").exec(e);if(!r)return NaN;let n=r[1];if(!r[1]){if(!r[2])return NaN;n=r[2],i.factor*=-1}return n=n.replaceAll(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(n)*i.factor}function I2e(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!String(e.places).startsWith("0")||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=Uj(e),i=P_(e.fractional,n=>{let s="";return n&&e.places!==0&&(s="\\"+e.decimal,e.places===1/0?s="(?:"+s+"\\d+)?":s+="\\d{"+e.places+"}"),s},!0);let r=t+i;return i&&(r="(?:(?:"+r+")|(?:"+i+"))"),r+P_(e.exponent,n=>n?"([eE]"+Uj({signed:e.eSigned})+")":"")}function Uj(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",P_(e.signed,t=>t?"[-+]":"",!0)+P_(e.separator,t=>{if(!t)return"(?:\\d+)";(t=c8(t))===" "?t="\\s":t===""&&(t="\\s\\xa0");const i=e.groupSize,r=e.groupSize2;if(r){const n="(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*["+t+"]\\d{"+i+"})";return i-r>0?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":n}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0)}const P_=(e,t,i)=>{if(!Array.isArray(e))return t(e);const r=[];for(let n=0;n<e.length;n++)r.push(t(e[n]));return N2e(r.join("|"),!!i)},N2e=(e,t)=>"("+(t?"?:":"")+e+")",Wd=nT().decimal,Jp={N:"north",S:"south",E:"east",W:"west"},Vi="",Mb=new RegExp(`-?\\d+[\\.|\\${Wd}]?\\d*`),D2e=/^[\\0]+(?=\d)/;function Fj(e,t){const i=Dn()==="ar",r=e.abbreviatedDirections.north,n=e.abbreviatedDirections.south,s=e.abbreviatedDirections.east,a=e.abbreviatedDirections.west,u=nT().decimal,h={[r]:"N",[n]:"S",[s]:"E",[a]:"W"},f=new RegExp(`-?\\d+[\\.|\\${u}]?\\d*`),v=new RegExp(`N|S|${r}|${n}`,"i"),w=new RegExp(`E|W|${s}|${a}`,"i"),x={ddm:`Y${Vi} A'${e.abbreviatedDirections.north}, X${Vi} B'${e.abbreviatedDirections.east}`,dms:`Y${Vi} A' B"${e.abbreviatedDirections.north}, X${Vi} C' D"${e.abbreviatedDirections.east}`,dd:`Y${Vi}${e.abbreviatedDirections.north}, X${Vi}${e.abbreviatedDirections.east}`,xy:`X${Vi}, Y${Vi}`,basemap:"X, Y"},M={ddm:`${e.abbreviatedDirections.north}${Vi}Y 'A ,${e.abbreviatedDirections.east}${Vi}X 'B`,dms:`${e.abbreviatedDirections.north}${Vi}Y 'A "B ,${e.abbreviatedDirections.east}${Vi}X 'C "D`,dd:`${e.abbreviatedDirections.north}${Vi}Y ,${e.abbreviatedDirections.east}${Vi}X`,xy:`X${Vi} ,Y${Vi}`,basemap:"X ,Y"},P=G=>G!=null&&Object.keys(x).includes(G),O=new RegExp(`\\d{1,2}[\\.|\\${u}]?\\d*`,"i"),F=new RegExp(`\\d{1,3}[\\.|\\${u}]?\\d*`,"i");t.forEach(G=>{const{name:Y}=G;if(Y==="dd"?G.coordinateSegments=[{alias:"Y",description:"degrees latitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:v,substitution:{input:U=>h[U],output:U=>e.abbreviatedDirections[Jp[U]]}},{alias:"X",description:"degrees longitude",searchPattern:F,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:w,substitution:{input:U=>h[U],output:U=>e.abbreviatedDirections[Jp[U]]}}]:Y==="ddm"?G.coordinateSegments=[{alias:"Y",description:"degrees latitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"A",description:"minutes latitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:v,substitution:{input:U=>h[U],output:U=>e.abbreviatedDirections[Jp[U]]}},{alias:"X",description:"degrees longitude",searchPattern:F,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"B",description:"minutes longitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:w,substitution:{input:U=>h[U],output:U=>e.abbreviatedDirections[Jp[U]]}}]:Y==="dms"?G.coordinateSegments=[{alias:"Y",description:"degrees latitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"A",description:"minutes latitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"B",description:"seconds latitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:v,substitution:{input:U=>h[U],output:U=>e.abbreviatedDirections[Jp[U]]}},{alias:"X",description:"degrees longitude",searchPattern:F,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"C",description:"minutes longitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"D",description:"seconds longitude",searchPattern:O,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:w,substitution:{input:U=>h[U],output:U=>e.abbreviatedDirections[Jp[U]]}}]:(G.name==="xy"||G.name==="basemap")&&(G.coordinateSegments=[{alias:"X",description:"easting",searchPattern:f,substitution:{input:U=>hi(U),output:U=>ci(U)}},{alias:"Y",description:"northing",searchPattern:f,substitution:{input:U=>hi(U),output:U=>ci(U)}}]),P(Y)){const U=i?M[Y]:x[Y];G.defaultPattern=U,G.currentPattern=U}})}function j2e(){const e=new RegExp("N|S","i"),t=new RegExp("E|W","i");return[new ol({name:"basemap",coordinateSegments:[{alias:"X",description:"easting",searchPattern:Mb,substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"Y",description:"northing",searchPattern:Mb,substitution:{input:i=>hi(i),output:i=>ci(i)}}],defaultPattern:"X, Y",viewModel:null}),new ol({name:"dd",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${Wd}]?\\d*(?=\\D*?[N|S])`,"i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"N",description:"north/south indicator",searchPattern:e},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}[\\.|\\${Wd}]?\\d*(?=\\D*?[E|W|])`,"i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"E",description:"east/west indicator",searchPattern:t}],defaultPattern:`Y${Vi}N, X${Vi}E`,viewModel:null}),new ol({name:"ddm",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S])","i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp(`\\d{1,2}[\\.\\${Wd}]?\\d*(?=.*?[N|S])`,"i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"N",description:"north/south indicator",searchPattern:e},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=\\D*?\\s+.*?[E|W])","i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"B",description:"minutes longitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\|${Wd}]?\\d*(?=.*?[E|W])`,"i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"E",description:"east/west indicator",searchPattern:t}],defaultPattern:`Y${Vi} A'N, X${Vi} B'E`,viewModel:null}),new ol({name:"dms",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S])","i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[N|S])","i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"B",description:"seconds latitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${Wd}]?\\d*(?=.*?[N|S])`,"i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"N",description:"north/south indicator",searchPattern:e},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=.*?\\s+.*?[E|W])","i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"C",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[E|W])","i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"D",description:"seconds longitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${Wd}]?\\d*(?=.*?[E|W])`,"i"),substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"E",description:"east/west indicator",searchPattern:t}],defaultPattern:`Y${Vi} A' B"N, X${Vi} C' D"E`,viewModel:null}),new ol({name:"xy",coordinateSegments:[{alias:"X",description:"longitude",searchPattern:Mb,substitution:{input:i=>hi(i),output:i=>ci(i)}},{alias:"Y",description:"latitude",searchPattern:Mb,substitution:{input:i=>hi(i),output:i=>ci(i)}}],defaultPattern:`X${Vi}, Y${Vi}`,viewModel:null}),new ol({name:"mgrs",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new ol({name:"usng",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new ol({name:"utm",coordinateSegments:[{alias:"Z",description:"zone number",searchPattern:/\d{1,2}|[abyz]/i},{alias:"B",description:"latitude band",searchPattern:/^\D/},{alias:"X",description:"easting",searchPattern:/\d{1,7}(?=\s*\d{7}$)/},{alias:"Y",description:"northing",searchPattern:/\d{1,7}/}],defaultPattern:"ZB X Y",viewModel:null})]}function ci(e){const t=e.match(D2e),i=t?t[0]:"",r=e.includes(".")?e.split(".")[1].length:0;return i+P2e(Number(e),{pattern:"###0.###",places:r,round:-1})}function hi(e){return k2e(e)}const z2e=new We([0,0,500]),U2e="xy",F2e=["mgrs","utm","usng","dd","dms","ddm"],Bj="esri__coordinateConversionWidgetState",Gn={conversions:"conversions",formats:"formats",view:"view",viewChange:"view-change",cursor:"cursor"},B2e="esri/images/search/search-symbol-32.png";let mn=class extends qR(Bf){constructor(t){super(t),this._conversionPromise=null,this._locationGraphic=null,this._pointerCount=0,this.conversions=new Fe,this.formats=new Fe,this.formatterAvailable=!1,this.messages=null,this.filteredFormats=new Fe,this.locationSymbol=new Xn({url:Ki(B2e),width:24,height:24}),this.storageEnabled=!0,this.storageType="session",this.view=null,this._saveWidgetState=this._saveWidgetState.bind(this),this._handleFormatChange=this._handleFormatChange.bind(this),this._handleConversionChange=this._handleConversionChange.bind(this),this._handleViewChange=this._handleViewChange.bind(this),this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this)}initialize(){const t=async()=>this.messages=await Ex("esri/widgets/CoordinateConversion/t9n/CoordinateConversion");this.formats.addMany(j2e()),t().then(()=>{if(!this.destroyed&&(Fj(this.messages,this.formats),this.storageEnabled&&this._loadWidgetState(),this.formats.forEach(i=>{i.viewModel=this,this.addHandles(ht(()=>i.currentPattern,this._saveWidgetState),i.name??"unnamed-format")}),this.addHandles(this.conversions.on("change",this._handleConversionChange),Gn.conversions),this.addHandles(this.formats.on("change",this._handleFormatChange),Gn.formats),this.addHandles(Mx(()=>{t().then(()=>{Fj(this.messages,this.formats)})})),Du().then(()=>{this.formatterAvailable=!0}).catch(i=>{ze.getLogger(this).error(new $e("coordinate-conversion:projection-load-failed","Failed to load the projection module.",{error:i})),this.formatterAvailable=!1,this._filterFormatsAndConversions()}).then(()=>this.addHandles(ht(()=>this.view,this._handleViewChange,nn),Gn.viewChange)),this.conversions.length===0)){const i=this.formats.find(r=>r.name===U2e)||this.formats.at(0);this.conversions.add(new af({format:i}))}})}destroy(){this.removeHandles(),this._cleanUpView(this.view),this.view=null}castConversions(t){return this._castToConversions(t)}set currentLocation(t){this._set("currentLocation",t),this._updateConversions()}get currentLocation(){return this._get("currentLocation")||null}set mode(t){switch(t){case"capture":this.currentLocation=null,this._startCaptureMode(),this._set("mode",t);break;case"live":this._startLiveMode(),this._set("mode",t)}}get mode(){return this._get("mode")||"live"}get state(){const{messages:t,view:i}=this,r=i?.ready;return t?r?"ready":i?"loading":"disabled":"disabled"}get storage(){const{storageType:t}=this;return t==="session"?sessionStorage:localStorage}get waitingForConversions(){return this._conversionPromise!=null}setLocation(t){if(this._locationGraphic&&this.view?.graphics.remove(this._locationGraphic),!t)return;const i=t.clone();i.hasZ&&(i.z=void 0),this._locationGraphic=new wr({geometry:i,symbol:this.locationSymbol}),this.view?.graphics.add(this._locationGraphic)}async convert(t,i){if(!uP(i))throw new $e("coordinate-conversion:invalid-point","Invalid point cannot be converted.",{point:i});return Promise.resolve().then(()=>t.convert(i))}async goToLocation(t){const{view:i}=this;if(!i)throw new $e("coordinate-conversion:go-to-failed","no view");const r=i.type==="3d"?i.clippingArea:null,n=i.map?.basemap?.baseLayers;if(r||(n?.length??0)>0){const s=r??n?.at(0)?.fullExtent;if(s!=null&&!s.contains(t))throw new $e("coordinate-conversion:go-to-failed","Point outside basemap extent.",{point:t})}return this.callGoTo({target:t})}pause(){this.currentLocation=null,this.removeHandles(Gn.view),this.view&&(this.removeHandles(Gn.cursor),this._locationGraphic&&this.view.graphics.remove(this._locationGraphic))}async previewConversion(t,i=this.currentLocation||z2e){return(await qj(t,i)).displayCoordinate}resume(){this.mode==="capture"?this._startCaptureMode():this._startLiveMode()}reverseConvert(t,i){return i.reverseConvert(t)}async updateConversions(t,i){if(i?.type!=="point")throw this._clearConversions(this.conversions),new $e("coordinate-conversion:invalid-input-point","Point is invalid, conversions cannot be updated.",{point:i});return this._convertMany(t,i)}_castToConversions(t){const i=new Fe;return t.forEach(r=>{let n=null;if(r instanceof af)n=r;else if(typeof r=="string"){const s=this.formats.find(a=>a.name===r);s&&(n=new af({format:s}))}n&&i.add(n)}),i}_cleanUpView(t){t&&(this._locationGraphic&&t.graphics.remove(this._locationGraphic),this.removeHandles(Gn.view),this.removeHandles(Gn.cursor))}_clearConversions(t){t.forEach(i=>{i.position={location:null,coordinate:null}})}async _convertMany(t,i){return Promise.all(t.map(r=>qj(r,i)))}_handleConversionChange(t){for(const i of t.added){const{format:r}=i;r&&(r.viewModel=this,this.currentLocation&&(this._set("waitingForConversions",!0),this.convert(r,this.currentLocation).then(n=>{i.position=n,this._set("waitingForConversions",!1)})))}this._saveWidgetState()}_handleFormatChange(t){t.added.forEach(i=>{this.addHandles(ht(()=>i.currentPattern,this._saveWidgetState),i.name??"unnamed-format"),i.viewModel=this}),t.removed.forEach(i=>{i.viewModel=null;const r=this.conversions.filter(n=>n.format===i);this.conversions.removeMany(r),i.name&&this.removeHandles(i.name)})}_loadWidgetState(){try{const t=JSON.parse(this.storage.getItem(Bj));t&&this._setWidgetState(t)}catch(t){ze.getLogger(this).error(new $e("coordinate-conversion:invalid-session-storage-json","Could not read from storage.",{error:t}))}}_startCaptureMode(){this.removeHandles(Gn.view),this.view&&(this.currentLocation&&this.setLocation(this.currentLocation),this.removeHandles(Gn.cursor),this.addHandles(this.view.acquireCursor("crosshair","high"),Gn.cursor),this.addHandles(this.view.on("click",this._onClick),Gn.view))}_startLiveMode(){this._pointerCount=0,this.removeHandles(Gn.view),this.view&&(this.removeHandles(Gn.cursor),this._locationGraphic&&this.view.graphics.remove(this._locationGraphic),this.addHandles([this.view.on("pointer-down",this._onPointerDown),this.view.on("pointer-up",this._onPointerUp),this.view.on("pointer-move",this._onPointerMove)],Gn.view))}_handleViewChange(t,i){i&&i!==t&&this._cleanUpView(i),t&&(this.mode==="capture"?this._startCaptureMode():this._startLiveMode(),i&&this._filterFormatsAndConversions())}_onClick(t){if(t.button===0){const i=this.view?.toMap(t),r=i?.normalize();this.setLocation(r),this.currentLocation=r}}_onPointerDown(t){const{pointerType:i}=t;if(this._pointerCount++,(i==="touch"||i==="pen")&&this._pointerCount===1){const r=this.view?.toMap(t);this.currentLocation=r?.normalize()}}_onPointerMove(t){const{pointerType:i}=t;if(i==="mouse"||this._pointerCount===1){const r=this.view?.toMap(t);this.currentLocation=r?.normalize()}}_onPointerUp(){this._pointerCount--}_setWidgetState(t){try{t.formats.forEach(i=>{const r=this.formats.find(n=>n.name===i.name);r&&t.locale===Dn()&&i.currentPattern&&(r.currentPattern=i.currentPattern),r&&i.index>=0&&this.conversions.add(new af({format:r}))})}catch(i){ze.getLogger(this).warn(new $e("coordinate-conversion:session-storage-read-error","Could not get state from stored JSON.",{error:i}))}}_saveWidgetState(){if(!this.storageEnabled)return;const t=this._toJSON();try{this.storage.setItem(Bj,JSON.stringify({formats:t,locale:Dn()}))}catch(i){ze.getLogger(this).error(new $e("coordinate-conversion:local-storage-write-error","Could not write to localStorage.",{error:i}))}}async _updateConversions(){try{await this.updateConversions(this.conversions.toArray(),this.currentLocation)}catch{}}_toJSON(){return this.formats.filter(t=>{const i=t.name;return i==="xy"||i==="basemap"||O2e(i)}).map(t=>({name:t.name,currentPattern:t.currentPattern,defaultPattern:t.defaultPattern,index:this.conversions.findIndex(i=>i.format===t)})).sort((t,i)=>t.index-i.index).toArray()}_filterFormatsAndConversions(){const{formatterAvailable:t,conversions:i,formats:r}=this;t||this.addHandles(Ns(()=>this.view?.spatialReference,n=>{const s=n.isWebMercator||n.isWGS84,a=r.filter(f=>{const{name:v}=f;return!!q2e(v)||v==="xy"&&!s}),u=this.filteredFormats.filter(f=>f.name==="xy"&&s&&!this.formats.includes(f)),h=i.filter(f=>a.includes(f.format));r.removeMany(a),i.removeMany(h),this.filteredFormats.addMany(a.filter(f=>!this.filteredFormats.includes(f))),r.addMany(u)},{once:!0,initial:!0}),Gn.view)}};async function qj(e,t){try{e.position=await e.format?.convert(t)}catch{e.position=null}return e}function q2e(e){return F2e.includes(e)}p([_({type:Fe.ofType(af)})],mn.prototype,"conversions",void 0),p([xr("conversions")],mn.prototype,"castConversions",null),p([_({type:We})],mn.prototype,"currentLocation",null),p([_({type:Fe.ofType(ol)})],mn.prototype,"formats",void 0),p([_()],mn.prototype,"messages",void 0),p([_()],mn.prototype,"mode",null),p([_()],mn.prototype,"filteredFormats",void 0),p([_({readOnly:!0})],mn.prototype,"state",null),p([_({types:Cge})],mn.prototype,"locationSymbol",void 0),p([_({readOnly:!0,dependsOn:["storageType"]})],mn.prototype,"storage",null),p([_()],mn.prototype,"storageEnabled",void 0),p([_()],mn.prototype,"storageType",void 0),p([_({readOnly:!0})],mn.prototype,"waitingForConversions",null),p([_()],mn.prototype,"view",void 0),mn=p([ie("esri.widgets.CoordinateConversion.CoordinateConversionViewModel")],mn);const DH=mn;function Gj({level:e,class:t,...i},r){const n=G2e(e);return He(`h${n}`,{...i,"aria-level":String(n),class:GV(rn.heading,t),role:"heading"},r)}function G2e(e){return co(Math.ceil(e),1,6)}const Ci="esri-coordinate-conversion",Ct={base:Ci,captureMode:`${Ci}--capture-mode`,noBasemap:`${Ci}--no-basemap`,popup:`${Ci}__popup`,clipboardPopup:`${Ci}__clipboard-popup`,conversionList:`${Ci}__conversion-list`,conversionRow:`${Ci}__row`,coordDisplay:`${Ci}__display`,expandButton:`${Ci}__expand-button`,expanded:`${Ci}__conversions-view--expanded`,expandDown:`${Ci}__conversions-view--expand-down`,expandUp:`${Ci}__conversions-view--expand-up`,conversionsView:`${Ci}__conversions-view`,rowSelect:`${Ci}__select-row`,toolDisplay:`${Ci}__tools`,modeToggle:`${Ci}__mode-toggle`,rowButton:`${Ci}__row-button`,coordinateInput:`${Ci}__input-coordinate`,inputForm:`${Ci}__input-form`,inputFormGroup:`${Ci}__input-group`,inputSelect:`${Ci}__input-select`,sectionHeading:`${Ci}__heading`,patternInput:`${Ci}__pattern-input`,settings:`${Ci}__settings`,settingsFormGroup:`${Ci}__settings-group`,settingsFormGroupHorizontal:`${Ci}__settings-group-horizontal`,previewCoordinate:`${Ci}__preview-coordinate`},Vj={settingsButton:!0,inputButton:!0,captureButton:!0,expandButton:!0},V2e=750,H2e=2500;let yi=class extends uy{constructor(e,t){super(e,t),this._popupMessage=null,this._popupTimeoutId=void 0,this._clipboardPopupTimeoutId=void 0,this._coordinateInput=null,this._badInput=!1,this._goToEnabled=!1,this._conversionFormat=null,this._settingsFormat=null,this._previewConversion=null,this._expanded=!1,this._clipboardPopupVisible=!1,this._popupVisible=!1,this._settingsVisible=!1,this._inputVisible=!1,this.headingLevel=4,this.messages=null,this.messagesCommon=null,this.orientation="auto",this.viewModel=new DH,this.visibleElements={...Vj},YP(ze.getLogger(this),"CoordinateConversion","arcgis-coordinate-conversion",{version:"4.34"})}loadDependencies(){return p1({button:()=>Ne(()=>import("./index-CihYIzjX.js"),__vite__mapDeps([381,382,383,384,385,386,387,388,389,390,391,392,393,394]),import.meta.url),checkbox:()=>Ne(()=>import("./index-CLdFN721.js"),__vite__mapDeps([401,389,387,391,392,402,393,403,384,385,394]),import.meta.url),input:()=>Ne(()=>import("./index-NbUM7z7Y.js").then(e=>e.i),__vite__mapDeps([404,386,387,388,405,389,400,390,385,391,392,402,393,394,403,406,384]),import.meta.url),label:()=>Ne(()=>import("./index-DwFsN7AH.js"),__vite__mapDeps([407,393,387]),import.meta.url),option:()=>Ne(()=>import("./index-DAdy_gTK.js"),__vite__mapDeps([408,388]),import.meta.url),select:()=>Ne(()=>import("./index-DBnS_wJm.js"),__vite__mapDeps([409,386,387,388,405,389,384,385,391,392,393,394,403,406]),import.meta.url)})}get conversions(){return this.viewModel.conversions}set conversions(e){this.viewModel.conversions=e}get currentLocation(){return this.viewModel.currentLocation}set currentLocation(e){this.viewModel.currentLocation=e}get formats(){return this.viewModel.formats}set formats(e){this.viewModel.formats=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"coordinate-system"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}set multipleConversions(e){e===!1&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",e)}get multipleConversions(){const e=this._get("multipleConversions");return typeof e!="boolean"||e}get locationSymbol(){return this.viewModel.locationSymbol}set locationSymbol(e){this.viewModel.locationSymbol=e}get storageEnabled(){return this.viewModel.storageEnabled}set storageEnabled(e){this.viewModel.storageEnabled=e}get storageType(){return this.viewModel.storageType}set storageType(e){this.viewModel.storageType=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...Vj,...e}}reverseConvert(e,t){return this.viewModel.reverseConvert(e,t)}render(){const e=this.viewModel?.state,t=e==="disabled"?He("div",{key:"esri-coordinate__no-basemap"},this.messages?.noBasemap):null,i=!t&&this._inputVisible?this._renderInputForm():null,r=!t&&this._settingsVisible?this._renderSettings():null,n=t||i||r?null:this._renderConversionsView(),s=this._popupVisible?this._renderPopup():null,a={[Ct.captureMode]:this.mode==="capture",[rn.disabled]:e==="loading",[Ct.noBasemap]:e==="disabled"};return He("div",{class:this.classes(Ct.base,rn.widget,a)},s,t,n,r,i)}_addConversion(e){const t=e.target,i=t.selectedOption.value,r=Hj(t);if(i==null||r==null)return;const n=new af({format:i});t.value="default",r>=0?(this.conversions.removeAt(r),this.conversions.add(n,r)):this.conversions.add(n)}_findSettingsFormat(){return this._settingsFormat||this.conversions.reduceRight((e,t)=>{const i=t.format;return i?.hasDisplayProperties?i:e},null)||this.formats.find(e=>e.hasDisplayProperties)}_hidePopup(){this._popupTimeoutId&&(clearTimeout(this._popupTimeoutId),this._popupTimeoutId=void 0),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}_hideClipboardPopup(){this._clipboardPopupTimeoutId&&(clearTimeout(this._clipboardPopupTimeoutId),this._clipboardPopupTimeoutId=void 0),this._clipboardPopupVisible=!1,this.scheduleRender()}_onConvertComplete(){this._inputVisible=!1,this._coordinateInput.value=""}_onCopy(e){const t=Z2e(e.currentTarget)?.displayCoordinate;t!=null&&(e.clipboardData?.setData("text/plain",t),this._showClipboardPopup(),e.preventDefault())}_processUserInput(e){const t=nte(e,"key"),i=this.viewModel;if(t!=="Enter"&&t)this._badInput&&(this._badInput=!1);else{const r=this._conversionFormat||this.conversions.at(0).format;if(!r)return;const n=this._coordinateInput.value;this._reverseConvert(n,r).then(s=>{this.mode==="capture"?i.resume():this.mode="capture",this.currentLocation=s,i.setLocation(s),this._onConvertComplete()}).catch(s=>{ze.getLogger(this).error(s),this._showPopup(this.messages?.invalidCoordinate),this._badInput=!0})}}async _reverseConvert(e,t){const i=this.viewModel,r=await t.reverseConvert(e);return this._goToEnabled&&r&&i.goToLocation(r).catch(n=>{ze.getLogger(this).warn(n),this._showPopup(this.messages?.locationOffBasemap)}),r}_setInputFormat(e){const t=e.target.selectedOption.value;t!=null&&(this._conversionFormat=t)}_setPreviewConversion(){const e=this._findSettingsFormat(),t=this.viewModel;if(e){const i=this.conversions.find(r=>r.format===e);this._previewConversion=new af({format:e,position:{location:this.currentLocation,coordinate:i?.position?.coordinate}}),this._previewConversion.position?.coordinate||t.previewConversion(this._previewConversion)}}_setSettingsFormat(e){const t=e.target.selectedOption.value;t!=null&&(this._settingsFormat=t,this._setPreviewConversion())}_showClipboardPopup(){this._clipboardPopupVisible?clearTimeout(this._clipboardPopupTimeoutId):this._clipboardPopupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout(()=>{this._popupTimeoutId=void 0,this._hideClipboardPopup()},V2e)}_showPopup(e,t=H2e){this._popupMessage=e,this._popupVisible?clearTimeout(this._popupTimeoutId):this._popupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout(()=>{this._popupTimeoutId=void 0,this._hidePopup()},t)}_toggleGoTo(){this._goToEnabled=!this._goToEnabled}_updateCurrentPattern(e){e.stopPropagation();const t=e.target,i=this._findSettingsFormat();i&&(i.currentPattern=t.value)}_renderConversion(e,t){const{messages:i}=this;if(!i)return He("li",null);const{format:r}=e,n=r?.label??"",s=`${this.id}__list-item-${t}`,a=`${n} ${i.conversionOutputSuffix}`,u=t===0,h=u||this._expanded,f=u?this._renderFirstConversion(e):this._renderTools(t,e,s),v=u&&!e.displayCoordinate?i.noLocation:e.displayCoordinate,w=He("div",{"aria-label":v,class:Ct.coordDisplay,"data-conversion":e,role:"listitem",tabIndex:0,title:v??""},v),x=this._renderOptions(this.formats.filter(M=>M!==r));return h?He("li",{"aria-label":a,class:Ct.conversionRow,id:s,key:e,role:"group",tabIndex:0,title:a},He("calcite-select",{"aria-controls":s,bind:this,class:Ct.rowSelect,"data-index":t,label:i.selectFormat,scale:"s",onCalciteSelectChange:this._addConversion},He("calcite-option",{label:n.toUpperCase(),selected:!0},n.toUpperCase()),x),w,f):null}_renderCopyButton(e){const t=this._clipboardPopupVisible&&this._renderClipboardPopup(),{messagesCommon:i}=this;return i?He("li",{"aria-label":i.copy,bind:this,class:this.classes(rn.widgetButton,Ct.rowButton),"data-conversion":e,onclick:this._copyCoordinateOutput,oncopy:this._onCopy,onkeydown:this._copyCoordinateOutput,role:"button",tabIndex:0,title:i.copy},t,He("span",{"aria-hidden":"true",class:m1.duplicate})):He("li",null)}_renderFirstConversion(e){const t=this.id,{messages:i,messagesCommon:r,multipleConversions:n,visibleElements:s}=this;if(!r||!i)return He("ul",null);const a=this.mode==="live"?i.captureMode:i.liveMode,u=this._expanded?r.collapse:r.expand,h=e.displayCoordinate&&this.mode==="capture"?this._renderCopyButton(e):null,f=n&&s.expandButton&&this._renderIconButton({iconType:this._expanded?"chevron-down":"chevron-up",clickFunction:this._toggleExpand,classes:[Ct.expandButton],attributes:{"aria-controls":`${t}__${Ct.conversionList}`,label:u}}),v=!n&&s.captureButton&&this._renderIconButton({iconType:this.mode==="live"?"pin-tear":"pin-tear-f",clickFunction:this._toggleMode,classes:[Ct.modeToggle],attributes:{label:a}});return He("ul",{class:Ct.toolDisplay},h,f,v)}_renderInputForm(){const e=this._conversionFormat||this.conversions.at(0).format,t=this.formats.findIndex(v=>v.name===e?.name),i=this.id,r=`${i}__${Ct.coordinateInput}`,n=`${i}__${Ct.coordinateInput}__header`,s=this._renderOptions(this.formats,!0,t),{messages:a,messagesCommon:u,headingLevel:h}=this;if(!u||!a)return He("div",null);const f=this._renderIconButton({iconType:tP(this.container)?"arrow-right":"arrow-left",clickFunction:this._toggleInputVisibility,attributes:{label:u.back}});return He("div",{"aria-labelledby":n,class:Ct.inputForm,key:"esri-coordinate-conversion__input-form",role:"search"},He("div",{class:Ct.sectionHeading},f,He(Gj,{class:rn.heading,id:n,level:h},a.inputCoordTitle)),He("div",{class:Ct.inputFormGroup},He("calcite-select",{"aria-controls":r,bind:this,class:Ct.inputSelect,label:a.selectFormat,scale:"s",onCalciteSelectChange:this._setInputFormat},s),He("calcite-input",{afterCreate:Qwe,"aria-labelledby":n,bind:this,class:Ct.coordinateInput,"data-format":e,"data-node-ref":"_coordinateInput",id:r,onkeydown:this._processUserInput,placeholder:a.inputCoordTitle,required:!0,scale:"s",spellcheck:!1,status:this._badInput?"invalid":"idle"})),He("div",{class:Ct.inputFormGroup},He("calcite-label",{layout:"inline",scale:"s"},He("calcite-checkbox",{bind:this,checked:this._goToEnabled,onCalciteCheckboxChange:this._toggleGoTo}),a.goTo),He("calcite-button",{appearance:"outline",bind:this,kind:"neutral",onclick:this._processUserInput,type:"button",width:"auto"},a.convert)))}_renderConversionsView(){const{messages:e}=this;if(!e)return He("div",null);const t=`${this.id}__${Ct.conversionList}`,i=this._renderPrimaryTools(),r=this._renderOptions(this.formats),n=this.conversions.map((u,h)=>this._renderConversion(u,h)).toArray(),s=this._expanded?He("div",{class:Ct.conversionRow},He("calcite-select",{"aria-controls":t,bind:this,"data-index":-1,label:e.addConversion,scale:"s",onCalciteSelectChange:this._addConversion},He("calcite-option",{disabled:!0,selected:!0,value:"default"},e.addConversion),r),i):null,a={[Ct.expanded]:this._expanded,[Ct.expandUp]:this.orientation==="expand-up",[Ct.expandDown]:this.orientation==="expand-down"};return He("div",{class:this.classes(Ct.conversionsView,a),key:"esri-coordinate-conversion__main-view"},He("ul",{"aria-expanded":this._expanded?"true":"false",class:Ct.conversionList,id:t},n),s)}_renderOptions(e,t,i){const r=this.conversions.at(0),n=r.format?.name;return e.map((s,a)=>{const u=!(t||!r)&&(n===s.name||this.conversions.map(h=>h.format?.name).includes(s.name));return He("calcite-option",{disabled:u,key:s.name??"unnamed-format",label:s.label.toUpperCase(),selected:a===i,value:s},s.label)}).toArray()}_renderPopup(){return He("div",{class:Ct.popup,role:"alert"},this._popupMessage)}_renderClipboardPopup(){const{messages:e}=this;return e?He("div",{class:this.classes(Ct.popup,Ct.clipboardPopup),role:"alert"},e.copySuccessMessage):He("div",null)}_renderPrimaryTools(){const{messages:e,visibleElements:t}=this;if(!e)return He("ul",null);const i=this.mode==="live"?e.captureMode:e.liveMode,r=t.inputButton&&this._renderIconButton({iconType:"pencil",clickFunction:this._toggleInputVisibility,attributes:{label:e.inputCoordTitle}}),n=t.captureButton&&this._renderIconButton({iconType:this.mode==="live"?"pin-tear":"pin-tear-f",clickFunction:this._toggleMode,classes:[Ct.modeToggle],attributes:{label:i}}),s=t.settingsButton&&this._renderIconButton({iconType:"gear",clickFunction:this._toggleSettingsVisibility,attributes:{label:e.settingsTitle}});return He("ul",{class:Ct.toolDisplay},r,n,s)}_renderSettings(){const e=this.id,t=`${e}__${Ct.patternInput}`,i=`${e}__${Ct.patternInput}__header`,r=`${e}__${Ct.previewCoordinate}`,n=this.formats.filter(P=>P.hasDisplayProperties),s=this._findSettingsFormat(),a=s?n.indexOf(s):-1,u=this._renderOptions(n,!0,a),h=s?.currentPattern,{messages:f,messagesCommon:v,headingLevel:w}=this;if(!v||!f)return He("div",null);const x=this._renderIconButton({iconType:tP(this.container)?"arrow-right":"arrow-left",clickFunction:this._toggleSettingsVisibility,attributes:{label:v.back}}),M=this._renderIconButton({iconType:"reset",clickFunction:this._setDefaultPattern,attributes:{label:f.defaultPattern}});return He("div",{"aria-labelledby":i,class:Ct.settings,key:Ct.settings},He("div",{class:Ct.sectionHeading},x,He(Gj,{class:rn.heading,id:i,level:w},f.settingsTitle)),He("div",{class:Ct.settingsFormGroup},He("label",{for:t},f.changeCoordinateDisplay),He("calcite-select",{bind:this,label:f.selectFormat,width:"full",onCalciteSelectChange:this._setSettingsFormat},u),He("div",{class:Ct.settingsFormGroupHorizontal},He("calcite-input",{"aria-controls":r,bind:this,class:Ct.patternInput,id:t,spellcheck:!1,type:"text",value:h,onCalciteInputInput:this._updateCurrentPattern}),M)),He("div",{class:Ct.settingsFormGroup},He("label",null,v.preview,He("div",{class:Ct.previewCoordinate,id:r,tabIndex:0},this._previewConversion?.displayCoordinate))))}_renderIconButton(e){const{iconType:t,clickFunction:i,classes:r,attributes:n}=e;return He("calcite-button",{appearance:"transparent",bind:this,class:this.classes(r),iconStart:t,kind:"neutral",onclick:i,onkeydown:i,...n})}_renderTools(e,t,i){const r=t.displayCoordinate&&this.mode==="capture"?this._renderCopyButton(t):null,{messages:n}=this;if(!n)return He("ul",null);const s=this._renderIconButton({iconType:"x",clickFunction:this._removeConversion,attributes:{"aria-controls":i,label:n.removeConversion,"data-index":e}});return He("ul",{class:Ct.toolDisplay,role:"listitem"},r,He("li",{class:this.classes(Ct.rowButton)},s))}_copyCoordinateOutput(e){const t=e.target;if(!("createTextRange"in document.body)){const i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i?.removeAllRanges(),i?.addRange(r)}document.execCommand("copy")}_removeConversion(e){const t=Hj(e.currentTarget);t!=null&&this.conversions.removeAt(t)}_setDefaultPattern(e){e.stopPropagation();const t=this._findSettingsFormat();t&&(t.currentPattern=t.defaultPattern)}_toggleExpand(){this._expanded=!this._expanded}_toggleInputVisibility(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}_toggleMode(){this.mode=this.mode==="live"?"capture":"live"}_toggleSettingsVisibility(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}};p([_()],yi.prototype,"conversions",null),p([_()],yi.prototype,"currentLocation",null),p([_()],yi.prototype,"formats",null),p([_()],yi.prototype,"goToOverride",null),p([_()],yi.prototype,"headingLevel",void 0),p([_()],yi.prototype,"icon",null),p([_()],yi.prototype,"label",null),p([_(),Ph("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],yi.prototype,"messages",void 0),p([_(),Ph("esri/t9n/common")],yi.prototype,"messagesCommon",void 0),p([_()],yi.prototype,"mode",null),p([_()],yi.prototype,"orientation",void 0),p([_()],yi.prototype,"multipleConversions",null),p([_()],yi.prototype,"locationSymbol",null),p([_()],yi.prototype,"storageEnabled",null),p([_()],yi.prototype,"storageType",null),p([_()],yi.prototype,"view",null),p([_({type:DH})],yi.prototype,"viewModel",void 0),p([_()],yi.prototype,"visibleElements",void 0),p([xr("visibleElements")],yi.prototype,"castVisibleElements",null),p([Vc()],yi.prototype,"_copyCoordinateOutput",null),p([Vc()],yi.prototype,"_removeConversion",null),p([Vc()],yi.prototype,"_setDefaultPattern",null),p([Vc()],yi.prototype,"_toggleExpand",null),p([Vc()],yi.prototype,"_toggleInputVisibility",null),p([Vc()],yi.prototype,"_toggleMode",null),p([Vc()],yi.prototype,"_toggleSettingsVisibility",null),yi=p([ie("esri.widgets.CoordinateConversion")],yi);const W2e=yi;function Hj(e){return e["data-index"]}function Z2e(e){return e["data-conversion"]}function Y2e(){const[e,t]=oe.useState({name:"",phone:"",email:"",date:"",description:"",pueblo:"",carretera:"",allowLocation:!1}),[i,r]=oe.useState([]),[n,s]=oe.useState(null),[a,u]=oe.useState(!1),[h,f]=oe.useState(!1),v=oe.useRef(null),w=oe.useRef(null),x=oe.useRef(null),M=["Adjuntas","Aguada","Aguadilla","Aguas Buenas","Aibonito","Aasco","Arecibo","Arroyo","Barceloneta","Barranquitas","Bayamn","Cabo Rojo","Caguas","Camuy","Canvanas","Carolina","Catao","Cayey","Ceiba","Ciales","Cidra","Coamo","Comero","Corozal","Culebra","Dorado","Fajardo","Florida","Gunica","Guayama","Guayanilla","Guaynabo","Gurabo","Hatillo","Hormigueros","Humacao","Isabela","Jayuya","Juana Daz","Juncos","Lajas","Lares","Las Maras","Las Piedras","Loza","Luquillo","Manat","Maricao","Maunabo","Mayagez","Moca","Morovis","Naguabo","Naranjito","Orocovis","Patillas","Peuelas","Ponce","Quebradillas","Rincn","Ro Grande","Sabana Grande","Salinas","San Germn","San Juan","San Lorenzo","San Sebastin","Santa Isabel","Toa Alta","Toa Baja","Trujillo Alto","Utuado","Vega Alta","Vega Baja","Vieques","Villalba","Yabucoa","Yauco"];oe.useEffect(()=>{const Y=v.current;if(!Y)return;const U=E=>{E.preventDefault(),E.stopPropagation()},C=E=>{U(E);const A=Array.from(E.dataTransfer.files||[]);r(k=>[...k,...A])};return["dragenter","dragover","dragleave","drop"].forEach(E=>Y.addEventListener(E,U)),Y.addEventListener("drop",C),()=>{["dragenter","dragover","dragleave","drop"].forEach(E=>Y.removeEventListener(E,U)),Y.removeEventListener("drop",C)}},[]);const P=Y=>{const U=Array.from(Y.target.files||[]);r(C=>[...C,...U])},O=Y=>{r(U=>U.filter((C,E)=>E!==Y))},F=Y=>{const{name:U,value:C,type:E,checked:A}=Y.target;t(k=>({...k,[U]:E==="checkbox"?A:C})),U==="allowLocation"&&f(A)};oe.useEffect(()=>{if(!h)return;const Y=new uB({basemap:"satellite"}),U=new XSe({container:w.current,map:Y,center:[-66.5,18.2],zoom:9});x.current=U;const C=new v2e({view:U,useHeadingEnabled:!1,goToOverride:(V,H)=>(H.target.scale=5e3,V.goTo(H.target))});U.ui.add(C,"top-left");const E=new W2e({view:U,multipleConversions:!1});U.ui.add(E,"bottom-left");const A={type:"simple-marker",color:"#ff4f00",size:12,outline:{color:"#fff",width:1.5}};let k;return U.on("click",V=>{const{latitude:H,longitude:q}=V.mapPoint;k&&U.graphics.remove(k),k=new wr({geometry:new We({latitude:H,longitude:q}),symbol:A}),U.graphics.add(k),s({lat:H,lng:q})}),()=>U&&U.destroy()},[h]),oe.useEffect(()=>{(async()=>{if(!(!e.allowLocation||!x.current)){if(navigator.permissions&&navigator.permissions.revoke)try{await navigator.permissions.revoke({name:"geolocation"})}catch{console.warn("Browser does not fully support revoke() for geolocation.")}if(!("geolocation"in navigator)){alert("La geolocalizacin no est disponible en este navegador.");return}navigator.geolocation.getCurrentPosition(U=>{const{latitude:C,longitude:E}=U.coords,A=x.current;A.goTo({center:[E,C],zoom:17});const k=new wr({geometry:new We({latitude:C,longitude:E}),symbol:{type:"simple-marker",color:"#ff4f00",size:12,outline:{color:"#fff",width:1.5}}});A.graphics.add(k),s({lat:C,lng:E})},U=>{console.error("Error al obtener ubicacin:",U),alert("No se pudo obtener tu ubicacin. Asegrate de permitir el acceso.")},{enableHighAccuracy:!0,timeout:1e4})}})()},[e.allowLocation]);const G=async Y=>{Y.preventDefault(),u(!0);const U={...e,coordinates:n,files:i.map(C=>({name:C.name,type:C.type,size:C.size})),submittedAt:new Date().toISOString()};console.log("Report payload (preview):",U),alert("Reporte preparado! (Actualmente en modo demo)"),u(!1)};return D.jsxs("div",{className:"report-page",children:[D.jsxs("div",{className:"report-hero",children:[D.jsx("img",{src:Gg,alt:"PRLHMO",className:"report-hero__logo"}),D.jsxs("div",{className:"report-hero__text",children:[D.jsx("h1",{className:"report-title",children:"Reporte de Deslizamiento"}),D.jsxs("p",{className:"report-subtitle",children:[D.jsx("strong",{children:"Viste un deslizamiento?"})," Aydanos a mejorar el monitoreo reportando cualquier evento en tu rea."]}),D.jsx("p",{className:"report-description",children:"Tu informacin nos permite responder ms rpido, validar riesgos y fortalecer la seguridad de las comunidades en Puerto Rico."})]})]}),D.jsx("hr",{className:"report-divider"}),D.jsxs("form",{className:"report-form",onSubmit:G,children:[D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"name",children:"Nombre Completo:"}),D.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Opcional",value:e.name,onChange:F})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"phone",children:"Nmero de Telfono:"}),D.jsx("input",{id:"phone",name:"phone",type:"phone",placeholder:"Opcional",value:e.phone,onChange:F})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"email",children:"Correo Electrnico:"}),D.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Opcional",value:e.email,onChange:F})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"date",children:"Fecha:"}),D.jsx("input",{id:"date",name:"date",type:"date",value:e.date,onChange:F})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"description",children:"Descripcin Breve:"}),D.jsx("textarea",{id:"description",name:"description",rows:4,value:e.description,onChange:F})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:" Aadir Foto/Video:"}),D.jsxs("div",{className:"dropzone",ref:v,children:[D.jsxs("div",{className:"dropzone__hint",children:[D.jsx("span",{className:"drop-cloud",children:""}),D.jsx("p",{children:"Drag and drop files here to upload"}),D.jsxs("label",{className:"pick-files",children:["or ",D.jsx("input",{type:"file",multiple:!0,onChange:P})," Select Files to Upload"]})]}),i.length>0&&D.jsx("ul",{className:"file-list",children:i.map((Y,U)=>D.jsxs("li",{children:[D.jsx("span",{children:Y.name}),D.jsx("button",{type:"button",className:"remove-file",onClick:()=>O(U),children:""})]},`${Y.name}-${U}`))})]})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"pueblo",children:"Pueblo:"}),D.jsxs("select",{id:"pueblo",name:"pueblo",value:e.pueblo,onChange:F,children:[D.jsx("option",{value:"",children:"Seleccione"}),M.map(Y=>D.jsx("option",{value:Y,children:Y},Y))]})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{htmlFor:"carretera",children:"Carretera:"}),D.jsx("input",{id:"carretera",name:"carretera",type:"text",value:e.carretera,onChange:F})]}),D.jsxs("div",{className:"form-row form-row--inline",children:[D.jsx("input",{id:"allowLocation",name:"allowLocation",type:"checkbox",checked:e.allowLocation,onChange:F}),D.jsx("label",{htmlFor:"allowLocation",className:"inline-label",children:"Doy permiso a acceder mi localizacin."})]}),h&&D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Ubicacin en el mapa:"}),D.jsx("div",{ref:w,style:{height:"400px",width:"100%",borderRadius:"10px",overflow:"hidden",border:"2px solid #a6b09f"}})]}),D.jsx("div",{className:"form-actions",children:D.jsx("button",{className:"submit-btn",disabled:a,children:a?"Enviando":"Enviar Reporte"})})]})]})}const J2e=""+new URL("educational_talk-DC9BjsVa.webp",import.meta.url).href;function X2e(){const[e,t]=oe.useState(!1),i=r=>{const n=r.target.checked;t(n),n&&window.open("https://forms.office.com/pages/responsepage.aspx?id=wF36DW8DFUaZ5JSvgi8rhIlImwsjD_VBt9FEUbX9hshUNVI0NjVRSDlVMzZUTUYwTzJMVVRSWFJJMyQlQCN0PWcu&route=shorturl","_blank")};return D.jsxs("section",{className:"request-page",children:[D.jsxs("div",{className:"request__header",children:[D.jsx("div",{className:"request__image-wrapper",children:D.jsx("img",{src:J2e,alt:"Charla educativa en escuela",className:"request__image",loading:"lazy"})}),D.jsxs("div",{className:"request__text",children:[D.jsx("h1",{children:"Solicitud de Charla"}),D.jsx("h2",{children:"Procedimiento para solicitar charlas y/o visitas de la Oficina de Mitigacin de Peligros de Deslizamientos de Tierra en Puerto Rico:"}),D.jsx("p",{children:"Ofrecemos charlas y participacin en ferias educativas para escuelas, agencias gubernamentales o privadas, organizaciones sociales, organizaciones sin fines de lucro, comunidades, pblico en general, entre otros. Para solicitar, o para coordinar conferencias en su escuela o rea de trabajo favor llenar el formulario en lnea o vea los mtodos alternos de solicitud."})]})]}),D.jsx("hr",{className:"request__divider"}),D.jsxs("div",{className:"request__body",children:[D.jsx("h2",{children:"Reglamento para Conferencias:"}),D.jsx("h3",{children:"Conferencias Virtuales"}),D.jsxs("ol",{children:[D.jsx("li",{children:"El solicitante de la conferencia debe contar con internet y sistema de sonido."}),D.jsx("li",{children:"Recibir una invitacin por email para poder acceder a la conferencia."}),D.jsx("li",{children:"Se realizar una prueba previa al da de la conferencia."})]}),D.jsx("h3",{children:"Visitas a Escuelas"}),D.jsxs("ol",{children:[D.jsx("li",{children:"Debe llenar el formulario o enviar una carta solicitando la conferencia. La misma debe estar aprobada por el director escolar."}),D.jsxs("li",{children:["El solicitante debe:",D.jsxs("ul",{children:[D.jsx("li",{children:"Proveer estacionamiento seguro para el recurso."}),D.jsx("li",{children:"Recibir al recurso y llevarlo/a al rea destinada para la conferencia. En ocasiones, el recurso necesitar ayuda con los materiales educativos y el equipo."}),D.jsx("li",{children:"Durante la conferencia deber de estar presente un maestro o algn encargado, pues es quien mantendr el control de la actividad."}),D.jsx("li",{children:"Debe tener un saln adecuado para poder proyectar. La Oficina de Mitigacin de Peligros de Deslizamientos de Tierra en Puerto Rico no provee pantalla de proyeccin (solo proveemos computadora, proyector y material educativo)."}),D.jsx("li",{children:"Si el grupo o el lugar es grande, debe considerar el uso de equipo de sonido."})]})]}),D.jsx("li",{children:"El recurso podr ofrecer hasta un mximo de 2 conferencias por visita. Las escuelas slo podrn solicitar conferencias una vez en el semestre."}),D.jsx("li",{children:"Evitar mezclar estudiantes de distintos niveles en una misma sesin (Ej. Estudiantes de Knder con estudiantes de 5to grado)."}),D.jsx("li",{children:"Si por alguna razn el recurso considera que su seguridad se encuentra en riesgo (condiciones del tiempo, inconvenientes o incumplimiento de las reglas) la conferencia puede ser cancelada o pospuesta."})]}),D.jsx("h3",{children:"Conferencias para Pblico en General"}),D.jsxs("ol",{children:[D.jsx("li",{children:"Contar con un mnimo de 10 personas."}),D.jsx("li",{children:"El solicitante de la conferencia debe asegurarse de proveer estacionamiento, recibir al recurso y tener un saln con el equipo adecuado para proyectar."}),D.jsx("li",{children:"La conferencia puede ser cancelada o pospuesta si el recurso considera que su seguridad est en riesgo (condiciones del tiempo, inconvenientes o incumplimiento de las reglas)"})]}),D.jsxs("label",{className:"request__checkbox",children:[D.jsx("input",{type:"checkbox",checked:e,onChange:i}),"He ledo las reglas y las acepto."]})]})]})}function K2e(){return D.jsxs("div",{children:[D.jsx("h1",{children:"Estaciones"}),D.jsx("p",{children:"Aqu se demostrar informacin de las estaciones."})]})}function Q2e(){return D.jsxs("div",{children:[D.jsx("h1",{children:"Mapa de Susceptibilidad a Dezlizamientos"}),D.jsx("p",{children:"Aqu se demostrar el mapa interctivo de ARcGis al igual que losn mapas de suceptibilidad por municipios."})]})}const exe=_J([{path:"/",element:D.jsx(NJ,{}),children:[{index:!0,element:D.jsx(GJ,{})},{path:"sobre-nosotros",element:D.jsx(YJ,{})},{path:"proyectos",element:D.jsx(PQ,{})},{path:"publicaciones",element:D.jsx(XQ,{})},{path:"mapa-interactivo",element:D.jsx(dQ,{})},{path:"estaciones",element:D.jsx(K2e,{})},{path:"pronostico-lluvia",element:D.jsx(KQ,{})},{path:"guia-deslizamientos",element:D.jsx(JX,{})},{path:"mapa-susceptibilidad",element:D.jsx(Q2e,{})},{path:"reportar",element:D.jsx(Y2e,{})},{path:"solicitud",element:D.jsx(X2e,{})},{path:"landslideready-individuos",element:D.jsx(mQ,{})},{path:"landslideready-municipios",element:D.jsx(_Q,{})}]}]);dZ.createRoot(document.getElementById("root")).render(D.jsx(Au.StrictMode,{children:D.jsx(AJ,{router:exe})}));export{L8 as $,Ot as A,QPe as B,rLe as C,jt as D,pr as E,QTe as F,sn as G,ly as H,ss as I,p as J,Gae as K,Cj as L,_ as M,ie as N,t4 as O,uLe as P,rH as Q,nH as R,_t as S,Gr as T,KMe as U,z9 as V,QMe as W,Li as X,bl as Y,Ie as Z,Ne as _,KRe as a,Vle as a$,tr as a0,Mi as a1,Gv as a2,Be as a3,kh as a4,WF as a5,Ta as a6,Ir as a7,We as a8,rj as a9,ke as aA,zt as aB,Qs as aC,Kn as aD,Cu as aE,Ti as aF,Cl as aG,iMe as aH,yh as aI,vxe as aJ,Jz as aK,hB as aL,AAe as aM,z1e as aN,Y_ as aO,Ipe as aP,Ng as aQ,xl as aR,xh as aS,Fe as aT,et as aU,fB as aV,tR as aW,pB as aX,dB as aY,HD as aZ,VCe as a_,Md as aa,Ed as ab,Kz as ac,e8 as ad,t8 as ae,pe as af,pxe as ag,lxe as ah,Qxe as ai,cRe as aj,cee as ak,bRe as al,sme as am,nq as an,G$e as ao,V$e as ap,F$e as aq,o_ as ar,xA as as,Ln as at,U_ as au,Aa as av,lme as aw,BS as ax,mae as ay,M$e as az,JRe as b,CMe as b$,fCe as b0,R8 as b1,Km as b2,zg as b3,m_ as b4,Oi as b5,Yo as b6,GP as b7,uo as b8,ai as b9,ETe as bA,gV as bB,Zt as bC,Vn as bD,aTe as bE,Gt as bF,er as bG,qt as bH,XMe as bI,Ixe as bJ,Lee as bK,ph as bL,vi as bM,J3e as bN,Xz as bO,j_ as bP,M8 as bQ,V_ as bR,ut as bS,dh as bT,hh as bU,cl as bV,nf as bW,eo as bX,If as bY,Os as bZ,Vme as b_,Qg as ba,Nn as bb,ey as bc,Oa as bd,_3e as be,y3e as bf,v3e as bg,Sl as bh,yx as bi,Hi as bj,Is as bk,qA as bl,xRe as bm,Fg as bn,FG as bo,h8 as bp,hMe as bq,mr as br,ns as bs,pb as bt,f3e as bu,MG as bv,Ls as bw,sf as bx,Rle as by,Jg as bz,lLe as c,HSe as c$,OMe as c0,JMe as c1,J$e as c2,IMe as c3,kMe as c4,nCe as c5,Fae as c6,Y$e as c7,Mn as c8,pt as c9,lR as cA,wx as cB,e$e as cC,bg as cD,yme as cE,i4 as cF,sA as cG,Pq as cH,Sq as cI,z$e as cJ,j$e as cK,P$e as cL,w_ as cM,__ as cN,oy as cO,y$ as cP,U4 as cQ,Zce as cR,uTe as cS,lTe as cT,gt as cU,Ds as cV,hEe as cW,dEe as cX,m$e as cY,fEe as cZ,M3e as c_,PMe as ca,LMe as cb,RMe as cc,AMe as cd,ome as ce,ame as cf,EG as cg,lt as ch,tt as ci,wr as cj,qr as ck,iR as cl,pde as cm,Sne as cn,Tne as co,xne as cp,Mne as cq,uMe as cr,cMe as cs,co as ct,fi as cu,Vg as cv,Jn as cw,$$e as cx,on as cy,kge as cz,tLe as d,WO as d$,NA as d0,j9 as d1,Bf as d2,pf as d3,kf as d4,lG as d5,N$e as d6,Uge as d7,_ae as d8,ba as d9,p$e as dA,ht as dB,nn as dC,Ma as dD,On as dE,l9 as dF,G3 as dG,C1e as dH,Zz as dI,Gi as dJ,lC as dK,jA as dL,Xxe as dM,In as dN,VS as dO,Jxe as dP,gMe as dQ,QG as dR,Lh as dS,KG as dT,L0e as dU,_ce as dV,sxe as dW,oxe as dX,oV as dY,sy as dZ,t_e as d_,Fge as da,jn as db,Ns as dc,ree as dd,yEe as de,It as df,Q_ as dg,th as dh,Wi as di,G9 as dj,Kb as dk,Ib as dl,Jre as dm,it as dn,wV as dp,QO as dq,K1e as dr,yE as ds,a1 as dt,WC as du,m3e as dv,$Ce as dw,WCe as dx,ml as dy,k9 as dz,BRe as e,iTe as e$,Vf as e0,Ra as e1,r1 as e2,p_ as e3,_0e as e4,sV as e5,b0e as e6,iV as e7,nV as e8,lne as e9,qo as eA,W_ as eB,I0e as eC,y$e as eD,Ute as eE,pTe as eF,jee as eG,Tf as eH,BP as eI,sTe as eJ,vde as eK,sB as eL,mR as eM,_he as eN,z0e as eO,Ahe as eP,w0e as eQ,rV as eR,Y0e as eS,cEe as eT,ax as eU,lx as eV,A8 as eW,Kc as eX,e2e as eY,yle as eZ,e1 as e_,gA as ea,yA as eb,ane as ec,Sx as ed,xx as ee,nTe as ef,sne as eg,RN as eh,_re as ei,GCe as ej,WEe as ek,sEe as el,i8 as em,W0e as en,j7 as eo,J9 as ep,Ige as eq,B$e as er,n1 as es,Of as et,ume as eu,Z$e as ev,so as ew,W$e as ex,nme as ey,mEe as ez,$e as f,Ux as f$,VP as f0,ox as f1,bce as f2,Uhe as f3,ede as f4,wve as f5,qae as f6,bEe as f7,Sg as f8,H$e as f9,xr as fA,nMe as fB,rMe as fC,Vae as fD,kCe as fE,YCe as fF,Sh as fG,G5 as fH,YMe as fI,uve as fJ,cve as fK,Iu as fL,Qee as fM,l_ as fN,ir as fO,lF as fP,es as fQ,EEe as fR,Ag as fS,FEe as fT,HE as fU,n3e as fV,jx as fW,HA as fX,WA as fY,r3e as fZ,d3e as f_,z7 as fa,zhe as fb,Tce as fc,Mce as fd,Ece as fe,V0e as ff,E0e as fg,$0e as fh,J0e as fi,$s as fj,Sr as fk,Xn as fl,Yg as fm,zMe as fn,Ch as fo,ble as fp,n$ as fq,XP as fr,xg as fs,ks as ft,ute as fu,c2 as fv,U9 as fw,$Me as fx,yn as fy,t_ as fz,F9 as g,_R as g$,pue as g0,Wye as g1,qF as g2,TR as g3,G0e as g4,b$e as g5,_$e as g6,s1 as g7,Fr as g8,w$e as g9,BCe as gA,PCe as gB,jEe as gC,cOe as gD,uOe as gE,oo as gF,ZTe as gG,xce as gH,SEe as gI,$ie as gJ,al as gK,Cs as gL,pOe as gM,WMe as gN,Fie as gO,_Oe as gP,Nf as gQ,v_ as gR,axe as gS,jxe as gT,br as gU,qE as gV,Hle as gW,UN as gX,Xg as gY,Zg as gZ,Br as g_,Ol as ga,Du as gb,S$e as gc,mh as gd,kxe as ge,Gxe as gf,ote as gg,ate as gh,V3 as gi,Ff as gj,vve as gk,$Ee as gl,MEe as gm,p3e as gn,cce as go,kEe as gp,Ale as gq,_$ as gr,Ki as gs,xAe as gt,Db as gu,eC as gv,Mm as gw,Tx as gx,g3e as gy,qf as gz,pte as h,eTe as h$,pMe as h0,Ene as h1,fne as h2,nU as h3,q0 as h4,$u as h5,no as h6,L2e as h7,U0e as h8,bMe as h9,fTe as hA,oTe as hB,B8 as hC,she as hD,Bxe as hE,H_ as hF,k8 as hG,Rh as hH,fde as hI,hde as hJ,ude as hK,GE as hL,XF as hM,Dle as hN,Dm as hO,qee as hP,wl as hQ,nLe as hR,bCe as hS,wCe as hT,tge as hU,K7 as hV,fue as hW,IN as hX,Nae as hY,u_ as hZ,Cg as h_,Bue as ha,gEe as hb,Aue as hc,j4 as hd,Z9 as he,Y9 as hf,pEe as hg,The as hh,nB as hi,ege as hj,A0e as hk,oB as hl,dMe as hm,rne as hn,Lce as ho,Ohe as hp,Rce as hq,zx as hr,Lb as hs,wxe as ht,F0e as hu,P0e as hv,Iq as hw,CCe as hx,uR as hy,Bde as hz,zRe as i,tce as i$,iH as i0,dbe as i1,fbe as i2,NRe as i3,Bbe as i4,DRe as i5,ARe as i6,PRe as i7,Gbe as i8,S0 as i9,gie as iA,tTe as iB,$D as iC,Lae as iD,z_ as iE,zTe as iF,VSe as iG,Mf as iH,DP as iI,Jee as iJ,NEe as iK,ihe as iL,tn as iM,mF as iN,Lue as iO,Vm as iP,rxe as iQ,IG as iR,GA as iS,B as iT,hne as iU,vl as iV,ove as iW,SR as iX,kle as iY,AEe as iZ,QS as i_,IRe as ia,G1e as ib,rRe as ic,_V as id,uRe as ie,U2 as ig,aRe as ih,Z0 as ii,lRe as ij,MS as ik,QAe as il,QOe as im,pF as io,c_ as ip,Z$ as iq,kue as ir,yF as is,aEe as it,IAe as iu,wTe as iv,$re as iw,Rre as ix,Ire as iy,fl as iz,P0 as j,Gm as j$,Sce as j0,wce as j1,T0e as j2,e_e as j3,i_e as j4,Uue as j5,UF as j6,nne as j7,M0e as j8,eV as j9,mAe as jA,pAe as jB,fAe as jC,vAe as jD,yAe as jE,dAe as jF,hAe as jG,vhe as jH,R7 as jI,rB as jJ,tEe as jK,ile as jL,eEe as jM,rle as jN,Dn as jO,Rq as jP,Iue as jQ,e4 as jR,cAe as jS,wA as jT,Yne as jU,sle as jV,RP as jW,Txe as jX,LP as jY,Mxe as jZ,d1 as j_,xCe as ja,SCe as jb,$n as jc,FA as jd,G$ as je,UA as jf,DEe as jg,ZEe as jh,qN as ji,GF as jj,cTe as jk,jB as jl,HTe as jm,sLe as jn,Xc as jo,Kue as jp,R3e as jq,$3e as jr,il as js,Sxe as jt,xxe as ju,bxe as jv,Iee as jw,Uf as jx,A9 as jy,gAe as jz,im as k,F3e as k$,Gye as k0,yte as k1,hRe as k2,Aq as k3,Tg as k4,fx as k5,Tu as k6,E$e as k7,_x as k8,IA as k9,LTe as kA,xEe as kB,Sie as kC,bie as kD,GEe as kE,UEe as kF,Xee as kG,m8 as kH,Zi as kI,tMe as kJ,uy as kK,p1 as kL,He as kM,Ph as kN,hLe as kO,rn as kP,RTe as kQ,Qp as kR,VMe as kS,wF as kT,_F as kU,oce as kV,Yb as kW,X7 as kX,JEe as kY,ZA as kZ,tm as k_,Cxe as ka,gR as kb,OCe as kc,ECe as kd,c8 as ke,z3e as kf,uie as kg,$Te as kh,Vve as ki,Hve as kj,tV as kk,nEe as kl,Vye as km,KAe as kn,Hne as ko,Qne as kp,Z_ as kq,SMe as kr,yMe as ks,vMe as kt,Uxe as ku,Wee as kv,mee as kw,YTe as kx,QP as ky,kTe as kz,u8 as l,tA as l$,B3e as l0,q3e as l1,u3e as l2,a3e as l3,i3e as l4,Cue as l5,o3e as l6,nce as l7,UMe as l8,PEe as l9,m3 as lA,F_ as lB,hTe as lC,r$ as lD,Nx as lE,D3e as lF,N3e as lG,aF as lH,sF as lI,aue as lJ,uue as lK,d0 as lL,Lm as lM,wpe as lN,q$e as lO,mOe as lP,Uae as lQ,vOe as lR,gOe as lS,vh as lT,cwe as lU,dwe as lV,fwe as lW,Z8 as lX,P2e as lY,v$e as lZ,k2e as l_,U3e as la,POe as lb,df as lc,SRe as ld,dxe as le,Yle as lf,Zwe as lg,tbe as lh,hee as li,Nxe as lj,p8 as lk,hx as ll,qxe as lm,ij as ln,jle as lo,Nle as lp,z2 as lq,tF as lr,EAe as ls,TAe as lt,MAe as lu,j1e as lv,y_ as lw,fye as lx,LF as ly,LEe as lz,ze as m,oee as m$,lm as m0,Bve as m1,SAe as m2,Fre as m3,R9 as m4,bme as m5,Gx as m6,oS as m7,Tme as m8,G7 as m9,vEe as mA,gF as mB,lEe as mC,DA as mD,I8 as mE,Dxe as mF,F$ as mG,Lme as mH,nxe as mI,VB as mJ,H$ as mK,kOe as mL,LOe as mM,Hye as mN,MCe as mO,TCe as mP,UP as mQ,Fhe as mR,jhe as mS,R0e as mT,Dhe as mU,sge as mV,iA as mW,VTe as mX,bA as mY,eMe as mZ,zp as m_,fOe as ma,gle as mb,oLe as mc,Yv as md,Su as me,rh as mf,Lr as mg,Sge as mh,Xve as mi,$xe as mj,Rhe as mk,Kme as ml,xhe as mm,Mhe as mn,aAe as mo,k0 as mp,C$e as mq,HF as mr,V7 as ms,Qz as mt,Lxe as mu,x8 as mv,X9 as mw,X5 as mx,D8 as my,Nwe as mz,eLe as n,REe as n$,m$ as n0,tRe as n1,Iwe as n2,iRe as n3,eRe as n4,yV as n5,LR as n6,ts as n7,Nue as n8,Av as n9,VA as nA,iF as nB,t1 as nC,wG as nD,f1 as nE,AOe as nF,L3 as nG,BMe as nH,w2 as nI,Z0e as nJ,gue as nK,h2 as nL,fMe as nM,eue as nN,FMe as nO,en as nP,Qr as nQ,JCe as nR,QCe as nS,ZCe as nT,yie as nU,Kxe as nV,oU as nW,qye as nX,yue as nY,vue as nZ,Zb as n_,iEe as na,L1e as nb,x$e as nc,VAe as nd,NAe as ne,T$e as nf,yOe as ng,Vre as nh,Lq as ni,Dg as nj,Cge as nk,hOe as nl,dOe as nm,LA as nn,rTe as no,yxe as np,kG as nq,WAe as nr,HAe as ns,sAe as nt,oAe as nu,Wxe as nv,SG as nw,zG as nx,Ug as ny,ul as nz,NMe as o,U$e as o$,LLe as o0,nue as o1,sue as o2,NSe as o3,Wo as o4,Xx as o5,m0e as o6,CTe as o7,LG as o8,NG as o9,GAe as oA,CAe as oB,PAe as oC,OAe as oD,hwe as oE,Th as oF,Lge as oG,Cq as oH,Pme as oI,v4 as oJ,T7 as oK,RH as oL,O_ as oM,kLe as oN,ILe as oO,ROe as oP,oMe as oQ,sMe as oR,bne as oS,GV as oT,vie as oU,tP as oV,Ywe as oW,E3e as oX,nAe as oY,g$e as oZ,Ume as o_,Mve as oa,tPe as ob,kve as oc,iPe as od,dhe as oe,GMe as of,mMe as og,ZMe as oh,Zxe as oi,x1e as oj,Ile as ok,mxe as ol,hxe as om,o8 as on,lMe as oo,aMe as op,wEe as oq,O8 as or,cye as os,Yye as ot,bG as ou,$V as ov,Exe as ow,FAe as ox,BAe as oy,qAe as oz,B_ as p,$me as p$,A$e as p0,k$e as p1,R$e as p2,I$e as p3,L$e as p4,D$e as p5,_Re as p6,W5 as p7,O$e as p8,Ole as p9,F1e as pA,zV as pB,Eg as pC,UAe as pD,$1e as pE,Fxe as pF,Due as pG,Nce as pH,Sue as pI,HEe as pJ,jOe as pK,Whe as pL,oF as pM,NF as pN,d9 as pO,W0 as pP,Vxe as pQ,Hhe as pR,V3e as pS,VEe as pT,Cde as pU,tj as pV,vme as pW,LRe as pX,Qwe as pY,m1 as pZ,Gj as p_,CEe as pa,Ule as pb,IEe as pc,eOe as pd,Fve as pe,Go as pf,BEe as pg,$Ae as ph,jo as pi,DAe as pj,_Me as pk,qie as pl,kAe as pm,LAe as pn,J1e as po,RAe as pp,lAe as pq,uAe as pr,jAe as ps,zAe as pt,ZAe as pu,YAe as pv,_Ae as pw,JAe as px,XAe as py,D1e as pz,zxe as q,c3e as q$,RRe as q0,b_ as q1,x_ as q2,wme as q3,Oxe as q4,$Le as q5,CLe as q6,OLe as q7,KSe as q8,qR as q9,rs as qA,uee as qB,Q0e as qC,fxe as qD,UCe as qE,FCe as qF,Fue as qG,rde as qH,ide as qI,IF as qJ,xpe as qK,Che as qL,Ehe as qM,$he as qN,qhe as qO,tde as qP,C3e as qQ,Fye as qR,khe as qS,ePe as qT,QRe as qU,Oh as qV,aLe as qW,KOe as qX,Pue as qY,XEe as qZ,e3e as q_,ELe as qa,m2e as qb,o1 as qc,nee as qd,cxe as qe,uxe as qf,ice as qg,sRe as qh,oRe as qi,oEe as qj,nRe as qk,wRe as ql,yRe as qm,vRe as qn,gRe as qo,mRe as qp,lwe as qq,EV as qr,bAe as qs,wAe as qt,swe as qu,rAe as qv,s3e as qw,Mu as qx,W$ as qy,YEe as qz,dA as r,KEe as r0,t3e as r1,h3e as r2,sce as r3,ohe as r4,OEe as r5,l1 as r6,u1 as r7,c1 as r8,Cye as r9,uEe as rA,hue as rB,ige as rC,Mx as rD,Ex as rE,A3e as rF,jCe as rG,P3e as rH,O3e as rI,qEe as rJ,QA as rK,Yxe as rL,zCe as rM,Phe as rN,Qme as rO,Bhe as rP,w3e as rQ,S3e as rR,TRe as rS,VOe as ra,HCe as rb,LCe as rc,DCe as rd,ICe as re,Pxe as rf,sOe as rg,nOe as rh,_xe as ri,ACe as rj,zEe as rk,qCe as rl,dpe as rm,Kve as rn,HG as ro,Hxe as rp,nD as rq,dCe as rr,HOe as rs,NCe as rt,whe as ru,Om as rv,rge as rw,rEe as rx,gCe as ry,RCe as rz,iLe as s,ux as t,RA as u,G0 as v,HMe as w,FRe as x,b1e as y,XPe as z};
